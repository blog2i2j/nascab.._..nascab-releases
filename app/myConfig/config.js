const _0x3dbaa3=_0x54e2;(function(_0x591147,_0x556543){const _0x38429a=_0x54e2,_0x46f77d=_0x591147();while(!![]){try{const _0x31fa73=parseInt(_0x38429a(0xfe))/0x1*(-parseInt(_0x38429a(0x10f))/0x2)+-parseInt(_0x38429a(0x11c))/0x3*(parseInt(_0x38429a(0x131))/0x4)+-parseInt(_0x38429a(0xed))/0x5*(-parseInt(_0x38429a(0xf8))/0x6)+-parseInt(_0x38429a(0xe8))/0x7+-parseInt(_0x38429a(0x115))/0x8+parseInt(_0x38429a(0x104))/0x9+-parseInt(_0x38429a(0x117))/0xa*(-parseInt(_0x38429a(0x11e))/0xb);if(_0x31fa73===_0x556543)break;else _0x46f77d['push'](_0x46f77d['shift']());}catch(_0xceea6d){_0x46f77d['push'](_0x46f77d['shift']());}}}(_0x4b13,0x8df28));let sha256=require(_0x3dbaa3(0x12d)),path=require(_0x3dbaa3(0x106)),fs=require('fs');const dbConfigTable=require(_0x3dbaa3(0xd4)),os=require('os'),packageInfo=require(_0x3dbaa3(0x138)),mediaType=require(_0x3dbaa3(0x10b)),urlConfig=require('./urlConfig');let userDataFolder=process[_0x3dbaa3(0xe1)]['userDataFolder'];if(!userDataFolder)try{const {app}=require(_0x3dbaa3(0x127));if(app)userDataFolder=app[_0x3dbaa3(0x12f)](_0x3dbaa3(0xd8));}catch(_0x3e5629){}!userDataFolder&&(userDataFolder=process[_0x3dbaa3(0xe1)][_0x3dbaa3(0x12c)]||(process['platform']=='darwin'?process[_0x3dbaa3(0xe1)]['HOME']+_0x3dbaa3(0x11d):process[_0x3dbaa3(0xe1)][_0x3dbaa3(0xe9)]+'/.local/share'),userDataFolder=path[_0x3dbaa3(0xf2)](userDataFolder,_0x3dbaa3(0xfd)));!fs[_0x3dbaa3(0x13e)](userDataFolder)&&fs[_0x3dbaa3(0xe3)](userDataFolder,{'recursive':!![]});let appRootPath=process[_0x3dbaa3(0xe1)]['appRootPath'];if(!appRootPath)try{const {app}=require(_0x3dbaa3(0x127));app&&app[_0x3dbaa3(0xe2)]?(appRootPath=path['dirname'](app[_0x3dbaa3(0x12f)](_0x3dbaa3(0x136))),os[_0x3dbaa3(0x13c)]()=='darwin'&&(appRootPath=path[_0x3dbaa3(0x107)](appRootPath))):appRootPath=path[_0x3dbaa3(0xf2)](__dirname,_0x3dbaa3(0x130));}catch(_0x477917){appRootPath=path[_0x3dbaa3(0xf2)](__dirname,_0x3dbaa3(0x130));}let m3u8Path='',userSetCachePath='';const Database=require(_0x3dbaa3(0x110));let dbPath=path[_0x3dbaa3(0xf2)](userDataFolder,'database');if(fs[_0x3dbaa3(0x13e)](dbPath)){let dbOther=new Database(path['join'](dbPath,_0x3dbaa3(0xec)),{});try{let configM3u8TmpPath=dbOther[_0x3dbaa3(0x135)]('SELECT\x20*\x20FROM\x20config\x20where\x20title=?')[_0x3dbaa3(0xf7)]('transcodePath');configM3u8TmpPath&&configM3u8TmpPath[_0x3dbaa3(0x10e)]&&(fs[_0x3dbaa3(0x11b)](configM3u8TmpPath[_0x3dbaa3(0x10e)],fs[_0x3dbaa3(0x137)][_0x3dbaa3(0xff)]|fs[_0x3dbaa3(0x137)][_0x3dbaa3(0xfc)]),m3u8Path=configM3u8TmpPath[_0x3dbaa3(0x10e)],dbOther[_0x3dbaa3(0x12b)]());}catch(_0x26a5d9){dbOther['close']();}dbOther=new Database(path[_0x3dbaa3(0xf2)](dbPath,_0x3dbaa3(0xec)),{});try{let cacheParentPath=dbOther[_0x3dbaa3(0x135)](_0x3dbaa3(0xf4))[_0x3dbaa3(0xf7)](_0x3dbaa3(0xdd));cacheParentPath&&cacheParentPath['value']&&(fs[_0x3dbaa3(0x11b)](cacheParentPath['value'],fs['constants'][_0x3dbaa3(0xff)]|fs[_0x3dbaa3(0x137)][_0x3dbaa3(0xfc)]),userSetCachePath=cacheParentPath[_0x3dbaa3(0x10e)],dbOther['close']());}catch(_0x194aa2){dbOther['close']();}}let apiBaseUrl='https://api.nascab.cn/',frpcFolder=path[_0x3dbaa3(0xf2)](userDataFolder,_0x3dbaa3(0x132),_0x3dbaa3(0xf5),_0x3dbaa3(0x11f)),config={'dbPath':dbPath,'freeVersionSubuserCount':0x2,'frpcFolder':frpcFolder,'frpcPath':path[_0x3dbaa3(0xf2)](frpcFolder,os[_0x3dbaa3(0x13c)]()==_0x3dbaa3(0xfa)?_0x3dbaa3(0x108):'frpc'),'frpcTempPath':path[_0x3dbaa3(0xf2)](frpcFolder,'temp.'+os['platform']()=='win32'?'frpc.exe':_0x3dbaa3(0xf5)),'publicUserName':_0x3dbaa3(0x113),'apiGetIpv4':urlConfig[_0x3dbaa3(0xdf)],'apiGetIpv6':urlConfig[_0x3dbaa3(0xea)],'downloadUrl':urlConfig[_0x3dbaa3(0x133)],'updateJsonUrl':urlConfig[_0x3dbaa3(0xe5)],'updateJsonUrlMacArm64':urlConfig['updateJsonUrlMacArm64'],'updateJsonUrlMacX64':urlConfig[_0x3dbaa3(0xf9)],'updateJsonUrlLinuxArm64':urlConfig[_0x3dbaa3(0x12a)],'updateJsonUrlLinuxX64':urlConfig[_0x3dbaa3(0xee)],'updateWebJsonUrl':urlConfig[_0x3dbaa3(0xd3)],'exifMinTimeStamp':0x259e9d80,'nasAccountInfoPwd':_0x3dbaa3(0x124),'nasAccountInfoConfigKey':_0x3dbaa3(0xf6),'apiTokenKey':_0x3dbaa3(0x120),'apiBaseUrl':apiBaseUrl,'movieInfoUrl':apiBaseUrl+_0x3dbaa3(0xdc),'apiMusicInfoUrl':apiBaseUrl+_0x3dbaa3(0x10d),'errorReportUrl':apiBaseUrl+'error-report','moviePosterPrix':_0x3dbaa3(0xef),'deviceIsActivedUrl':apiBaseUrl+_0x3dbaa3(0x10c),'activeCodeUrl':apiBaseUrl+_0x3dbaa3(0x125),'activeCodeApiKey':'nascloudapikey123codecode','apiPort':os[_0x3dbaa3(0x13c)]()==_0x3dbaa3(0x111)?parseInt(0xc08):parseInt(0x50),'apiPortHttps':os[_0x3dbaa3(0x13c)]()==_0x3dbaa3(0x111)?parseInt(0xd73):parseInt(0x1bb),'webDavPort':parseInt(0x5a),'webDavPortHttps':parseInt(0x24e3),'FTPPort':parseInt(0x15),'appRootPath':appRootPath,'userDataFolder':userDataFolder,'dbFileIndex':path['join'](userDataFolder,_0x3dbaa3(0x134),_0x3dbaa3(0x13b)),'dbOther':path[_0x3dbaa3(0xf2)](userDataFolder,'database',_0x3dbaa3(0xec)),'uploadTempFilePrefix':_0x3dbaa3(0x114),'privateSpaceKey':_0x3dbaa3(0x128),'passwordKey':_0x3dbaa3(0xfb),'proCodeKey':'procodenascabSD012012093uUh0','heicExt':mediaType[_0x3dbaa3(0x119)],'imgTypeList':mediaType['imgTypeList'],'rawImgTypeList':mediaType[_0x3dbaa3(0xf1)],'videoTypeList':mediaType[_0x3dbaa3(0xe6)],'musicTypeList':mediaType['musicTypeList'],'bookTypeList':mediaType['bookTypeList']};config['getFileHashNameByPathAndStat']=function(_0x3f28ac,_0x3d5c2d,_0xc5fae9){fs['stat'](_0x3d5c2d,(_0xcf1f3,_0x458a91)=>{const _0x3eb9d0=_0x54e2;if(_0xcf1f3)_0xc5fae9(![]);let _0xa79d4c=_0x3d5c2d+_0x458a91[_0x3eb9d0(0x109)]+_0x458a91[_0x3eb9d0(0x116)]+_0x458a91['size']+'',_0x224492=sha256(_0xa79d4c)+_0x3eb9d0(0x100);_0x3f28ac&&(_0x224492=_0x3f28ac+_0x224492),_0xc5fae9(_0x224492);});},config[_0x3dbaa3(0xdb)]=function(_0x1c7f84){const _0x567f5c=_0x3dbaa3;let _0x19da84=path[_0x567f5c(0xf2)](_0x1c7f84[_0x567f5c(0x106)],_0x1c7f84[_0x567f5c(0xd6)])+_0x1c7f84[_0x567f5c(0x123)]+_0x1c7f84[_0x567f5c(0xf0)]+_0x1c7f84[_0x567f5c(0x129)]+'',_0x10a531=sha256(_0x19da84)+_0x567f5c(0x100);return _0x10a531;};let cacheParentPath=userSetCachePath?userSetCachePath:path[_0x3dbaa3(0xf2)](userDataFolder,_0x3dbaa3(0xf3));config['cacheParentPath']=cacheParentPath,config[_0x3dbaa3(0xd7)]=path['join'](cacheParentPath,_0x3dbaa3(0x12e)),config['posterPath']=path[_0x3dbaa3(0xf2)](cacheParentPath,_0x3dbaa3(0xd9)),config[_0x3dbaa3(0x112)]=path[_0x3dbaa3(0xf2)](cacheParentPath,_0x3dbaa3(0x105)),config['musicCoverPath']=path[_0x3dbaa3(0xf2)](cacheParentPath,_0x3dbaa3(0xda)),config['subtitlePath']=path[_0x3dbaa3(0xf2)](cacheParentPath,_0x3dbaa3(0xe0)),config[_0x3dbaa3(0xd5)]=path[_0x3dbaa3(0xf2)](cacheParentPath,_0x3dbaa3(0x122)),config['subtitleUploadPath']=path[_0x3dbaa3(0xf2)](cacheParentPath,_0x3dbaa3(0xe0),_0x3dbaa3(0xde)),config[_0x3dbaa3(0x13a)]=path[_0x3dbaa3(0xf2)](cacheParentPath,_0x3dbaa3(0xeb)),config[_0x3dbaa3(0x121)]=function(_0x144ce6,_0x53175a){const _0x3b9c28=_0x3dbaa3;let _0x568be5=path[_0x3b9c28(0xf2)](_0x144ce6[_0x3b9c28(0x106)],_0x144ce6['filename'])+_0x144ce6[_0x3b9c28(0x123)]+_0x144ce6[_0x3b9c28(0xf0)]+_0x144ce6[_0x3b9c28(0x129)]+'',_0x218abe=sha256(_0x568be5)+'.jpeg';return _0x53175a&&(_0x218abe=_0x53175a+_0x218abe),path[_0x3b9c28(0xf2)](config[_0x3b9c28(0x102)],_0x218abe);};m3u8Path?config[_0x3dbaa3(0xe4)]=path[_0x3dbaa3(0xf2)](m3u8Path,_0x3dbaa3(0x126)):packageInfo['isDocker']?config[_0x3dbaa3(0xe4)]=path[_0x3dbaa3(0xf2)](_0x3dbaa3(0x10a)):config[_0x3dbaa3(0xe4)]=path['join'](userDataFolder,'NasCabTransCodeTempPath');function _0x4b13(){const _0x711a4a=['mtimeMs','10DTstIB','exports','heicExt','defaultLanguage','accessSync','69609VSEUyJ','/Library/Preferences','14266604hTRhde','0.51.3','nascloudapikey123aaddbc','getMediaCoverCachePath','torrents','ctime','nascabsaccountinfo112u2','app/code/activeCode','NasCabTransCodeTempPath','electron','prisssdSlskjwoaljwejkjq112u2','size','updateJsonUrlLinuxArm64','close','APPDATA','sha256','cache','getPath','../../','8uneAjM','plugin','downloadUrl','database','prepare','exe','constants','../../package.json','findByTitle','tempFilePath','dbFileIndex.db','platform','m3u8segmentDuration','existsSync','getPrivateDbPath','nascabisthebest','updateWebJsonUrl','../db/dbConfigTable','torrentPath','filename','cachePath','userData','poster','music_cover','getFileHashName','movie_info','cacheParentPath','upload','apiGetIpv4','subtitle','env','isPackaged','mkdirSync','m3u8TmpPath','updateJsonUrl','videoTypeList','tokenPwdEncryptKey','3830407ffPVwm','HOME','apiGetIpv6','tempFiles','dbOther.db','199655VCLnbU','updateJsonUrlLinuxX64','https://7463-tcb-5pz3fh9y3a1048-5dwlnda7744e5-1312474089.tcb.qcloud.la/poster/','mtime','rawImgTypeList','join','cache_images','SELECT\x20*\x20FROM\x20config\x20where\x20title=?','frpc','nasAccountInfo','get','54MkyEgS','updateJsonUrlMacX64','win32','nascabslskjwoaljwejkjq112u2','R_OK','nascab','387YngIJX','W_OK','.jpeg','nascabconfig','musicCoverPath','language','7493427KuIiHO','faces','path','dirname','frpc.exe','ctimeMs','/NasCabTransCodeTempPath','./mediaType','app/code/deviceIsPro','music_info','value','1426ahAVAn','better-sqlite3','linux','facesPath','nascabPublicUser','nascab.tmp.','8303936QWKLVb'];_0x4b13=function(){return _0x711a4a;};return _0x4b13();}config[_0x3dbaa3(0x13d)]=0x3,config[_0x3dbaa3(0xd1)]=function(_0x3d2742){const _0x536e23=_0x3dbaa3;return path[_0x536e23(0xf2)](_0x3d2742,_0x536e23(0x101),'dbnascab');};let defaultLanguage='zh-CN';function _0x54e2(_0x3fe02b,_0x11dee1){const _0x4b138f=_0x4b13();return _0x54e2=function(_0x54e2c0,_0x10b8e8){_0x54e2c0=_0x54e2c0-0xd1;let _0x36de86=_0x4b138f[_0x54e2c0];return _0x36de86;},_0x54e2(_0x3fe02b,_0x11dee1);}config['getLanguage']=function(_0x282e4a){const _0x50f0a4=_0x3dbaa3;let _0x3caf33=dbConfigTable[_0x50f0a4(0x139)](_0x282e4a,_0x50f0a4(0x103)),_0x52c41c=defaultLanguage;return _0x3caf33&&(_0x52c41c=_0x3caf33[_0x50f0a4(0x10e)]),_0x52c41c;},config[_0x3dbaa3(0x11a)]=defaultLanguage,config[_0x3dbaa3(0xe7)]=_0x3dbaa3(0xd2),module[_0x3dbaa3(0x118)]=config;