const _0x5ac9b8=_0x5e0a;(function(_0x346a4d,_0x35272d){const _0x5e90c9=_0x5e0a,_0x403d99=_0x346a4d();while(!![]){try{const _0x304059=parseInt(_0x5e90c9(0x180))/0x1*(parseInt(_0x5e90c9(0x199))/0x2)+parseInt(_0x5e90c9(0x17c))/0x3*(-parseInt(_0x5e90c9(0x177))/0x4)+-parseInt(_0x5e90c9(0x16e))/0x5*(parseInt(_0x5e90c9(0x19e))/0x6)+-parseInt(_0x5e90c9(0x196))/0x7*(-parseInt(_0x5e90c9(0x188))/0x8)+parseInt(_0x5e90c9(0x17e))/0x9*(parseInt(_0x5e90c9(0x1c4))/0xa)+parseInt(_0x5e90c9(0x17f))/0xb*(-parseInt(_0x5e90c9(0x1b0))/0xc)+parseInt(_0x5e90c9(0x187))/0xd;if(_0x304059===_0x35272d)break;else _0x403d99['push'](_0x403d99['shift']());}catch(_0xb37113){_0x403d99['push'](_0x403d99['shift']());}}}(_0xeb2b,0x5aafb));let sha256=require(_0x5ac9b8(0x16d)),path=require(_0x5ac9b8(0x179)),fs=require('fs');const dbConfigTable=require('../db/dbConfigTable'),os=require('os'),packageInfo=require(_0x5ac9b8(0x1aa)),mediaType=require(_0x5ac9b8(0x1b7)),urlConfig=require(_0x5ac9b8(0x1ab));let userDataFolder=process[_0x5ac9b8(0x1bc)]['userDataFolder'];if(!userDataFolder)try{const {app}=require('electron');if(app)userDataFolder=app[_0x5ac9b8(0x182)](_0x5ac9b8(0x19a));}catch(_0x3e9f1c){}!userDataFolder&&(userDataFolder=process[_0x5ac9b8(0x1bc)][_0x5ac9b8(0x166)]||(process[_0x5ac9b8(0x1b6)]==_0x5ac9b8(0x1a4)?process[_0x5ac9b8(0x1bc)][_0x5ac9b8(0x1b5)]+'/Library/Preferences':process[_0x5ac9b8(0x1bc)][_0x5ac9b8(0x1b5)]+_0x5ac9b8(0x1a8)),userDataFolder=path[_0x5ac9b8(0x174)](userDataFolder,'nascab'));!fs[_0x5ac9b8(0x1ba)](userDataFolder)&&fs[_0x5ac9b8(0x1af)](userDataFolder,{'recursive':!![]});let appRootPath=process[_0x5ac9b8(0x1bc)]['appRootPath'];if(!appRootPath)try{const {app}=require(_0x5ac9b8(0x19d));app&&app[_0x5ac9b8(0x1bb)]?(appRootPath=path[_0x5ac9b8(0x17a)](app[_0x5ac9b8(0x182)](_0x5ac9b8(0x172))),os[_0x5ac9b8(0x1b6)]()==_0x5ac9b8(0x1a4)&&(appRootPath=path[_0x5ac9b8(0x17a)](appRootPath))):appRootPath=path['join'](__dirname,_0x5ac9b8(0x194));}catch(_0x11bbaf){appRootPath=path['join'](__dirname,_0x5ac9b8(0x194));}let m3u8Path='',userSetCachePath='';const Database=require(_0x5ac9b8(0x1c3));let dbPath=path[_0x5ac9b8(0x174)](userDataFolder,_0x5ac9b8(0x1a9));if(fs['existsSync'](dbPath)){let dbOther=new Database(path[_0x5ac9b8(0x174)](dbPath,_0x5ac9b8(0x189)),{});try{let configM3u8TmpPath=dbOther['prepare'](_0x5ac9b8(0x16a))[_0x5ac9b8(0x169)]('transcodePath');configM3u8TmpPath&&configM3u8TmpPath[_0x5ac9b8(0x167)]&&(fs[_0x5ac9b8(0x1ae)](configM3u8TmpPath[_0x5ac9b8(0x167)],fs[_0x5ac9b8(0x1be)][_0x5ac9b8(0x18f)]|fs[_0x5ac9b8(0x1be)][_0x5ac9b8(0x191)]),m3u8Path=configM3u8TmpPath['value'],dbOther[_0x5ac9b8(0x19c)]());}catch(_0x4d1d2f){dbOther[_0x5ac9b8(0x19c)]();}dbOther=new Database(path[_0x5ac9b8(0x174)](dbPath,_0x5ac9b8(0x189)),{});try{let cacheParentPath=dbOther[_0x5ac9b8(0x1a7)](_0x5ac9b8(0x16a))['get'](_0x5ac9b8(0x1a6));cacheParentPath&&cacheParentPath[_0x5ac9b8(0x167)]&&(fs['accessSync'](cacheParentPath['value'],fs[_0x5ac9b8(0x1be)]['W_OK']|fs['constants'][_0x5ac9b8(0x191)]),userSetCachePath=cacheParentPath[_0x5ac9b8(0x167)],dbOther['close']());}catch(_0x5ba2e0){dbOther[_0x5ac9b8(0x19c)]();}}let apiBaseUrl=_0x5ac9b8(0x18a),frpcFolder=path['join'](userDataFolder,_0x5ac9b8(0x195),_0x5ac9b8(0x176),_0x5ac9b8(0x168)),config={'dbPath':dbPath,'freeVersionSubuserCount':0x2,'frpcFolder':frpcFolder,'frpcPath':path[_0x5ac9b8(0x174)](frpcFolder,os[_0x5ac9b8(0x1b6)]()==_0x5ac9b8(0x1a2)?'frpc.exe':'frpc'),'frpcTempPath':path[_0x5ac9b8(0x174)](frpcFolder,'temp.'+os[_0x5ac9b8(0x1b6)]()=='win32'?'frpc.exe':_0x5ac9b8(0x176)),'publicUserName':_0x5ac9b8(0x1b8),'apiGetIpv4':urlConfig[_0x5ac9b8(0x184)],'apiGetIpv6':urlConfig[_0x5ac9b8(0x16c)],'downloadUrl':urlConfig[_0x5ac9b8(0x165)],'updateJsonUrl':urlConfig['updateJsonUrl'],'updateJsonUrlMacArm64':urlConfig[_0x5ac9b8(0x173)],'updateJsonUrlMacX64':urlConfig['updateJsonUrlMacX64'],'updateJsonUrlLinuxArm64':urlConfig[_0x5ac9b8(0x192)],'updateJsonUrlLinuxX64':urlConfig[_0x5ac9b8(0x1c6)],'updateWebJsonUrl':urlConfig[_0x5ac9b8(0x1c1)],'exifMinTimeStamp':0x259e9d80,'nasAccountInfoPwd':'nascabsaccountinfo112u2','nasAccountInfoConfigKey':'nasAccountInfo','apiTokenKey':'nascloudapikey123aaddbc','apiBaseUrl':apiBaseUrl,'movieInfoUrl':apiBaseUrl+_0x5ac9b8(0x171),'apiMusicInfoUrl':apiBaseUrl+_0x5ac9b8(0x16b),'errorReportUrl':apiBaseUrl+_0x5ac9b8(0x198),'moviePosterPrix':'https://7463-tcb-5pz3fh9y3a1048-5dwlnda7744e5-1312474089.tcb.qcloud.la/poster/','deviceIsActivedUrl':apiBaseUrl+_0x5ac9b8(0x1a3),'activeCodeUrl':apiBaseUrl+_0x5ac9b8(0x1ad),'activeCodeApiKey':'nascloudapikey123codecode','apiPort':os[_0x5ac9b8(0x1b6)]()==_0x5ac9b8(0x1c8)?parseInt(0xc08):parseInt(0x50),'apiPortHttps':os['platform']()==_0x5ac9b8(0x1c8)?parseInt(0xd73):parseInt(0x1bb),'webDavPort':parseInt(0x5a),'webDavPortHttps':parseInt(0x24e3),'FTPPort':parseInt(0x15),'appRootPath':appRootPath,'userDataFolder':userDataFolder,'dbFileIndex':path[_0x5ac9b8(0x174)](userDataFolder,_0x5ac9b8(0x1a9),_0x5ac9b8(0x178)),'dbOther':path[_0x5ac9b8(0x174)](userDataFolder,_0x5ac9b8(0x1a9),_0x5ac9b8(0x189)),'uploadTempFilePrefix':_0x5ac9b8(0x1a1),'privateSpaceKey':'prisssdSlskjwoaljwejkjq112u2','passwordKey':'nascabslskjwoaljwejkjq112u2','proCodeKey':_0x5ac9b8(0x1b4),'heicExt':mediaType[_0x5ac9b8(0x18d)],'imgTypeList':mediaType[_0x5ac9b8(0x19f)],'rawImgTypeList':mediaType[_0x5ac9b8(0x18c)],'videoTypeList':mediaType[_0x5ac9b8(0x1a0)],'musicTypeList':mediaType['musicTypeList'],'bookTypeList':mediaType[_0x5ac9b8(0x16f)]};config[_0x5ac9b8(0x175)]=function(_0x6f264e,_0x1886ea,_0xf210cb){fs['stat'](_0x1886ea,(_0x21a673,_0x1a473c)=>{const _0x2e8e6a=_0x5e0a;if(_0x21a673)_0xf210cb(![]);let _0x3038ca=_0x1886ea+_0x1a473c[_0x2e8e6a(0x181)]+_0x1a473c[_0x2e8e6a(0x1cd)]+_0x1a473c[_0x2e8e6a(0x183)]+'',_0x43b7d2=sha256(_0x3038ca)+'.jpeg';_0x6f264e&&(_0x43b7d2=_0x6f264e+_0x43b7d2),_0xf210cb(_0x43b7d2);});},config['getFileHashName']=function(_0x6311db){const _0x2cb429=_0x5ac9b8;let _0xfe90b7=path['join'](_0x6311db[_0x2cb429(0x179)],_0x6311db['filename'])+_0x6311db['ctime']+_0x6311db['mtime']+_0x6311db['size']+'',_0x1d7545=sha256(_0xfe90b7)+_0x2cb429(0x1c2);return _0x1d7545;};let cacheParentPath=userSetCachePath?userSetCachePath:path[_0x5ac9b8(0x174)](userDataFolder,'cache_images');config[_0x5ac9b8(0x1a6)]=cacheParentPath,config[_0x5ac9b8(0x1b9)]=path['join'](cacheParentPath,'cache'),config[_0x5ac9b8(0x1b3)]=path[_0x5ac9b8(0x174)](cacheParentPath,'poster'),config['facesPath']=path[_0x5ac9b8(0x174)](cacheParentPath,_0x5ac9b8(0x17b)),config['musicCoverPath']=path[_0x5ac9b8(0x174)](cacheParentPath,_0x5ac9b8(0x1c5)),config[_0x5ac9b8(0x186)]=path[_0x5ac9b8(0x174)](cacheParentPath,_0x5ac9b8(0x1cc)),config[_0x5ac9b8(0x18e)]=path[_0x5ac9b8(0x174)](cacheParentPath,_0x5ac9b8(0x1b1)),config['subtitleUploadPath']=path['join'](cacheParentPath,_0x5ac9b8(0x1cc),_0x5ac9b8(0x170)),config[_0x5ac9b8(0x1c9)]=path[_0x5ac9b8(0x174)](cacheParentPath,_0x5ac9b8(0x1bd)),config[_0x5ac9b8(0x193)]=function(_0x1c98fb,_0x29ee4e){const _0x32e9e2=_0x5ac9b8;let _0x58a9cb=path[_0x32e9e2(0x174)](_0x1c98fb[_0x32e9e2(0x179)],_0x1c98fb[_0x32e9e2(0x1b2)])+_0x1c98fb[_0x32e9e2(0x18b)]+_0x1c98fb['mtime']+_0x1c98fb[_0x32e9e2(0x183)]+'',_0x1e72f6=sha256(_0x58a9cb)+_0x32e9e2(0x1c2);return _0x29ee4e&&(_0x1e72f6=_0x29ee4e+_0x1e72f6),path[_0x32e9e2(0x174)](config[_0x32e9e2(0x17d)],_0x1e72f6);};m3u8Path?config[_0x5ac9b8(0x185)]=path['join'](m3u8Path,_0x5ac9b8(0x19b)):packageInfo[_0x5ac9b8(0x197)]?config[_0x5ac9b8(0x185)]=path[_0x5ac9b8(0x174)]('/NasCabTransCodeTempPath'):config[_0x5ac9b8(0x185)]=path[_0x5ac9b8(0x174)](userDataFolder,'NasCabTransCodeTempPath');function _0x5e0a(_0x4b68f0,_0xa75313){const _0xeb2bdd=_0xeb2b();return _0x5e0a=function(_0x5e0a33,_0x27ba94){_0x5e0a33=_0x5e0a33-0x165;let _0x4c113a=_0xeb2bdd[_0x5e0a33];return _0x4c113a;},_0x5e0a(_0x4b68f0,_0xa75313);}config['m3u8segmentDuration']=0x3,config[_0x5ac9b8(0x1ac)]=function(_0x22960d){const _0x31c9d2=_0x5ac9b8;return path[_0x31c9d2(0x174)](_0x22960d,_0x31c9d2(0x190),'dbnascab');};function _0xeb2b(){const _0x28c804=['nascabPublicUser','cachePath','existsSync','isPackaged','env','tempFiles','constants','findByTitle','defaultLanguage','updateWebJsonUrl','.jpeg','better-sqlite3','10KVZZWj','music_cover','updateJsonUrlLinuxX64','tokenPwdEncryptKey','linux','tempFilePath','zh-CN','exports','subtitle','mtimeMs','downloadUrl','APPDATA','value','0.51.3','get','SELECT\x20*\x20FROM\x20config\x20where\x20title=?','music_info','apiGetIpv6','sha256','433490EDwHtF','bookTypeList','upload','movie_info','exe','updateJsonUrlMacArm64','join','getFileHashNameByPathAndStat','frpc','196rEfsXo','dbFileIndex.db','path','dirname','faces','22377VxCGRQ','musicCoverPath','3205413FUlaEJ','253cXoyFt','27401rQKVKm','ctimeMs','getPath','size','apiGetIpv4','m3u8TmpPath','subtitlePath','2787759xjcjks','9336RKZmAE','dbOther.db','https://api.nascab.cn/','ctime','rawImgTypeList','heicExt','torrentPath','W_OK','nascabconfig','R_OK','updateJsonUrlLinuxArm64','getMediaCoverCachePath','../../','plugin','3073tiiybO','isDocker','error-report','44bbrBcM','userData','NasCabTransCodeTempPath','close','electron','36tcpAwf','imgTypeList','videoTypeList','nascab.tmp.','win32','app/code/deviceIsPro','darwin','nascabisthebest','cacheParentPath','prepare','/.local/share','database','../../package.json','./urlConfig','getPrivateDbPath','app/code/activeCode','accessSync','mkdirSync','223620qPjnhd','torrents','filename','posterPath','procodenascabSD012012093uUh0','HOME','platform','./mediaType'];_0xeb2b=function(){return _0x28c804;};return _0xeb2b();}let defaultLanguage=_0x5ac9b8(0x1ca);config['getLanguage']=function(_0x3594fc){const _0x4766a2=_0x5ac9b8;let _0x37ee1f=dbConfigTable[_0x4766a2(0x1bf)](_0x3594fc,'language'),_0x1a26b6=defaultLanguage;return _0x37ee1f&&(_0x1a26b6=_0x37ee1f[_0x4766a2(0x167)]),_0x1a26b6;},config[_0x5ac9b8(0x1c0)]=defaultLanguage,config[_0x5ac9b8(0x1c7)]=_0x5ac9b8(0x1a5),module[_0x5ac9b8(0x1cb)]=config;