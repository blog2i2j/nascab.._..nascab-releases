const _0x38e150=_0x1e4e;(function(_0x2229c6,_0x1cc86b){const _0x299a02=_0x1e4e,_0x1c5aab=_0x2229c6();while(!![]){try{const _0x265dea=-parseInt(_0x299a02(0x226))/0x1*(-parseInt(_0x299a02(0x23c))/0x2)+parseInt(_0x299a02(0x20e))/0x3*(-parseInt(_0x299a02(0x230))/0x4)+-parseInt(_0x299a02(0x236))/0x5+-parseInt(_0x299a02(0x21d))/0x6+parseInt(_0x299a02(0x220))/0x7*(-parseInt(_0x299a02(0x262))/0x8)+parseInt(_0x299a02(0x263))/0x9*(-parseInt(_0x299a02(0x20f))/0xa)+-parseInt(_0x299a02(0x1e6))/0xb*(-parseInt(_0x299a02(0x201))/0xc);if(_0x265dea===_0x1cc86b)break;else _0x1c5aab['push'](_0x1c5aab['shift']());}catch(_0x214d0a){_0x1c5aab['push'](_0x1c5aab['shift']());}}}(_0xcdb1,0xa5408));let dbConfigTable=require(_0x38e150(0x1f4)),dbFileOperationRecord=require(_0x38e150(0x22f)),axios=require(_0x38e150(0x254));const config=require('../myConfig/config');let fs=require('fs'),path=require(_0x38e150(0x253));const Database=require(_0x38e150(0x1f2));let dbOther=new Database(config[_0x38e150(0x1f0)],{}),dbFileIndex=new Database(config[_0x38e150(0x23e)],{});function _0x1e4e(_0x41bf35,_0x2053ba){const _0xcdb178=_0xcdb1();return _0x1e4e=function(_0x1e4e9e,_0xaffbc2){_0x1e4e9e=_0x1e4e9e-0x1e4;let _0x50e175=_0xcdb178[_0x1e4e9e];return _0x50e175;},_0x1e4e(_0x41bf35,_0x2053ba);}dbFileIndex['pragma']('journal_mode\x20=\x20WAL'),dbOther[_0x38e150(0x24e)](_0x38e150(0x207));let nasAccountUtil=require('../express-server/utils/nasAccountUtils');const OS=require('os'),platform=OS['platform'](),videoStreamUtil=require(_0x38e150(0x259));let nasTrans=require(_0x38e150(0x227));const globalInfoUtil=require('../utils/globalInfoUtil');let FFmpeg=nasTrans[_0x38e150(0x244)];const packageInfo=require(_0x38e150(0x1fd)),movieUtil=require(_0x38e150(0x1f6)),bookIndexUtil=require(_0x38e150(0x24f)),urlConfig=require(_0x38e150(0x250)),dbScanTaskTable=require(_0x38e150(0x260));process['title']=_0x38e150(0x1f8);let usableCoderList=[];function ffmpegTestDecoderEncoder(_0x2d45fd,_0x468578,_0x59a9b3,_0x15a420,_0xec2d88){return new Promise((_0x17ffa2,_0x29595c)=>{const _0x477810=_0x1e4e;if(_0xec2d88)for(parent of _0xec2d88){for(useCoderItem of usableCoderList){if(parent==useCoderItem['coderName']&&_0x2d45fd==useCoderItem[_0x477810(0x1fe)])return _0x29595c();}}if('libx264'==_0x15a420&&!_0x59a9b3&&!_0x468578)return _0x17ffa2();let _0x1cbc7f=_0x2d45fd=='HEVC'?_0x477810(0x224):_0x477810(0x267),_0x5d14fb=path[_0x477810(0x241)](config['appRootPath'],_0x477810(0x231),_0x1cbc7f);if(packageInfo[_0x477810(0x1ef)]){let _0x515682=path[_0x477810(0x241)](config[_0x477810(0x1fb)],_0x1cbc7f);if(!fs[_0x477810(0x1ec)](_0x515682))try{let _0x378bea=fs['readFileSync'](_0x5d14fb);fs[_0x477810(0x249)](_0x515682,_0x378bea),_0x5d14fb=_0x515682,console[_0x477810(0x21f)](_0x477810(0x204));}catch(_0x2a9cec){console[_0x477810(0x21f)](_0x477810(0x1f7),_0x2a9cec);}else _0x5d14fb=_0x515682;}let _0xc7bee3=path[_0x477810(0x241)](config['userDataFolder'],'transcode_test_output.mp4');fs[_0x477810(0x252)](_0x5d14fb,(_0x280999,_0x208a04)=>{const _0xe63c80=_0x477810;if(_0x280999)return _0x29595c();let _0x1ed428=FFmpeg(_0x5d14fb);_0x468578&&_0x1ed428[_0xe63c80(0x23b)](_0x468578),_0x59a9b3&&_0x1ed428[_0xe63c80(0x23b)](_0x59a9b3),_0x15a420&&_0x1ed428[_0xe63c80(0x20c)](_0x15a420),_0x1ed428['on'](_0xe63c80(0x22c),function(_0x564341){})['on'](_0xe63c80(0x240),function(_0x751616){_0x29595c();})['on'](_0xe63c80(0x1e8),function(_0x5eb88d){_0x17ffa2();}),_0x1ed428[_0xe63c80(0x243)](_0xc7bee3),_0x1ed428[_0xe63c80(0x22b)]();});});}function getFitDecoderEncoder(_0x186eb1){const _0x5691cf=_0x38e150;let _0x2e94a5=[];_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'hwaccel':_0x5691cf(0x223),'decoderCommand':'','encoderName':_0x5691cf(0x21a),'coderName':_0x5691cf(0x1f1)}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'hwaccel':_0x5691cf(0x223),'decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x5691cf(0x1f1)}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'hwaccel':_0x5691cf(0x205),'decoderCommand':'','encoderName':_0x5691cf(0x21a),'coderName':_0x5691cf(0x25f),'parents':[_0x5691cf(0x1f1)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'hwaccel':_0x5691cf(0x205),'decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x5691cf(0x25f),'parents':[_0x5691cf(0x1f1)]}),_0x2e94a5['push']({'decoderType':_0x5691cf(0x221),'hwaccel':_0x5691cf(0x205),'decoderCommand':_0x5691cf(0x229),'encoderName':'','coderName':_0x5691cf(0x233),'parents':[_0x5691cf(0x1f1),'NVIDIA\x20GPU[AUTO]']}),_0x2e94a5['push']({'decoderType':'HEVC','hwaccel':_0x5691cf(0x205),'decoderCommand':_0x5691cf(0x21c),'encoderName':'','coderName':_0x5691cf(0x233),'parents':[_0x5691cf(0x1f1),'NVIDIA\x20GPU[AUTO]']}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'hwaccel':'-hwaccel\x20auto','decoderCommand':'','encoderName':_0x5691cf(0x1e9),'coderName':'INTEL\x20GPU'}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'hwaccel':_0x5691cf(0x205),'decoderCommand':'','encoderName':_0x5691cf(0x1e9),'coderName':_0x5691cf(0x20b)}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'hwaccel':_0x5691cf(0x205),'decoderCommand':'','encoderName':_0x5691cf(0x1e9),'coderName':_0x5691cf(0x20b),'parents':[_0x5691cf(0x20b)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'hwaccel':_0x5691cf(0x23a),'decoderCommand':'','encoderName':_0x5691cf(0x1e9),'coderName':'DXVA2+QSV'}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':'HEVC','hwaccel':_0x5691cf(0x23a),'decoderCommand':'','encoderName':_0x5691cf(0x1e9),'coderName':_0x5691cf(0x206)}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':'H264','hwaccel':_0x5691cf(0x228),'decoderCommand':'','encoderName':_0x5691cf(0x1e9),'coderName':_0x5691cf(0x238),'parents':['INTEL\x20GPU',_0x5691cf(0x206)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':_0x5691cf(0x1e9),'coderName':'D3D11VA+QSV','parents':[_0x5691cf(0x20b),_0x5691cf(0x206)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':'H264','hwaccel':'-hwaccel\x20dxva2','decoderCommand':'','encoderName':'h264_amf','coderName':_0x5691cf(0x242),'parents':['INTEL\x20GPU',_0x5691cf(0x206),_0x5691cf(0x238)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'hwaccel':_0x5691cf(0x23a),'decoderCommand':'','encoderName':_0x5691cf(0x257),'coderName':_0x5691cf(0x242),'parents':['INTEL\x20GPU',_0x5691cf(0x206),'D3D11VA+QSV']}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':'h264_amf','coderName':_0x5691cf(0x25c),'parents':[_0x5691cf(0x20b),_0x5691cf(0x206),_0x5691cf(0x238)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'hwaccel':_0x5691cf(0x228),'decoderCommand':'','encoderName':_0x5691cf(0x257),'coderName':_0x5691cf(0x25c),'parents':[_0x5691cf(0x20b),_0x5691cf(0x206),_0x5691cf(0x238)]}),_0x2e94a5['push']({'decoderType':_0x5691cf(0x221),'decoderCommand':'','encoderName':_0x5691cf(0x257),'coderName':_0x5691cf(0x255),'parents':[_0x5691cf(0x242),'D3D11VA+QSV','INTEL\x20GPU',_0x5691cf(0x206),_0x5691cf(0x238)]}),_0x2e94a5['push']({'decoderType':_0x5691cf(0x22e),'decoderCommand':'','encoderName':_0x5691cf(0x257),'coderName':_0x5691cf(0x255),'parents':[_0x5691cf(0x242),_0x5691cf(0x238),_0x5691cf(0x20b),_0x5691cf(0x206),_0x5691cf(0x238)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'hwaccel':'-hwaccel\x20dxva2','decoderCommand':'','encoderName':'','coderName':_0x5691cf(0x264),'parents':[_0x5691cf(0x242),_0x5691cf(0x206)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':'HEVC','hwaccel':'-hwaccel\x20dxva2','decoderCommand':'','encoderName':'','coderName':'DXVA2','parents':[_0x5691cf(0x242),_0x5691cf(0x206)]}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':'','coderName':_0x5691cf(0x218),'parents':['D3D11VA+AFM',_0x5691cf(0x238)]}),_0x2e94a5['push']({'decoderType':'HEVC','hwaccel':_0x5691cf(0x228),'decoderCommand':'','encoderName':'','coderName':'D3D11VA','parents':[_0x5691cf(0x248),_0x5691cf(0x238)]});platform==_0x5691cf(0x234)&&(_0x2e94a5[_0x5691cf(0x209)]({'hwaccel':'-hwaccel\x20videotoolbox','decoderType':_0x5691cf(0x221),'decoderCommand':'','encoderName':'h264_videotoolbox','coderName':'MacOs\x20VideoToolBox'}),_0x2e94a5[_0x5691cf(0x209)]({'hwaccel':_0x5691cf(0x1fc),'decoderType':'HEVC','decoderCommand':'','encoderName':_0x5691cf(0x225),'coderName':_0x5691cf(0x21b)}));_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'hwaccel':_0x5691cf(0x205),'decoderCommand':'','encoderName':'','coderName':_0x5691cf(0x215)}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'hwaccel':_0x5691cf(0x205),'decoderCommand':'','encoderName':'','coderName':_0x5691cf(0x215)}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x22e),'decoderCommand':'','encoderName':_0x5691cf(0x24a),'coderName':_0x5691cf(0x1fa)}),_0x2e94a5[_0x5691cf(0x209)]({'decoderType':_0x5691cf(0x221),'decoderCommand':'','encoderName':_0x5691cf(0x24a),'coderName':_0x5691cf(0x1fa)});function _0x34f7d7(_0x4b9581){const _0x3a507f=_0x5691cf;function _0x58a430(){const _0x4b549c=_0x1e4e;_0x4b9581>=_0x2e94a5[_0x4b549c(0x219)]-0x1?_0x186eb1(usableCoderList):_0x34f7d7(_0x4b9581+0x1);}let _0x553b18=_0x2e94a5[_0x4b9581][_0x3a507f(0x1f9)],_0x447b30=_0x2e94a5[_0x4b9581][_0x3a507f(0x1fe)],_0x2d10d6=_0x2e94a5[_0x4b9581][_0x3a507f(0x239)],_0x1e632c=_0x2e94a5[_0x4b9581][_0x3a507f(0x1ee)],_0x177f17=_0x2e94a5[_0x4b9581]['parents'];for(let _0x289cc8 of usableCoderList){if(_0x289cc8[_0x3a507f(0x1fe)]==_0x447b30&&_0x289cc8[_0x3a507f(0x239)]==_0x2d10d6&&_0x289cc8['coderName']==_0x2e94a5[_0x4b9581][_0x3a507f(0x235)])return _0x58a430();}ffmpegTestDecoderEncoder(_0x447b30,_0x553b18,_0x2d10d6,_0x1e632c,_0x177f17)[_0x3a507f(0x1ff)](()=>{const _0x332b61=_0x3a507f;usableCoderList[_0x332b61(0x209)](_0x2e94a5[_0x4b9581]),_0x58a430();})['catch'](()=>{_0x58a430();});}_0x34f7d7(0x0);}function detectFfmpegGpuCoder(){const _0x377cc4=_0x38e150;console[_0x377cc4(0x21f)](_0x377cc4(0x212)),getFitDecoderEncoder(_0x129d9e=>{const _0x18598e=_0x377cc4;dbConfigTable[_0x18598e(0x266)](dbOther,{'title':_0x18598e(0x23f),'value':JSON[_0x18598e(0x210)](_0x129d9e)});});}function nasAccountRefresh(){const _0x246d3c=_0x38e150;nasAccountUtil[_0x246d3c(0x25e)](dbOther)[_0x246d3c(0x1ff)](_0x1f27dd=>{const _0x16a487=_0x246d3c;if(_0x1f27dd)_0x1f27dd&&_0x1f27dd['token']&&_0x1f27dd['token'][_0x16a487(0x219)]>0x0&&nasAccountUtil['loginByToken'](dbOther,_0x1f27dd[_0x16a487(0x24c)][_0x1f27dd[_0x16a487(0x24c)][_0x16a487(0x219)]-0x1],()=>{},()=>{});else{}});}function _0xcdb1(){const _0x3c4dfe=['-hwaccel\x20d3d11va','-c:v\x20h264_cuvid','readdir','run','start','setAllBookType','HEVC','../db/dbFileOperationRecord','1333576TDhFck','libs','prepare','NVIDIA\x20CUVID','darwin','coderName','663405ATCDFK','m3u8TmpPath','D3D11VA+QSV','decoderCommand','-hwaccel\x20dxva2','addInputOption','1647266gehnDr','cache','dbFileIndex','transCodeParams-coderList','error','join','DXVA2+AFM','output','FFmpeg','last_scan_time','defaultTmdbApiToken','间隔扫描','D3D11VA+AFM','writeFileSync','libx264','tmdbConfigUrl','token','now','pragma','../myWorkers/index/bookIndexUtil','../myConfig/urlConfig','size','stat','path','axios','AMD\x20GPU','clearExpiredLog','h264_amf','data','../utils/videoStreamUtil','send','getMinutes','D3D11VA+AMF','dealFilenameNumberAll','getUserInfo','NVIDIA\x20GPU[AUTO]','../db/dbScanTaskTable','count','74040xPSxhT','18jOZlwT','DXVA2','cacheParentPath','create','transcodetesth264','exit','getDiskInfo','2959OdRhLU','close','end','h264_qsv','tmdbApiUrl','Error\x20fetching\x20file:','existsSync','delete\x20from\x20bg_task\x20where\x20task_state!=0\x20order\x20by\x20id\x20asc\x20limit\x20?','encoderName','isPkgPackage','dbOther','NVIDIA\x20GPU','better-sqlite3','getUpdateInfo','../db/dbConfigTable','getIpList','../express-server/utils/movieUtil','COPY\x20TRANSCODE\x20FILE\x20ERROR','NasCabGlobalInfoWorker','hwaccel','CPU','userDataFolder','-hwaccel\x20videotoolbox','../../package.json','decoderType','then','force','153564cWWdWb','func','mtimeMs','COPY\x20TRANSCODE\x20FILE\x20TO\x20APP\x20FOLDER','-hwaccel\x20auto','DXVA2+QSV','journal_mode\x20=\x20WAL','addScanTask','push','getCpuAndMemoryInfo','INTEL\x20GPU','videoCodec','getAllIndexInfo','12XpZzWl','1648550QwSfDA','stringify','startScanPath','开始检测FFMPEG编解码性能[Start\x20detecting\x20ffmpeg\x20gpu]','goParseMoviesKeys','type','AUTO','tmdbApiToken','get','D3D11VA','length','h264_nvenc','MacOs\x20VideoToolBox','-c:v\x20hevc_cuvid','7482852wvPkPx','UPDATE\x20file_index_photo\x20SET\x20in_trash=1\x20WHERE\x20in_trash=2','log','413OszuFo','H264','includes','-hwaccel\x20cuda','transcodetest','h264_videotoolbox','1sUvAsW','../libs/nasTrans'];_0xcdb1=function(){return _0x3c4dfe;};return _0xcdb1();}let lastCacheFolderMtimes=0x0,isCalutingCacheSize=![];function statisticsCachePath(){const _0x27bc3e=_0x38e150;if(isCalutingCacheSize==!![])return;isCalutingCacheSize=!![];let _0x225fee=path['join'](config[_0x27bc3e(0x265)],_0x27bc3e(0x23d));fs[_0x27bc3e(0x252)](_0x225fee,(_0x243e85,_0x18504c)=>{const _0x58e275=_0x27bc3e;if(_0x243e85)return;if(_0x18504c[_0x58e275(0x203)]==lastCacheFolderMtimes)return;lastCacheFolderMtimes=_0x18504c[_0x58e275(0x203)];let _0x38d6c6=0x0;fs['readdir'](_0x225fee,{},(_0x391da9,_0x36c02b)=>{const _0x23d8d1=_0x58e275;if(_0x391da9){console[_0x23d8d1(0x21f)](_0x391da9);return;}if(_0x36c02b[_0x23d8d1(0x219)]>0x0){function _0xf71bf9(_0x55705a,_0x48d038){const _0x510127=_0x23d8d1;fs[_0x510127(0x252)](path[_0x510127(0x241)](_0x225fee,_0x36c02b[_0x55705a]),(_0x59b530,_0x43d48c)=>{const _0xa52f27=_0x510127;!_0x59b530&&(_0x38d6c6+=_0x43d48c[_0xa52f27(0x251)]),_0x55705a==_0x36c02b[_0xa52f27(0x219)]-0x1?_0x48d038():_0xf71bf9(_0x55705a+0x1,_0x48d038);});}_0xf71bf9(0x0,()=>{const _0x2609ee=_0x23d8d1;dbConfigTable[_0x2609ee(0x266)](dbOther,{'title':'cacheImageInfo','value':JSON['stringify']({'totalSize':_0x38d6c6,'count':_0x36c02b[_0x2609ee(0x219)]})}),isCalutingCacheSize=![];});}else isCalutingCacheSize=![];});});}const M3u8DeleteTimeGap=0x3*0xe10*0x3e8;function clearM3u8Ts(){const _0x29a865=_0x38e150;fs[_0x29a865(0x22a)](config[_0x29a865(0x237)],(_0x16e0cd,_0x20e88e)=>{const _0x5946e3=_0x29a865;if(_0x16e0cd)return;for(let _0x36176b in _0x20e88e){let _0x3988c8=path[_0x5946e3(0x241)](config['m3u8TmpPath'],_0x20e88e[_0x36176b]);fs[_0x5946e3(0x252)](_0x3988c8,(_0x140f20,_0x163d20)=>{const _0xda4944=_0x5946e3;if(_0x140f20)return console[_0xda4944(0x21f)](_0x140f20);let _0x35a47a=new Date()['getTime'](),_0x420c8c=_0x35a47a-_0x163d20['mtimeMs'];_0x420c8c>M3u8DeleteTimeGap&&fs['rm'](_0x3988c8,{'recursive':!![],'maxRetries':0xa,'retryDelay':0x3e8},_0x56a8be=>{});});}});}process['on']('message',_0x398153=>{const _0x1ed7d=_0x38e150;if(_0x398153['func']==_0x1ed7d(0x1e5))globalInfoUtil['getDiskInfo'](dbOther,null,_0x398153[_0x1ed7d(0x200)]);else{if(_0x398153[_0x1ed7d(0x202)]=='getIpList')globalInfoUtil[_0x1ed7d(0x1f5)](dbOther);else{if(_0x398153[_0x1ed7d(0x202)]=='getAllIndexInfo')globalInfoUtil[_0x1ed7d(0x20d)](dbOther,dbFileIndex);else _0x398153['func']==_0x1ed7d(0x1f3)&&globalInfoUtil[_0x1ed7d(0x1f3)](dbOther);}}globalInfoUtil[_0x1ed7d(0x20a)](dbOther,null);}),globalInfoUtil['getDiskInfo'](dbOther,null,!![]),globalInfoUtil[_0x38e150(0x20a)](dbOther,null),detectFfmpegGpuCoder(),setTimeout(()=>{const _0x593997=_0x38e150;globalInfoUtil[_0x593997(0x1f5)](dbOther);},0x1388);function getTmdbConfig(){const _0x4ab9e0=_0x38e150;axios[_0x4ab9e0(0x217)](urlConfig[_0x4ab9e0(0x24b)])[_0x4ab9e0(0x1ff)](_0x41d33c=>{const _0x3f04ab=_0x4ab9e0;_0x41d33c[_0x3f04ab(0x258)]&&(_0x41d33c[_0x3f04ab(0x258)][_0x3f04ab(0x216)]&&dbConfigTable[_0x3f04ab(0x266)](dbOther,{'title':_0x3f04ab(0x246),'value':_0x41d33c[_0x3f04ab(0x258)][_0x3f04ab(0x216)]}),_0x41d33c['data'][_0x3f04ab(0x1ea)]&&dbConfigTable['create'](dbOther,{'title':'defaultTmdbApiUrl','value':_0x41d33c[_0x3f04ab(0x258)][_0x3f04ab(0x1ea)]}));})['catch'](_0x42b7ed=>{const _0x5dd099=_0x4ab9e0;console['error'](_0x5dd099(0x1eb),_0x42b7ed);});}function intervalScan(){const _0x33b5e8=_0x38e150;let _0x11cfcc=Date[_0x33b5e8(0x24d)](),_0x3c5d75=dbOther[_0x33b5e8(0x232)]('SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20scan_interval=1\x20AND\x20last_scan_time<=?')['all'](_0x11cfcc-0x1b7740),_0x16cec1=[];for(let _0x40b815 of _0x3c5d75){let _0x30d22a=_0x40b815['scan_interval_ms'];_0x40b815[_0x33b5e8(0x245)]+_0x30d22a<_0x11cfcc&&(console['log'](_0x33b5e8(0x247),_0x40b815[_0x33b5e8(0x253)]),dbScanTaskTable[_0x33b5e8(0x208)](dbOther,_0x40b815[_0x33b5e8(0x214)],_0x40b815[_0x33b5e8(0x253)]),!_0x16cec1[_0x33b5e8(0x222)][_0x40b815[_0x33b5e8(0x214)]]&&_0x16cec1[_0x33b5e8(0x209)](_0x40b815['type']));}for(let _0x34dfd9 of _0x16cec1){process[_0x33b5e8(0x25a)]({'type':_0x33b5e8(0x211),'source_type':_0x34dfd9,'restartWatcher':![]});}}function initInfo(){const _0x446ce2=_0x38e150;setInterval(()=>{statisticsCachePath();},0x2bf20),setInterval(statisticsCachePath,0x18*0x3c*0x3c*0x3e8),setInterval(clearM3u8Ts,0xe10*0x3e8),setInterval(nasAccountRefresh,0x18*0x3c*0x3c*0x3e8),setTimeout(()=>{nasAccountRefresh();},0x7530);let _0x50d906=0x1388,_0x261e09=dbOther[_0x446ce2(0x232)]('select\x20count(*)\x20as\x20count\x20from\x20bg_task')['get']();if(_0x261e09&&_0x261e09[_0x446ce2(0x261)]>_0x50d906){let _0x1b5276=_0x261e09[_0x446ce2(0x261)]-_0x50d906;dbOther[_0x446ce2(0x232)](_0x446ce2(0x1ed))['run'](_0x1b5276);}dbFileIndex[_0x446ce2(0x232)](_0x446ce2(0x21e))[_0x446ce2(0x22b)](),dbFileOperationRecord['resetNoFinishWork'](dbOther),dbFileOperationRecord[_0x446ce2(0x256)](dbOther),setInterval(()=>{const _0x17b259=_0x446ce2;videoStreamUtil[_0x17b259(0x213)](dbOther,dbFileIndex);},0x708*0x3e8),setTimeout(()=>{videoStreamUtil['goParseMoviesKeys'](dbOther,dbFileIndex,!![]);},0x7530),setInterval(()=>{const _0x5ae923=_0x446ce2;globalInfoUtil['getIpList'](dbOther);const _0x3c42fe=new Date(),_0x32439b=_0x3c42fe[_0x5ae923(0x25b)]();(_0x32439b==0x0||_0x32439b==0x1e)&&intervalScan();},0x3c*0x3e8),movieUtil[_0x446ce2(0x25d)](dbFileIndex),bookIndexUtil[_0x446ce2(0x22d)](dbFileIndex),getTmdbConfig(),setInterval(()=>{getTmdbConfig();},0x18*0xe10*0x3e8);}initInfo();function exitProcess(){const _0x472a0c=_0x38e150;process['send']({'type':_0x472a0c(0x1e7)}),process[_0x472a0c(0x1e4)]();}process['on'](_0x38e150(0x1e4),(_0x168594,_0x27d01c)=>{process['send']({'type':'close'});});