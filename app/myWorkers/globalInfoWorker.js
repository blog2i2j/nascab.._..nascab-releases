const _0x282b0c=_0x44d8;(function(_0x2ef2ca,_0x4eb99e){const _0x175b2b=_0x44d8,_0x522758=_0x2ef2ca();while(!![]){try{const _0x1cd7bf=parseInt(_0x175b2b(0x1bb))/0x1*(-parseInt(_0x175b2b(0x222))/0x2)+parseInt(_0x175b2b(0x1f2))/0x3*(-parseInt(_0x175b2b(0x22d))/0x4)+parseInt(_0x175b2b(0x213))/0x5*(parseInt(_0x175b2b(0x1f1))/0x6)+parseInt(_0x175b2b(0x214))/0x7+parseInt(_0x175b2b(0x1f3))/0x8*(-parseInt(_0x175b2b(0x1c3))/0x9)+parseInt(_0x175b2b(0x225))/0xa*(-parseInt(_0x175b2b(0x20f))/0xb)+parseInt(_0x175b2b(0x1c5))/0xc*(parseInt(_0x175b2b(0x1d7))/0xd);if(_0x1cd7bf===_0x4eb99e)break;else _0x522758['push'](_0x522758['shift']());}catch(_0x5f2d15){_0x522758['push'](_0x522758['shift']());}}}(_0x5363,0x89caf));let dbConfigTable=require(_0x282b0c(0x1ad)),dbFileOperationRecord=require('../db/dbFileOperationRecord'),axios=require(_0x282b0c(0x1b6));const config=require(_0x282b0c(0x20c));let fs=require('fs'),path=require(_0x282b0c(0x1c0));const Database=require(_0x282b0c(0x202));let dbOther=new Database(config['dbOther'],{}),dbFileIndex=new Database(config[_0x282b0c(0x1c2)],{});dbFileIndex[_0x282b0c(0x1d5)](_0x282b0c(0x1b9)),dbOther[_0x282b0c(0x1d5)](_0x282b0c(0x1b9));let nasAccountUtil=require(_0x282b0c(0x219));const OS=require('os'),platform=OS[_0x282b0c(0x1d3)](),videoStreamUtil=require(_0x282b0c(0x1db));let nasTrans=require(_0x282b0c(0x1e4));const globalInfoUtil=require(_0x282b0c(0x22b));let FFmpeg=nasTrans[_0x282b0c(0x1b3)];const packageInfo=require(_0x282b0c(0x22a)),movieUtil=require(_0x282b0c(0x226)),bookIndexUtil=require(_0x282b0c(0x1b2)),urlConfig=require(_0x282b0c(0x223)),dbScanTaskTable=require(_0x282b0c(0x231));process[_0x282b0c(0x20d)]='NasCabGlobalInfoWorker';let usableCoderList=[];function ffmpegTestDecoderEncoder(_0x118f0a,_0x2270a8,_0x2bc0f9,_0x55034c,_0x1ba49){return new Promise((_0x7d9c41,_0x568b5c)=>{const _0x38a718=_0x44d8;if(_0x1ba49)for(parent of _0x1ba49){for(useCoderItem of usableCoderList){if(parent==useCoderItem[_0x38a718(0x1bc)]&&_0x118f0a==useCoderItem[_0x38a718(0x1c1)])return _0x568b5c();}}if('libx264'==_0x55034c&&!_0x2bc0f9&&!_0x2270a8)return _0x7d9c41();let _0x2b6067=_0x118f0a==_0x38a718(0x208)?'transcodetest':_0x38a718(0x218),_0x234aaf=path[_0x38a718(0x22f)](config[_0x38a718(0x1ed)],_0x38a718(0x1fc),_0x2b6067);if(packageInfo[_0x38a718(0x1ca)]){let _0x19ae3e=path['join'](config[_0x38a718(0x1e3)],_0x2b6067);if(!fs[_0x38a718(0x1e1)](_0x19ae3e))try{let _0x398215=fs[_0x38a718(0x1ff)](_0x234aaf);fs[_0x38a718(0x1b1)](_0x19ae3e,_0x398215),_0x234aaf=_0x19ae3e,console[_0x38a718(0x216)]('COPY\x20TRANSCODE\x20FILE\x20TO\x20APP\x20FOLDER');}catch(_0x25956e){console[_0x38a718(0x216)]('COPY\x20TRANSCODE\x20FILE\x20ERROR',_0x25956e);}else _0x234aaf=_0x19ae3e;}let _0x57a06a=path[_0x38a718(0x22f)](config[_0x38a718(0x1e3)],_0x38a718(0x209));fs[_0x38a718(0x1f7)](_0x234aaf,(_0x19a216,_0xdb7487)=>{const _0x1c18f0=_0x38a718;if(_0x19a216)return _0x568b5c();let _0x49fa71=FFmpeg(_0x234aaf);_0x2270a8&&_0x49fa71[_0x1c18f0(0x1d2)](_0x2270a8),_0x2bc0f9&&_0x49fa71[_0x1c18f0(0x1d2)](_0x2bc0f9),_0x55034c&&_0x49fa71[_0x1c18f0(0x21a)](_0x55034c),_0x49fa71['on'](_0x1c18f0(0x21b),function(_0x403e42){})['on'](_0x1c18f0(0x1b4),function(_0x193cc8){_0x568b5c();})['on'](_0x1c18f0(0x211),function(_0x15b744){_0x7d9c41();}),_0x49fa71[_0x1c18f0(0x1fd)](_0x57a06a),_0x49fa71[_0x1c18f0(0x1b8)]();});});}function getFitDecoderEncoder(_0x3bd6c3){const _0x15cd32=_0x282b0c;let _0x425c72=[];_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x1dc),'decoderCommand':'','encoderName':_0x15cd32(0x1c8),'coderName':_0x15cd32(0x221)}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x208),'hwaccel':'-hwaccel\x20cuda','decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x15cd32(0x221)}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':'-hwaccel\x20auto','decoderCommand':'','encoderName':'h264_nvenc','coderName':_0x15cd32(0x1b0),'parents':['NVIDIA\x20GPU']}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x208),'hwaccel':_0x15cd32(0x1f6),'decoderCommand':'','encoderName':_0x15cd32(0x1c8),'coderName':_0x15cd32(0x1b0),'parents':[_0x15cd32(0x221)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x1f6),'decoderCommand':_0x15cd32(0x1ef),'encoderName':'','coderName':'NVIDIA\x20CUVID','parents':[_0x15cd32(0x221),_0x15cd32(0x1b0)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':'HEVC','hwaccel':'-hwaccel\x20auto','decoderCommand':_0x15cd32(0x200),'encoderName':'','coderName':_0x15cd32(0x1f0),'parents':[_0x15cd32(0x221),_0x15cd32(0x1b0)]}),_0x425c72['push']({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x1f6),'decoderCommand':'','encoderName':_0x15cd32(0x21f),'coderName':_0x15cd32(0x1ec)}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x208),'hwaccel':_0x15cd32(0x1f6),'decoderCommand':'','encoderName':'h264_qsv','coderName':_0x15cd32(0x1ec)}),_0x425c72['push']({'decoderType':_0x15cd32(0x208),'hwaccel':_0x15cd32(0x1f6),'decoderCommand':'','encoderName':_0x15cd32(0x21f),'coderName':_0x15cd32(0x1ec),'parents':['INTEL\x20GPU']}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x1e2),'decoderCommand':'','encoderName':_0x15cd32(0x21f),'coderName':'DXVA2+QSV'}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x208),'hwaccel':_0x15cd32(0x1e2),'decoderCommand':'','encoderName':'h264_qsv','coderName':_0x15cd32(0x204)}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x205),'decoderCommand':'','encoderName':'h264_qsv','coderName':_0x15cd32(0x228),'parents':[_0x15cd32(0x1ec),_0x15cd32(0x204)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x208),'hwaccel':_0x15cd32(0x205),'decoderCommand':'','encoderName':_0x15cd32(0x21f),'coderName':'D3D11VA+QSV','parents':[_0x15cd32(0x1ec),_0x15cd32(0x204)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x1e2),'decoderCommand':'','encoderName':'h264_amf','coderName':_0x15cd32(0x1e8),'parents':[_0x15cd32(0x1ec),_0x15cd32(0x204),_0x15cd32(0x228)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x208),'hwaccel':_0x15cd32(0x1e2),'decoderCommand':'','encoderName':_0x15cd32(0x1a8),'coderName':_0x15cd32(0x1e8),'parents':[_0x15cd32(0x1ec),'DXVA2+QSV',_0x15cd32(0x228)]}),_0x425c72['push']({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x205),'decoderCommand':'','encoderName':_0x15cd32(0x1a8),'coderName':_0x15cd32(0x1bd),'parents':[_0x15cd32(0x1ec),_0x15cd32(0x204),_0x15cd32(0x228)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x208),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':_0x15cd32(0x1a8),'coderName':_0x15cd32(0x1bd),'parents':[_0x15cd32(0x1ec),'DXVA2+QSV',_0x15cd32(0x228)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':'H264','decoderCommand':'','encoderName':'h264_amf','coderName':_0x15cd32(0x22c),'parents':[_0x15cd32(0x1e8),_0x15cd32(0x228),_0x15cd32(0x1ec),'DXVA2+QSV',_0x15cd32(0x228)]}),_0x425c72['push']({'decoderType':_0x15cd32(0x208),'decoderCommand':'','encoderName':_0x15cd32(0x1a8),'coderName':'AMD\x20GPU','parents':[_0x15cd32(0x1e8),'D3D11VA+QSV',_0x15cd32(0x1ec),_0x15cd32(0x204),_0x15cd32(0x228)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x1e2),'decoderCommand':'','encoderName':'','coderName':_0x15cd32(0x1fb),'parents':[_0x15cd32(0x1e8),_0x15cd32(0x204)]}),_0x425c72['push']({'decoderType':_0x15cd32(0x208),'hwaccel':_0x15cd32(0x1e2),'decoderCommand':'','encoderName':'','coderName':'DXVA2','parents':['DXVA2+AFM','DXVA2+QSV']}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x205),'decoderCommand':'','encoderName':'','coderName':_0x15cd32(0x20e),'parents':['D3D11VA+AFM',_0x15cd32(0x228)]}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x208),'hwaccel':'-hwaccel\x20d3d11va','decoderCommand':'','encoderName':'','coderName':_0x15cd32(0x20e),'parents':[_0x15cd32(0x1aa),_0x15cd32(0x228)]});platform==_0x15cd32(0x20b)&&(_0x425c72[_0x15cd32(0x1a9)]({'hwaccel':_0x15cd32(0x201),'decoderType':_0x15cd32(0x1c4),'decoderCommand':'','encoderName':_0x15cd32(0x1ac),'coderName':_0x15cd32(0x1dd)}),_0x425c72[_0x15cd32(0x1a9)]({'hwaccel':_0x15cd32(0x201),'decoderType':_0x15cd32(0x208),'decoderCommand':'','encoderName':_0x15cd32(0x1ac),'coderName':_0x15cd32(0x1dd)}));_0x425c72[_0x15cd32(0x1a9)]({'decoderType':_0x15cd32(0x1c4),'hwaccel':_0x15cd32(0x1f6),'decoderCommand':'','encoderName':'','coderName':'AUTO'}),_0x425c72[_0x15cd32(0x1a9)]({'decoderType':'HEVC','hwaccel':_0x15cd32(0x1f6),'decoderCommand':'','encoderName':'','coderName':_0x15cd32(0x1cf)}),_0x425c72['push']({'decoderType':'HEVC','decoderCommand':'','encoderName':_0x15cd32(0x1c7),'coderName':_0x15cd32(0x1de)}),_0x425c72['push']({'decoderType':_0x15cd32(0x1c4),'decoderCommand':'','encoderName':_0x15cd32(0x1c7),'coderName':_0x15cd32(0x1de)});function _0x4b69e1(_0x407eec){const _0x2bbe80=_0x15cd32;function _0x2cfdb2(){_0x407eec>=_0x425c72['length']-0x1?_0x3bd6c3(usableCoderList):_0x4b69e1(_0x407eec+0x1);}let _0x143cf8=_0x425c72[_0x407eec]['hwaccel'],_0x246e09=_0x425c72[_0x407eec][_0x2bbe80(0x1c1)],_0x5cee8c=_0x425c72[_0x407eec][_0x2bbe80(0x1fe)],_0x354ca4=_0x425c72[_0x407eec][_0x2bbe80(0x1d8)],_0x479bae=_0x425c72[_0x407eec]['parents'];for(let _0x2f457b of usableCoderList){if(_0x2f457b[_0x2bbe80(0x1c1)]==_0x246e09&&_0x2f457b[_0x2bbe80(0x1fe)]==_0x5cee8c&&_0x2f457b['coderName']==_0x425c72[_0x407eec][_0x2bbe80(0x1bc)])return _0x2cfdb2();}ffmpegTestDecoderEncoder(_0x246e09,_0x143cf8,_0x5cee8c,_0x354ca4,_0x479bae)[_0x2bbe80(0x1d9)](()=>{const _0x3f8c45=_0x2bbe80;usableCoderList[_0x3f8c45(0x1a9)](_0x425c72[_0x407eec]),_0x2cfdb2();})['catch'](()=>{_0x2cfdb2();});}_0x4b69e1(0x0);}function detectFfmpegGpuCoder(){const _0x3be0ab=_0x282b0c;console[_0x3be0ab(0x216)](_0x3be0ab(0x21e)),getFitDecoderEncoder(_0x5b41f2=>{const _0x3ce404=_0x3be0ab;dbConfigTable['create'](dbOther,{'title':_0x3ce404(0x229),'value':JSON[_0x3ce404(0x1d4)](_0x5b41f2)});});}function nasAccountRefresh(){const _0x2117e6=_0x282b0c;nasAccountUtil[_0x2117e6(0x1ea)](dbOther)[_0x2117e6(0x1d9)](_0x470ded=>{const _0x42faf1=_0x2117e6;if(_0x470ded)_0x470ded&&_0x470ded[_0x42faf1(0x1cd)]&&_0x470ded[_0x42faf1(0x1cd)]['length']>0x0&&nasAccountUtil[_0x42faf1(0x1c6)](dbOther,_0x470ded[_0x42faf1(0x1cd)][_0x470ded[_0x42faf1(0x1cd)][_0x42faf1(0x1ee)]-0x1],()=>{},()=>{});else{}});}let lastCacheFolderMtimes=0x0,isCalutingCacheSize=![];function statisticsCachePath(){const _0x29189b=_0x282b0c;if(isCalutingCacheSize==!![])return;isCalutingCacheSize=!![];let _0x44d552=path[_0x29189b(0x22f)](config[_0x29189b(0x230)],_0x29189b(0x203));fs[_0x29189b(0x1f7)](_0x44d552,(_0xb44910,_0x25cb28)=>{const _0x4c3f71=_0x29189b;if(_0xb44910)return;if(_0x25cb28[_0x4c3f71(0x1cc)]==lastCacheFolderMtimes)return;lastCacheFolderMtimes=_0x25cb28[_0x4c3f71(0x1cc)];let _0x335f8d=0x0;fs[_0x4c3f71(0x20a)](_0x44d552,{},(_0xc0099b,_0xfca450)=>{const _0x140241=_0x4c3f71;if(_0xc0099b){console[_0x140241(0x216)](_0xc0099b);return;}if(_0xfca450['length']>0x0){function _0x26d755(_0x2bef39,_0x3d75f0){const _0xc111a7=_0x140241;fs['stat'](path[_0xc111a7(0x22f)](_0x44d552,_0xfca450[_0x2bef39]),(_0x223b3c,_0x215225)=>{const _0x385d7f=_0xc111a7;!_0x223b3c&&(_0x335f8d+=_0x215225[_0x385d7f(0x1ba)]),_0x2bef39==_0xfca450['length']-0x1?_0x3d75f0():_0x26d755(_0x2bef39+0x1,_0x3d75f0);});}_0x26d755(0x0,()=>{const _0x49592c=_0x140241;dbConfigTable[_0x49592c(0x1cb)](dbOther,{'title':_0x49592c(0x220),'value':JSON[_0x49592c(0x1d4)]({'totalSize':_0x335f8d,'count':_0xfca450[_0x49592c(0x1ee)]})}),isCalutingCacheSize=![];});}else isCalutingCacheSize=![];});});}function _0x44d8(_0x4cb71a,_0xa31c52){const _0x536365=_0x5363();return _0x44d8=function(_0x44d8bd,_0xaa2cc3){_0x44d8bd=_0x44d8bd-0x1a7;let _0x46d9eb=_0x536365[_0x44d8bd];return _0x46d9eb;},_0x44d8(_0x4cb71a,_0xa31c52);}const M3u8DeleteTimeGap=0x3*0xe10*0x3e8;function clearM3u8Ts(){const _0x262096=_0x282b0c;fs[_0x262096(0x20a)](config[_0x262096(0x1b5)],(_0xd91c03,_0x5d7025)=>{const _0xb90921=_0x262096;if(_0xd91c03)return;for(let _0x584770 in _0x5d7025){let _0xc76bb8=path[_0xb90921(0x22f)](config['m3u8TmpPath'],_0x5d7025[_0x584770]);fs[_0xb90921(0x1f7)](_0xc76bb8,(_0x26f2fe,_0x56ddae)=>{const _0x519687=_0xb90921;if(_0x26f2fe)return console[_0x519687(0x216)](_0x26f2fe);let _0x147945=new Date()[_0x519687(0x1d1)](),_0x4d3336=_0x147945-_0x56ddae[_0x519687(0x1cc)];_0x4d3336>M3u8DeleteTimeGap&&fs['rm'](_0xc76bb8,{'recursive':!![],'maxRetries':0xa,'retryDelay':0x3e8},_0x114539=>{});});}});}process['on'](_0x282b0c(0x227),_0x16cc57=>{const _0x351323=_0x282b0c;if(_0x16cc57[_0x351323(0x1ce)]==_0x351323(0x1af))globalInfoUtil[_0x351323(0x1af)](dbOther,null,_0x16cc57[_0x351323(0x207)]);else{if(_0x16cc57[_0x351323(0x1ce)]==_0x351323(0x1f4))globalInfoUtil['getIpList'](dbOther);else{if(_0x16cc57[_0x351323(0x1ce)]=='getAllIndexInfo')globalInfoUtil[_0x351323(0x1b7)](dbOther,dbFileIndex);else _0x16cc57[_0x351323(0x1ce)]=='getUpdateInfo'&&globalInfoUtil[_0x351323(0x1ae)](dbOther);}}globalInfoUtil[_0x351323(0x215)](dbOther,null);}),globalInfoUtil['getDiskInfo'](dbOther,null,!![]),globalInfoUtil[_0x282b0c(0x215)](dbOther,null),detectFfmpegGpuCoder(),setTimeout(()=>{const _0x293dba=_0x282b0c;globalInfoUtil[_0x293dba(0x1f4)](dbOther);},0x1388);function _0x5363(){const _0x43fe84=['now','h264_videotoolbox','../db/dbConfigTable','getUpdateInfo','getDiskInfo','NVIDIA\x20GPU[AUTO]','writeFileSync','../myWorkers/index/bookIndexUtil','FFmpeg','error','m3u8TmpPath','axios','getAllIndexInfo','run','journal_mode\x20=\x20WAL','size','1rKFuVT','coderName','D3D11VA+AMF','startScanPath','exit','path','decoderType','dbFileIndex','18VotLgO','H264','12rFbUOz','loginByToken','libx264','h264_nvenc','Error\x20fetching\x20file:','isPkgPackage','create','mtimeMs','token','func','AUTO','UPDATE\x20file_index_photo\x20SET\x20in_trash=1\x20WHERE\x20in_trash=2','getTime','addInputOption','platform','stringify','pragma','tmdbConfigUrl','22439859nreuWY','encoderName','then','all','../utils/videoStreamUtil','-hwaccel\x20cuda','MacOs\x20VideoToolBox','CPU','scan_interval_ms','select\x20count(*)\x20as\x20count\x20from\x20bg_task','existsSync','-hwaccel\x20dxva2','userDataFolder','../libs/nasTrans','dealFilenameNumberAll','includes','delete\x20from\x20bg_task\x20where\x20task_state!=0\x20order\x20by\x20id\x20asc\x20limit\x20?','DXVA2+AFM','send','getUserInfo','close','INTEL\x20GPU','appRootPath','length','-c:v\x20h264_cuvid','NVIDIA\x20CUVID','6ZJLRKC','5007ThgPKF','2261392mbLkfb','getIpList','resetNoFinishWork','-hwaccel\x20auto','stat','prepare','data','tmdbApiToken','DXVA2','libs','output','decoderCommand','readFileSync','-c:v\x20hevc_cuvid','-hwaccel\x20videotoolbox','better-sqlite3','cache','DXVA2+QSV','-hwaccel\x20d3d11va','defaultTmdbApiToken','force','HEVC','transcode_test_output.mp4','readdir','darwin','../myConfig/config','title','D3D11VA','539EZeOur','clearExpiredLog','end','tmdbApiUrl','1986805JzjMIU','7452522tnoySw','getCpuAndMemoryInfo','log','goParseMoviesKeys','transcodetesth264','../express-server/utils/nasAccountUtils','videoCodec','start','get','getMinutes','开始检测FFMPEG编解码性能[Start\x20detecting\x20ffmpeg\x20gpu]','h264_qsv','cacheImageInfo','NVIDIA\x20GPU','2150798NIeBww','../myConfig/urlConfig','type','165530zucOcF','../express-server/utils/movieUtil','message','D3D11VA+QSV','transCodeParams-coderList','../../package.json','../utils/globalInfoUtil','AMD\x20GPU','412NZhAYQ','count','join','cacheParentPath','../db/dbScanTaskTable','addScanTask','h264_amf','push','D3D11VA+AFM'];_0x5363=function(){return _0x43fe84;};return _0x5363();}function getTmdbConfig(){const _0x3d98ea=_0x282b0c;axios[_0x3d98ea(0x21c)](urlConfig[_0x3d98ea(0x1d6)])[_0x3d98ea(0x1d9)](_0x1f7688=>{const _0x403c72=_0x3d98ea;_0x1f7688[_0x403c72(0x1f9)]&&(_0x1f7688[_0x403c72(0x1f9)][_0x403c72(0x1fa)]&&dbConfigTable[_0x403c72(0x1cb)](dbOther,{'title':_0x403c72(0x206),'value':_0x1f7688[_0x403c72(0x1f9)][_0x403c72(0x1fa)]}),_0x1f7688['data'][_0x403c72(0x212)]&&dbConfigTable[_0x403c72(0x1cb)](dbOther,{'title':'defaultTmdbApiUrl','value':_0x1f7688[_0x403c72(0x1f9)][_0x403c72(0x212)]}));})['catch'](_0x210ef6=>{const _0x1edb4=_0x3d98ea;console[_0x1edb4(0x1b4)](_0x1edb4(0x1c9),_0x210ef6);});}function intervalScan(){const _0x3c6cad=_0x282b0c;let _0x3f3985=Date[_0x3c6cad(0x1ab)](),_0x1071e6=dbOther['prepare']('SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20scan_interval=1\x20AND\x20last_scan_time<=?')[_0x3c6cad(0x1da)](_0x3f3985-0x1b7740),_0x3643d4=[];for(let _0x3b850c of _0x1071e6){let _0xfd9f81=_0x3b850c[_0x3c6cad(0x1df)];_0x3b850c['last_scan_time']+_0xfd9f81<_0x3f3985&&(console[_0x3c6cad(0x216)]('间隔扫描',_0x3b850c[_0x3c6cad(0x1c0)]),dbScanTaskTable[_0x3c6cad(0x1a7)](dbOther,_0x3b850c[_0x3c6cad(0x224)],_0x3b850c[_0x3c6cad(0x1c0)]),!_0x3643d4[_0x3c6cad(0x1e6)][_0x3b850c[_0x3c6cad(0x224)]]&&_0x3643d4['push'](_0x3b850c[_0x3c6cad(0x224)]));}for(let _0x59671f of _0x3643d4){process[_0x3c6cad(0x1e9)]({'type':_0x3c6cad(0x1be),'source_type':_0x59671f,'restartWatcher':![]});}}function initInfo(){const _0x31ba42=_0x282b0c;setInterval(()=>{statisticsCachePath();},0x2bf20),setInterval(statisticsCachePath,0x18*0x3c*0x3c*0x3e8),setInterval(clearM3u8Ts,0xe10*0x3e8),setInterval(nasAccountRefresh,0x18*0x3c*0x3c*0x3e8),setTimeout(()=>{nasAccountRefresh();},0x7530);let _0x43f5de=0x1388,_0x4e5cd8=dbOther['prepare'](_0x31ba42(0x1e0))[_0x31ba42(0x21c)]();if(_0x4e5cd8&&_0x4e5cd8[_0x31ba42(0x22e)]>_0x43f5de){let _0x33bcd6=_0x4e5cd8['count']-_0x43f5de;dbOther[_0x31ba42(0x1f8)](_0x31ba42(0x1e7))[_0x31ba42(0x1b8)](_0x33bcd6);}dbFileIndex['prepare'](_0x31ba42(0x1d0))['run'](),dbFileOperationRecord[_0x31ba42(0x1f5)](dbOther),dbFileOperationRecord[_0x31ba42(0x210)](dbOther),setInterval(()=>{videoStreamUtil['goParseMoviesKeys'](dbOther,dbFileIndex);},0x708*0x3e8),setTimeout(()=>{const _0x3d2f76=_0x31ba42;videoStreamUtil[_0x3d2f76(0x217)](dbOther,dbFileIndex,!![]);},0x7530),setInterval(()=>{const _0x5bac47=_0x31ba42;globalInfoUtil[_0x5bac47(0x1f4)](dbOther);const _0x4e9510=new Date(),_0x4b8583=_0x4e9510[_0x5bac47(0x21d)]();(_0x4b8583==0x0||_0x4b8583==0x1e)&&intervalScan();},0x3c*0x3e8),movieUtil[_0x31ba42(0x1e5)](dbFileIndex),bookIndexUtil['setAllBookType'](dbFileIndex),getTmdbConfig(),setInterval(()=>{getTmdbConfig();},0x18*0xe10*0x3e8);}initInfo();function exitProcess(){const _0x44d85a=_0x282b0c;process['send']({'type':'close'}),process[_0x44d85a(0x1bf)]();}process['on'](_0x282b0c(0x1bf),(_0x338a7c,_0x3cc964)=>{const _0x4317ff=_0x282b0c;process['send']({'type':_0x4317ff(0x1eb)});});