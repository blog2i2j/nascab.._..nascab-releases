const _0x4bcb41=_0x1365;(function(_0x29a3a8,_0x3bfe12){const _0x2dc3a3=_0x1365,_0x56b2cd=_0x29a3a8();while(!![]){try{const _0x196c4f=parseInt(_0x2dc3a3(0x1b0))/0x1*(-parseInt(_0x2dc3a3(0x1dc))/0x2)+-parseInt(_0x2dc3a3(0x18b))/0x3+parseInt(_0x2dc3a3(0x1cc))/0x4+-parseInt(_0x2dc3a3(0x192))/0x5*(parseInt(_0x2dc3a3(0x1ad))/0x6)+-parseInt(_0x2dc3a3(0x1e0))/0x7*(-parseInt(_0x2dc3a3(0x1a5))/0x8)+-parseInt(_0x2dc3a3(0x1c9))/0x9*(-parseInt(_0x2dc3a3(0x199))/0xa)+parseInt(_0x2dc3a3(0x198))/0xb;if(_0x196c4f===_0x3bfe12)break;else _0x56b2cd['push'](_0x56b2cd['shift']());}catch(_0x1b29d5){_0x56b2cd['push'](_0x56b2cd['shift']());}}}(_0x5647,0x45d61));const path=require(_0x4bcb41(0x1c0)),dbFileIndexTable=require(_0x4bcb41(0x195)),config=require(_0x4bcb41(0x1e2)),exifUtil=require('../../utils/exifUtils'),videoStreamUtil=require(_0x4bcb41(0x1be)),indexUtil=require(_0x4bcb41(0x1b5)),geohash=require('ngeohash'),indexTableName=dbFileIndexTable[_0x4bcb41(0x1a4)],photoIndexUtil={};photoIndexUtil[_0x4bcb41(0x19e)]=async function(_0x1e8bd5,_0x4e1144,_0x5f3086){const _0x32601f=_0x4bcb41;return await indexUtil['recursionFilesAddIndex'](_0x1e8bd5,_0x4e1144,indexTableName,_0x32601f(0x1c1),_0x5f3086,photoIndexUtil[_0x32601f(0x1bb)]);},photoIndexUtil[_0x4bcb41(0x1bb)]=async function(_0x4d5bd9,_0x288ada,_0xb1b327,_0x4271f6,_0x5b1b57,_0x342e0d){const _0x7788c1=_0x4bcb41;let _0x476dcf=indexUtil['doesPathCanAddToDb'](_0x4d5bd9,_0x7788c1(0x1c1),config,_0xb1b327,_0x4271f6);if(!_0x476dcf)return;let _0x20ccac=_0x342e0d[_0x7788c1(0x1ba)];_0x342e0d[_0x7788c1(0x1e7)]<_0x20ccac&&(_0x20ccac=_0x342e0d[_0x7788c1(0x1e7)]);_0x342e0d[_0x7788c1(0x19d)]<_0x20ccac&&(_0x20ccac=_0x342e0d[_0x7788c1(0x19d)]);_0x342e0d[_0x7788c1(0x1a7)]<_0x20ccac&&(_0x20ccac=_0x342e0d[_0x7788c1(0x1a7)]);let _0x1240ab={'path':_0xb1b327,'filename':_0x4271f6,'is_file':_0x5b1b57,'ctime':_0x342e0d['ctimeMs'],'mtime':_0x342e0d[_0x7788c1(0x1e7)],'ext':path[_0x7788c1(0x1f0)](_0x4271f6),'birthtime':Math[_0x7788c1(0x1d1)](_0x20ccac),'size':_0x342e0d['size'],'check_time':new Date()[_0x7788c1(0x18d)]()};_0x1240ab=await photoIndexUtil[_0x7788c1(0x1de)](_0x288ada,_0x1240ab);};function _0x1365(_0x31e9e5,_0x3f99d9){const _0x5647e5=_0x5647();return _0x1365=function(_0x136517,_0x11fec6){_0x136517=_0x136517-0x180;let _0x2738e6=_0x5647e5[_0x136517];return _0x2738e6;},_0x1365(_0x31e9e5,_0x3f99d9);}const getLocalTimeOffset=(_0x3ac3c7=_0x4bcb41(0x1f5),_0x5a1398=new Date())=>{const _0x3cc19d=_0x4bcb41,_0x2e2117=new Date(_0x5a1398[_0x3cc19d(0x18c)]('en-US',{'timeZone':_0x3cc19d(0x1f5)})),_0x5c5ccd=new Date(_0x5a1398['toLocaleString'](_0x3cc19d(0x1fd),{'timeZone':_0x3ac3c7}));return _0x5c5ccd[_0x3cc19d(0x18d)]()-_0x2e2117[_0x3cc19d(0x18d)]();};photoIndexUtil[_0x4bcb41(0x1de)]=async function(_0x387f08,_0x1892c0){const _0x5dbb14=_0x4bcb41;let _0x2b7f28=![],_0x4570ec=path['join'](_0x1892c0[_0x5dbb14(0x1c0)],_0x1892c0[_0x5dbb14(0x1b7)]);if(_0x1892c0[_0x5dbb14(0x1d7)]==0x1&&_0x1892c0[_0x5dbb14(0x181)]&&(config[_0x5dbb14(0x19c)][_0x5dbb14(0x182)](_0x1892c0['ext'][_0x5dbb14(0x1b4)]())||config[_0x5dbb14(0x1ca)]['includes'](_0x1892c0[_0x5dbb14(0x181)][_0x5dbb14(0x1b4)]()))){config[_0x5dbb14(0x1ca)][_0x5dbb14(0x182)](_0x1892c0[_0x5dbb14(0x181)][_0x5dbb14(0x1b4)]())&&(_0x1892c0[_0x5dbb14(0x187)]=0x1);_0x1892c0[_0x5dbb14(0x1ff)]=0x1;try{let {tags:_0x497367,dealedIndexObj:_0x260f2a}=await exifUtil[_0x5dbb14(0x1f2)](_0x4570ec,_0x1892c0);return photoIndexUtil[_0x5dbb14(0x191)](_0x387f08,_0x260f2a[_0x5dbb14(0x200)],_0x260f2a);}catch(_0x3825b8){return console['log'](_0x5dbb14(0x1bd),_0x3825b8),photoIndexUtil[_0x5dbb14(0x191)](_0x387f08,_0x2b7f28,_0x1892c0);}}else{if(_0x1892c0[_0x5dbb14(0x1d7)]==0x1&&_0x1892c0[_0x5dbb14(0x181)]&&config[_0x5dbb14(0x201)][_0x5dbb14(0x182)](_0x1892c0['ext'][_0x5dbb14(0x1b4)]())){_0x1892c0[_0x5dbb14(0x1ff)]=0x2;try{let _0x14310a=await indexUtil['ffprobeSync'](_0x4570ec),_0x48afaa=0x0,_0x3450bc=0x0;if(_0x14310a&&_0x14310a[_0x5dbb14(0x202)]&&_0x14310a[_0x5dbb14(0x202)][_0x5dbb14(0x1fb)]>0x0){_0x1892c0['stream_info']=JSON[_0x5dbb14(0x1a2)](_0x14310a[_0x5dbb14(0x202)]);let _0x551ecf=videoStreamUtil[_0x5dbb14(0x197)](_0x14310a['streams']);_0x1892c0['width']=_0x551ecf[_0x5dbb14(0x1a0)],_0x1892c0[_0x5dbb14(0x1da)]=_0x551ecf[_0x5dbb14(0x1f6)];let _0x30665f=videoStreamUtil[_0x5dbb14(0x19a)](_0x14310a);_0x30665f&&(_0x1892c0['duration']=_0x30665f);}if(_0x14310a&&_0x14310a[_0x5dbb14(0x1d2)]&&_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1ec)]){let _0x8c9dce=_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1ec)][_0x5dbb14(0x1d8)],_0x17adcb=_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1ec)][_0x5dbb14(0x1b8)],_0xbcc3fb=_0x14310a['format'][_0x5dbb14(0x1ec)][_0x5dbb14(0x1c3)];_0x17adcb&&(_0x1892c0[_0x5dbb14(0x1b9)]=_0x17adcb);_0xbcc3fb&&(_0x2b7f28=_0xbcc3fb);!_0x2b7f28&&_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1ec)][_0x5dbb14(0x1d3)]&&(_0x2b7f28=_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1ec)]['creation_time']);function _0xb96b9a(_0x593711){const _0x5a302b=_0x5dbb14;let _0x5de1e2=[];for(let _0x334e9e=0x0;_0x334e9e<_0x593711[_0x5a302b(0x1fb)];_0x334e9e++){(_0x593711[_0x334e9e]=='+'||_0x593711[_0x334e9e]=='-')&&_0x5de1e2[_0x5a302b(0x1dd)](_0x334e9e);}if(_0x5de1e2[_0x5a302b(0x1fb)]==0x2)_0x48afaa=_0x593711[_0x5a302b(0x188)](_0x5de1e2[0x0],_0x5de1e2[0x1]),_0x3450bc=_0x593711['substring'](_0x5de1e2[0x1]);else _0x5de1e2[_0x5a302b(0x1fb)]>=0x3&&(_0x48afaa=_0x593711[_0x5a302b(0x188)](_0x5de1e2[0x0],_0x5de1e2[0x1]),_0x3450bc=_0x593711[_0x5a302b(0x188)](_0x5de1e2[0x1],_0x5de1e2[0x2]));}_0x8c9dce&&_0xb96b9a(_0x8c9dce);let _0x5033bd=_0x14310a[_0x5dbb14(0x1d2)]['tags']['location']||_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1ec)][_0x5dbb14(0x18f)];_0x5033bd&&!_0x48afaa&&(_0x5033bd=_0x5033bd[_0x5dbb14(0x1e5)]('/',''),_0xb96b9a(_0x5033bd));if(_0x48afaa&&_0x3450bc&&_0x2b7f28){let _0x296b0a=_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1ec)][_0x5dbb14(0x1f8)];if(_0x296b0a&&currentPlatform&&currentPlatform==_0x5dbb14(0x1c7))try{let _0x3247ff=geoTz['find'](_0x48afaa,_0x3450bc);if(_0x3247ff&&_0x3247ff[_0x5dbb14(0x1fb)]>0x0){_0x3247ff=_0x3247ff[0x0];let _0x506260=new Date(_0x2b7f28),_0x21284a=getLocalTimeOffset(_0x3247ff,_0x506260);_0x2b7f28=new Date(_0x506260[_0x5dbb14(0x18d)]()+_0x21284a)[_0x5dbb14(0x18c)]();}}catch(_0x1f40d1){console[_0x5dbb14(0x1cf)](_0x1f40d1);}}_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1cd)]&&(_0x1892c0[_0x5dbb14(0x1cd)]=_0x14310a[_0x5dbb14(0x1d2)][_0x5dbb14(0x1cd)]);}return _0x1892c0[_0x5dbb14(0x1df)]=_0x48afaa,_0x1892c0[_0x5dbb14(0x184)]=_0x3450bc,photoIndexUtil['addOriginalDate'](_0x387f08,_0x2b7f28,_0x1892c0);}catch(_0x1bba96){return photoIndexUtil['addOriginalDate'](_0x387f08,_0x2b7f28,_0x1892c0);}}else{if(_0x1892c0[_0x5dbb14(0x1d7)]==0x1)return;return photoIndexUtil['addOriginalDate'](_0x387f08,_0x2b7f28,_0x1892c0);}}},photoIndexUtil[_0x4bcb41(0x1e8)]=async function(_0x4f5c2e,_0x177e57,_0xd242ce){const _0x60b081=_0x4bcb41;await indexUtil[_0x60b081(0x1e8)](_0x4f5c2e,_0x177e57,_0xd242ce,indexTableName,photoIndexUtil[_0x60b081(0x1bb)],photoIndexUtil[_0x60b081(0x19e)],(_0x11a7e1,_0xfd082d)=>{const _0x47c62d=_0x60b081;console[_0x47c62d(0x1cf)](_0x47c62d(0x1eb),_0xfd082d),_0xfd082d&&_0xfd082d[_0x47c62d(0x1c5)]>0x0&&photoIndexUtil[_0x47c62d(0x1a6)](_0x4f5c2e,_0x11a7e1);});},photoIndexUtil[_0x4bcb41(0x191)]=function(_0x3f766b,_0xa5110a,_0x3c8bd5){const _0x1034ad=_0x4bcb41;_0xa5110a&&_0xa5110a<config[_0x1034ad(0x1fa)]&&(_0xa5110a=![]);(!_0xa5110a||_0xa5110a==_0x1034ad(0x1b3)||_0xa5110a=='Nan'||_0xa5110a==_0x1034ad(0x1b3)||_0xa5110a=='Null')&&(_0xa5110a=_0x3c8bd5[_0x1034ad(0x1af)]||_0x3c8bd5[_0x1034ad(0x1fc)]);let _0x305a24=new Date(_0xa5110a);_0x3c8bd5['original_time']=_0x305a24[_0x1034ad(0x18d)]();let _0x180c6a=_0x305a24[_0x1034ad(0x1ed)](),_0x12deb7=_0x305a24[_0x1034ad(0x1db)]()+0x1;_0x12deb7=_0x12deb7>=0xa?_0x12deb7:'0'+_0x12deb7;let _0x5e4326=_0x305a24[_0x1034ad(0x1bc)]();_0x5e4326=_0x5e4326>=0xa?_0x5e4326:'0'+_0x5e4326,_0x3c8bd5[_0x1034ad(0x1f7)]=_0x180c6a+'-'+_0x12deb7+'-'+_0x5e4326;_0x3c8bd5[_0x1034ad(0x1df)]&&_0x3c8bd5[_0x1034ad(0x184)]&&(_0x3c8bd5[_0x1034ad(0x18a)]=geohash[_0x1034ad(0x1b1)](_0x3c8bd5['latitude'],_0x3c8bd5[_0x1034ad(0x184)],0x8),_0x3c8bd5['geohash5']=_0x3c8bd5['geohash'][_0x1034ad(0x1c8)](0x0,0x5),_0x3c8bd5[_0x1034ad(0x1c2)]=_0x3c8bd5['geohash'][_0x1034ad(0x1c8)](0x0,0x4),_0x3c8bd5[_0x1034ad(0x193)]=_0x3c8bd5[_0x1034ad(0x18a)][_0x1034ad(0x1c8)](0x0,0x3),_0x3c8bd5[_0x1034ad(0x183)]=_0x3c8bd5[_0x1034ad(0x18a)][_0x1034ad(0x1c8)](0x0,0x2));let _0x173a19=dbFileIndexTable[_0x1034ad(0x1ae)](_0x3f766b,_0x3c8bd5,indexTableName);if(_0x173a19&&_0x173a19[_0x1034ad(0x1aa)]){let _0x189458=dbFileIndexTable[_0x1034ad(0x18e)](_0x3f766b,_0x173a19['lastInsertRowid'],indexTableName);_0x189458&&(photoIndexUtil[_0x1034ad(0x1d0)](_0x3c8bd5)&&photoIndexUtil[_0x1034ad(0x186)](_0x3f766b,_0x189458),photoIndexUtil[_0x1034ad(0x1d6)](_0x3f766b,_0x189458));}},photoIndexUtil[_0x4bcb41(0x1d6)]=function(_0x47d5c7,_0x3ce547){const _0x228f6c=_0x4bcb41;try{if(!_0x3ce547||!_0x3ce547[_0x228f6c(0x181)]||_0x3ce547[_0x228f6c(0x1d7)]!=0x1||!_0x3ce547[_0x228f6c(0x1e3)]||_0x3ce547['type']!=0x1||!_0x3ce547['filename'])return;let _0x40afd3=_0x3ce547[_0x228f6c(0x1b7)]['lastIndexOf'](_0x3ce547['ext']),_0x384fe8=_0x3ce547['filename'][_0x228f6c(0x188)](0x0,_0x40afd3),_0x5139ed=_0x3ce547[_0x228f6c(0x1e3)]-0xc*0x3c*0x3c*0x3e9,_0x46f960=_0x3ce547[_0x228f6c(0x1e3)]+0xc*0x3c*0x3c*0x3e9,_0x51f25e=_0x228f6c(0x1fe)+_0x3ce547[_0x228f6c(0x187)]+_0x228f6c(0x1f3)+_0x5139ed+'\x20AND\x20\x20'+_0x46f960+_0x228f6c(0x180),_0x27c8d7=_0x47d5c7[_0x228f6c(0x1ee)](_0x51f25e)[_0x228f6c(0x1d9)](_0x3ce547[_0x228f6c(0x1c0)],_0x384fe8+'.%');if(_0x27c8d7){let _0x75df44,_0x554096;if(_0x3ce547[_0x228f6c(0x187)]==0x1)_0x75df44=_0x3ce547,_0x554096=_0x27c8d7;else _0x3ce547['is_raw']==0x0&&(_0x554096=_0x3ce547,_0x75df44=_0x27c8d7);_0x75df44&&_0x554096&&(dbFileIndexTable[_0x228f6c(0x19f)](_0x47d5c7,_0x75df44['id'],_0x228f6c(0x1ce),'0'),dbFileIndexTable[_0x228f6c(0x19f)](_0x47d5c7,_0x554096['id'],_0x228f6c(0x1c4),_0x75df44['filename']));}}catch(_0x1496a0){console[_0x228f6c(0x1cf)](_0x1496a0);}},photoIndexUtil['needDealLivePhotoState']=function(_0x5806bf){const _0x413fa8=_0x4bcb41;if(_0x5806bf[_0x413fa8(0x1d7)]!=0x1)return![];if(!_0x5806bf[_0x413fa8(0x1e3)])return![];let _0x5c09df=_0x5806bf[_0x413fa8(0x181)];if(!_0x5c09df)return![];_0x5c09df=_0x5c09df[_0x413fa8(0x1b6)]();if(_0x5806bf[_0x413fa8(0x1ff)]==0x1){if(_0x5c09df!=_0x413fa8(0x1bf)&&_0x5c09df!=_0x413fa8(0x19b)&&_0x5c09df!=_0x413fa8(0x1f1)&&_0x5c09df!=_0x413fa8(0x1a8))return![];}else{if(_0x5806bf[_0x413fa8(0x1ff)]==0x2){if(!_0x5806bf[_0x413fa8(0x1cd)]||_0x5806bf['duration']=='undefined'||_0x5806bf[_0x413fa8(0x1cd)]>0x4)return![];if(_0x5c09df!=_0x413fa8(0x1ab)&&_0x5c09df!=_0x413fa8(0x1e9))return![];}}return!![];},photoIndexUtil[_0x4bcb41(0x1f4)]=function(_0x4dfff1,_0x1df07f){const _0x45144e=_0x4bcb41;let _0x29b49a=_0x1df07f[_0x45144e(0x1b7)]['replace'](_0x1df07f[_0x45144e(0x181)],''),_0x14e6d1=_0x1df07f[_0x45144e(0x1e3)]-0xc*0x3c*0x3c*0x3e9,_0x5cb260=_0x1df07f[_0x45144e(0x1e3)]+0xc*0x3c*0x3c*0x3e9,_0x229616=_0x45144e(0x1a1),_0x1c3b5d='',_0x3bd5ca='\x20and\x20original_time\x20BETWEEN\x20'+_0x14e6d1+'\x20AND\x20\x20'+_0x5cb260;if(_0x1df07f['type']==0x1)_0x1c3b5d=_0x45144e(0x1d4)+_0x29b49a+'.mp4\x27\x20or\x20filename\x20=\x20\x27'+_0x29b49a+_0x45144e(0x189)+_0x29b49a+_0x45144e(0x1e6)+_0x29b49a+_0x45144e(0x1c6);else _0x1df07f['type']==0x2&&(_0x1c3b5d=_0x45144e(0x1d4)+_0x29b49a+_0x45144e(0x1ea)+_0x29b49a+_0x45144e(0x194)+_0x29b49a+_0x45144e(0x1a9)+_0x29b49a+_0x45144e(0x185)+_0x29b49a+_0x45144e(0x1d5));let _0x2c9945=_0x229616+_0x1c3b5d+_0x3bd5ca,_0x857c6d=_0x4dfff1['prepare'](_0x2c9945)['get'](_0x1df07f[_0x45144e(0x1c0)]);return _0x857c6d;},photoIndexUtil[_0x4bcb41(0x1a6)]=function(_0xe6125d,_0x237a6b){const _0x5ca9c7=_0x4bcb41;if(!_0x237a6b)return;if(_0x237a6b[_0x5ca9c7(0x1e1)]==0x1){if(!photoIndexUtil['needDealLivePhotoState'](_0x237a6b))return;let _0x4d2e14=photoIndexUtil[_0x5ca9c7(0x1f4)](_0xe6125d,_0x237a6b);_0x4d2e14&&(console[_0x5ca9c7(0x1cf)](_0x5ca9c7(0x196)),_0xe6125d['prepare'](_0x5ca9c7(0x190)+_0x4d2e14['id'])[_0x5ca9c7(0x1f9)]());}if(_0x237a6b[_0x5ca9c7(0x187)]==0x1)console['log'](_0x5ca9c7(0x1cb)),_0xe6125d[_0x5ca9c7(0x1ee)](_0x5ca9c7(0x1a3))[_0x5ca9c7(0x1f9)](_0x237a6b[_0x5ca9c7(0x1c0)],_0x237a6b[_0x5ca9c7(0x1b7)]);else _0x237a6b[_0x5ca9c7(0x187)]==0x0&&_0x237a6b[_0x5ca9c7(0x1c4)]!=null&&_0x237a6b[_0x5ca9c7(0x1c4)]!=''&&_0xe6125d[_0x5ca9c7(0x1ee)](_0x5ca9c7(0x1b2))[_0x5ca9c7(0x1f9)](_0x237a6b['path'],_0x237a6b[_0x5ca9c7(0x1c4)]);},photoIndexUtil['setLivePhotoStateOnAddPhotoIndex']=function(_0x9f1982,_0x19973e){const _0x367ebd=_0x4bcb41;if(!photoIndexUtil[_0x367ebd(0x1d0)](_0x19973e))return;let _0x26d394=photoIndexUtil[_0x367ebd(0x1f4)](_0x9f1982,_0x19973e);if(_0x26d394){if(_0x19973e[_0x367ebd(0x1ff)]==0x1)_0x9f1982[_0x367ebd(0x1ee)](_0x367ebd(0x1e4)+_0x19973e['id'])[_0x367ebd(0x1f9)](),_0x9f1982[_0x367ebd(0x1ee)](_0x367ebd(0x1ac)+_0x26d394['id'])['run']();else _0x19973e[_0x367ebd(0x1ff)]==0x2&&(_0x9f1982[_0x367ebd(0x1ee)](_0x367ebd(0x1ac)+_0x19973e['id'])[_0x367ebd(0x1f9)](),_0x9f1982[_0x367ebd(0x1ee)](_0x367ebd(0x1e4)+_0x26d394['id'])[_0x367ebd(0x1f9)]());}},module[_0x4bcb41(0x1ef)]=photoIndexUtil;function _0x5647(){const _0x26cf7e=['.jpg\x27\x20\x20or\x20filename\x20=\x20\x27','setLivePhotoStateOnAddPhotoIndex','is_raw','substring','.MP4\x27\x20\x20or\x20filename\x20=\x20\x27','geohash','1432017EBcbsD','toLocaleString','getTime','getById','location-eng','UPDATE\x20file_index_photo\x20SET\x20is_livephoto=0,is_show=1\x20WHERE\x20id=','addOriginalDate','674700HeaUqQ','geohash3','.HEIC\x27\x20\x20or\x20filename\x20=\x20\x27','../../db/dbFileIndexTable','恢复livephoto配对状态','parseVideoWH','852148mIlpqt','31340Fenbhf','getDurationFromStream','.HEIC','imgTypeList','atimeMs','recursionFilesAddIndex','updateById','videoWidth','SELECT\x20id\x20FROM\x20file_index_photo\x20WHERE\x20path=?\x20and\x20is_file=1\x20and','stringify','UPDATE\x20file_index_photo\x20SET\x20raw_filename=null\x20WHERE\x20path=?\x20AND\x20raw_filename\x20=?\x20','INDEX_TABLE_NAME_PHOTO','438920cwyHzy','setLivePhotoAndRawStateOnDeletePhotoIndex','ctimeMs','.HEIF','.heic\x27\x20\x20or\x20filename\x20=\x20\x27','lastInsertRowid','.MOV','UPDATE\x20file_index_photo\x20SET\x20is_livephoto=1,is_show=1\x20WHERE\x20id=','6XzjWOr','create','birthtime','1zHSUmn','encode','UPDATE\x20file_index_photo\x20SET\x20is_show=1\x20WHERE\x20path=?\x20AND\x20filename\x20=?','NaN','toLowerCase','./indexUtil','toUpperCase','filename','com.apple.quicktime.model','mode','birthtimeMs','addFileIndexToDb','getDate','error','../../utils/videoStreamUtil','.JPG','path','photo','geohash4','com.apple.quicktime.creationdate','raw_filename','changes','.MOV\x27)','win32','substr','531VJxgLE','rawImgTypeList','删除的是raw\x20把引用了自己文件名作为raw_filename的jpg文件恢复','1696368fkuSfU','duration','is_show','log','needDealLivePhotoState','ceil','format','creation_time','(filename\x20=\x20\x27','.JPEG\x27)','setPhotoRawFileNameAndState','is_file','com.apple.quicktime.location.ISO6709','get','height','getMonth','563846dvSHuV','push','dealMediaInfo','latitude','63Hcmtcf','is_livephoto','../../myConfig/config','original_time','UPDATE\x20file_index_photo\x20SET\x20is_livephoto=1,is_show=0\x20WHERE\x20id=','replace','.mov\x27\x20\x20or\x20filename\x20=\x20\x27','mtimeMs','dealFileChange','.MP4','.JPG\x27\x20or\x20filename\x20=\x20\x27','索引删除回调','tags','getFullYear','prepare','exports','extname','.JPEG','getExifInfo','\x20AND\x20original_time\x20BETWEEN\x20','getLivePhotoPartnerIndex','UTC','videoHeight','original_date','com.android.version','run','exifMinTimeStamp','length','ctime','en-US','SELECT\x20*\x20FROM\x20file_index_photo\x20WHERE\x20path=?\x20AND\x20filename\x20LIKE\x20?\x20AND\x20type=1\x20AND\x20is_file=1\x20AND\x20is_raw!=','type','originalTime','videoTypeList','streams','\x20LIMIT\x201','ext','includes','geohash2','longitude'];_0x5647=function(){return _0x26cf7e;};return _0x5647();}