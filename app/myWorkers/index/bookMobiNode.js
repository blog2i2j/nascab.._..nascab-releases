function _0x17e1(_0x13eca6,_0x1e39ab){const _0x408972=_0x4089();return _0x17e1=function(_0x17e188,_0x4c679b){_0x17e188=_0x17e188-0x15d;let _0xa593f=_0x408972[_0x17e188];return _0xa593f;},_0x17e1(_0x13eca6,_0x1e39ab);}const _0x23f924=_0x17e1;(function(_0x206fda,_0x414623){const _0x5a7a6a=_0x17e1,_0x2eb2e6=_0x206fda();while(!![]){try{const _0x2ed9cd=parseInt(_0x5a7a6a(0x20a))/0x1+-parseInt(_0x5a7a6a(0x1d7))/0x2*(parseInt(_0x5a7a6a(0x216))/0x3)+parseInt(_0x5a7a6a(0x1d9))/0x4*(parseInt(_0x5a7a6a(0x201))/0x5)+-parseInt(_0x5a7a6a(0x170))/0x6*(-parseInt(_0x5a7a6a(0x25a))/0x7)+parseInt(_0x5a7a6a(0x15d))/0x8+-parseInt(_0x5a7a6a(0x227))/0x9+parseInt(_0x5a7a6a(0x1be))/0xa;if(_0x2ed9cd===_0x414623)break;else _0x2eb2e6['push'](_0x2eb2e6['shift']());}catch(_0x22b9dd){_0x2eb2e6['push'](_0x2eb2e6['shift']());}}}(_0x4089,0xcc0b4));const unescapeHTML=_0x1b3db8=>{if(!_0x1b3db8)return'';},MIME={'XML':_0x23f924(0x161),'XHTML':_0x23f924(0x19c),'HTML':_0x23f924(0x186),'CSS':_0x23f924(0x239),'SVG':_0x23f924(0x200)},PDB_HEADER={'name':[0x0,0x20,'string'],'type':[0x3c,0x4,_0x23f924(0x238)],'creator':[0x40,0x4,_0x23f924(0x238)],'numRecords':[0x4c,0x2,_0x23f924(0x1f0)]},PALMDOC_HEADER={'compression':[0x0,0x2,'uint'],'numTextRecords':[0x8,0x2,'uint'],'recordSize':[0xa,0x2,_0x23f924(0x1f0)],'encryption':[0xc,0x2,_0x23f924(0x1f0)]},MOBI_HEADER={'magic':[0x10,0x4,_0x23f924(0x238)],'length':[0x14,0x4,'uint'],'type':[0x18,0x4,_0x23f924(0x1f0)],'encoding':[0x1c,0x4,_0x23f924(0x1f0)],'uid':[0x20,0x4,_0x23f924(0x1f0)],'version':[0x24,0x4,'uint'],'titleOffset':[0x54,0x4,_0x23f924(0x1f0)],'titleLength':[0x58,0x4,'uint'],'localeRegion':[0x5e,0x1,_0x23f924(0x1f0)],'localeLanguage':[0x5f,0x1,'uint'],'resourceStart':[0x6c,0x4,'uint'],'huffcdic':[0x70,0x4,'uint'],'numHuffcdic':[0x74,0x4,_0x23f924(0x1f0)],'exthFlag':[0x80,0x4,'uint'],'trailingFlags':[0xf0,0x4,_0x23f924(0x1f0)],'indx':[0xf4,0x4,_0x23f924(0x1f0)]},KF8_HEADER={'resourceStart':[0x6c,0x4,'uint'],'fdst':[0xc0,0x4,_0x23f924(0x1f0)],'numFdst':[0xc4,0x4,_0x23f924(0x1f0)],'frag':[0xf8,0x4,_0x23f924(0x1f0)],'skel':[0xfc,0x4,_0x23f924(0x1f0)],'guide':[0x104,0x4,_0x23f924(0x1f0)]},EXTH_HEADER={'magic':[0x0,0x4,'string'],'length':[0x4,0x4,_0x23f924(0x1f0)],'count':[0x8,0x4,'uint']},INDX_HEADER={'magic':[0x0,0x4,'string'],'length':[0x4,0x4,_0x23f924(0x1f0)],'type':[0x8,0x4,_0x23f924(0x1f0)],'idxt':[0x14,0x4,'uint'],'numRecords':[0x18,0x4,_0x23f924(0x1f0)],'encoding':[0x1c,0x4,'uint'],'language':[0x20,0x4,_0x23f924(0x1f0)],'total':[0x24,0x4,_0x23f924(0x1f0)],'ordt':[0x28,0x4,'uint'],'ligt':[0x2c,0x4,'uint'],'numLigt':[0x30,0x4,_0x23f924(0x1f0)],'numCncx':[0x34,0x4,_0x23f924(0x1f0)]},TAGX_HEADER={'magic':[0x0,0x4,_0x23f924(0x238)],'length':[0x4,0x4,_0x23f924(0x1f0)],'numControlBytes':[0x8,0x4,_0x23f924(0x1f0)]},HUFF_HEADER={'magic':[0x0,0x4,_0x23f924(0x238)],'offset1':[0x8,0x4,'uint'],'offset2':[0xc,0x4,_0x23f924(0x1f0)]},CDIC_HEADER={'magic':[0x0,0x4,_0x23f924(0x238)],'length':[0x4,0x4,_0x23f924(0x1f0)],'numEntries':[0x8,0x4,'uint'],'codeLength':[0xc,0x4,_0x23f924(0x1f0)]},FDST_HEADER={'magic':[0x0,0x4,_0x23f924(0x238)],'numEntries':[0x8,0x4,_0x23f924(0x1f0)]},FONT_HEADER={'flags':[0x8,0x4,_0x23f924(0x1f0)],'dataStart':[0xc,0x4,_0x23f924(0x1f0)],'keyLength':[0x10,0x4,_0x23f924(0x1f0)],'keyStart':[0x14,0x4,_0x23f924(0x1f0)]},MOBI_ENCODING={0x4e4:_0x23f924(0x250),0xfde9:_0x23f924(0x1c2)},EXTH_RECORD_TYPE={0x64:[_0x23f924(0x1fe),_0x23f924(0x238),!![]],0x65:[_0x23f924(0x1e2)],0x67:[_0x23f924(0x22d)],0x68:[_0x23f924(0x223)],0x69:[_0x23f924(0x1e5),_0x23f924(0x238),!![]],0x6a:[_0x23f924(0x219)],0x6c:[_0x23f924(0x18b),_0x23f924(0x238),!![]],0x6d:[_0x23f924(0x215)],0x6e:[_0x23f924(0x25c),_0x23f924(0x238),!![]],0x70:[_0x23f924(0x222),_0x23f924(0x238),!![]],0x71:[_0x23f924(0x23d)],0x79:[_0x23f924(0x230),_0x23f924(0x1f0)],0x7a:[_0x23f924(0x178)],0x7d:[_0x23f924(0x190),'uint'],0x7e:[_0x23f924(0x20d)],0x7f:[_0x23f924(0x1a2)],0x80:['zeroMargin'],0x81:[_0x23f924(0x225)],0x84:[_0x23f924(0x183)],0xc9:['coverOffset',_0x23f924(0x1f0)],0xca:[_0x23f924(0x268),_0x23f924(0x1f0)],0x1f7:[_0x23f924(0x24e)],0x20c:[_0x23f924(0x17d),_0x23f924(0x238),!![]],0x20f:[_0x23f924(0x1e9)]},MOBI_LANG={0x1:['ar',_0x23f924(0x23e),_0x23f924(0x1ab),_0x23f924(0x242),_0x23f924(0x187),'ar-DZ',_0x23f924(0x224),'ar-TN','ar-OM',_0x23f924(0x176),'ar-SY',_0x23f924(0x1aa),_0x23f924(0x1ec),_0x23f924(0x1ef),'ar-AE',_0x23f924(0x1dc),_0x23f924(0x1c9)],0x2:['bg'],0x3:['ca'],0x4:['zh',_0x23f924(0x263),_0x23f924(0x1dd),'zh-HK',_0x23f924(0x19a)],0x5:['cs'],0x6:['da'],0x7:['de','de-DE',_0x23f924(0x231),'de-AT',_0x23f924(0x18f),_0x23f924(0x246)],0x8:['el'],0x9:['en',_0x23f924(0x168),_0x23f924(0x24f),_0x23f924(0x172),_0x23f924(0x220),_0x23f924(0x212),_0x23f924(0x163),_0x23f924(0x180),_0x23f924(0x259),null,_0x23f924(0x17a),_0x23f924(0x1ce),_0x23f924(0x23f),_0x23f924(0x198)],0xa:['es',_0x23f924(0x169),_0x23f924(0x1b3),null,_0x23f924(0x162),_0x23f924(0x1f2),_0x23f924(0x19b),_0x23f924(0x252),_0x23f924(0x255),_0x23f924(0x1a6),'es-PE',_0x23f924(0x23c),_0x23f924(0x182),_0x23f924(0x236),_0x23f924(0x16e),_0x23f924(0x181),_0x23f924(0x1c6),_0x23f924(0x1f9),_0x23f924(0x1e8),_0x23f924(0x210),_0x23f924(0x1c0)],0xb:['fi'],0xc:['fr',_0x23f924(0x17c),_0x23f924(0x24c),'fr-CA',_0x23f924(0x229),_0x23f924(0x1de),'fr-MC'],0xd:['he'],0xe:['hu'],0xf:['is'],0x10:['it',_0x23f924(0x1d3),'it-CH'],0x11:['ja'],0x12:['ko'],0x13:['nl',_0x23f924(0x244),_0x23f924(0x1b2)],0x14:['no','nb','nn'],0x15:['pl'],0x16:['pt',_0x23f924(0x261),_0x23f924(0x264)],0x17:['rm'],0x18:['ro'],0x19:['ru'],0x1a:['hr',null,'sr'],0x1b:['sk'],0x1c:['sq'],0x1d:['sv','sv-SE','sv-FI'],0x1e:['th'],0x1f:['tr'],0x20:['ur'],0x21:['id'],0x22:['uk'],0x23:['be'],0x24:['sl'],0x25:['et'],0x26:['lv'],0x27:['lt'],0x29:['fa'],0x2a:['vi'],0x2b:['hy'],0x2c:['az'],0x2d:['eu'],0x2e:['hsb'],0x2f:['mk'],0x30:['st'],0x31:['ts'],0x32:['tn'],0x34:['xh'],0x35:['zu'],0x36:['af'],0x37:['ka'],0x38:['fo'],0x39:['hi'],0x3a:['mt'],0x3b:['se'],0x3e:['ms'],0x3f:['kk'],0x41:['sw'],0x43:['uz',null,_0x23f924(0x20b)],0x44:['tt'],0x45:['bn'],0x46:['pa'],0x47:['gu'],0x48:['or'],0x49:['ta'],0x4a:['te'],0x4b:['kn'],0x4c:['ml'],0x4d:['as'],0x4e:['mr'],0x4f:['sa'],0x52:['cy',_0x23f924(0x265)],0x53:['gl','gl-ES'],0x57:[_0x23f924(0x233)],0x61:['ne'],0x62:['fy']},concatTypedArray=(_0x184a92,_0x359a8c)=>{const _0x27b43d=_0x23f924,_0xbc012f=new _0x184a92[(_0x27b43d(0x21e))](_0x184a92[_0x27b43d(0x1c1)]+_0x359a8c[_0x27b43d(0x1c1)]);return _0xbc012f['set'](_0x184a92),_0xbc012f[_0x27b43d(0x191)](_0x359a8c,_0x184a92[_0x27b43d(0x1c1)]),_0xbc012f;},concatTypedArray3=(_0x337390,_0x4b59bb,_0x491ba8)=>{const _0x5476b4=_0x23f924,_0x26adc2=new _0x337390['constructor'](_0x337390[_0x5476b4(0x1c1)]+_0x4b59bb[_0x5476b4(0x1c1)]+_0x491ba8['length']);return _0x26adc2['set'](_0x337390),_0x26adc2[_0x5476b4(0x191)](_0x4b59bb,_0x337390[_0x5476b4(0x1c1)]),_0x26adc2[_0x5476b4(0x191)](_0x491ba8,_0x337390[_0x5476b4(0x1c1)]+_0x4b59bb[_0x5476b4(0x1c1)]),_0x26adc2;},decoder=new TextDecoder(),getString=function(_0x16ab86){return decoder['decode'](_0x16ab86);},getUint=function(_0x1725e5){const _0x453d68=_0x23f924;if(!_0x1725e5)return;const _0x4e6570=_0x1725e5[_0x453d68(0x1cf)],_0x1f2ad6=_0x4e6570===0x4?_0x453d68(0x1f7):_0x4e6570===0x2?_0x453d68(0x197):'getUint8';return new DataView(_0x1725e5)[_0x1f2ad6](0x0);},getStruct=function(_0x20b3ed,_0x57aff0){const _0x58a88c=_0x23f924;return Object[_0x58a88c(0x1d8)](Array['from'](Object[_0x58a88c(0x1d4)](_0x20b3ed))[_0x58a88c(0x194)](([_0x3a2c3f,[_0x46fc4d,_0x598f86,_0x5ed161]])=>[_0x3a2c3f,(_0x5ed161===_0x58a88c(0x238)?getString:getUint)(_0x57aff0[_0x58a88c(0x17e)](_0x46fc4d,_0x46fc4d+_0x598f86))]));},getDecoder=_0x19fab9=>new TextDecoder(MOBI_ENCODING[_0x19fab9]),getVarLen=(_0x131322,_0x42b2a7=0x0)=>{const _0x464ef8=_0x23f924;let _0x5c8f55=0x0,_0x28248c=0x0;for(const _0x6b97f9 of _0x131322[_0x464ef8(0x1a0)](_0x42b2a7,_0x42b2a7+0x4)){_0x5c8f55=_0x5c8f55<<0x7|(_0x6b97f9&0x7f)>>>0x0,_0x28248c++;if(_0x6b97f9&0x80)break;}return{'value':_0x5c8f55,'length':_0x28248c};},getVarLenFromEnd=_0x25740e=>{const _0x408205=_0x23f924;let _0x402c16=0x0;for(const _0x4caede of _0x25740e[_0x408205(0x1a0)](-0x4)){if(_0x4caede&0x80)_0x402c16=0x0;_0x402c16=_0x402c16<<0x7|_0x4caede&0x7f;}return _0x402c16;},countBitsSet=_0x154db8=>{let _0x1800cc=0x0;for(;_0x154db8>0x0;_0x154db8=_0x154db8>>0x1)if((_0x154db8&0x1)===0x1)_0x1800cc++;return _0x1800cc;},countUnsetEnd=_0x2e6f36=>{let _0x4f09ea=0x0;while((_0x2e6f36&0x1)===0x0)_0x2e6f36=_0x2e6f36>>0x1,_0x4f09ea++;return _0x4f09ea;},decompressPalmDOC=_0x1e706d=>{const _0x238f5d=_0x23f924;let _0x53f0cc=[];for(let _0x24b516=0x0;_0x24b516<_0x1e706d[_0x238f5d(0x1c1)];_0x24b516++){const _0x5ad17e=_0x1e706d[_0x24b516];if(_0x5ad17e===0x0)_0x53f0cc[_0x238f5d(0x203)](0x0);else{if(_0x5ad17e<=0x8){for(const _0x1a06de of _0x1e706d[_0x238f5d(0x1a0)](_0x24b516+0x1,(_0x24b516+=_0x5ad17e)+0x1))_0x53f0cc[_0x238f5d(0x203)](_0x1a06de);}else{if(_0x5ad17e<=0x7f)_0x53f0cc[_0x238f5d(0x203)](_0x5ad17e);else{if(_0x5ad17e<=0xbf){const _0x194584=_0x5ad17e<<0x8|_0x1e706d[_0x24b516++ +0x1],_0x5de583=(_0x194584&0x3fff)>>>0x3,_0xa6310c=(_0x194584&0x7)+0x3;for(let _0x38c44f=0x0;_0x38c44f<_0xa6310c;_0x38c44f++)_0x53f0cc['push'](_0x53f0cc[_0x53f0cc[_0x238f5d(0x1c1)]-_0x5de583]);}else _0x53f0cc[_0x238f5d(0x203)](0x20,_0x5ad17e^0x80);}}}}return Uint8Array[_0x238f5d(0x19e)](_0x53f0cc);},read32Bits=(_0x1adbcc,_0x48109d)=>{const _0x290c5b=_0x48109d>>0x3,_0xcc7021=_0x48109d+0x20,_0x5adc93=_0xcc7021>>0x3;let _0x39d6a6=0x0n;for(let _0x3c71b5=_0x290c5b;_0x3c71b5<=_0x5adc93;_0x3c71b5++)_0x39d6a6=_0x39d6a6<<0x8n|BigInt(_0x1adbcc[_0x3c71b5]??0x0);return _0x39d6a6>>0x8n-BigInt(_0xcc7021&0x7)&0xffffffffn;},huffcdic=async(_0x33bd88,_0x37ce0f)=>{const _0x57bbb8=_0x23f924,_0x293ced=await _0x37ce0f(_0x33bd88[_0x57bbb8(0x192)]),{magic:_0x553c22,offset1:_0x4d243a,offset2:_0x43ebcb}=getStruct(HUFF_HEADER,_0x293ced);if(_0x553c22!==_0x57bbb8(0x23b))throw new Error(_0x57bbb8(0x20e));const _0x4a77e5=Array['from']({'length':0x100},(_0x46d8e4,_0x1a1966)=>_0x4d243a+_0x1a1966*0x4)[_0x57bbb8(0x194)](_0x2bfa97=>getUint(_0x293ced['slice'](_0x2bfa97,_0x2bfa97+0x4)))[_0x57bbb8(0x194)](_0x11e882=>[_0x11e882&0x80,_0x11e882&0x1f,_0x11e882>>>0x8]),_0x1e7b8c=[null]['concat'](Array[_0x57bbb8(0x19e)]({'length':0x20},(_0x23965e,_0x4a81a2)=>_0x43ebcb+_0x4a81a2*0x8)[_0x57bbb8(0x194)](_0x2e748d=>[getUint(_0x293ced['slice'](_0x2e748d,_0x2e748d+0x4)),getUint(_0x293ced[_0x57bbb8(0x17e)](_0x2e748d+0x4,_0x2e748d+0x8))])),_0x29e2fa=[];for(let _0xa45c90=0x1;_0xa45c90<_0x33bd88[_0x57bbb8(0x17b)];_0xa45c90++){const _0x1cd6a9=await _0x37ce0f(_0x33bd88[_0x57bbb8(0x192)]+_0xa45c90),_0x18ea0a=getStruct(CDIC_HEADER,_0x1cd6a9);if(_0x18ea0a[_0x57bbb8(0x1d6)]!==_0x57bbb8(0x21b))throw new Error(_0x57bbb8(0x234));const _0xbe08e2=Math[_0x57bbb8(0x24d)](0x1<<_0x18ea0a['codeLength'],_0x18ea0a[_0x57bbb8(0x1f8)]-_0x29e2fa[_0x57bbb8(0x1c1)]),_0x1b6891=_0x1cd6a9['slice'](_0x18ea0a[_0x57bbb8(0x1c1)]);for(let _0x3eced9=0x0;_0x3eced9<_0xbe08e2;_0x3eced9++){const _0x2468e4=getUint(_0x1b6891[_0x57bbb8(0x17e)](_0x3eced9*0x2,_0x3eced9*0x2+0x2)),_0x39df99=getUint(_0x1b6891[_0x57bbb8(0x17e)](_0x2468e4,_0x2468e4+0x2)),_0x5dc9e7=_0x39df99&0x7fff,_0x578c7e=_0x39df99&0x8000,_0x4737a0=new Uint8Array(_0x1b6891[_0x57bbb8(0x17e)](_0x2468e4+0x2,_0x2468e4+0x2+_0x5dc9e7));_0x29e2fa[_0x57bbb8(0x203)]([_0x4737a0,_0x578c7e]);}}const _0xffa93=_0x133db4=>{const _0x211daf=_0x57bbb8;let _0x35ac59=new Uint8Array();const _0x372023=_0x133db4[_0x211daf(0x1cf)]*0x8;for(let _0x4243e0=0x0;_0x4243e0<_0x372023;){const _0x36e7f1=Number(read32Bits(_0x133db4,_0x4243e0));let [_0x295a73,_0x32c77e,_0x224207]=_0x4a77e5[_0x36e7f1>>>0x18];if(!_0x295a73){while(_0x36e7f1>>>0x20-_0x32c77e<_0x1e7b8c[_0x32c77e][0x0])_0x32c77e+=0x1;_0x224207=_0x1e7b8c[_0x32c77e][0x1];}if((_0x4243e0+=_0x32c77e)>_0x372023)break;const _0xa1754a=_0x224207-(_0x36e7f1>>>0x20-_0x32c77e);let [_0x12ee9e,_0xacbeb1]=_0x29e2fa[_0xa1754a];!_0xacbeb1&&(_0x12ee9e=_0xffa93(_0x12ee9e),_0x29e2fa[_0xa1754a]=[_0x12ee9e,!![]]),_0x35ac59=concatTypedArray(_0x35ac59,_0x12ee9e);}return _0x35ac59;};return _0xffa93;},getIndexData=async(_0x1c0ea8,_0x1d2ea3)=>{const _0x4382bd=_0x23f924,_0x100cd0=await _0x1d2ea3(_0x1c0ea8),_0x52f401=getStruct(INDX_HEADER,_0x100cd0);if(_0x52f401[_0x4382bd(0x1d6)]!==_0x4382bd(0x1ad))throw new Error('Invalid\x20INDX\x20record');const _0x23ea7a=getDecoder(_0x52f401[_0x4382bd(0x1bf)]),_0x364ce6=_0x100cd0[_0x4382bd(0x17e)](_0x52f401[_0x4382bd(0x1c1)]),_0x39f468=getStruct(TAGX_HEADER,_0x364ce6);if(_0x39f468[_0x4382bd(0x1d6)]!=='TAGX')throw new Error('Invalid\x20TAGX\x20section');const _0x52601c=(_0x39f468['length']-0xc)/0x4,_0x145112=Array[_0x4382bd(0x19e)]({'length':_0x52601c},(_0x163ef3,_0x14f5d7)=>new Uint8Array(_0x364ce6['slice'](0xc+_0x14f5d7*0x4,0xc+_0x14f5d7*0x4+0x4))),_0x1a3c2f={};let _0x54ea66=0x0;for(let _0x2de6de=0x0;_0x2de6de<_0x52f401[_0x4382bd(0x1ed)];_0x2de6de++){const _0x4a3a6f=await _0x1d2ea3(_0x1c0ea8+_0x52f401[_0x4382bd(0x1e7)]+_0x2de6de+0x1),_0x40e18d=new Uint8Array(_0x4a3a6f);for(let _0x352c02=0x0;_0x352c02<_0x40e18d[_0x4382bd(0x1cf)];){const _0x3a2bec=_0x352c02,{value:_0x15fe4b,length:_0x438a63}=getVarLen(_0x40e18d,_0x352c02);_0x352c02+=_0x438a63;const _0x4d1e94=_0x4a3a6f[_0x4382bd(0x17e)](_0x352c02,_0x352c02+_0x15fe4b);_0x352c02+=_0x15fe4b,_0x1a3c2f[_0x54ea66+_0x3a2bec]=_0x23ea7a['decode'](_0x4d1e94);}_0x54ea66+=0x10000;}const _0x20ac2a=[];for(let _0x5196fc=0x0;_0x5196fc<_0x52f401['numRecords'];_0x5196fc++){const _0x465604=await _0x1d2ea3(_0x1c0ea8+0x1+_0x5196fc),_0x558603=new Uint8Array(_0x465604),_0x457893=getStruct(INDX_HEADER,_0x465604);if(_0x457893['magic']!==_0x4382bd(0x1ad))throw new Error(_0x4382bd(0x1fb));for(let _0x144ecc=0x0;_0x144ecc<_0x457893[_0x4382bd(0x1e7)];_0x144ecc++){const _0x467eff=_0x457893['idxt']+0x4+0x2*_0x144ecc,_0x35e653=getUint(_0x465604['slice'](_0x467eff,_0x467eff+0x2)),_0x2a0d18=getUint(_0x465604[_0x4382bd(0x17e)](_0x35e653,_0x35e653+0x1)),_0x294827=getString(_0x465604[_0x4382bd(0x17e)](_0x35e653+0x1,_0x35e653+0x1+_0x2a0d18)),_0x28f818=[],_0x1e97ef=_0x35e653+0x1+_0x2a0d18;let _0x2d7a14=0x0,_0xa9f047=_0x1e97ef+_0x39f468['numControlBytes'];for(const [_0x47d101,_0x381a3f,_0x1aa8ed,_0x4c8181]of _0x145112){if(_0x4c8181&0x1){_0x2d7a14++;continue;}const _0x5c3c20=_0x1e97ef+_0x2d7a14,_0x29c98c=getUint(_0x465604[_0x4382bd(0x17e)](_0x5c3c20,_0x5c3c20+0x1))&_0x1aa8ed;if(_0x29c98c===_0x1aa8ed){if(countBitsSet(_0x1aa8ed)>0x1){const {value:_0x39c7f4,length:_0x256afe}=getVarLen(_0x558603,_0xa9f047);_0x28f818[_0x4382bd(0x203)]([_0x47d101,null,_0x39c7f4,_0x381a3f]),_0xa9f047+=_0x256afe;}else _0x28f818[_0x4382bd(0x203)]([_0x47d101,0x1,null,_0x381a3f]);}else _0x28f818['push']([_0x47d101,_0x29c98c>>countUnsetEnd(_0x1aa8ed),null,_0x381a3f]);}const _0x488023={};for(const [_0x47d15f,_0x3e53cc,_0x1f53b1,_0x31cd3e]of _0x28f818){const _0x1885f3=[];if(_0x3e53cc!=null)for(let _0x4b7218=0x0;_0x4b7218<_0x3e53cc*_0x31cd3e;_0x4b7218++){const {value:_0x58d196,length:_0x41da5d}=getVarLen(_0x558603,_0xa9f047);_0x1885f3[_0x4382bd(0x203)](_0x58d196),_0xa9f047+=_0x41da5d;}else{let _0x51a5a4=0x0;while(_0x51a5a4<_0x1f53b1){const {value:_0x3a2b24,length:_0x852eb4}=getVarLen(_0x558603,_0xa9f047);_0x1885f3['push'](_0x3a2b24),_0xa9f047+=_0x852eb4,_0x51a5a4+=_0x852eb4;}}_0x488023[_0x47d15f]=_0x1885f3;}_0x20ac2a[_0x4382bd(0x203)]({'name':_0x294827,'tagMap':_0x488023});}}return{'table':_0x20ac2a,'cncx':_0x1a3c2f};},getNCX=async(_0x1c7569,_0x35ce9e)=>{const _0x38d37b=_0x23f924,{table:_0x4e3256,cncx:_0x3ec9ef}=await getIndexData(_0x1c7569,_0x35ce9e),_0x1d77c4=_0x4e3256[_0x38d37b(0x194)](({tagMap:_0x164c6f},_0x281d2b)=>({'index':_0x281d2b,'offset':_0x164c6f[0x1]?.[0x0],'size':_0x164c6f[0x2]?.[0x0],'label':_0x3ec9ef[_0x164c6f[0x3]]??'','headingLevel':_0x164c6f[0x4]?.[0x0],'pos':_0x164c6f[0x6],'parent':_0x164c6f[0x15]?.[0x0],'firstChild':_0x164c6f[0x16]?.[0x0],'lastChild':_0x164c6f[0x17]?.[0x0]})),_0x18ce1a=_0x455ff8=>{const _0x5eb8ef=_0x38d37b;if(_0x455ff8[_0x5eb8ef(0x22f)]==null)return _0x455ff8;return _0x455ff8[_0x5eb8ef(0x213)]=_0x1d77c4['filter'](_0x4862d3=>_0x4862d3[_0x5eb8ef(0x1c4)]===_0x455ff8[_0x5eb8ef(0x1fc)])[_0x5eb8ef(0x194)](_0x18ce1a),_0x455ff8;};return _0x1d77c4[_0x38d37b(0x1c8)](_0x18015b=>_0x18015b[_0x38d37b(0x232)]===0x0)[_0x38d37b(0x194)](_0x18ce1a);},getEXTH=(_0x4b8483,_0x443f17)=>{const _0x2113c5=_0x23f924,{magic:_0x48b3b3,count:_0x493c04}=getStruct(EXTH_HEADER,_0x4b8483);if(_0x48b3b3!==_0x2113c5(0x228))throw new Error(_0x2113c5(0x16c));const _0x502cb3=getDecoder(_0x443f17),_0x44b5d2={};let _0xb2df9=0xc;for(let _0x4e0668=0x0;_0x4e0668<_0x493c04;_0x4e0668++){const _0x17e233=getUint(_0x4b8483['slice'](_0xb2df9,_0xb2df9+0x4)),_0x4dacdd=getUint(_0x4b8483[_0x2113c5(0x17e)](_0xb2df9+0x4,_0xb2df9+0x8));if(_0x17e233 in EXTH_RECORD_TYPE){const [_0x4e8236,_0x38d835,_0x2a7914]=EXTH_RECORD_TYPE[_0x17e233],_0x54f2ab=_0x4b8483[_0x2113c5(0x17e)](_0xb2df9+0x8,_0xb2df9+_0x4dacdd),_0x36dd58=_0x38d835===_0x2113c5(0x1f0)?getUint(_0x54f2ab):_0x502cb3[_0x2113c5(0x1a5)](_0x54f2ab);if(_0x2a7914)_0x44b5d2[_0x4e8236]??=[],_0x44b5d2[_0x4e8236][_0x2113c5(0x203)](_0x36dd58);else _0x44b5d2[_0x4e8236]=_0x36dd58;}_0xb2df9+=_0x4dacdd;}return _0x44b5d2;},getFont=async(_0x2dec65,_0x4a9ed4)=>{const _0x5bee3f=_0x23f924,{flags:_0x154252,dataStart:_0x3a0b83,keyLength:_0xdb29d3,keyStart:_0x70a116}=getStruct(FONT_HEADER,_0x2dec65),_0x1f8bc5=new Uint8Array(_0x2dec65[_0x5bee3f(0x17e)](_0x3a0b83));if(_0x154252&0x2){const _0xf9be38=_0xdb29d3===0x10?0x400:0x410,_0x3862d7=new Uint8Array(_0x2dec65[_0x5bee3f(0x17e)](_0x70a116,_0x70a116+_0xdb29d3)),_0x14ab39=Math[_0x5bee3f(0x24d)](_0xf9be38,_0x1f8bc5[_0x5bee3f(0x1c1)]);for(var _0x2290d1=0x0;_0x2290d1<_0x14ab39;_0x2290d1++)_0x1f8bc5[_0x2290d1]=_0x1f8bc5[_0x2290d1]^_0x3862d7[_0x2290d1%_0x3862d7[_0x5bee3f(0x1c1)]];}if(_0x154252&0x1)try{return await _0x4a9ed4(_0x1f8bc5);}catch(_0x3610e9){console[_0x5bee3f(0x1ba)](_0x3610e9),console[_0x5bee3f(0x1ba)](_0x5bee3f(0x1fd));}return _0x1f8bc5;},isMOBI=async _0x545e0e=>{const _0x5787f8=_0x23f924;let _0x43b189=await _0x545e0e[_0x5787f8(0x17e)](0x3c,0x44);const _0x2eb340=_0x43b189[_0x5787f8(0x164)]();return _0x2eb340===_0x5787f8(0x1a3);};class PDB{#file;#offsets;[_0x23f924(0x266)];async[_0x23f924(0x21a)](_0x4e7bf0){const _0x2f3434=_0x23f924;this.#file=_0x4e7bf0;const _0x56ac60=getStruct(PDB_HEADER,await _0x4e7bf0[_0x2f3434(0x17e)](0x0,0x4e)[_0x2f3434(0x243)]);this[_0x2f3434(0x266)]=_0x56ac60;const _0x1023eb=await _0x4e7bf0[_0x2f3434(0x17e)](0x4e,0x4e+_0x56ac60[_0x2f3434(0x1e7)]*0x8)[_0x2f3434(0x243)];this.#offsets=Array[_0x2f3434(0x19e)]({'length':_0x56ac60[_0x2f3434(0x1e7)]},(_0x35dcb6,_0x62848e)=>getUint(_0x1023eb[_0x2f3434(0x17e)](_0x62848e*0x8,_0x62848e*0x8+0x4)))[_0x2f3434(0x194)]((_0x5bb722,_0x263b5f,_0x437a94)=>[_0x5bb722,_0x437a94[_0x263b5f+0x1]]);}[_0x23f924(0x1f5)](_0x36ff96){const _0x4eeef1=_0x23f924,_0x1aa5aa=this.#offsets[_0x36ff96];if(!_0x1aa5aa)throw new RangeError(_0x4eeef1(0x18e));return this.#file[_0x4eeef1(0x17e)](..._0x1aa5aa)['buffer'];}async['loadMagic'](_0x390d41){const _0x1b3a77=this.#offsets[_0x390d41][0x0];return getString(await this.#file['slice'](_0x1b3a77,_0x1b3a77+0x4)['buffer']);}}class MOBI extends PDB{#start=0x0;#resourceStart;#decoder;#encoder;#decompress;#removeTrailingEntries;constructor({unzlib:_0x3df502}){const _0x4308b0=_0x23f924;super(),this[_0x4308b0(0x1f3)]=_0x3df502;}async[_0x23f924(0x21a)](_0x40d078){const _0x137145=_0x23f924;await super[_0x137145(0x21a)](_0x40d078),this[_0x137145(0x16a)]=this.#getHeaders(await super[_0x137145(0x1f5)](0x0)),this.#resourceStart=this['headers'][_0x137145(0x226)]['resourceStart'];let _0x48755d=this[_0x137145(0x16a)][_0x137145(0x226)][_0x137145(0x221)]>=0x8;if(!_0x48755d){const _0x27f812=this[_0x137145(0x16a)][_0x137145(0x254)]?.[_0x137145(0x230)];if(_0x27f812<0xffffffff)try{this[_0x137145(0x16a)]=this.#getHeaders(await super[_0x137145(0x1f5)](_0x27f812)),this.#start=_0x27f812,_0x48755d=!![];}catch(_0x5a6767){console[_0x137145(0x1ba)](_0x5a6767),console['warn'](_0x137145(0x1cc));}}return await this.#setup(),_0x48755d?new KF8(this)['init']():new MOBI6(this)[_0x137145(0x173)]();}#getHeaders(_0x377ed8){const _0xe7bca8=_0x23f924,_0x34b63b=getStruct(PALMDOC_HEADER,_0x377ed8),_0x22c282=getStruct(MOBI_HEADER,_0x377ed8);if(_0x22c282[_0xe7bca8(0x1d6)]!==_0xe7bca8(0x196))throw new Error(_0xe7bca8(0x19d));const {titleOffset:_0x92b598,titleLength:_0x175588,localeLanguage:_0x426e2b,localeRegion:_0x5a68b4}=_0x22c282;_0x22c282[_0xe7bca8(0x24e)]=_0x377ed8['slice'](_0x92b598,_0x92b598+_0x175588);const _0x5d372a=MOBI_LANG[_0x426e2b];_0x22c282[_0xe7bca8(0x17d)]=_0x5d372a?.[_0x5a68b4>>0x2]??_0x5d372a?.[0x0];const _0x272bff=_0x22c282[_0xe7bca8(0x22e)]&0x40?getEXTH(_0x377ed8['slice'](_0x22c282['length']+0x10),_0x22c282[_0xe7bca8(0x1bf)]):null,_0x19da66=_0x22c282[_0xe7bca8(0x221)]>=0x8?getStruct(KF8_HEADER,_0x377ed8):null;return{'palmdoc':_0x34b63b,'mobi':_0x22c282,'exth':_0x272bff,'kf8':_0x19da66};}async #setup(){const _0x16b608=_0x23f924,{palmdoc:_0x473ab3,mobi:_0x484a19}=this[_0x16b608(0x16a)];this.#decoder=getDecoder(_0x484a19[_0x16b608(0x1bf)]),this.#encoder=new TextEncoder();const {compression:_0x16b015}=_0x473ab3;this.#decompress=_0x16b015===0x1?_0x48aad5=>_0x48aad5:_0x16b015===0x2?decompressPalmDOC:_0x16b015===0x4448?await huffcdic(_0x484a19,this['loadRecord'][_0x16b608(0x1b0)](this)):null;const {trailingFlags:_0x247a72}=_0x484a19,_0x4afc50=_0x247a72&0x1,_0x1a9346=countBitsSet(_0x247a72>>>0x1);this.#removeTrailingEntries=_0x4c33a4=>{const _0x279340=_0x16b608;for(let _0x573508=0x0;_0x573508<_0x1a9346;_0x573508++){const _0x4d1c4c=getVarLenFromEnd(_0x4c33a4);_0x4c33a4=_0x4c33a4['subarray'](0x0,-_0x4d1c4c);}if(_0x4afc50){const _0x21ed87=(_0x4c33a4[_0x4c33a4[_0x279340(0x1c1)]-0x1]&0x3)+0x1;_0x4c33a4=_0x4c33a4[_0x279340(0x1a0)](0x0,-_0x21ed87);}return _0x4c33a4;};}[_0x23f924(0x1a5)](..._0x44bed8){return this.#decoder['decode'](..._0x44bed8);}[_0x23f924(0x1ac)](..._0x19cccb){return this.#encoder['encode'](..._0x19cccb);}[_0x23f924(0x1f5)](_0x1e2082){const _0x39907a=_0x23f924;return super[_0x39907a(0x1f5)](this.#start+_0x1e2082);}[_0x23f924(0x1b7)](_0x2e5fbc){const _0x3d7407=_0x23f924;return super[_0x3d7407(0x1b7)](this.#start+_0x2e5fbc);}[_0x23f924(0x1d2)](_0x16b88d){const _0x3e9759=_0x23f924;let _0x1d5e4f=this[_0x3e9759(0x1f5)](_0x16b88d+0x1),_0x42d67a=new Uint8Array(_0x1d5e4f),_0x2e8e08=this.#removeTrailingEntries(_0x42d67a);return this.#decompress(_0x2e8e08);}async[_0x23f924(0x1ae)](_0x5d2bfb){const _0x1349f2=_0x23f924,_0x57c53b=await super[_0x1349f2(0x1f5)](this.#resourceStart+_0x5d2bfb),_0x33f46d=getString(_0x57c53b[_0x1349f2(0x17e)](0x0,0x4));if(_0x33f46d===_0x1349f2(0x1ea))return getFont(_0x57c53b,this[_0x1349f2(0x1f3)]);if(_0x33f46d===_0x1349f2(0x1df)||_0x33f46d===_0x1349f2(0x1a8))return _0x57c53b[_0x1349f2(0x17e)](0xc);return _0x57c53b;}[_0x23f924(0x262)](){const _0x5b5856=_0x23f924,_0x268304=this['headers'][_0x5b5856(0x226)][_0x5b5856(0x1cd)];if(_0x268304<0xffffffff)return getNCX(_0x268304,this['loadRecord'][_0x5b5856(0x1b0)](this));}['getMetadata'](){const _0x552b40=_0x23f924,{mobi:_0x2db577,exth:_0x5d0d10}=this[_0x552b40(0x16a)];return{'identifier':_0x2db577[_0x552b40(0x20f)][_0x552b40(0x1bc)](),'title':unescapeHTML(_0x5d0d10?.[_0x552b40(0x24e)]||this['decode'](_0x2db577[_0x552b40(0x24e)])),'author':_0x5d0d10?.[_0x552b40(0x1fe)]?.[_0x552b40(0x194)](unescapeHTML),'publisher':unescapeHTML(_0x5d0d10?.[_0x552b40(0x1e2)]),'language':_0x5d0d10?.[_0x552b40(0x17d)]??_0x2db577[_0x552b40(0x17d)],'published':_0x5d0d10?.['date'],'description':unescapeHTML(_0x5d0d10?.[_0x552b40(0x22d)]),'subject':_0x5d0d10?.[_0x552b40(0x1e5)]?.['map'](unescapeHTML),'rights':unescapeHTML(_0x5d0d10?.['rights']),'contributor':_0x5d0d10?.[_0x552b40(0x18b)]};}async['getCover'](){const _0x4e6c93=_0x23f924,{exth:_0xfb8eb}=this[_0x4e6c93(0x16a)],_0x44491a=_0xfb8eb?.['coverOffset']<0xffffffff?_0xfb8eb?.[_0x4e6c93(0x15e)]:_0xfb8eb?.['thumbnailOffset']<0xffffffff?_0xfb8eb?.[_0x4e6c93(0x268)]:null;if(_0x44491a!=null){const _0x1ae82a=await this['loadResource'](_0x44491a);return _0x1ae82a;}return null;}}const mbpPagebreakRegex=/<\s*(?:mbp:)?pagebreak[^>]*>/gi,fileposRegex=/<[^<>]+filepos=['"]{0,1}(\d+)[^<>]*>/gi,getIndent=_0x169b23=>{const _0x66dd3d=_0x23f924;let _0x283f0f=0x0;while(_0x169b23){const _0x158ab0=_0x169b23['parentElement'];if(_0x158ab0){const _0x34154d=_0x158ab0[_0x66dd3d(0x1cb)][_0x66dd3d(0x166)]();if(_0x34154d==='p')_0x283f0f+=1.5;else{if(_0x34154d===_0x66dd3d(0x179))_0x283f0f+=0x2;}}_0x169b23=_0x158ab0;}return _0x283f0f;};class MOBI6{#resourceCache=new Map();#textCache=new Map();#cache=new Map();#sections;#fileposList=[];#type=MIME['HTML'];constructor(_0x3fe916){const _0x2d2eac=_0x23f924;this[_0x2d2eac(0x226)]=_0x3fe916;}async[_0x23f924(0x173)](){const _0x525436=_0x23f924;let _0x2e4e12=new Uint8Array();for(let _0x2a67c3=0x0;_0x2a67c3<this[_0x525436(0x226)][_0x525436(0x16a)][_0x525436(0x22c)][_0x525436(0x21d)];_0x2a67c3++)_0x2e4e12=concatTypedArray(_0x2e4e12,await this[_0x525436(0x226)][_0x525436(0x1d2)](_0x2a67c3));const _0x49fb32=Array[_0x525436(0x19e)](new Uint8Array(_0x2e4e12),_0x51173e=>String['fromCharCode'](_0x51173e))['join']('');this.#sections=[0x0][_0x525436(0x21f)](Array[_0x525436(0x19e)](_0x49fb32[_0x525436(0x189)](mbpPagebreakRegex),_0x15ffb6=>_0x15ffb6[_0x525436(0x1fc)]))['map']((_0xa0bd1f,_0x15e84c,_0xc21c63)=>_0x49fb32['slice'](_0xa0bd1f,_0xc21c63[_0x15e84c+0x1]))['map'](_0x322f20=>Uint8Array[_0x525436(0x19e)](_0x322f20,_0x3b4821=>_0x3b4821['charCodeAt'](0x0)))['map'](_0x32db13=>({'book':this,'raw':_0x32db13}))['reduce']((_0x43a9f,_0x522bde)=>{const _0x50ce5b=_0x525436,_0x27e689=_0x43a9f[_0x43a9f[_0x50ce5b(0x1c1)]-0x1];return _0x522bde['start']=_0x27e689?.[_0x50ce5b(0x204)]??0x0,_0x522bde[_0x50ce5b(0x204)]=_0x522bde[_0x50ce5b(0x1b4)]+_0x522bde['raw'][_0x50ce5b(0x1cf)],_0x43a9f[_0x50ce5b(0x21f)](_0x522bde);},[]),this[_0x525436(0x1ca)]=this.#sections[_0x525436(0x194)]((_0x44faf1,_0x1df431)=>({'id':_0x1df431,'load':()=>this[_0x525436(0x267)](_0x44faf1),'size':_0x44faf1[_0x525436(0x204)]-_0x44faf1[_0x525436(0x1b4)]}));try{}catch(_0x16c7c4){console[_0x525436(0x1ba)](_0x16c7c4);}return this.#fileposList=[...new Set(Array[_0x525436(0x19e)](_0x49fb32[_0x525436(0x189)](fileposRegex),_0x32ca1f=>_0x32ca1f[0x1]))][_0x525436(0x194)](_0x259d3b=>({'filepos':_0x259d3b,'number':Number(_0x259d3b)}))[_0x525436(0x269)]((_0x44bd9f,_0x3f7338)=>_0x44bd9f[_0x525436(0x214)]-_0x3f7338[_0x525436(0x214)]),this[_0x525436(0x1f6)]=this[_0x525436(0x226)][_0x525436(0x1bb)](),this[_0x525436(0x25d)]=this[_0x525436(0x226)]['getCover']['bind'](this['mobi']),this;}async[_0x23f924(0x1ae)](_0x35bbb6){const _0x1b234c=_0x23f924;if(this.#resourceCache['has'](_0x35bbb6))return this.#resourceCache[_0x1b234c(0x22a)](_0x35bbb6);const _0xb525ff=await this['mobi'][_0x1b234c(0x1ae)](_0x35bbb6),_0x228917=URL[_0x1b234c(0x1b6)](new Blob([_0xb525ff]));return this.#resourceCache[_0x1b234c(0x191)](_0x35bbb6,_0x228917),_0x228917;}async[_0x23f924(0x18c)](_0x68d3de){const _0x5bfd7d=_0x23f924;return this[_0x5bfd7d(0x1ae)](Number(_0x68d3de)-0x1);}async[_0x23f924(0x1ff)](_0x367819){const _0x5ff8=_0x23f924;for(const _0x398005 of _0x367819[_0x5ff8(0x1a9)](_0x5ff8(0x26a))){const _0x517c72=_0x398005['getAttribute'](_0x5ff8(0x251));try{_0x398005[_0x5ff8(0x1e0)]=await this[_0x5ff8(0x18c)](_0x517c72);}catch{console['warn'](_0x5ff8(0x211)+_0x517c72);}}for(const _0x346712 of _0x367819['querySelectorAll']('[mediarecindex]')){const _0x356cfa=_0x346712['getAttribute'](_0x5ff8(0x247)),_0x4cef30=_0x346712['getAttribute'](_0x5ff8(0x251));try{_0x346712['src']=await this[_0x5ff8(0x18c)](_0x356cfa);if(_0x4cef30)_0x346712[_0x5ff8(0x199)]=await this[_0x5ff8(0x18c)](_0x4cef30);}catch{console[_0x5ff8(0x1ba)](_0x5ff8(0x188)+_0x356cfa);}}for(const _0x248dc9 of _0x367819[_0x5ff8(0x1a9)](_0x5ff8(0x165))){const _0x44050c=_0x248dc9[_0x5ff8(0x177)](_0x5ff8(0x1d5));_0x248dc9[_0x5ff8(0x1b9)]=_0x5ff8(0x256)+_0x44050c;}}async[_0x23f924(0x1d2)](_0x574e66){const _0x3d752e=_0x23f924;if(this.#textCache[_0x3d752e(0x1f1)](_0x574e66))return this.#textCache['get'](_0x574e66);const {raw:_0x9cd0a3}=_0x574e66,_0x2a42ae=this.#fileposList['filter'](({number:_0x11b1a2})=>_0x11b1a2>=_0x574e66['start']&&_0x11b1a2<_0x574e66[_0x3d752e(0x204)])[_0x3d752e(0x194)](_0x254856=>({..._0x254856,'offset':_0x254856[_0x3d752e(0x214)]-_0x574e66[_0x3d752e(0x1b4)]}));let _0x20d89d=_0x9cd0a3;_0x2a42ae[_0x3d752e(0x1c1)]&&(_0x20d89d=_0x9cd0a3['subarray'](0x0,_0x2a42ae[0x0][_0x3d752e(0x1da)]),_0x2a42ae[_0x3d752e(0x249)](({filepos:_0x57ad8c,offset:_0x2ef91a},_0x3f9b11)=>{const _0x27e2f6=_0x3d752e,_0x344004=_0x2a42ae[_0x3f9b11+0x1],_0x1b3702=this[_0x27e2f6(0x226)]['encode'](_0x27e2f6(0x1b1)+_0x57ad8c+_0x27e2f6(0x175));_0x20d89d=concatTypedArray3(_0x20d89d,_0x1b3702,_0x9cd0a3[_0x27e2f6(0x1a0)](_0x2ef91a,_0x344004?.[_0x27e2f6(0x1da)]));}));const _0x297bf3=this['mobi'][_0x3d752e(0x1a5)](_0x20d89d)['replaceAll'](mbpPagebreakRegex,'');return this.#textCache['set'](_0x574e66,_0x297bf3),_0x297bf3;}async[_0x23f924(0x235)](_0x3c41b9){}async[_0x23f924(0x267)](_0x59022b){}[_0x23f924(0x1e4)](_0x45e8db){const _0x15ba99=_0x23f924,_0x4fdbba=_0x45e8db[_0x15ba99(0x167)](/filepos:(.*)/)[0x1],_0x5cfdbc=Number(_0x4fdbba),_0x2342c2=this.#sections[_0x15ba99(0x18d)](_0x272ad6=>_0x272ad6[_0x15ba99(0x204)]>_0x5cfdbc),_0x7e3997=_0x23010b=>_0x23010b[_0x15ba99(0x208)]('filepos'+_0x4fdbba);return{'index':_0x2342c2,'anchor':_0x7e3997};}[_0x23f924(0x18a)](_0x48da5d){const _0xd49fb7=_0x23f924,_0x348bcd=_0x48da5d[_0xd49fb7(0x167)](/filepos:(.*)/)[0x1],_0x367877=Number(_0x348bcd),_0x3ac48f=this.#sections[_0xd49fb7(0x18d)](_0xe789c4=>_0xe789c4[_0xd49fb7(0x204)]>_0x367877);return[_0x3ac48f,'filepos'+_0x348bcd];}[_0x23f924(0x248)](_0x542bd7,_0x11eb03){const _0x2fa01d=_0x23f924;return _0x542bd7[_0x2fa01d(0x208)](_0x11eb03);}[_0x23f924(0x19f)](_0x491f1a){const _0x56cb3a=_0x23f924;return/^(?!blob|filepos)\w+:/i[_0x56cb3a(0x193)](_0x491f1a);}[_0x23f924(0x205)](){const _0x31b54c=_0x23f924;for(const _0xd4977b of this.#resourceCache[_0x31b54c(0x257)]())URL[_0x31b54c(0x1f4)](_0xd4977b);for(const _0x6adf03 of this.#cache[_0x31b54c(0x257)]())URL[_0x31b54c(0x1f4)](_0x6adf03);}}const kindleResourceRegex=/kindle:(flow|embed):(\w+)(?:\?mime=(\w+\/[-+.\w]+))?/,kindlePosRegex=/kindle:pos:fid:(\w+):off:(\w+)/,parseResourceURI=_0x30ecef=>{const _0x326814=_0x23f924,[_0x587ad7,_0x510e73,_0x4d5af3]=_0x30ecef[_0x326814(0x167)](kindleResourceRegex)[_0x326814(0x17e)](0x1);return{'resourceType':_0x587ad7,'id':parseInt(_0x510e73,0x20),'type':_0x4d5af3};},parsePosURI=_0x27fd6e=>{const _0x2aa1ef=_0x23f924,[_0x1221be,_0x2ca551]=_0x27fd6e[_0x2aa1ef(0x167)](kindlePosRegex)[_0x2aa1ef(0x17e)](0x1);return{'fid':parseInt(_0x1221be,0x20),'off':parseInt(_0x2ca551,0x20)};},makePosURI=(_0x340319=0x0,_0x262307=0x0)=>'kindle:pos:fid:'+_0x340319[_0x23f924(0x1bc)](0x20)[_0x23f924(0x1c3)]()[_0x23f924(0x1d1)](0x4,'0')+_0x23f924(0x1ee)+_0x262307[_0x23f924(0x1bc)](0x20)[_0x23f924(0x1c3)]()['padStart'](0xa,'0'),getFragmentSelector=_0x338f88=>{const _0x5828ff=_0x23f924,_0x17ebd1=_0x338f88[_0x5828ff(0x167)](/\s(id|name|aid)\s*=\s*['"]([^'"]*)['"]/i);if(!_0x17ebd1)return;const [,_0x47b88e,_0x5109b3]=_0x17ebd1;return'['+_0x47b88e+'=\x22'+CSS['escape'](_0x5109b3)+'\x22]';},replaceSeries=async(_0x373643,_0x3efa83,_0x3aa4de)=>{const _0x3ef965=_0x23f924,_0x3817ae=[];_0x373643['replace'](_0x3efa83,(..._0x56264d)=>(_0x3817ae[_0x3ef965(0x203)](_0x56264d),null));const _0x47bdf1=[];for(const _0x2d395a of _0x3817ae)_0x47bdf1[_0x3ef965(0x203)](await _0x3aa4de(..._0x2d395a));return _0x373643[_0x3ef965(0x21c)](_0x3efa83,()=>_0x47bdf1[_0x3ef965(0x20c)]());},getPageSpread=_0x4291a4=>{const _0xa4606e=_0x23f924;for(const _0x2b4523 of _0x4291a4){if(_0x2b4523===_0xa4606e(0x1c5)||_0x2b4523===_0xa4606e(0x17f))return _0xa4606e(0x1b8);if(_0x2b4523===_0xa4606e(0x171)||_0x2b4523==='rendition:page-spread-right')return _0xa4606e(0x16f);if(_0x2b4523===_0xa4606e(0x1e3))return'center';}};class KF8{#cache=new Map();#fragmentOffsets=new Map();#fragmentSelectors=new Map();#tables={};#sections;#fullRawLength;#rawHead=new Uint8Array();#rawTail=new Uint8Array();#lastLoadedHead=-0x1;#lastLoadedTail=-0x1;#type=MIME[_0x23f924(0x258)];#inlineMap=new Map();constructor(_0x521c83){this['mobi']=_0x521c83;}async[_0x23f924(0x173)](){const _0x204a26=_0x23f924,_0x9d002=this[_0x204a26(0x226)][_0x204a26(0x1f5)][_0x204a26(0x1b0)](this[_0x204a26(0x226)]),{kf8:_0x59432b}=this[_0x204a26(0x226)][_0x204a26(0x16a)];try{const _0x2a7839=await _0x9d002(_0x59432b[_0x204a26(0x24b)]),_0x22ecfc=getStruct(FDST_HEADER,_0x2a7839);if(_0x22ecfc[_0x204a26(0x1d6)]!==_0x204a26(0x25b))throw new Error(_0x204a26(0x1b5));const _0x2f2241=Array['from']({'length':_0x22ecfc['numEntries']},(_0x1c3183,_0x5210b3)=>0xc+_0x5210b3*0x8)['map'](_0x23b7df=>[getUint(_0x2a7839[_0x204a26(0x17e)](_0x23b7df,_0x23b7df+0x4)),getUint(_0x2a7839[_0x204a26(0x17e)](_0x23b7df+0x4,_0x23b7df+0x8))]);this.#tables['fdstTable']=_0x2f2241,this.#fullRawLength=_0x2f2241[_0x2f2241['length']-0x1][0x1];}catch{}const _0x129088=(await getIndexData(_0x59432b['skel'],_0x9d002))['table']['map'](({name:_0x5c04d,tagMap:_0x3a3029},_0x1aece5)=>({'index':_0x1aece5,'name':_0x5c04d,'numFrag':_0x3a3029[0x1][0x0],'offset':_0x3a3029[0x6][0x0],'length':_0x3a3029[0x6][0x1]})),_0x1fa539=await getIndexData(_0x59432b[_0x204a26(0x218)],_0x9d002),_0x477694=_0x1fa539[_0x204a26(0x209)][_0x204a26(0x194)](({name:_0x46e296,tagMap:_0x3acd3e})=>({'insertOffset':parseInt(_0x46e296),'selector':_0x1fa539[_0x204a26(0x1a4)][_0x3acd3e[0x2][0x0]],'index':_0x3acd3e[0x4][0x0],'offset':_0x3acd3e[0x6][0x0],'length':_0x3acd3e[0x6][0x1]}));this.#tables[_0x204a26(0x23a)]=_0x129088,this.#tables[_0x204a26(0x184)]=_0x477694,this.#sections=_0x129088['reduce']((_0x128080,_0x57715c)=>{const _0x1eaf3a=_0x204a26,_0x1ab989=_0x128080[_0x128080[_0x1eaf3a(0x1c1)]-0x1],_0x3cb20b=_0x1ab989?.[_0x1eaf3a(0x237)]??0x0,_0x133706=_0x3cb20b+_0x57715c['numFrag'],_0x577db1=_0x477694[_0x1eaf3a(0x17e)](_0x3cb20b,_0x133706),_0x563d11=_0x57715c[_0x1eaf3a(0x1c1)]+_0x577db1['map'](_0x7e15f8=>_0x7e15f8[_0x1eaf3a(0x1c1)])['reduce']((_0x3da62c,_0x11a1be)=>_0x3da62c+_0x11a1be),_0x16ee73=(_0x1ab989?.[_0x1eaf3a(0x1bd)]??0x0)+_0x563d11;return _0x128080[_0x1eaf3a(0x21f)]({'skel':_0x57715c,'frags':_0x577db1,'fragEnd':_0x133706,'length':_0x563d11,'totalLength':_0x16ee73});},[]);const _0x1eba56=await this[_0x204a26(0x16b)](['RESC',_0x204a26(0x22b)]),_0x18bdeb=new Map();if(_0x1eba56['RESC']){const _0x1aad76=await this[_0x204a26(0x226)][_0x204a26(0x1f5)](_0x1eba56[_0x204a26(0x260)]),_0x4f7738=this[_0x204a26(0x226)][_0x204a26(0x1a5)](_0x1aad76['slice'](0x10))[_0x204a26(0x21c)](/\0/g,''),_0x2b72bf=_0x4f7738[_0x204a26(0x15f)](/\?>/),_0x2924a5=_0x204a26(0x207)+_0x4f7738[_0x204a26(0x17e)](_0x2b72bf)+_0x204a26(0x206);}this[_0x204a26(0x1ca)]=this.#sections[_0x204a26(0x194)]((_0x39c6a9,_0x1242ec)=>_0x39c6a9[_0x204a26(0x202)][_0x204a26(0x1c1)]?{'id':_0x1242ec,'load':()=>this[_0x204a26(0x267)](_0x39c6a9),'createDocument':()=>this[_0x204a26(0x235)](_0x39c6a9),'size':_0x39c6a9[_0x204a26(0x1c1)],'pageSpread':_0x18bdeb[_0x204a26(0x22a)](_0x1242ec)}:{'linear':'no'});try{const _0x526edd=await this[_0x204a26(0x226)]['getNCX'](),_0x489cad=({label:_0x3ceb03,pos:_0x809eea,children:_0x2981e2})=>{const _0x593ee2=_0x204a26,[_0x1d0a51,_0x495798]=_0x809eea,_0x534ebb=makePosURI(_0x1d0a51,_0x495798),_0x5269ed=this.#fragmentOffsets['get'](_0x1d0a51);if(_0x5269ed)_0x5269ed[_0x593ee2(0x203)](_0x495798);else this.#fragmentOffsets[_0x593ee2(0x191)](_0x1d0a51,[_0x495798]);return{'label':unescapeHTML(_0x3ceb03),'href':_0x534ebb,'subitems':_0x2981e2?.[_0x593ee2(0x194)](_0x489cad)};};this[_0x204a26(0x195)]=_0x526edd?.['map'](_0x489cad);}catch(_0x3da166){console[_0x204a26(0x1ba)](_0x3da166);}const {exth:_0x3cd683}=this[_0x204a26(0x226)]['headers'];return this[_0x204a26(0x26b)]=_0x3cd683[_0x204a26(0x1e9)],this[_0x204a26(0x241)]={'layout':_0x3cd683[_0x204a26(0x178)]===_0x204a26(0x1fa)?_0x204a26(0x25f):_0x204a26(0x1a1),'viewport':Object['fromEntries'](_0x3cd683[_0x204a26(0x20d)]?.['split']('x')?.['slice'](0x0,0x2)?.[_0x204a26(0x194)]((_0x366d90,_0x24c7e3)=>[_0x24c7e3?_0x204a26(0x1eb):_0x204a26(0x217),_0x366d90])??[])},this[_0x204a26(0x1f6)]=this[_0x204a26(0x226)][_0x204a26(0x1bb)](),this[_0x204a26(0x25d)]=this[_0x204a26(0x226)][_0x204a26(0x25d)][_0x204a26(0x1b0)](this[_0x204a26(0x226)]),this;}async[_0x23f924(0x16b)](_0x33f31a){const _0xcda856=_0x23f924,_0x20b61a={},_0x19429f=this[_0xcda856(0x226)][_0xcda856(0x16a)]['kf8'][_0xcda856(0x24a)],_0x2633b1=this[_0xcda856(0x226)][_0xcda856(0x266)][_0xcda856(0x1e7)];for(let _0x5f1a1c=_0x19429f;_0x5f1a1c<_0x2633b1;_0x5f1a1c++){try{const _0x266915=await this[_0xcda856(0x226)][_0xcda856(0x1b7)](_0x5f1a1c),_0x1013d7=_0x33f31a[_0xcda856(0x185)](_0x43c650=>_0x43c650===_0x266915);if(_0x1013d7)_0x20b61a[_0x1013d7]=_0x5f1a1c;}catch{}}return _0x20b61a;}async[_0x23f924(0x16d)](_0x1c4938){const _0x491728=_0x23f924,{resourceType:_0x381b98,id:_0x4fed55,type:_0x185559}=parseResourceURI(_0x1c4938),_0xab3f73=_0x381b98===_0x491728(0x253)?await this[_0x491728(0x1d0)](_0x4fed55):await this[_0x491728(0x226)]['loadResource'](_0x4fed55-0x1),_0x55f796=[MIME['XHTML'],MIME[_0x491728(0x1af)],MIME[_0x491728(0x245)],MIME[_0x491728(0x240)]][_0x491728(0x160)](_0x185559)?await this[_0x491728(0x1ff)](this[_0x491728(0x226)]['decode'](_0xab3f73)):_0xab3f73;return[new Blob([_0x55f796],{'type':_0x185559}),null];}async[_0x23f924(0x1ae)](_0x58461b){const _0x54bb5e=_0x23f924;if(this.#cache[_0x54bb5e(0x1f1)](_0x58461b))return this.#cache[_0x54bb5e(0x22a)](_0x58461b);const [_0xef492,_0x2c8c62]=await this[_0x54bb5e(0x16d)](_0x58461b),_0x223bb2=_0x2c8c62?_0x58461b:URL[_0x54bb5e(0x1b6)](_0xef492);if(_0x2c8c62)this.#inlineMap[_0x54bb5e(0x191)](_0x223bb2,_0x2c8c62);return this.#cache['set'](_0x58461b,_0x223bb2),_0x223bb2;}[_0x23f924(0x1ff)](_0x220d7f){const _0x1c8793=_0x23f924,_0x3508b3=new RegExp(kindleResourceRegex,'g');return replaceSeries(_0x220d7f,_0x3508b3,this[_0x1c8793(0x1ae)]['bind'](this));}async[_0x23f924(0x1a7)](_0x378768,_0x486a14){const _0x59828a=_0x23f924,_0x52269a=_0x486a14-this.#rawHead[_0x59828a(0x1c1)],_0x41178c=this.#fullRawLength==null?Infinity:this.#fullRawLength-this.#rawTail[_0x59828a(0x1c1)]-_0x378768;if(_0x52269a<0x0||_0x52269a<_0x41178c){while(this.#rawHead[_0x59828a(0x1c1)]<_0x486a14){const _0xa27c41=++this.#lastLoadedHead,_0x4c972c=await this[_0x59828a(0x226)][_0x59828a(0x1d2)](_0xa27c41);this.#rawHead=concatTypedArray(this.#rawHead,_0x4c972c);}return this.#rawHead[_0x59828a(0x17e)](_0x378768,_0x486a14);}while(this.#fullRawLength-this.#rawTail[_0x59828a(0x1c1)]>_0x378768){const _0x52ae57=this['mobi'][_0x59828a(0x16a)][_0x59828a(0x22c)][_0x59828a(0x21d)]-0x1-++this.#lastLoadedTail,_0x2efa1d=await this[_0x59828a(0x226)][_0x59828a(0x1d2)](_0x52ae57);this.#rawTail=concatTypedArray(_0x2efa1d,this.#rawTail);}const _0xb11d27=this.#fullRawLength-this.#rawTail[_0x59828a(0x1c1)];return this.#rawTail[_0x59828a(0x17e)](_0x378768-_0xb11d27,_0x486a14-_0xb11d27);}[_0x23f924(0x1d0)](_0x4c3fa4){const _0x310e05=_0x23f924;if(_0x4c3fa4<0xffffffff)return this['loadRaw'](...this.#tables[_0x310e05(0x1c7)][_0x4c3fa4]);}async[_0x23f924(0x1d2)](_0x1d6038){const _0x3a9413=_0x23f924,{skel:_0xbed5d3,frags:_0x1f3e66,length:_0x6070b6}=_0x1d6038,_0xba5481=await this[_0x3a9413(0x1a7)](_0xbed5d3[_0x3a9413(0x1da)],_0xbed5d3['offset']+_0x6070b6);let _0x112529=_0xba5481[_0x3a9413(0x17e)](0x0,_0xbed5d3[_0x3a9413(0x1c1)]);for(const _0x56bcf1 of _0x1f3e66){const _0x8dc32b=_0x56bcf1['insertOffset']-_0xbed5d3[_0x3a9413(0x1da)],_0xd51c6c=_0xbed5d3['length']+_0x56bcf1[_0x3a9413(0x1da)],_0x2c680c=_0xba5481[_0x3a9413(0x17e)](_0xd51c6c,_0xd51c6c+_0x56bcf1[_0x3a9413(0x1c1)]);_0x112529=concatTypedArray3(_0x112529[_0x3a9413(0x17e)](0x0,_0x8dc32b),_0x2c680c,_0x112529['slice'](_0x8dc32b));const _0x148c3c=this.#fragmentOffsets[_0x3a9413(0x22a)](_0x56bcf1[_0x3a9413(0x1fc)]);if(_0x148c3c)for(const _0x21d9dc of _0x148c3c){const _0x59a14a=this[_0x3a9413(0x226)][_0x3a9413(0x1a5)](_0x2c680c)[_0x3a9413(0x17e)](_0x21d9dc),_0x49b113=getFragmentSelector(_0x59a14a);this.#setFragmentSelector(_0x56bcf1['index'],_0x21d9dc,_0x49b113);}}return this[_0x3a9413(0x226)][_0x3a9413(0x1a5)](_0x112529);}async[_0x23f924(0x235)](_0x296f72){}async['loadSection'](_0xfa9bbb){}['getIndexByFID'](_0x2a5e6f){const _0x147f75=_0x23f924;return this.#sections[_0x147f75(0x18d)](_0x23d106=>_0x23d106['frags'][_0x147f75(0x1e6)](_0xcbab39=>_0xcbab39[_0x147f75(0x1fc)]===_0x2a5e6f));}#setFragmentSelector(_0x3840b1,_0x29b7fb,_0x3029f1){const _0x5287d7=_0x23f924,_0x21b38f=this.#fragmentSelectors[_0x5287d7(0x22a)](_0x3840b1);if(_0x21b38f)_0x21b38f[_0x5287d7(0x191)](_0x29b7fb,_0x3029f1);else{const _0x4f4f27=new Map();this.#fragmentSelectors[_0x5287d7(0x191)](_0x3840b1,_0x4f4f27),_0x4f4f27['set'](_0x29b7fb,_0x3029f1);}}async[_0x23f924(0x1e4)](_0x952c10){const _0x3eda7b=_0x23f924,{fid:_0x444f47,off:_0x59b55a}=parsePosURI(_0x952c10),_0x2ac391=this[_0x3eda7b(0x1e1)](_0x444f47);if(_0x2ac391<0x0)return;const _0x5e8724=this.#fragmentSelectors['get'](_0x444f47)?.['get'](_0x59b55a);if(_0x5e8724)return{'index':_0x2ac391,'anchor':_0x3613f1=>_0x3613f1[_0x3eda7b(0x174)](_0x5e8724)};const {skel:_0x342716,frags:_0x89249c}=this.#sections[_0x2ac391],_0x405588=_0x89249c['find'](_0x1dd6a1=>_0x1dd6a1[_0x3eda7b(0x1fc)]===_0x444f47),_0x21cf37=_0x342716[_0x3eda7b(0x1da)]+_0x342716[_0x3eda7b(0x1c1)]+_0x405588['offset'],_0x1f8198=await this['loadRaw'](_0x21cf37,_0x21cf37+_0x405588[_0x3eda7b(0x1c1)]),_0x4e96f8=this['mobi'][_0x3eda7b(0x1a5)](_0x1f8198)[_0x3eda7b(0x17e)](_0x59b55a),_0x13784b=getFragmentSelector(_0x4e96f8);this.#setFragmentSelector(_0x444f47,_0x59b55a,_0x13784b);const _0x45d79a=_0x2e9c48=>_0x2e9c48[_0x3eda7b(0x174)](_0x13784b);return{'index':_0x2ac391,'anchor':_0x45d79a};}['splitTOCHref'](_0x24fcfd){const _0x5c88b3=_0x23f924,_0x5b9445=parsePosURI(_0x24fcfd),_0x14b504=this[_0x5c88b3(0x1e1)](_0x5b9445[_0x5c88b3(0x25e)]);return[_0x14b504,_0x5b9445];}['getTOCFragment'](_0x4dbe5a,{fid:_0x3d89d9,off:_0x55290c}){const _0x5e1294=_0x23f924,_0x1cfe11=this.#fragmentSelectors[_0x5e1294(0x22a)](_0x3d89d9)?.[_0x5e1294(0x22a)](_0x55290c);return _0x4dbe5a[_0x5e1294(0x174)](_0x1cfe11);}[_0x23f924(0x19f)](_0xf2cfed){const _0x108ecc=_0x23f924;return/^(?!blob|kindle)\w+:/i[_0x108ecc(0x193)](_0xf2cfed);}[_0x23f924(0x205)](){const _0x1cb9f7=_0x23f924;for(const _0x55a3aa of this.#cache['values']())URL[_0x1cb9f7(0x1f4)](_0x55a3aa);}}function _0x4089(){const _0x5710da=['buffer','nl-NL','CSS','de-LI','mediarecindex','getTOCFragment','forEach','resourceStart','fdst','fr-BE','min','title','en-GB','windows-1252','recindex','es-DO','flow','exth','es-VE','filepos:','values','XHTML','en-JM','6543187jSJhoz','FDST','subjectCode','getCover','fid','pre-paginated','RESC','pt-BR','getNCX','zh-TW','pt-PT','cy-GB','pdb','loadSection','thumbnailOffset','sort','img[recindex]','dir','4979216oLAjAx','coverOffset','search','includes','application/xml','es-GT','en-IE','text','[filepos]','toLowerCase','match','en-US','es-ES','headers','getResourcesByMagic','Invalid\x20EXTH\x20header','loadResourceBlob','es-UY','right','6TzCQXi','page-spread-right','en-AU','init','querySelector','\x22></a>','ar-YE','getAttribute','fixedLayout','blockquote','en-BZ','numHuffcdic','fr-FR','language','slice','rendition:page-spread-left','en-ZA','es-PY','es-EC','regionMagnification','fragTable','find','text/html','ar-LY','Failed\x20to\x20load\x20media\x20','matchAll','splitTOCHref','contributor','loadRecindex','findIndex','Record\x20index\x20out\x20of\x20bounds','de-LU','numResources','set','huffcdic','test','map','toc','MOBI','getUint16','en-PH','poster','zh-SG','es-PA','application/xhtml+xml','Missing\x20MOBI\x20header','from','isExternal','subarray','reflowable','zeroGutter','BOOKMOBI','cncx','decode','es-CO','loadRaw','AUDI','querySelectorAll','ar-JO','ar-IQ','encode','INDX','loadResource','HTML','bind','<a\x20id=\x22filepos','nl-BE','es-MX','start','Missing\x20FDST\x20record','createObjectURL','loadMagic','left','href','warn','getMetadata','toString','totalLength','415750QDLPHF','encoding','es-PR','length','utf-8','toUpperCase','parent','page-spread-left','es-BO','fdstTable','filter','ar-QA','sections','tagName','Failed\x20to\x20open\x20KF8;\x20falling\x20back\x20to\x20MOBI','indx','en-TT','byteLength','loadFlow','padStart','loadText','it-IT','entries','filepos','magic','2754JgWIbr','fromEntries','1244wDkHnL','offset','exports','ar-BH','zh-CN','fr-LU','VIDE','src','getIndexByFID','publisher','rendition:page-spread-center','resolveHref','subject','some','numRecords','es-HN','pageProgressionDirection','FONT','height','ar-LB','numCncx',':off:','ar-KW','uint','has','es-CR','unzlib','revokeObjectURL','loadRecord','metadata','getUint32','numEntries','es-SV','true','Invalid\x20INDX\x20record','index','Failed\x20to\x20decompress\x20font','creator','replaceResources','image/svg+xml','14465eKQFqp','frags','push','end','destroy','</package>','<package>','getElementById','table','70284LkgJlj','uz-UZ','shift','originalResolution','Invalid\x20HUFF\x20record','uid','es-NI','Failed\x20to\x20load\x20image\x20','en-NZ','children','number','rights','1713CkXawy','width','frag','date','open','CDIC','replace','numTextRecords','constructor','concat','en-CA','version','source','isbn','ar-MA','coverURI','mobi','8520246DPiPcW','EXTH','fr-CH','get','PAGE','palmdoc','description','exthFlag','firstChild','boundary','de-CH','headingLevel','kok','Invalid\x20CDIC\x20record','createDocument','es-CL','fragEnd','string','text/css','skelTable','HUFF','es-AR','asin','ar-SA','en-ZW','SVG','rendition','ar-EG'];_0x4089=function(){return _0x5710da;};return _0x4089();}module[_0x23f924(0x1db)]={'MOBI':MOBI,'isMOBI':isMOBI};