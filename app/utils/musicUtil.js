const _0x3d28b9=_0x37cd;(function(_0x176ba0,_0x5a10f3){const _0x5eec07=_0x37cd,_0x8002bd=_0x176ba0();while(!![]){try{const _0x54c77a=-parseInt(_0x5eec07(0x115))/0x1+parseInt(_0x5eec07(0x11a))/0x2+parseInt(_0x5eec07(0x111))/0x3*(parseInt(_0x5eec07(0x10e))/0x4)+-parseInt(_0x5eec07(0x11b))/0x5+parseInt(_0x5eec07(0x101))/0x6+parseInt(_0x5eec07(0x118))/0x7+-parseInt(_0x5eec07(0x10c))/0x8;if(_0x54c77a===_0x5a10f3)break;else _0x8002bd['push'](_0x8002bd['shift']());}catch(_0x2d6548){_0x8002bd['push'](_0x8002bd['shift']());}}}(_0x3ff2,0xe6ca4));function _0x3ff2(){const _0x39ef30=['jschardet','UPDATE\x20file_index_music\x20set\x20filename_fl=?,artist_fl=?,album_fl=?,title_fl=?\x20where\x20id=?','length','artist','4932864CdLpno','SELECT\x20id,filename,artist,album,title\x20FROM\x20file_index_music\x20WHERE\x20filename_fl\x20is\x20null','log','file_cover_path','run','transStringToUtf8','album','existsSync','exports','replace','join','5464400zWjpPG','test','60cZtHdD','filename','ascii','100986jWPCdj','initials','更新file_cover_path','.jpg','42988huebNf','prepare','path','11035990MdXRlT','all','551446ANCLib','7540065lZJJpZ','dealFirstLetterSingle','detect','toUpperCase','../db/dbMusicIndexTable','.jpeg','dealFirstLetterAll','getMusicSameNameCover','updateByFiled','title','encoding','toLowerCase','utf'];_0x3ff2=function(){return _0x39ef30;};return _0x3ff2();}let musicUtil={},fs=require('fs'),path=require(_0x3d28b9(0x117)),dbMusicIndexTable=require(_0x3d28b9(0x11f)),jschardet=require(_0x3d28b9(0xfd)),iconv=require('iconv-lite'),pinyin=require('node-pinyin'),letterList=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];function _0x37cd(_0x3c05d7,_0xf37210){const _0x3ff2c0=_0x3ff2();return _0x37cd=function(_0x37cd20,_0x2dd98f){_0x37cd20=_0x37cd20-0xfa;let _0x1bda44=_0x3ff2c0[_0x37cd20];return _0x1bda44;},_0x37cd(_0x3c05d7,_0xf37210);}musicUtil[_0x3d28b9(0x122)]=function(_0x43e6b7,_0x738213){const _0x19736c=_0x3d28b9;try{let _0x397f6a=_0x738213[_0x19736c(0x10f)][_0x19736c(0x10a)](path['extname'](_0x738213[_0x19736c(0x10f)]),''),_0x158ca6=path[_0x19736c(0x10b)](_0x738213['path'],_0x397f6a+_0x19736c(0x120)),_0x4d8a5a=path[_0x19736c(0x10b)](_0x738213[_0x19736c(0x117)],_0x397f6a+_0x19736c(0x114)),_0x3acc25=path['join'](_0x738213[_0x19736c(0x117)],_0x397f6a+'.png'),_0x5673de='';if(fs['existsSync'](_0x3acc25))_0x5673de=_0x3acc25;else{if(fs['existsSync'](_0x158ca6))_0x5673de=_0x158ca6;else fs[_0x19736c(0x108)](_0x4d8a5a)&&(_0x5673de=_0x4d8a5a);}return _0x43e6b7&&_0x5673de&&_0x738213['id']&&(_0x5673de!=_0x738213[_0x19736c(0x104)]&&(console[_0x19736c(0x103)](_0x19736c(0x113)),dbMusicIndexTable[_0x19736c(0x123)](_0x43e6b7,_0x738213['id'],_0x19736c(0x104),_0x5673de))),_0x5673de;}catch(_0xe62b85){return console[_0x19736c(0x103)](_0xe62b85),'';}},musicUtil[_0x3d28b9(0x106)]=function(_0x4a7461){const _0x878bc9=_0x3d28b9;if(!_0x4a7461)return _0x4a7461;try{let _0x303579=jschardet[_0x878bc9(0x11d)](_0x4a7461);if(_0x303579&&_0x303579[_0x878bc9(0xfa)]&&!_0x303579[_0x878bc9(0xfa)][_0x878bc9(0xfb)]()['startsWith'](_0x878bc9(0xfc))&&!_0x303579['encoding'][_0x878bc9(0xfb)]()['startsWith'](_0x878bc9(0x110))){let _0x3da8c6=iconv['decode'](_0x4a7461,_0x303579[_0x878bc9(0xfa)]);return _0x3da8c6;}else return _0x4a7461;}catch(_0x185f27){return console[_0x878bc9(0x103)](_0x185f27),_0x4a7461;}},musicUtil[_0x3d28b9(0x121)]=function(_0x1a5956){const _0x212829=_0x3d28b9;let _0x286e84=_0x212829(0x102),_0x5e3a6c=_0x1a5956[_0x212829(0x116)](_0x286e84)[_0x212829(0x119)]();for(let _0x58109f in _0x5e3a6c){musicUtil['dealFirstLetterSingle'](_0x1a5956,_0x5e3a6c[_0x58109f]);}};function isChinese(_0x26c9a6){const _0x5ce3ef=_0x3d28b9;var _0x2bd09d=/[^\\u4e00-\\u9fa5]/;return _0x2bd09d[_0x5ce3ef(0x10d)](_0x26c9a6);}musicUtil[_0x3d28b9(0x11c)]=function(_0x20f6bd,_0x11c753){const _0x5b6e17=_0x3d28b9;function _0x3451f9(_0x5b5f96){const _0x5ed7e7=_0x37cd;if(_0x5b5f96&&_0x5b5f96['length']>0x0){let _0x3d00af=_0x5b5f96[0x0];if(letterList['includes'](_0x3d00af))return _0x3d00af;else{if(isChinese(_0x3d00af)){let _0x105986=pinyin(_0x3d00af,{'style':_0x5ed7e7(0x112)});return _0x105986&&_0x105986[_0x5ed7e7(0xff)]>0x0&&_0x105986[0x0][_0x5ed7e7(0xff)]>0x0&&_0x105986[0x0][0x0]['length']>0x0?_0x105986[0x0][0x0][0x0]:'#';}else return'#';}}else return'#';}let _0x1e038c=_0x3451f9(_0x11c753[_0x5b6e17(0x10f)]?_0x11c753[_0x5b6e17(0x10f)][_0x5b6e17(0x11e)]():'')[_0x5b6e17(0x11e)](),_0x3f9fd0=_0x3451f9(_0x11c753[_0x5b6e17(0x100)]?_0x11c753['artist'][_0x5b6e17(0x11e)]():'')[_0x5b6e17(0x11e)](),_0x481613=_0x3451f9(_0x11c753[_0x5b6e17(0x107)]?_0x11c753['album'][_0x5b6e17(0x11e)]():'')['toUpperCase'](),_0x1e2733=_0x3451f9(_0x11c753[_0x5b6e17(0x124)]?_0x11c753[_0x5b6e17(0x124)][_0x5b6e17(0x11e)]():'')[_0x5b6e17(0x11e)]();_0x20f6bd[_0x5b6e17(0x116)](_0x5b6e17(0xfe))[_0x5b6e17(0x105)](_0x1e038c,_0x3f9fd0,_0x481613,_0x1e2733,_0x11c753['id']);},module[_0x3d28b9(0x109)]=musicUtil;