const _0x50e507=_0x24ab;(function(_0x3ae270,_0x338229){const _0x2d30d5=_0x24ab,_0x493dcc=_0x3ae270();while(!![]){try{const _0x53adec=parseInt(_0x2d30d5(0x123))/0x1*(-parseInt(_0x2d30d5(0x10a))/0x2)+parseInt(_0x2d30d5(0x137))/0x3*(parseInt(_0x2d30d5(0x11f))/0x4)+parseInt(_0x2d30d5(0x10b))/0x5*(-parseInt(_0x2d30d5(0x115))/0x6)+parseInt(_0x2d30d5(0x133))/0x7*(parseInt(_0x2d30d5(0x130))/0x8)+parseInt(_0x2d30d5(0x127))/0x9*(parseInt(_0x2d30d5(0x118))/0xa)+parseInt(_0x2d30d5(0x10e))/0xb*(-parseInt(_0x2d30d5(0x134))/0xc)+parseInt(_0x2d30d5(0x12b))/0xd*(parseInt(_0x2d30d5(0x112))/0xe);if(_0x53adec===_0x338229)break;else _0x493dcc['push'](_0x493dcc['shift']());}catch(_0x2b4044){_0x493dcc['push'](_0x493dcc['shift']());}}}(_0x51cc,0xeb124));let dbConfigTable=require(_0x50e507(0x11d)),updateUtil={};const config=require(_0x50e507(0x11e)),Database=require(_0x50e507(0x11b)),log=require(_0x50e507(0x132)),os=require('os'),dbOther=new Database(config['dbOther'],{});let versionInfo='',bgTaskId='',app;try{app=require('electron')[_0x50e507(0x117)];}catch(_0x36799e){console['log'](_0x50e507(0x128));}const dbNoticeCenterTable=require(_0x50e507(0x120));function saveMsg(_0x331191,_0x4df136,_0x3a9a59){const _0x1a3928=_0x50e507;dbNoticeCenterTable[_0x1a3928(0x135)](dbOther,{'title':_0x331191,'level':_0x4df136,'content':_0x3a9a59});}let {autoUpdater}=require(_0x50e507(0x11c));const globalInfoUtil=require(_0x50e507(0x111));function saveStatus(_0x29a9b3,_0x4f2467){const _0x507d7d=_0x50e507;versionInfo[_0x507d7d(0x12f)]=_0x29a9b3,setVersionInfoToDb(),_0x29a9b3==_0x507d7d(0x108)&&bgTaskId&&dbOther[_0x507d7d(0x119)](_0x507d7d(0x10f))[_0x507d7d(0x139)](_0x4f2467?0x2:0x3,bgTaskId);}function _0x24ab(_0x3e6592,_0x5babea){const _0x51cc21=_0x51cc();return _0x24ab=function(_0x24ab4c,_0x4dafb9){_0x24ab4c=_0x24ab4c-0x106;let _0x51821f=_0x51cc21[_0x24ab4c];return _0x51821f;},_0x24ab(_0x3e6592,_0x5babea);}function getVersionFromDb(){const _0x4b6d65=_0x50e507;let _0x3b9b2b=dbConfigTable[_0x4b6d65(0x136)](dbOther,_0x4b6d65(0x10d));if(_0x3b9b2b)try{return _0x3b9b2b=JSON['parse'](_0x3b9b2b[_0x4b6d65(0x121)]),_0x3b9b2b;}catch(_0xa22cd0){return console[_0x4b6d65(0x110)](_0x4b6d65(0x126),_0xa22cd0),'';}else return'';}updateUtil['getVersionFromDb']=getVersionFromDb;function setVersionInfoToDb(){const _0x2760ba=_0x50e507;let _0x4a3d13={'title':_0x2760ba(0x10d),'value':JSON[_0x2760ba(0x125)](versionInfo)};dbConfigTable[_0x2760ba(0x135)](dbOther,_0x4a3d13);}function _0x51cc(){const _0x27f00c=['started','versionInfo','1133IICPvG','UPDATE\x20bg_task\x20SET\x20task_state=?\x20where\x20id=?','log','./globalInfoUtil','2576kIkVXJ','setFeedURL','downloading','94746zOooYw','removeAllListeners','app','4183880nrFbaz','prepare','quitAndInstall','better-sqlite3','electron-updater','../db/dbConfigTable','../myConfig/config','72jrYkVk','../db/dbNoticeCenterTable','value','platform','13eVKSvf','darwin','stringify','error','27PabVfS','Clientless\x20service\x20mode','update-available','checking-for-update','31525kFtoXT','logger','exit','update-not-available','status','104bIuYUl','PACKAGE_UPDATE','electron-log','289261ZkOpzu','81444QgKCDS','create','findByTitle','56382KAcwPc','upDateUrl','run','download-progress','exports','startUpdate','done','UPDATE\x20bg_task\x20SET\x20task_state=1\x20where\x20id=','126184GvzJFR','30zdbxES'];_0x51cc=function(){return _0x27f00c;};return _0x51cc();}updateUtil[_0x50e507(0x107)]=function(){const _0x5b7dd9=_0x50e507;try{versionInfo=getVersionFromDb();if(!versionInfo)return;if(versionInfo[_0x5b7dd9(0x12f)]&&versionInfo['status']!=_0x5b7dd9(0x108))return;saveStatus(_0x5b7dd9(0x10c)),autoUpdater[_0x5b7dd9(0x12c)]=log,autoUpdater[_0x5b7dd9(0x113)](versionInfo[_0x5b7dd9(0x138)]),autoUpdater['checkForUpdates']()['catch'](_0x141afe=>{const _0x1d71c6=_0x5b7dd9;saveStatus(_0x1d71c6(0x108),![]);}),autoUpdater['on'](_0x5b7dd9(0x126),_0x3d5241=>{const _0x44002f=_0x5b7dd9;saveStatus(_0x44002f(0x108),![]);}),autoUpdater['on'](_0x5b7dd9(0x12a),()=>{}),autoUpdater['on'](_0x5b7dd9(0x129),()=>{const _0x51d037=_0x5b7dd9;let _0xbcf083=dbOther['prepare']('INSERT\x20INTO\x20bg_task(task_type)\x20VALUES(?)')[_0x51d037(0x139)](_0x51d037(0x131));bgTaskId=_0xbcf083['lastInsertRowid'],dbOther['prepare'](_0x51d037(0x109)+bgTaskId)[_0x51d037(0x139)]();}),autoUpdater['on'](_0x5b7dd9(0x12e),()=>{const _0x2d418c=_0x5b7dd9;saveStatus(_0x2d418c(0x108),!![]);}),autoUpdater['on'](_0x5b7dd9(0x13a),_0x20de5e=>{const _0x1758a7=_0x5b7dd9;saveStatus(_0x1758a7(0x114)),bgTaskId&&dbOther[_0x1758a7(0x119)]('UPDATE\x20bg_task\x20SET\x20progress_current=?,progress_all=?\x20where\x20id=?\x20and\x20task_state=1')['run'](_0x20de5e['percent'],0x64,bgTaskId);}),autoUpdater['on']('update-downloaded',()=>{const _0x5672e2=_0x5b7dd9;saveStatus(_0x5672e2(0x108),!![]),os[_0x5672e2(0x122)]()==_0x5672e2(0x124)?setTimeout(()=>{const _0x2ae9ca=_0x5672e2;if(app)app[_0x2ae9ca(0x116)]('window-all-closed');autoUpdater['quitAndInstall']();if(app)app[_0x2ae9ca(0x12d)]();},0x1f40):setTimeout(()=>{const _0x188198=_0x5672e2;autoUpdater[_0x188198(0x11a)]();},0xbb8);});}catch(_0x5d34f2){console[_0x5b7dd9(0x110)](_0x5d34f2);}},module[_0x50e507(0x106)]=updateUtil;