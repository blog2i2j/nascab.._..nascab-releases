const _0x1fce23=_0x2443;function _0xc7ec(){const _0x134c2e=['ExifImageHeight','startsWith','439838MCBtwp','DateTimeOriginal','match','43102785noVMNr','60kthhKz','180','2474670awOLaB','mode','2399515eeYJmC','originalTime','indexOf','10233StIssA','substring','height','filename','5792neyiaW','Model','CameraOrientation','extractTimestampFromFilename','path','log','parse','getRotateFromTags','ImageHeight','getTime','12FVTGeW','longitude','exifr异常','exports','sharp','2756302PUHtOn','width','sharpGetExifInfo','1pUalzm','then','4CLpWdW','exifrGetExifInfo','270','length','catch','exifr','CreateDate','4561680FtxAtP'];_0xc7ec=function(){return _0x134c2e;};return _0xc7ec();}(function(_0x354a64,_0x40cd22){const _0x36330a=_0x2443,_0x60864f=_0x354a64();while(!![]){try{const _0xb13d87=-parseInt(_0x36330a(0xfb))/0x1*(parseInt(_0x36330a(0xf8))/0x2)+parseInt(_0x36330a(0xe0))/0x3+parseInt(_0x36330a(0xfd))/0x4*(-parseInt(_0x36330a(0xe2))/0x5)+-parseInt(_0x36330a(0xde))/0x6*(parseInt(_0x36330a(0xda))/0x7)+-parseInt(_0x36330a(0xe9))/0x8*(parseInt(_0x36330a(0xe5))/0x9)+-parseInt(_0x36330a(0xd7))/0xa+parseInt(_0x36330a(0xdd))/0xb*(parseInt(_0x36330a(0xf3))/0xc);if(_0xb13d87===_0x40cd22)break;else _0x60864f['push'](_0x60864f['shift']());}catch(_0xbebb79){_0x60864f['push'](_0x60864f['shift']());}}}(_0xc7ec,0xeeaa7));function _0x2443(_0x2bb896,_0x580970){const _0xc7ecbe=_0xc7ec();return _0x2443=function(_0x244311,_0x37540b){_0x244311=_0x244311-0xd6;let _0x38ddbf=_0xc7ecbe[_0x244311];return _0x38ddbf;},_0x2443(_0x2bb896,_0x580970);}const path=require(_0x1fce23(0xed));let exifUtils={};var exifr=require(_0x1fce23(0x102));const sharp=require(_0x1fce23(0xf7));exifUtils[_0x1fce23(0xf0)]=function(_0x2a2848){const _0x1aeba0=_0x1fce23;let _0x42cb13=0x0;if(!_0x2a2848)return null;if(_0x2a2848[_0x1aeba0(0xeb)]){if(_0x2a2848['CameraOrientation']['indexOf']('90')!=-0x1)_0x42cb13=0x5a;else{if(_0x2a2848[_0x1aeba0(0xeb)]['indexOf'](_0x1aeba0(0xdf))!=-0x1)_0x42cb13=0xb4;else _0x2a2848[_0x1aeba0(0xeb)][_0x1aeba0(0xe4)](_0x1aeba0(0xff))!=-0x1&&(_0x42cb13=0x10e);}}return _0x42cb13;},exifUtils[_0x1fce23(0xfa)]=function(_0xc952b6,_0x560ba2,_0x387f25,_0x355d6f){const _0x5f3a62=_0x1fce23;sharp(_0xc952b6,{'failOnError':![]})['metadata']()[_0x5f3a62(0xfc)](_0x581dd5=>{const _0x2b927c=_0x5f3a62;_0x581dd5[_0x2b927c(0xf9)]&&_0x581dd5[_0x2b927c(0xe7)]&&_0x581dd5['width']!=_0x560ba2['width']&&_0x581dd5[_0x2b927c(0xf9)]>0x0&&(_0x560ba2[_0x2b927c(0xf9)]=_0x581dd5[_0x2b927c(0xf9)],_0x560ba2[_0x2b927c(0xe7)]=_0x581dd5[_0x2b927c(0xe7)]),_0x387f25({'tags':_0x581dd5,'dealedIndexObj':_0x560ba2});})['catch'](_0xc9af9c=>{_0x387f25({'tags':null,'dealedIndexObj':_0x560ba2});});},exifUtils[_0x1fce23(0xec)]=function(_0x28fd1b,_0x2402c7){const _0x4d3ac0=_0x1fce23;try{const _0x104cc2=_0x2402c7[_0x4d3ac0(0xdc)](_0x28fd1b);if(_0x104cc2){const _0x4f07f2=_0x104cc2[0x0];let _0x11fb60=null;if(_0x4f07f2&&_0x4f07f2[_0x4d3ac0(0x100)]==0x8){const _0x32ba31=_0x4f07f2[_0x4d3ac0(0xe6)](0x0,0x4),_0x44ecaa=_0x4f07f2['substring'](0x4,0x6),_0x3cc0b1=_0x4f07f2['substring'](0x6,0x8);_0x11fb60=new Date(_0x32ba31,parseInt(_0x44ecaa,0xa)-0x1,_0x3cc0b1);}else{if(_0x4f07f2&&_0x4f07f2[_0x4d3ac0(0x100)]==0x8)_0x11fb60=new Date(_0x4f07f2);else{if(_0x4f07f2&&_0x4f07f2[_0x4d3ac0(0x100)]==0xd)_0x11fb60=new Date(parseInt(_0x4f07f2));else{if(_0x4f07f2&&_0x4f07f2['length']==0xa)_0x11fb60=new Date(parseInt(_0x4f07f2)*0x3e8);else{if(_0x4f07f2&&_0x4f07f2[_0x4d3ac0(0x100)]==0xf&&_0x4f07f2[_0x4d3ac0(0xd9)]('_')){const [,_0x3e521f,_0x6215ff]=_0x104cc2,_0x544f53=_0x3e521f['substring'](0x0,0x4)+'-'+_0x3e521f['substring'](0x4,0x6)+'-'+_0x3e521f[_0x4d3ac0(0xe6)](0x6,0x8)+'\x20'+_0x6215ff[_0x4d3ac0(0xe6)](0x0,0x2)+':'+_0x6215ff[_0x4d3ac0(0xe6)](0x2,0x4)+':'+_0x6215ff[_0x4d3ac0(0xe6)](0x4,0x6);console[_0x4d3ac0(0xee)](_0x544f53),_0x11fb60=new Date(_0x544f53);}else{if(_0x4f07f2&&_0x4f07f2['length']==0xe){const [,_0x3a1ddd,_0x36c857]=_0x104cc2,_0x79dbf8=_0x3a1ddd['substring'](0x0,0x4)+'-'+_0x3a1ddd[_0x4d3ac0(0xe6)](0x4,0x6)+'-'+_0x3a1ddd[_0x4d3ac0(0xe6)](0x6,0x8)+'\x20'+_0x36c857[_0x4d3ac0(0xe6)](0x0,0x2)+':'+_0x36c857[_0x4d3ac0(0xe6)](0x2,0x4)+':'+_0x36c857[_0x4d3ac0(0xe6)](0x4,0x6);console[_0x4d3ac0(0xee)](_0x79dbf8),_0x11fb60=new Date(_0x79dbf8);}else{if(_0x4f07f2&&_0x4f07f2[_0x4d3ac0(0x100)]==0x10){console[_0x4d3ac0(0xee)](_0x104cc2);const [,_0x3075c2,_0x49c111]=_0x104cc2,_0x349fd3=_0x3075c2['substring'](0x0,0x4)+'-'+_0x3075c2[_0x4d3ac0(0xe6)](0x4,0x6)+'-'+_0x3075c2[_0x4d3ac0(0xe6)](0x6,0x8)+'\x20'+_0x49c111[_0x4d3ac0(0xe6)](0x0,0x2)+':'+_0x49c111[_0x4d3ac0(0xe6)](0x2,0x4)+':'+_0x49c111[_0x4d3ac0(0xe6)](0x4,0x6);console['log'](_0x349fd3),_0x11fb60=new Date(_0x349fd3);}}}}}}}if(!_0x11fb60)return null;const _0x5e1f96=new Date()['getFullYear']();let _0x324f07=_0x11fb60['getFullYear']();if(!_0x324f07||_0x324f07<0x7b2||_0x324f07>_0x5e1f96)return null;if(!isNaN(_0x11fb60[_0x4d3ac0(0xf2)]()))return _0x11fb60[_0x4d3ac0(0xf2)]();}return null;}catch(_0x56a1d1){return console['log'](_0x56a1d1),null;}},exifUtils[_0x1fce23(0xfe)]=function(_0x7b8243,_0x7992ea,_0x375a22,_0x4f0679){const _0x483586=_0x1fce23;let _0x5ab1bd=![];try{exifr[_0x483586(0xef)](_0x7b8243)[_0x483586(0xfc)](_0x4b027f=>{const _0x5c3f4a=_0x483586;_0x4b027f&&(_0x7992ea[_0x5c3f4a(0xe1)]=_0x4b027f[_0x5c3f4a(0xea)],_0x7992ea['latitude']=_0x4b027f['latitude'],_0x7992ea[_0x5c3f4a(0xf4)]=_0x4b027f[_0x5c3f4a(0xf4)],_0x7992ea[_0x5c3f4a(0xf9)]=_0x4b027f['ImageWidth']||_0x4b027f['ExifImageWidth'],_0x7992ea[_0x5c3f4a(0xe7)]=_0x4b027f[_0x5c3f4a(0xf1)]||_0x4b027f[_0x5c3f4a(0xd8)],_0x5ab1bd=_0x4b027f[_0x5c3f4a(0xdb)],_0x4b027f[_0x5c3f4a(0xd6)]&&!_0x5ab1bd&&(_0x5ab1bd=_0x4b027f[_0x5c3f4a(0xd6)]));if(!_0x5ab1bd){const _0x3a8ac1=/(\d{4}-\d{2}-\d{2})/,_0x4311b1=exifUtils[_0x5c3f4a(0xec)](_0x3a8ac1,_0x7992ea[_0x5c3f4a(0xe8)]);_0x4311b1&&(_0x5ab1bd=_0x4311b1);}if(!_0x5ab1bd){const _0x12e24c=/_(\d{8})_(\d{6})/,_0x217fb0=exifUtils[_0x5c3f4a(0xec)](_0x12e24c,_0x7992ea[_0x5c3f4a(0xe8)]);_0x217fb0&&(_0x5ab1bd=_0x217fb0);}if(!_0x5ab1bd){const _0x3e36ea=/_(\d{8})(\d{6})/,_0x1cfb67=exifUtils[_0x5c3f4a(0xec)](_0x3e36ea,_0x7992ea[_0x5c3f4a(0xe8)]);_0x1cfb67&&(_0x5ab1bd=_0x1cfb67);}if(!_0x5ab1bd){const _0x3bb0ce=/(\d{8})(\d{6})/,_0x162242=exifUtils['extractTimestampFromFilename'](_0x3bb0ce,_0x7992ea['filename']);_0x162242&&(_0x5ab1bd=_0x162242);}if(!_0x5ab1bd){const _0x2d96ae=/(\d{13}|\d{10})/,_0x5db9bd=exifUtils[_0x5c3f4a(0xec)](_0x2d96ae,_0x7992ea['filename']);_0x5db9bd&&(_0x5ab1bd=_0x5db9bd);}if(!_0x5ab1bd){const _0x244bd6=/(\d{4})(\d{2})(\d{2})/,_0x57f241=exifUtils[_0x5c3f4a(0xec)](_0x244bd6,_0x7992ea[_0x5c3f4a(0xe8)]);_0x57f241&&(_0x5ab1bd=_0x57f241);}function _0x1e101e(){const _0x430149=_0x5c3f4a;if(_0x5ab1bd)try{_0x5ab1bd=new Date(_0x5ab1bd)[_0x430149(0xf2)](),_0x7992ea[_0x430149(0xe3)]=_0x5ab1bd;}catch(_0x2898f7){console[_0x430149(0xee)](_0x2898f7),_0x7992ea[_0x430149(0xe3)]='';}if(!_0x7992ea[_0x430149(0xf9)]||!_0x7992ea[_0x430149(0xe7)])return exifUtils['sharpGetExifInfo'](_0x7b8243,_0x7992ea,_0x375a22,_0x4f0679);else _0x375a22({'tags':_0x4b027f,'dealedIndexObj':_0x7992ea});}sharp(_0x7b8243,{'failOnError':![]})['metadata']()[_0x5c3f4a(0xfc)](_0x3ab481=>{const _0x2d93c4=_0x5c3f4a;_0x3ab481[_0x2d93c4(0xf9)]&&_0x3ab481[_0x2d93c4(0xe7)]&&_0x3ab481[_0x2d93c4(0xf9)]!=_0x7992ea[_0x2d93c4(0xf9)]&&_0x3ab481[_0x2d93c4(0xf9)]>0x0&&(_0x7992ea['width']=_0x3ab481[_0x2d93c4(0xf9)],_0x7992ea[_0x2d93c4(0xe7)]=_0x3ab481[_0x2d93c4(0xe7)]),_0x1e101e();})[_0x5c3f4a(0x101)](_0x324805=>{const _0x58a00a=_0x5c3f4a;console[_0x58a00a(0xee)](_0x324805),_0x1e101e();});})['catch'](_0x446b11=>{const _0x45b9e9=_0x483586;return console[_0x45b9e9(0xee)](_0x45b9e9(0xf5),_0x446b11),exifUtils[_0x45b9e9(0xfa)](_0x7b8243,_0x7992ea,_0x375a22,_0x4f0679);});}catch(_0x515e42){return console[_0x483586(0xee)](_0x483586(0xf5),_0x515e42),exifUtils['sharpGetExifInfo'](_0x7b8243,_0x7992ea,_0x375a22,_0x4f0679);}},exifUtils['getExifInfo']=function(_0x2f87b6,_0x5d82ed){return new Promise((_0xea5f75,_0x14b6a1)=>{const _0x39f7a3=_0x2443;exifUtils[_0x39f7a3(0xfe)](_0x2f87b6,_0x5d82ed,_0xea5f75);return;});},module[_0x1fce23(0xf6)]=exifUtils;