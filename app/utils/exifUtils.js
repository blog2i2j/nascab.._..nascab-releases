const _0x2ce008=_0x2025;(function(_0x25ce30,_0x21ae03){const _0x9a4b42=_0x2025,_0x247ee1=_0x25ce30();while(!![]){try{const _0x4eade6=-parseInt(_0x9a4b42(0xbc))/0x1*(parseInt(_0x9a4b42(0xd0))/0x2)+parseInt(_0x9a4b42(0xc0))/0x3*(-parseInt(_0x9a4b42(0xd9))/0x4)+-parseInt(_0x9a4b42(0xd6))/0x5*(-parseInt(_0x9a4b42(0xbe))/0x6)+parseInt(_0x9a4b42(0xda))/0x7*(-parseInt(_0x9a4b42(0xce))/0x8)+parseInt(_0x9a4b42(0xc2))/0x9*(parseInt(_0x9a4b42(0xcb))/0xa)+-parseInt(_0x9a4b42(0xd7))/0xb+parseInt(_0x9a4b42(0xe0))/0xc*(parseInt(_0x9a4b42(0xdf))/0xd);if(_0x4eade6===_0x21ae03)break;else _0x247ee1['push'](_0x247ee1['shift']());}catch(_0x3274f6){_0x247ee1['push'](_0x247ee1['shift']());}}}(_0xff07,0x62b0e));function _0x2025(_0x1b919d,_0x45f648){const _0xff0757=_0xff07();return _0x2025=function(_0x202579,_0x440bf2){_0x202579=_0x202579-0xb4;let _0x233420=_0xff0757[_0x202579];return _0x233420;},_0x2025(_0x1b919d,_0x45f648);}function _0xff07(){const _0x559376=['metadata','10YvZsjq','DateTimeOriginal','originalTime','664hojpte','height','2rRLoFQ','ImageHeight','length','log','180','extractTimestampFromFilename','15xJOwUA','1262382YutZek','filename','2787368hysHGe','19040vkkxDo','match','mode','longitude','exifr','13LmjegR','8175012ERyXMf','sharp','exports','getFullYear','270','width','sharpGetExifInfo','ImageWidth','catch','155413TbivGA','parse','1018806UKhnhf','then','3CddoKF','latitude','3657249MaXTqz','indexOf','startsWith','CameraOrientation','getTime','getRotateFromTags','exifr异常','substring'];_0xff07=function(){return _0x559376;};return _0xff07();}const path=require('path');let exifUtils={};var exifr=require(_0x2ce008(0xde));const sharp=require(_0x2ce008(0xb4));exifUtils[_0x2ce008(0xc7)]=function(_0x2c432e){const _0x559223=_0x2ce008;let _0x3cec21=0x0;if(!_0x2c432e)return null;if(_0x2c432e['CameraOrientation']){if(_0x2c432e['CameraOrientation'][_0x559223(0xc3)]('90')!=-0x1)_0x3cec21=0x5a;else{if(_0x2c432e[_0x559223(0xc5)][_0x559223(0xc3)](_0x559223(0xd4))!=-0x1)_0x3cec21=0xb4;else _0x2c432e[_0x559223(0xc5)]['indexOf'](_0x559223(0xb7))!=-0x1&&(_0x3cec21=0x10e);}}return _0x3cec21;},exifUtils['sharpGetExifInfo']=function(_0x34a117,_0x4ce764,_0xbe4daa,_0x11346e){const _0x47fa90=_0x2ce008;sharp(_0x34a117,{'failOnError':![]})[_0x47fa90(0xca)]()[_0x47fa90(0xbf)](_0x535493=>{const _0x347103=_0x47fa90;_0x535493[_0x347103(0xb8)]&&_0x535493['height']&&_0x535493[_0x347103(0xb8)]!=_0x4ce764[_0x347103(0xb8)]&&_0x535493[_0x347103(0xb8)]>0x0&&(_0x4ce764[_0x347103(0xb8)]=_0x535493[_0x347103(0xb8)],_0x4ce764[_0x347103(0xcf)]=_0x535493['height']),_0xbe4daa({'tags':_0x535493,'dealedIndexObj':_0x4ce764});})[_0x47fa90(0xbb)](_0x41ac34=>{_0xbe4daa({'tags':null,'dealedIndexObj':_0x4ce764});});},exifUtils['extractTimestampFromFilename']=function(_0x3d1b7d,_0x368c20){const _0x3b2fdf=_0x2ce008;try{const _0x3099b3=_0x368c20[_0x3b2fdf(0xdb)](_0x3d1b7d);if(_0x3099b3){const _0x4e8b5b=_0x3099b3[0x0];let _0x256a92=null;if(_0x4e8b5b&&_0x4e8b5b[_0x3b2fdf(0xd2)]==0x8){const _0x5bbe9b=_0x4e8b5b['substring'](0x0,0x4),_0xa02e02=_0x4e8b5b[_0x3b2fdf(0xc9)](0x4,0x6),_0x43beed=_0x4e8b5b[_0x3b2fdf(0xc9)](0x6,0x8);_0x256a92=new Date(_0x5bbe9b,parseInt(_0xa02e02,0xa)-0x1,_0x43beed);}else{if(_0x4e8b5b&&_0x4e8b5b[_0x3b2fdf(0xd2)]==0x8)_0x256a92=new Date(_0x4e8b5b);else{if(_0x4e8b5b&&_0x4e8b5b[_0x3b2fdf(0xd2)]==0xd)_0x256a92=new Date(parseInt(_0x4e8b5b));else{if(_0x4e8b5b&&_0x4e8b5b['length']==0xa)_0x256a92=new Date(parseInt(_0x4e8b5b)*0x3e8);else{if(_0x4e8b5b&&_0x4e8b5b['length']==0xf&&_0x4e8b5b[_0x3b2fdf(0xc4)]('_')){const [,_0x49363b,_0x27855e]=_0x3099b3,_0x429f97=_0x49363b[_0x3b2fdf(0xc9)](0x0,0x4)+'-'+_0x49363b['substring'](0x4,0x6)+'-'+_0x49363b[_0x3b2fdf(0xc9)](0x6,0x8)+'\x20'+_0x27855e[_0x3b2fdf(0xc9)](0x0,0x2)+':'+_0x27855e[_0x3b2fdf(0xc9)](0x2,0x4)+':'+_0x27855e[_0x3b2fdf(0xc9)](0x4,0x6);console['log'](_0x429f97),_0x256a92=new Date(_0x429f97);}else{if(_0x4e8b5b&&_0x4e8b5b[_0x3b2fdf(0xd2)]==0xe){const [,_0x181f72,_0x529246]=_0x3099b3,_0x10a605=_0x181f72[_0x3b2fdf(0xc9)](0x0,0x4)+'-'+_0x181f72['substring'](0x4,0x6)+'-'+_0x181f72['substring'](0x6,0x8)+'\x20'+_0x529246[_0x3b2fdf(0xc9)](0x0,0x2)+':'+_0x529246[_0x3b2fdf(0xc9)](0x2,0x4)+':'+_0x529246['substring'](0x4,0x6);console[_0x3b2fdf(0xd3)](_0x10a605),_0x256a92=new Date(_0x10a605);}else{if(_0x4e8b5b&&_0x4e8b5b[_0x3b2fdf(0xd2)]==0x10){console['log'](_0x3099b3);const [,_0x545e16,_0x2d3cfb]=_0x3099b3,_0x1ef3ac=_0x545e16[_0x3b2fdf(0xc9)](0x0,0x4)+'-'+_0x545e16[_0x3b2fdf(0xc9)](0x4,0x6)+'-'+_0x545e16[_0x3b2fdf(0xc9)](0x6,0x8)+'\x20'+_0x2d3cfb['substring'](0x0,0x2)+':'+_0x2d3cfb[_0x3b2fdf(0xc9)](0x2,0x4)+':'+_0x2d3cfb[_0x3b2fdf(0xc9)](0x4,0x6);console['log'](_0x1ef3ac),_0x256a92=new Date(_0x1ef3ac);}}}}}}}if(!_0x256a92)return null;const _0x59e60c=new Date()[_0x3b2fdf(0xb6)]();let _0x47efa5=_0x256a92[_0x3b2fdf(0xb6)]();if(!_0x47efa5||_0x47efa5<0x7b2||_0x47efa5>_0x59e60c)return null;if(!isNaN(_0x256a92[_0x3b2fdf(0xc6)]()))return _0x256a92['getTime']();}return null;}catch(_0x39c1eb){return console[_0x3b2fdf(0xd3)](_0x39c1eb),null;}},exifUtils['exifrGetExifInfo']=function(_0x44b72f,_0x2ddf22,_0x510b80,_0x551594){const _0x5425a7=_0x2ce008;let _0x31749a=![];try{exifr[_0x5425a7(0xbd)](_0x44b72f)['then'](_0x2dffe6=>{const _0x2d89bd=_0x5425a7;_0x2dffe6&&(_0x2ddf22[_0x2d89bd(0xdc)]=_0x2dffe6['Model'],_0x2ddf22[_0x2d89bd(0xc1)]=_0x2dffe6['latitude'],_0x2ddf22[_0x2d89bd(0xdd)]=_0x2dffe6['longitude'],_0x2ddf22[_0x2d89bd(0xb8)]=_0x2dffe6[_0x2d89bd(0xba)]||_0x2dffe6['ExifImageWidth'],_0x2ddf22[_0x2d89bd(0xcf)]=_0x2dffe6[_0x2d89bd(0xd1)]||_0x2dffe6['ExifImageHeight'],_0x31749a=_0x2dffe6[_0x2d89bd(0xcc)],_0x2dffe6['CreateDate']&&!_0x31749a&&(_0x31749a=_0x2dffe6['CreateDate']));if(!_0x31749a){const _0x1cd62e=/(\d{4}-\d{2}-\d{2})/,_0x3d2f88=exifUtils[_0x2d89bd(0xd5)](_0x1cd62e,_0x2ddf22['filename']);_0x3d2f88&&(_0x31749a=_0x3d2f88);}if(!_0x31749a){const _0x414534=/_(\d{8})_(\d{6})/,_0x3c5fca=exifUtils[_0x2d89bd(0xd5)](_0x414534,_0x2ddf22['filename']);_0x3c5fca&&(_0x31749a=_0x3c5fca);}if(!_0x31749a){const _0xb9f77f=/_(\d{8})(\d{6})/,_0x2fd273=exifUtils[_0x2d89bd(0xd5)](_0xb9f77f,_0x2ddf22[_0x2d89bd(0xd8)]);_0x2fd273&&(_0x31749a=_0x2fd273);}if(!_0x31749a){const _0xbd067e=/(\d{8})(\d{6})/,_0x31ce46=exifUtils[_0x2d89bd(0xd5)](_0xbd067e,_0x2ddf22[_0x2d89bd(0xd8)]);_0x31ce46&&(_0x31749a=_0x31ce46);}if(!_0x31749a){const _0x109bf3=/(\d{13}|\d{10})/,_0x4f1e3d=exifUtils['extractTimestampFromFilename'](_0x109bf3,_0x2ddf22[_0x2d89bd(0xd8)]);_0x4f1e3d&&(_0x31749a=_0x4f1e3d);}if(!_0x31749a){const _0x35ca95=/(\d{4})(\d{2})(\d{2})/,_0x38d522=exifUtils['extractTimestampFromFilename'](_0x35ca95,_0x2ddf22['filename']);_0x38d522&&(_0x31749a=_0x38d522);}function _0x1998b8(){const _0x28b92f=_0x2d89bd;if(_0x31749a)try{_0x31749a=new Date(_0x31749a)['getTime'](),_0x2ddf22['originalTime']=_0x31749a;}catch(_0x29ff77){console['log'](_0x29ff77),_0x2ddf22[_0x28b92f(0xcd)]='';}if(!_0x2ddf22[_0x28b92f(0xb8)]||!_0x2ddf22[_0x28b92f(0xcf)])return exifUtils['sharpGetExifInfo'](_0x44b72f,_0x2ddf22,_0x510b80,_0x551594);else _0x510b80({'tags':_0x2dffe6,'dealedIndexObj':_0x2ddf22});}sharp(_0x44b72f,{'failOnError':![]})['metadata']()[_0x2d89bd(0xbf)](_0x2979ec=>{const _0x63e813=_0x2d89bd;_0x2979ec['width']&&_0x2979ec['height']&&_0x2979ec[_0x63e813(0xb8)]!=_0x2ddf22[_0x63e813(0xb8)]&&_0x2979ec[_0x63e813(0xb8)]>0x0&&(_0x2ddf22['width']=_0x2979ec[_0x63e813(0xb8)],_0x2ddf22['height']=_0x2979ec[_0x63e813(0xcf)]),_0x1998b8();})[_0x2d89bd(0xbb)](_0x3ee0d7=>{const _0x18a014=_0x2d89bd;console[_0x18a014(0xd3)](_0x3ee0d7),_0x1998b8();});})[_0x5425a7(0xbb)](_0x248fdb=>{const _0x37981b=_0x5425a7;return console[_0x37981b(0xd3)](_0x37981b(0xc8),_0x248fdb),exifUtils[_0x37981b(0xb9)](_0x44b72f,_0x2ddf22,_0x510b80,_0x551594);});}catch(_0x1ce093){return console[_0x5425a7(0xd3)](_0x5425a7(0xc8),_0x1ce093),exifUtils[_0x5425a7(0xb9)](_0x44b72f,_0x2ddf22,_0x510b80,_0x551594);}},exifUtils['getExifInfo']=function(_0x5ac68d,_0x40ef3b){return new Promise((_0x55dee6,_0x462835)=>{exifUtils['exifrGetExifInfo'](_0x5ac68d,_0x40ef3b,_0x55dee6);return;});},module[_0x2ce008(0xb5)]=exifUtils;