const _0x2ed648=_0x14f8;function _0x14f8(_0x2614bb,_0x51dca7){const _0x1f53ab=_0x1f53();return _0x14f8=function(_0x14f81c,_0x406d4b){_0x14f81c=_0x14f81c-0xff;let _0x30800f=_0x1f53ab[_0x14f81c];return _0x30800f;},_0x14f8(_0x2614bb,_0x51dca7);}(function(_0x3c379a,_0x29084b){const _0x5c4f91=_0x14f8,_0x4681b5=_0x3c379a();while(!![]){try{const _0x441ce1=-parseInt(_0x5c4f91(0x104))/0x1+-parseInt(_0x5c4f91(0x122))/0x2+-parseInt(_0x5c4f91(0x11d))/0x3+parseInt(_0x5c4f91(0x11b))/0x4+-parseInt(_0x5c4f91(0x108))/0x5+-parseInt(_0x5c4f91(0x10a))/0x6+-parseInt(_0x5c4f91(0x10f))/0x7*(-parseInt(_0x5c4f91(0x11c))/0x8);if(_0x441ce1===_0x29084b)break;else _0x4681b5['push'](_0x4681b5['shift']());}catch(_0x18e928){_0x4681b5['push'](_0x4681b5['shift']());}}}(_0x1f53,0x975dc));const path=require(_0x2ed648(0x101));let zipEpubUtil={};const sharp=require(_0x2ed648(0x10c)),fs=require('fs'),config=require(_0x2ed648(0x10e)),EPub=require(_0x2ed648(0x116)),{JSDOM}=require(_0x2ed648(0x11a));function _0x1f53(){const _0x396ba5=['parse','133108WcRvjr','src','img','getFile','5059535vBPYVF','.jpg','6591972cDVeXL','manifest','sharp','querySelectorAll','../myConfig/config','14kKkYQl','getEpubFile','.html','window','flow','extname','hasOwnProperty','epub','forEach','toLowerCase','getAttribute','jsdom','4547268kFyMVv','14557536ZlzBhK','2155503qqYAUt','href','getEpubImageList','replaceAll','endsWith','2388054kxWUHk','未找到epub清单文件','exports','push','log','document','../','path','end'];_0x1f53=function(){return _0x396ba5;};return _0x1f53();}zipEpubUtil[_0x2ed648(0x110)]=(_0x21529a,_0x429a61)=>{return new Promise((_0x5b45ae,_0x2ada66)=>{const _0x4ebd06=_0x14f8;_0x21529a[_0x4ebd06(0x107)](_0x429a61,(_0x2fc51a,_0x3a20d9,_0x38db37)=>{if(_0x2fc51a)return _0x5b45ae(null);_0x5b45ae(_0x3a20d9,_0x38db37);});});},zipEpubUtil[_0x2ed648(0x11f)]=_0x5e60e2=>{return new Promise(async(_0x51f5c8,_0x1ea5ad)=>{const _0x19e079=_0x14f8;let _0x3a088e=[],_0x1f6bb0=new EPub(_0x5e60e2);_0x1f6bb0['on'](_0x19e079(0x102),async()=>{const _0xd838e1=_0x19e079;!_0x1f6bb0['flow']&&console['log'](_0xd838e1(0x123));for(let _0x48cdab of _0x1f6bb0[_0xd838e1(0x113)]){if(!_0x48cdab[_0xd838e1(0x11e)]||!_0x48cdab['id'])continue;let _0x12d23d=path[_0xd838e1(0x114)](_0x48cdab[_0xd838e1(0x11e)]);if(!_0x12d23d)continue;_0x12d23d=_0x12d23d[_0xd838e1(0x118)]();if(_0x12d23d==_0xd838e1(0x111)){let _0x54c543=await zipEpubUtil[_0xd838e1(0x110)](_0x1f6bb0,_0x48cdab['id']);try{const _0x5cd55e=new JSDOM(_0x54c543),_0x6b841a=_0x5cd55e[_0xd838e1(0x112)][_0xd838e1(0xff)],_0x4160ab=_0x6b841a[_0xd838e1(0x10d)](_0xd838e1(0x106));_0x4160ab[_0xd838e1(0x117)](_0x4ed58c=>{const _0x1d743d=_0xd838e1;let _0x49942d=_0x4ed58c[_0x1d743d(0x119)](_0x1d743d(0x105));_0x49942d&&(_0x49942d=_0x49942d[_0x1d743d(0x120)](_0x1d743d(0x100),''),_0x3a088e[_0x1d743d(0x125)](_0x49942d));});}catch(_0x415bf8){console[_0xd838e1(0x126)](_0x415bf8);}}else{if(_0x12d23d==_0xd838e1(0x109)){let _0x1680f9=_0x48cdab[_0xd838e1(0x11e)][_0xd838e1(0x120)](_0xd838e1(0x100),'');_0x3a088e[_0xd838e1(0x125)](_0x1680f9);}}}let _0x511ea5=[];if(_0x1f6bb0[_0xd838e1(0x10b)]&&_0x1f6bb0[_0xd838e1(0x10b)]instanceof Object)for(let _0x227f0b of _0x3a088e){for(const _0xb1a709 in _0x1f6bb0[_0xd838e1(0x10b)]){if(_0x1f6bb0[_0xd838e1(0x10b)][_0xd838e1(0x115)](_0xb1a709)){let _0x1642be=_0x1f6bb0[_0xd838e1(0x10b)][_0xb1a709];if(_0x1642be[_0xd838e1(0x11e)]&&(_0x1642be['href']==_0x227f0b||_0x1642be[_0xd838e1(0x11e)][_0xd838e1(0x121)]('/'+_0x227f0b))){_0x511ea5['push'](_0x1642be[_0xd838e1(0x11e)]);break;}}}}else _0x511ea5=_0x3a088e;_0x51f5c8(_0x511ea5);}),_0x1f6bb0[_0x19e079(0x103)]();});},module[_0x2ed648(0x124)]=zipEpubUtil;