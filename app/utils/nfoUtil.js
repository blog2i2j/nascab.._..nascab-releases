const _0x274795=_0x2e3c;(function(_0x2885a9,_0xd3dc76){const _0x268097=_0x2e3c,_0x1b21f8=_0x2885a9();while(!![]){try{const _0x1ff905=parseInt(_0x268097(0x11f))/0x1*(parseInt(_0x268097(0x11b))/0x2)+parseInt(_0x268097(0x154))/0x3*(-parseInt(_0x268097(0x105))/0x4)+parseInt(_0x268097(0x125))/0x5*(parseInt(_0x268097(0x139))/0x6)+parseInt(_0x268097(0x136))/0x7*(parseInt(_0x268097(0xf5))/0x8)+-parseInt(_0x268097(0xfa))/0x9+-parseInt(_0x268097(0x106))/0xa*(-parseInt(_0x268097(0x13a))/0xb)+-parseInt(_0x268097(0x131))/0xc;if(_0x1ff905===_0xd3dc76)break;else _0x1b21f8['push'](_0x1b21f8['shift']());}catch(_0x584e67){_0x1b21f8['push'](_0x1b21f8['shift']());}}}(_0x3e3e,0x5d507));let fs=require('fs'),path=require(_0x274795(0x14f)),nfoUtil={},movieSeasonUtil=require(_0x274795(0xfd));function _0x3e3e(){const _0x10072f=['118745dMZjUR','tag','actor','language','filename','join','\x20/\x20','movie_name','movie_imdb_id','showtitle','directorsOriginal','localtitle','languages','IMAGE_URL','length','introduction','genre','movie','saveNfoFile','artist','actors','path','lastIndexOf','stat','isbn','parse','34929hLvWwa','tvshow','plot','actorsOriginal','nfoInfo.vote_average','nfo读取失败','releasedate','tmdbid','seasonNumber','year','363400vRnURb','biography','title','nfo缓存失败','dirname','6859989zhdyuj','directors','review','../utils/movieSeasonUtil','imdbid','rating','episodedetails','fast-xml-parser','basename','tvshow.nfo','split','4wdmAKK','310dCJLqp','guestActorsOriginal','storyline','substring','build','exports','country','parseNfoTvSeries','writeFile','log','originalname','book','enddate','publisher','name','profile_path','genres','guestactors','.nfo','saveBookNfo','../utils/movieInfoTmdbApi','230Ixhvbo','creatorOriginal','douban_score','cover_url','4058zkfNiu','restoreBookNfo','original_name','thumb','existsSync','release_date','7265ivVnpm','vote_count','publish_date','doubanid','tagline','readFileSync','is_tvplay','episode','movie_alias','vote_average','originaltitle','creator','1941780dCuZbJ','director','readFile','season','push','14FqQtGO','movie_actor_array','getSeasonNumber','1758JDIwSG'];_0x3e3e=function(){return _0x10072f;};return _0x3e3e();}const {XMLParser,XMLBuilder}=require(_0x274795(0x101));let movieInfoTmdbApi=require(_0x274795(0x11a));function _0x2e3c(_0x46731d,_0x3ad75c){const _0x3e3edb=_0x3e3e();return _0x2e3c=function(_0x2e3c77,_0x39a326){_0x2e3c77=_0x2e3c77-0xf5;let _0x5af733=_0x3e3edb[_0x2e3c77];return _0x5af733;},_0x2e3c(_0x46731d,_0x3ad75c);}function doParse(_0x190b0f,_0x304eff,_0x5050e1,_0x1b92b3){const _0xc85892=_0x274795,_0x26db5c=new XMLParser();function _0x59d443(_0x541a95,_0x1749d3){const _0x5393a1=_0x2e3c;function _0xed327d(_0x85b186){const _0x43f1a9=_0x2e3c;if(_0x85b186[_0x43f1a9(0x148)]>0x0&&_0x85b186[0x0]instanceof Object){let _0x5104e9=[];for(let _0x4f2d75 in _0x85b186){let _0x41078e=_0x85b186[_0x4f2d75];_0x5104e9[_0x43f1a9(0x135)](_0x41078e['name']||_0x41078e[_0x43f1a9(0xf7)]);}return _0x5104e9;}else return _0x85b186;}if(!_0x541a95)return'';if(_0x541a95 instanceof Array){let _0x526a51=_0xed327d(_0x541a95);return _0x526a51?_0x526a51[_0x5393a1(0x13f)](_0x5393a1(0x140)):'';}else{if(_0x541a95 instanceof Object){let _0x5b8ae9=_0xed327d([_0x541a95]);return _0x5b8ae9?_0x5b8ae9[_0x5393a1(0x13f)](_0x5393a1(0x140)):'';}}return _0x541a95;}try{_0x5050e1['nfoFullPath']=_0x1b92b3;let _0x827931=_0x26db5c[_0xc85892(0x153)](fs[_0xc85892(0x12a)](_0x1b92b3));_0x827931[_0xc85892(0x14b)]||_0x827931[_0xc85892(0x100)]||_0x827931['tvshow']?(_0x827931=_0x827931[_0xc85892(0x14b)]||_0x827931[_0xc85892(0x100)]||_0x827931[_0xc85892(0x155)],_0x5050e1={..._0x5050e1,'movie_info_name':_0x827931[_0xc85892(0x143)]||_0x827931[_0xc85892(0x114)]||_0x827931[_0xc85892(0xf7)]||_0x827931[_0xc85892(0x12f)]||_0x827931[_0xc85892(0x145)]||'','movie_alias':_0x827931['sortname']||'','movie_regions':_0x59d443(_0x827931['country']),'movie_language':_0x59d443(_0x827931[_0xc85892(0x13d)]),'movie_imdb_id':_0x827931[_0xc85892(0xfe)]||'','movie_genres':_0x59d443(_0x827931[_0xc85892(0x14a)]),'movie_release_date':_0x827931[_0xc85892(0x15a)]||'','movie_end_date':_0x827931[_0xc85892(0x112)]||'','movie_douban_id':_0x827931[_0xc85892(0x128)]||'','movie_storyline':_0x827931[_0xc85892(0x156)]||_0x827931[_0xc85892(0xf6)]||_0x827931[_0xc85892(0xfc)]||'','movie_douban_score':_0x827931[_0xc85892(0x11d)]||_0x827931[_0xc85892(0xff)]||_0x827931['customrating']||0x0,'movie_year':_0x827931['year']||'','tagline':_0x827931['tagline']||'','movie_actor':_0x59d443(_0x827931[_0xc85892(0x13c)]),'movie_creator':_0x59d443(_0x827931['creator']),'movie_director':_0x59d443(_0x827931[_0xc85892(0x132)]),'movie_tags':_0x59d443(_0x827931['tag']),'season_number':_0x827931['season']||'','episode_number':_0x827931['episode']||''},_0x827931[_0xc85892(0x13c)]instanceof Array&&_0x827931[_0xc85892(0x13c)][_0xc85892(0x148)]>0x0&&(_0x827931[_0xc85892(0x13c)][0x0]instanceof Object&&(_0x5050e1[_0xc85892(0x137)]=_0x827931['actor'])),_0x827931[_0xc85892(0x132)]instanceof Array&&_0x827931[_0xc85892(0x132)][_0xc85892(0x148)]>0x0&&(_0x827931[_0xc85892(0x132)][0x0]instanceof Object&&(_0x5050e1['movie_director_array']=_0x827931['director'])),_0x190b0f(_0x5050e1)):_0x304eff();}catch(_0xa321af){_0x304eff(_0xa321af);}}nfoUtil['parseNfo']=function(_0x11e043,_0x54fc03,_0x3dd4af){return new Promise((_0xa2120e,_0x280fef)=>{const _0x3cd7b6=_0x2e3c;let _0x9bec63=_0x11e043[_0x3cd7b6(0x13e)];if(_0x54fc03){let {name:_0x179330}=path[_0x3cd7b6(0x153)](_0x9bec63);_0x9bec63=_0x179330;}let _0x11a699,_0xd66054;if(_0x11e043[_0x3cd7b6(0x12b)]==0x1&&!_0x3dd4af){_0x11a699=path[_0x3cd7b6(0x13f)](_0x11e043['path'],_0x3cd7b6(0x103)),_0xd66054=fs[_0x3cd7b6(0x123)](_0x11a699);let _0x254957=path[_0x3cd7b6(0x102)](_0x11e043[_0x3cd7b6(0x14f)]),_0x840a0c=movieSeasonUtil[_0x3cd7b6(0x138)](_0x254957);_0x840a0c>0x0&&(_0x11e043[_0x3cd7b6(0x15c)]=_0x840a0c,_0x11a699=path[_0x3cd7b6(0x13f)](_0x11e043[_0x3cd7b6(0x14f)],'season.nfo'),_0xd66054=fs[_0x3cd7b6(0x123)](_0x11a699),!_0xd66054&&(_0x11a699=path[_0x3cd7b6(0x13f)](path[_0x3cd7b6(0xf9)](_0x11e043['path']),'tvshow.nfo'),_0xd66054=fs[_0x3cd7b6(0x123)](_0x11a699)));}else _0x11a699=path[_0x3cd7b6(0x13f)](_0x11e043[_0x3cd7b6(0x14f)],_0x9bec63+_0x3cd7b6(0x118)),_0xd66054=fs[_0x3cd7b6(0x123)](_0x11a699);if(!_0xd66054)return _0x280fef();doParse(_0xa2120e,_0x280fef,_0x11e043,_0x11a699);});},nfoUtil[_0x274795(0x10d)]=function(_0x162895){return new Promise((_0x2a24ce,_0x10ab68)=>{const _0x45c8b4=_0x2e3c;let _0x4a3ba0,_0x213916;if(_0x162895[_0x45c8b4(0x12b)]==0x1){let _0x74ff53=path[_0x45c8b4(0x102)](_0x162895[_0x45c8b4(0x14f)]),_0x187ab8=movieSeasonUtil['getSeasonNumber'](_0x74ff53);_0x187ab8>0x0&&(_0x4a3ba0=path[_0x45c8b4(0x13f)](path[_0x45c8b4(0xf9)](_0x162895[_0x45c8b4(0x14f)]),_0x45c8b4(0x103)),_0x213916=fs['existsSync'](_0x4a3ba0)),!_0x213916&&(_0x4a3ba0=path[_0x45c8b4(0x13f)](_0x162895[_0x45c8b4(0x14f)],_0x45c8b4(0x103)),_0x213916=fs[_0x45c8b4(0x123)](_0x4a3ba0));}if(!_0x213916)return _0x10ab68();doParse(_0x2a24ce,_0x10ab68,_0x162895,_0x4a3ba0);});},nfoUtil[_0x274795(0x14c)]=function(_0x2b34d0,_0x466153,_0x57aea4=_0x274795(0x14b)){return new Promise((_0x21f23c,_0x2d23a8)=>{const _0x3dba22=_0x2e3c;try{let _0xe522a5={'title':_0x2b34d0['movie_name']||'','name':_0x2b34d0[_0x3dba22(0x141)]||'','sortname':_0x2b34d0[_0x3dba22(0x12d)]||'','tmdbid':_0x2b34d0['tmdb_id']||'','imdbid':_0x2b34d0[_0x3dba22(0x142)]||'','releasedate':_0x2b34d0[_0x3dba22(0x124)]||'','enddate':_0x2b34d0[_0x3dba22(0x112)]||'','biography':_0x2b34d0[_0x3dba22(0x108)]||'','year':_0x2b34d0[_0x3dba22(0x15d)]||''};_0xe522a5['language']=_0x2b34d0['languages']?_0x2b34d0[_0x3dba22(0x146)][_0x3dba22(0x104)]('/'):[],_0xe522a5[_0x3dba22(0x10c)]=_0x2b34d0['regions']?_0x2b34d0['regions'][_0x3dba22(0x104)]('/'):[],_0xe522a5['genre']=_0x2b34d0['genres']?_0x2b34d0[_0x3dba22(0x116)][_0x3dba22(0x104)]('/'):[];if(_0x2b34d0[_0x3dba22(0x157)]&&_0x2b34d0[_0x3dba22(0x157)][_0x3dba22(0x148)]>0x0){_0xe522a5[_0x3dba22(0x13c)]=[];for(let _0x35b9c0 of _0x2b34d0[_0x3dba22(0x157)]){let _0x240288={};_0x35b9c0['name']&&(_0x240288[_0x3dba22(0x114)]=_0x35b9c0[_0x3dba22(0x114)]),_0x35b9c0[_0x3dba22(0x121)]&&(_0x240288[_0x3dba22(0x110)]=_0x35b9c0['original_name']),_0x35b9c0[_0x3dba22(0x115)]&&(_0x240288['thumb']=movieInfoTmdbApi[_0x3dba22(0x147)]+_0x35b9c0[_0x3dba22(0x115)]),_0x35b9c0['id']&&(_0x240288[_0x3dba22(0x15b)]=_0x35b9c0['id']),_0xe522a5[_0x3dba22(0x13c)][_0x3dba22(0x135)](_0x240288);}}else _0xe522a5[_0x3dba22(0x13c)]=_0x2b34d0[_0x3dba22(0x14e)]?_0x2b34d0['actors'][_0x3dba22(0x104)]('/'):[];if(_0x2b34d0[_0x3dba22(0x144)]&&_0x2b34d0['directorsOriginal'][_0x3dba22(0x148)]>0x0){_0xe522a5[_0x3dba22(0x132)]=[];for(let _0x598ca1 of _0x2b34d0[_0x3dba22(0x144)]){let _0x21ad8d={};_0x598ca1[_0x3dba22(0x114)]&&(_0x21ad8d['name']=_0x598ca1[_0x3dba22(0x114)]),_0x598ca1['original_name']&&(_0x21ad8d[_0x3dba22(0x110)]=_0x598ca1['original_name']),_0x598ca1[_0x3dba22(0x115)]&&(_0x21ad8d[_0x3dba22(0x122)]=movieInfoTmdbApi[_0x3dba22(0x147)]+_0x598ca1[_0x3dba22(0x115)]),_0x598ca1['id']&&(_0x21ad8d[_0x3dba22(0x15b)]=_0x598ca1['id']),_0xe522a5[_0x3dba22(0x132)]['push'](_0x21ad8d);}}else _0xe522a5['director']=_0x2b34d0[_0x3dba22(0xfb)]?_0x2b34d0[_0x3dba22(0xfb)][_0x3dba22(0x104)]('/'):[];if(_0x2b34d0['creatorOriginal']&&_0x2b34d0[_0x3dba22(0x11c)][_0x3dba22(0x148)]>0x0){_0xe522a5[_0x3dba22(0x130)]=[];for(let _0x3b9e22 of _0x2b34d0[_0x3dba22(0x11c)]){let _0x3d8501={};_0x3b9e22['name']&&(_0x3d8501[_0x3dba22(0x114)]=_0x3b9e22[_0x3dba22(0x114)]),_0x3b9e22[_0x3dba22(0x121)]&&(_0x3d8501[_0x3dba22(0x110)]=_0x3b9e22[_0x3dba22(0x121)]),_0x3b9e22[_0x3dba22(0x115)]&&(_0x3d8501[_0x3dba22(0x122)]=movieInfoTmdbApi[_0x3dba22(0x147)]+_0x3b9e22[_0x3dba22(0x115)]),_0x3b9e22['id']&&(_0x3d8501[_0x3dba22(0x15b)]=_0x3b9e22['id']),_0xe522a5[_0x3dba22(0x130)][_0x3dba22(0x135)](_0x3d8501);}}else _0xe522a5['creator']=_0x2b34d0['creator']?_0x2b34d0[_0x3dba22(0x130)]['split']('/'):[];if(_0x2b34d0[_0x3dba22(0x107)]&&_0x2b34d0[_0x3dba22(0x107)][_0x3dba22(0x148)]>0x0){_0xe522a5[_0x3dba22(0x117)]=[];for(let _0x5c1ec5 of _0x2b34d0[_0x3dba22(0x107)]){let _0x4b97c5={};_0x5c1ec5[_0x3dba22(0x114)]&&(_0x4b97c5[_0x3dba22(0x114)]=_0x5c1ec5[_0x3dba22(0x114)]),_0x5c1ec5[_0x3dba22(0x121)]&&(_0x4b97c5[_0x3dba22(0x110)]=_0x5c1ec5['original_name']),_0x5c1ec5['profile_path']&&(_0x4b97c5[_0x3dba22(0x122)]=movieInfoTmdbApi[_0x3dba22(0x147)]+_0x5c1ec5[_0x3dba22(0x115)]),_0x5c1ec5['id']&&(_0x4b97c5[_0x3dba22(0x15b)]=_0x5c1ec5['id']),_0xe522a5[_0x3dba22(0x117)]['push'](_0x4b97c5);}}else _0xe522a5[_0x3dba22(0x117)]=_0x2b34d0[_0x3dba22(0x117)]?_0x2b34d0[_0x3dba22(0x117)][_0x3dba22(0x104)]('/'):[];_0x2b34d0[_0x3dba22(0x12c)]&&(_0xe522a5[_0x3dba22(0x12c)]=_0x2b34d0[_0x3dba22(0x12c)]);_0x2b34d0[_0x3dba22(0x134)]&&(_0xe522a5[_0x3dba22(0x134)]=_0x2b34d0[_0x3dba22(0x134)]);_0x2b34d0[_0x3dba22(0x143)]&&(_0xe522a5[_0x3dba22(0x143)]=_0x2b34d0[_0x3dba22(0x143)]);_0x2b34d0['cover_url']&&(_0xe522a5[_0x3dba22(0x122)]=_0x2b34d0[_0x3dba22(0x11e)]);console['log'](_0x3dba22(0x158),_0x2b34d0[_0x3dba22(0x12e)]);_0x2b34d0[_0x3dba22(0x12e)]&&(_0xe522a5[_0x3dba22(0xff)]=_0x2b34d0[_0x3dba22(0x12e)]);_0x2b34d0['tagline']&&(_0xe522a5[_0x3dba22(0x129)]=_0x2b34d0[_0x3dba22(0x129)]);_0x2b34d0[_0x3dba22(0x126)]&&(_0xe522a5[_0x3dba22(0x126)]=_0x2b34d0[_0x3dba22(0x126)]);const _0x1e9baa=new XMLBuilder();let _0x2d5cf9={};_0x2d5cf9[_0x57aea4]=_0xe522a5;const _0xbb79f=_0x1e9baa[_0x3dba22(0x10a)](_0x2d5cf9);fs[_0x3dba22(0x10e)](_0x466153,_0xbb79f,_0x1a0cb2=>{_0x21f23c();});}catch(_0x981de5){console[_0x3dba22(0x10f)](_0x3dba22(0xf8),_0x466153,_0x981de5),_0x21f23c();}});},nfoUtil[_0x274795(0x119)]=function(_0x18f8c7,_0x1076b5){return new Promise((_0x593ebc,_0x164406)=>{const _0x41c1ad=_0x2e3c;try{let _0x25e033={'title':_0x18f8c7[_0x41c1ad(0xf7)]?_0x18f8c7[_0x41c1ad(0xf7)]:'','publish_date':_0x18f8c7[_0x41c1ad(0x127)]?_0x18f8c7['publish_date']:'','year':_0x18f8c7[_0x41c1ad(0x15d)]?_0x18f8c7[_0x41c1ad(0x15d)]:'','isbn':_0x18f8c7[_0x41c1ad(0x152)]?_0x18f8c7['isbn']:''};_0x25e033[_0x41c1ad(0x13d)]=_0x18f8c7['language']?_0x18f8c7[_0x41c1ad(0x13d)]:'',_0x25e033[_0x41c1ad(0x14a)]=_0x18f8c7[_0x41c1ad(0x14a)]?_0x18f8c7[_0x41c1ad(0x14a)]:'',_0x25e033[_0x41c1ad(0x13b)]=_0x18f8c7[_0x41c1ad(0x13b)]?_0x18f8c7['tag']:'',_0x25e033[_0x41c1ad(0x113)]=_0x18f8c7[_0x41c1ad(0x113)]?_0x18f8c7[_0x41c1ad(0x113)]:'',_0x25e033[_0x41c1ad(0x14d)]=_0x18f8c7[_0x41c1ad(0x14d)]?_0x18f8c7[_0x41c1ad(0x14d)]:'',_0x25e033[_0x41c1ad(0x149)]=_0x18f8c7[_0x41c1ad(0x149)]?_0x18f8c7[_0x41c1ad(0x149)]:'';const _0x47a610=new XMLBuilder(),_0x47f704=_0x47a610[_0x41c1ad(0x10a)]({'book':_0x25e033});fs[_0x41c1ad(0x10e)](_0x1076b5,_0x47f704,_0x20414f=>{_0x593ebc();});}catch(_0x53a983){console['log'](_0x41c1ad(0xf8),_0x1076b5,_0x53a983),_0x164406();}});},nfoUtil[_0x274795(0x120)]=function(_0x384c98){return new Promise((_0x18c1b0,_0xbe07bc)=>{const _0x5321eb=_0x2e3c;try{let _0x436343=path[_0x5321eb(0x13f)](_0x384c98['path'],_0x384c98[_0x5321eb(0x13e)]),_0x1ac244=_0x436343[_0x5321eb(0x109)](0x0,_0x436343[_0x5321eb(0x150)]('.'))+_0x5321eb(0x118);const _0x292046=require('fs'),_0x1bb2b7=new XMLParser();_0x292046[_0x5321eb(0x151)](_0x1ac244,(_0x12ad3d,_0x5165a6)=>{const _0x3ddbb1=_0x5321eb;if(_0x12ad3d)return _0xbe07bc();_0x292046[_0x3ddbb1(0x133)](_0x1ac244,(_0x20f158,_0x53ed37)=>{const _0x1df02d=_0x3ddbb1;if(_0x20f158)return _0xbe07bc();let _0x462806=_0x1bb2b7[_0x1df02d(0x153)](_0x53ed37);if(_0x462806[_0x1df02d(0x111)]){let _0x524cad=_0x462806[_0x1df02d(0x111)];_0x524cad['title']&&(_0x384c98[_0x1df02d(0xf7)]=_0x524cad[_0x1df02d(0xf7)]),_0x524cad[_0x1df02d(0x15d)]&&(_0x384c98[_0x1df02d(0x15d)]=_0x524cad[_0x1df02d(0x15d)]),_0x524cad['publish_date']&&(_0x384c98[_0x1df02d(0x127)]=_0x524cad[_0x1df02d(0x127)]),_0x524cad[_0x1df02d(0x152)]&&(_0x384c98[_0x1df02d(0x152)]=_0x524cad['isbn']),_0x524cad[_0x1df02d(0x13d)]&&(_0x384c98[_0x1df02d(0x13d)]=_0x524cad['language']),_0x524cad[_0x1df02d(0x13b)]&&(_0x384c98[_0x1df02d(0x13b)]=_0x524cad[_0x1df02d(0x13b)]),_0x524cad[_0x1df02d(0x113)]&&(_0x384c98[_0x1df02d(0x113)]=_0x524cad[_0x1df02d(0x113)]),_0x524cad[_0x1df02d(0x14d)]&&(_0x384c98[_0x1df02d(0x14d)]=_0x524cad[_0x1df02d(0x14d)]),_0x524cad[_0x1df02d(0x149)]&&(_0x384c98[_0x1df02d(0x149)]=_0x524cad[_0x1df02d(0x149)]);}_0x18c1b0(_0x384c98);});});}catch(_0x824101){console[_0x5321eb(0x10f)](_0x5321eb(0x159),_0x824101),_0xbe07bc();}});},module[_0x274795(0x10b)]=nfoUtil;