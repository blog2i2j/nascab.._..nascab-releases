'use strict';const _0x325c64=_0x55d2;(function(_0x54cafe,_0xf706ac){const _0xa508d5=_0x55d2,_0xb2a21e=_0x54cafe();while(!![]){try{const _0x542bfa=parseInt(_0xa508d5(0x126))/0x1+-parseInt(_0xa508d5(0x2d3))/0x2*(parseInt(_0xa508d5(0x11c))/0x3)+parseInt(_0xa508d5(0x2a4))/0x4*(-parseInt(_0xa508d5(0x362))/0x5)+-parseInt(_0xa508d5(0x383))/0x6*(-parseInt(_0xa508d5(0x280))/0x7)+-parseInt(_0xa508d5(0x2db))/0x8+-parseInt(_0xa508d5(0x182))/0x9*(parseInt(_0xa508d5(0x352))/0xa)+parseInt(_0xa508d5(0x13c))/0xb;if(_0x542bfa===_0xf706ac)break;else _0xb2a21e['push'](_0xb2a21e['shift']());}catch(_0x12eb37){_0xb2a21e['push'](_0xb2a21e['shift']());}}}(_0x2c56,0xd0e91));var __create=Object[_0x325c64(0x14d)],__defProp=Object[_0x325c64(0x2ef)],__getOwnPropDesc=Object[_0x325c64(0x36a)],__getOwnPropNames=Object[_0x325c64(0x316)],__getProtoOf=Object[_0x325c64(0x32c)],__hasOwnProp=Object[_0x325c64(0x33f)][_0x325c64(0x2ab)],__commonJS=(_0x49df22,_0x40e46c)=>function _0x4d538d(){const _0x5cf102=_0x325c64;return _0x40e46c||(0x0,_0x49df22[__getOwnPropNames(_0x49df22)[0x0]])((_0x40e46c={'exports':{}})[_0x5cf102(0x244)],_0x40e46c),_0x40e46c[_0x5cf102(0x244)];},__export=(_0x4a7f95,_0x5b3510)=>{for(var _0x44bbfc in _0x5b3510)__defProp(_0x4a7f95,_0x44bbfc,{'get':_0x5b3510[_0x44bbfc],'enumerable':!![]});},__copyProps=(_0x13a2c1,_0x2b1d45,_0x1c655f,_0x11e6b6)=>{const _0x5902e1=_0x325c64;if(_0x2b1d45&&typeof _0x2b1d45===_0x5902e1(0x334)||typeof _0x2b1d45===_0x5902e1(0x2e2)){for(let _0x3ef21e of __getOwnPropNames(_0x2b1d45))if(!__hasOwnProp[_0x5902e1(0x311)](_0x13a2c1,_0x3ef21e)&&_0x3ef21e!==_0x1c655f)__defProp(_0x13a2c1,_0x3ef21e,{'get':()=>_0x2b1d45[_0x3ef21e],'enumerable':!(_0x11e6b6=__getOwnPropDesc(_0x2b1d45,_0x3ef21e))||_0x11e6b6[_0x5902e1(0x340)]});}return _0x13a2c1;},__toESM=(_0x31b933,_0x155cba,_0x52f9a3)=>(_0x52f9a3=_0x31b933!=null?__create(__getProtoOf(_0x31b933)):{},__copyProps(_0x155cba||!_0x31b933||!_0x31b933[_0x325c64(0x2ac)]?__defProp(_0x52f9a3,'default',{'value':_0x31b933,'enumerable':!![]}):_0x52f9a3,_0x31b933)),__toCommonJS=_0x4c1c08=>__copyProps(__defProp({},_0x325c64(0x2ac),{'value':!![]}),_0x4c1c08),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x62a0ab,_0x584e8e){'use strict';const _0x52677c=_0x325c64;var _0x4f3669=Object[_0x52677c(0x2ef)],_0x5bc5ee=Object[_0x52677c(0x36a)],_0x217399=Object[_0x52677c(0x316)],_0x24b65e=Object[_0x52677c(0x33f)][_0x52677c(0x2ab)],_0x4d60cd=(_0x225ad8,_0x4e38e1,_0xabed77,_0x5a7e78)=>{const _0x13744d=_0x52677c;if(_0x4e38e1&&typeof _0x4e38e1===_0x13744d(0x334)||typeof _0x4e38e1===_0x13744d(0x2e2)){for(let _0x949811 of _0x217399(_0x4e38e1))if(!_0x24b65e[_0x13744d(0x311)](_0x225ad8,_0x949811)&&_0x949811!==_0xabed77)_0x4f3669(_0x225ad8,_0x949811,{'get':()=>_0x4e38e1[_0x949811],'enumerable':!(_0x5a7e78=_0x5bc5ee(_0x4e38e1,_0x949811))||_0x5a7e78[_0x13744d(0x340)]});}return _0x225ad8;},_0x43fd28=(_0x3a78c3,_0x4b293b,_0x335704)=>(_0x4d60cd(_0x3a78c3,_0x4b293b,_0x52677c(0x1ae)),_0x335704&&_0x4d60cd(_0x335704,_0x4b293b,'default')),_0x18d35e=_0x3bcff6=>_0x4d60cd(_0x4f3669({},_0x52677c(0x2ac),{'value':!![]}),_0x3bcff6),_0x2a04e8={};_0x584e8e[_0x52677c(0x244)]=_0x18d35e(_0x2a04e8),_0x43fd28(_0x2a04e8,require(_0x52677c(0x205)),_0x584e8e[_0x52677c(0x244)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module['exports']=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x376210,_0x34a3f1,_0x5ad74c=![]){const _0x12eb06=_0x325c64;_0x376210[_0x12eb06(0x1a7)](),_0x34a3f1[_0x12eb06(0x1d2)](0x1)[_0x12eb06(0x183)](({x:_0x2bde09,y:_0x323591},_0x2d1e14)=>{const _0xd81eb9=_0x12eb06,_0x4838f9=_0x34a3f1[_0x2d1e14];_0x376210[_0xd81eb9(0x18f)](_0x4838f9['x'],_0x4838f9['y']),_0x376210[_0xd81eb9(0x104)](_0x2bde09,_0x323591);});if(_0x5ad74c){const _0x1d3403=_0x34a3f1[_0x34a3f1[_0x12eb06(0x1b1)]-0x1],_0x12602e=_0x34a3f1[0x0];if(!_0x1d3403||!_0x12602e)return;_0x376210['moveTo'](_0x1d3403['x'],_0x1d3403['y']),_0x376210[_0x12eb06(0x104)](_0x12602e['x'],_0x12602e['y']);}_0x376210[_0x12eb06(0x20d)]();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x60aeea,_0x338891){const _0x1c69c1=_0x325c64;if(!isValidNumber(_0x60aeea)||!isValidNumber(_0x338891))throw new Error(_0x1c69c1(0x2f6)+JSON[_0x1c69c1(0x256)]({'width':_0x60aeea,'height':_0x338891}));this['_width']=_0x60aeea,this['_height']=_0x338891;}get[_0x325c64(0x1f2)](){return this['_width'];}get['height'](){const _0x163a2a=_0x325c64;return this[_0x163a2a(0x15f)];}['reverse'](){const _0x37691b=_0x325c64;return new Dimensions(0x1/this['width'],0x1/this[_0x37691b(0x1b3)]);}};function isTensor(_0x3e90dc,_0x25b107){const _0x1d0c72=_0x325c64;return _0x3e90dc instanceof tf[_0x1d0c72(0x30e)]&&_0x3e90dc['shape'][_0x1d0c72(0x1b1)]===_0x25b107;}function isTensor1D(_0x5b0615){return isTensor(_0x5b0615,0x1);}function isTensor2D(_0x11797c){return isTensor(_0x11797c,0x2);}function isTensor3D(_0x259ddb){return isTensor(_0x259ddb,0x3);}function isTensor4D(_0x40d653){return isTensor(_0x40d653,0x4);}function isFloat(_0x2d722e){return _0x2d722e%0x1!==0x0;}function isEven(_0x1e73f1){return _0x1e73f1%0x2===0x0;}function round(_0x4e14d,_0x1ca1d1=0x2){const _0x8a2602=0xa**_0x1ca1d1;return Math['floor'](_0x4e14d*_0x8a2602)/_0x8a2602;}function isDimensions(_0x4c03b5){const _0xea9c2e=_0x325c64;return _0x4c03b5&&_0x4c03b5[_0xea9c2e(0x1f2)]&&_0x4c03b5[_0xea9c2e(0x1b3)];}function computeReshapedDimensions({width:_0x4d5f30,height:_0x108350},_0x50f8d0){const _0x1353dc=_0x325c64,_0x1f6359=_0x50f8d0/Math[_0x1353dc(0x1c9)](_0x108350,_0x4d5f30);return new Dimensions(Math['round'](_0x4d5f30*_0x1f6359),Math[_0x1353dc(0x26a)](_0x108350*_0x1f6359));}function getCenterPoint(_0x4c26b5){const _0x25d7da=_0x325c64;return _0x4c26b5[_0x25d7da(0x1cc)]((_0x5e8b46,_0xa2482)=>_0x5e8b46[_0x25d7da(0x25c)](_0xa2482),new Point(0x0,0x0))[_0x25d7da(0x149)](new Point(_0x4c26b5['length'],_0x4c26b5['length']));}function range(_0x5d974c,_0x40db06,_0x2c77cf){const _0x19f67f=_0x325c64;return Array(_0x5d974c)[_0x19f67f(0x22a)](0x0)[_0x19f67f(0x268)]((_0x2464f9,_0xf79608)=>_0x40db06+_0xf79608*_0x2c77cf);}function isValidNumber(_0x5eede4){const _0xeab06f=_0x325c64;return!!_0x5eede4&&_0x5eede4!==Infinity&&_0x5eede4!==-Infinity&&!Number[_0xeab06f(0x28c)](_0x5eede4)||_0x5eede4===0x0;}function _0x55d2(_0x4f198e,_0x330e1a){const _0x2c5663=_0x2c56();return _0x55d2=function(_0x55d22a,_0x31a756){_0x55d22a=_0x55d22a-0xfc;let _0x11b281=_0x2c5663[_0x55d22a];return _0x11b281;},_0x55d2(_0x4f198e,_0x330e1a);}function isValidProbablitiy(_0x5c6434){return isValidNumber(_0x5c6434)&&_0x5c6434>=0x0&&_0x5c6434<=0x1;}var Point=class{constructor(_0x3e81cc,_0x2bb7b2){this['_x']=_0x3e81cc,this['_y']=_0x2bb7b2;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}[_0x325c64(0x25c)](_0x48dbf0){return new Point(this['x']+_0x48dbf0['x'],this['y']+_0x48dbf0['y']);}[_0x325c64(0x246)](_0x120f45){return new Point(this['x']-_0x120f45['x'],this['y']-_0x120f45['y']);}[_0x325c64(0x161)](_0x14f0ae){return new Point(this['x']*_0x14f0ae['x'],this['y']*_0x14f0ae['y']);}[_0x325c64(0x149)](_0x36ed6c){return new Point(this['x']/_0x36ed6c['x'],this['y']/_0x36ed6c['y']);}[_0x325c64(0x378)](){const _0x218495=_0x325c64;return new Point(Math[_0x218495(0x378)](this['x']),Math['abs'](this['y']));}['magnitude'](){return Math['sqrt'](this['x']**0x2+this['y']**0x2);}[_0x325c64(0x368)](){const _0x37d8f4=_0x325c64;return new Point(Math[_0x37d8f4(0x368)](this['x']),Math[_0x37d8f4(0x368)](this['y']));}},Box=class{static[_0x325c64(0x17e)](_0x19798e){const _0x1d6076=_0x325c64;return!!_0x19798e&&[_0x19798e['x'],_0x19798e['y'],_0x19798e[_0x1d6076(0x1f2)],_0x19798e[_0x1d6076(0x1b3)]][_0x1d6076(0x1d7)](isValidNumber);}static[_0x325c64(0x2c2)](_0x48f4df,_0x23574b,_0x233406=![]){const _0x1955f2=_0x325c64;if(!Box[_0x1955f2(0x17e)](_0x48f4df))throw new Error(_0x23574b+'\x20-\x20invalid\x20box:\x20'+JSON[_0x1955f2(0x256)](_0x48f4df)+',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height');if(!_0x233406&&(_0x48f4df[_0x1955f2(0x1f2)]<0x0||_0x48f4df[_0x1955f2(0x1b3)]<0x0))throw new Error(_0x23574b+'\x20-\x20width\x20('+_0x48f4df[_0x1955f2(0x1f2)]+')\x20and\x20height\x20('+_0x48f4df['height']+')\x20must\x20be\x20positive\x20numbers');}constructor(_0x36212e,_0x3f0151=!![]){const _0x4fa721=_0x325c64,_0xba2a88=_0x36212e||{},_0x2f8a1e=[_0xba2a88[_0x4fa721(0x278)],_0xba2a88[_0x4fa721(0x20e)],_0xba2a88[_0x4fa721(0x121)],_0xba2a88[_0x4fa721(0x2c7)]][_0x4fa721(0x1d7)](isValidNumber),_0x41d2a7=[_0xba2a88['x'],_0xba2a88['y'],_0xba2a88['width'],_0xba2a88[_0x4fa721(0x1b3)]]['every'](isValidNumber);if(!_0x41d2a7&&!_0x2f8a1e)throw new Error(_0x4fa721(0x354)+JSON['stringify'](_0xba2a88));const [_0x124ab8,_0x23c273,_0x481aa0,_0x588b0b]=_0x41d2a7?[_0xba2a88['x'],_0xba2a88['y'],_0xba2a88[_0x4fa721(0x1f2)],_0xba2a88[_0x4fa721(0x1b3)]]:[_0xba2a88['left'],_0xba2a88[_0x4fa721(0x20e)],_0xba2a88[_0x4fa721(0x121)]-_0xba2a88[_0x4fa721(0x278)],_0xba2a88[_0x4fa721(0x2c7)]-_0xba2a88[_0x4fa721(0x20e)]];Box['assertIsValidBox']({'x':_0x124ab8,'y':_0x23c273,'width':_0x481aa0,'height':_0x588b0b},_0x4fa721(0x2fe),_0x3f0151),this['_x']=_0x124ab8,this['_y']=_0x23c273,this[_0x4fa721(0x1e8)]=_0x481aa0,this[_0x4fa721(0x15f)]=_0x588b0b;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get['width'](){const _0x207900=_0x325c64;return this[_0x207900(0x1e8)];}get['height'](){const _0x4f6090=_0x325c64;return this[_0x4f6090(0x15f)];}get[_0x325c64(0x278)](){return this['x'];}get[_0x325c64(0x20e)](){return this['y'];}get[_0x325c64(0x121)](){const _0x1b0f94=_0x325c64;return this['x']+this[_0x1b0f94(0x1f2)];}get['bottom'](){const _0x4fee48=_0x325c64;return this['y']+this[_0x4fee48(0x1b3)];}get[_0x325c64(0x1a5)](){const _0x28d158=_0x325c64;return this[_0x28d158(0x1f2)]*this['height'];}get[_0x325c64(0x248)](){const _0x52c6c3=_0x325c64;return new Point(this['left'],this[_0x52c6c3(0x20e)]);}get[_0x325c64(0x331)](){const _0x312b8b=_0x325c64;return new Point(this[_0x312b8b(0x121)],this[_0x312b8b(0x20e)]);}get[_0x325c64(0x2e5)](){const _0x151a92=_0x325c64;return new Point(this[_0x151a92(0x278)],this['bottom']);}get[_0x325c64(0x328)](){const _0x1940fc=_0x325c64;return new Point(this[_0x1940fc(0x121)],this[_0x1940fc(0x2c7)]);}[_0x325c64(0x26a)](){const _0x2f9acc=_0x325c64,[_0x545773,_0x1af6dd,_0x40b250,_0x5bf294]=[this['x'],this['y'],this['width'],this[_0x2f9acc(0x1b3)]]['map'](_0x1c5ef2=>Math[_0x2f9acc(0x26a)](_0x1c5ef2));return new Box({'x':_0x545773,'y':_0x1af6dd,'width':_0x40b250,'height':_0x5bf294});}[_0x325c64(0x368)](){const _0x88ace6=_0x325c64,[_0x32ef0a,_0x29b1ec,_0x53cefd,_0x3a5f80]=[this['x'],this['y'],this[_0x88ace6(0x1f2)],this[_0x88ace6(0x1b3)]]['map'](_0x31f1d9=>Math[_0x88ace6(0x368)](_0x31f1d9));return new Box({'x':_0x32ef0a,'y':_0x29b1ec,'width':_0x53cefd,'height':_0x3a5f80});}[_0x325c64(0x1a4)](){const _0x289352=_0x325c64;let {x:_0x41cf2a,y:_0x114b4c,width:_0x40d038,height:_0x1dd517}=this;const _0x447d88=Math[_0x289352(0x378)](_0x40d038-_0x1dd517);return _0x40d038<_0x1dd517&&(_0x41cf2a-=_0x447d88/0x2,_0x40d038+=_0x447d88),_0x1dd517<_0x40d038&&(_0x114b4c-=_0x447d88/0x2,_0x1dd517+=_0x447d88),new Box({'x':_0x41cf2a,'y':_0x114b4c,'width':_0x40d038,'height':_0x1dd517});}['rescale'](_0x596dbd){const _0x5bbd91=_0x325c64,_0x19ae04=isDimensions(_0x596dbd)?_0x596dbd[_0x5bbd91(0x1f2)]:_0x596dbd,_0x4ee04a=isDimensions(_0x596dbd)?_0x596dbd['height']:_0x596dbd;return new Box({'x':this['x']*_0x19ae04,'y':this['y']*_0x4ee04a,'width':this[_0x5bbd91(0x1f2)]*_0x19ae04,'height':this[_0x5bbd91(0x1b3)]*_0x4ee04a});}[_0x325c64(0x2af)](_0xf5f3cb,_0x32bd70){const _0x3c5374=_0x325c64,[_0x3ba421,_0x4043d,_0x102710,_0x32f3cf]=[this['x']-_0xf5f3cb/0x2,this['y']-_0x32bd70/0x2,this[_0x3c5374(0x1f2)]+_0xf5f3cb,this[_0x3c5374(0x1b3)]+_0x32bd70];return new Box({'x':_0x3ba421,'y':_0x4043d,'width':_0x102710,'height':_0x32f3cf});}[_0x325c64(0x16d)](_0x7f953a,_0x5ae1f8){const _0x9a4b32=_0x325c64,{x:_0x176403,y:_0x344d68,right:_0x4cee2c,bottom:_0x5a8da5}=this,_0x4089ba=Math['max'](_0x176403,0x0),_0x3d9cd9=Math[_0x9a4b32(0x1c9)](_0x344d68,0x0),_0xc5e0bf=_0x4cee2c-_0x4089ba,_0x1c33a6=_0x5a8da5-_0x3d9cd9,_0x2b68a4=Math[_0x9a4b32(0x2ff)](_0xc5e0bf,_0x7f953a-_0x4089ba),_0x51c76d=Math[_0x9a4b32(0x2ff)](_0x1c33a6,_0x5ae1f8-_0x3d9cd9);return new Box({'x':_0x4089ba,'y':_0x3d9cd9,'width':_0x2b68a4,'height':_0x51c76d})['floor']();}[_0x325c64(0x188)](_0x40a213,_0x535373){const {width:_0x1cb5cb,height:_0x24008d}=this,_0x23ec9d=this['x']+_0x40a213,_0x6571f9=this['y']+_0x535373;return new Box({'x':_0x23ec9d,'y':_0x6571f9,'width':_0x1cb5cb,'height':_0x24008d});}['padAtBorders'](_0x181a77,_0x350418){const _0x270e21=_0x325c64,_0x3698b7=this[_0x270e21(0x1f2)]+0x1,_0x5da1a7=this['height']+0x1,_0x2980d4=0x1,_0x252e0f=0x1;let _0x1fdc83=_0x3698b7,_0x278dbb=_0x5da1a7,_0x441728=this[_0x270e21(0x278)],_0x8e1682=this[_0x270e21(0x20e)],_0xedab07=this['right'],_0xa3892f=this[_0x270e21(0x2c7)];return _0xedab07>_0x350418&&(_0x1fdc83=-_0xedab07+_0x350418+_0x3698b7,_0xedab07=_0x350418),_0xa3892f>_0x181a77&&(_0x278dbb=-_0xa3892f+_0x181a77+_0x5da1a7,_0xa3892f=_0x181a77),_0x441728<0x1&&(_0x278dbb=0x2-_0x441728,_0x441728=0x1),_0x8e1682<0x1&&(_0x278dbb=0x2-_0x8e1682,_0x8e1682=0x1),{'dy':_0x252e0f,'edy':_0x278dbb,'dx':_0x2980d4,'edx':_0x1fdc83,'y':_0x8e1682,'ey':_0xa3892f,'x':_0x441728,'ex':_0xedab07,'w':_0x3698b7,'h':_0x5da1a7};}['calibrate'](_0x10c02a){const _0x12a41b=_0x325c64;return new Box({'left':this['left']+_0x10c02a['left']*this[_0x12a41b(0x1f2)],'top':this['top']+_0x10c02a[_0x12a41b(0x20e)]*this[_0x12a41b(0x1b3)],'right':this['right']+_0x10c02a[_0x12a41b(0x121)]*this['width'],'bottom':this[_0x12a41b(0x2c7)]+_0x10c02a[_0x12a41b(0x2c7)]*this['height']})[_0x12a41b(0x1a4)]()[_0x12a41b(0x26a)]();}},BoundingBox=class extends Box{constructor(_0x41f9ab,_0x54bd59,_0x49a9e1,_0x582714,_0x758d73=![]){super({'left':_0x41f9ab,'top':_0x54bd59,'right':_0x49a9e1,'bottom':_0x582714},_0x758d73);}},ObjectDetection=class{constructor(_0x3b2408,_0x1556b6,_0x4610c4,_0x7dde45,_0x534c7f){const _0x178ecb=_0x325c64;this[_0x178ecb(0x168)]=new Dimensions(_0x534c7f[_0x178ecb(0x1f2)],_0x534c7f[_0x178ecb(0x1b3)]),this[_0x178ecb(0x1f7)]=_0x3b2408,this['_classScore']=_0x1556b6,this[_0x178ecb(0x295)]=_0x4610c4,this[_0x178ecb(0x133)]=new Box(_0x7dde45)['rescale'](this[_0x178ecb(0x168)]);}get[_0x325c64(0x229)](){const _0x56b1dc=_0x325c64;return this[_0x56b1dc(0x1f7)];}get['classScore'](){const _0x12f859=_0x325c64;return this[_0x12f859(0x1f6)];}get[_0x325c64(0xfd)](){const _0x143c40=_0x325c64;return this[_0x143c40(0x295)];}get[_0x325c64(0x2ae)](){const _0x28095a=_0x325c64;return this[_0x28095a(0x133)];}get[_0x325c64(0x2df)](){const _0x19d1f7=_0x325c64;return this[_0x19d1f7(0x168)];}get[_0x325c64(0x102)](){const _0x3402f1=_0x325c64;return this[_0x3402f1(0x2df)]['width'];}get['imageHeight'](){return this['imageDims']['height'];}get[_0x325c64(0x1c1)](){const _0x543842=_0x325c64;return new Box(this[_0x543842(0x133)])[_0x543842(0x1ec)](this['imageDims'][_0x543842(0x201)]());}[_0x325c64(0x139)](_0x3bb29b,_0x33b4a8){const _0x45b9f7=_0x325c64;return new ObjectDetection(this[_0x45b9f7(0x229)],this[_0x45b9f7(0x13f)],this['className'],this[_0x45b9f7(0x1c1)],{'width':_0x3bb29b,'height':_0x33b4a8});}},FaceDetection=class extends ObjectDetection{constructor(_0x1b182,_0x4172c5,_0x211da6){super(_0x1b182,_0x1b182,'',_0x4172c5,_0x211da6);}[_0x325c64(0x139)](_0x3a0922,_0x4933c3){const _0x533aec=_0x325c64,{score:_0x145f20,relativeBox:_0x382b16,imageDims:_0x2746b5}=super[_0x533aec(0x139)](_0x3a0922,_0x4933c3);return new FaceDetection(_0x145f20,_0x382b16,_0x2746b5);}};function iou(_0x390aa1,_0x5b92b0,_0x2c7c66=!![]){const _0x2cd07a=_0x325c64,_0x3dbfd7=Math[_0x2cd07a(0x1c9)](0x0,Math[_0x2cd07a(0x2ff)](_0x390aa1[_0x2cd07a(0x121)],_0x5b92b0[_0x2cd07a(0x121)])-Math[_0x2cd07a(0x1c9)](_0x390aa1['left'],_0x5b92b0[_0x2cd07a(0x278)])),_0x3ae211=Math[_0x2cd07a(0x1c9)](0x0,Math[_0x2cd07a(0x2ff)](_0x390aa1[_0x2cd07a(0x2c7)],_0x5b92b0[_0x2cd07a(0x2c7)])-Math[_0x2cd07a(0x1c9)](_0x390aa1['top'],_0x5b92b0[_0x2cd07a(0x20e)])),_0x44f062=_0x3dbfd7*_0x3ae211;return _0x2c7c66?_0x44f062/(_0x390aa1['area']+_0x5b92b0[_0x2cd07a(0x1a5)]-_0x44f062):_0x44f062/Math[_0x2cd07a(0x2ff)](_0x390aa1['area'],_0x5b92b0[_0x2cd07a(0x1a5)]);}function minBbox(_0x2a60cb){const _0x50e02f=_0x325c64,_0x3c4bc6=_0x2a60cb['map'](_0x660adc=>_0x660adc['x']),_0x16e53a=_0x2a60cb[_0x50e02f(0x268)](_0x27f721=>_0x27f721['y']),_0x49bef5=_0x3c4bc6[_0x50e02f(0x1cc)]((_0x12a005,_0x4d4c54)=>_0x4d4c54<_0x12a005?_0x4d4c54:_0x12a005,Infinity),_0x10df41=_0x16e53a[_0x50e02f(0x1cc)]((_0x563cf0,_0x593807)=>_0x593807<_0x563cf0?_0x593807:_0x563cf0,Infinity),_0x4d9d24=_0x3c4bc6[_0x50e02f(0x1cc)]((_0x3ab924,_0x2fa050)=>_0x3ab924<_0x2fa050?_0x2fa050:_0x3ab924,0x0),_0x2322fa=_0x16e53a[_0x50e02f(0x1cc)]((_0x3dace5,_0x21af3e)=>_0x3dace5<_0x21af3e?_0x21af3e:_0x3dace5,0x0);return new BoundingBox(_0x49bef5,_0x10df41,_0x4d9d24,_0x2322fa);}function nonMaxSuppression(_0x56daf6,_0x510dab,_0x2c81d6,_0x4217d7=!![]){const _0x1ba0c9=_0x325c64;let _0x25d7a6=_0x510dab[_0x1ba0c9(0x268)]((_0x217cb9,_0x2d7bfc)=>({'score':_0x217cb9,'boxIndex':_0x2d7bfc}))[_0x1ba0c9(0x13e)]((_0x1f49df,_0x1afe82)=>_0x1f49df[_0x1ba0c9(0x229)]-_0x1afe82[_0x1ba0c9(0x229)])['map'](_0x341168=>_0x341168[_0x1ba0c9(0x339)]);const _0x970421=[];while(_0x25d7a6['length']>0x0){const _0x3c87ea=_0x25d7a6[_0x1ba0c9(0x2a7)]();_0x970421[_0x1ba0c9(0x376)](_0x3c87ea);const _0x15d9fe=_0x25d7a6,_0x565113=[];for(let _0x4b38e0=0x0;_0x4b38e0<_0x15d9fe[_0x1ba0c9(0x1b1)];_0x4b38e0++){const _0x1c711d=_0x15d9fe[_0x4b38e0],_0x103a64=_0x56daf6[_0x3c87ea],_0x569051=_0x56daf6[_0x1c711d];_0x565113[_0x1ba0c9(0x376)](iou(_0x103a64,_0x569051,_0x4217d7));}_0x25d7a6=_0x25d7a6[_0x1ba0c9(0x23c)]((_0x498fde,_0x4a8968)=>_0x565113[_0x4a8968]<=_0x2c81d6);}return _0x970421;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x42ae24,_0x337ec9){return tf2['tidy'](()=>{const _0x3544d1=_0x55d2,[_0x373f46,_0x36b3fe,_0x3a2623]=_0x337ec9,_0x2ea114=tf2[_0x3544d1(0x22a)]([..._0x42ae24['shape'][_0x3544d1(0x1d2)](0x0,0x3),0x1],_0x373f46,_0x3544d1(0x167)),_0x4015ca=tf2[_0x3544d1(0x22a)]([..._0x42ae24[_0x3544d1(0x35c)]['slice'](0x0,0x3),0x1],_0x36b3fe,_0x3544d1(0x167)),_0x2a9a22=tf2['fill']([..._0x42ae24[_0x3544d1(0x35c)][_0x3544d1(0x1d2)](0x0,0x3),0x1],_0x3a2623,_0x3544d1(0x167)),_0x2d53de=tf2[_0x3544d1(0x28a)]([_0x2ea114,_0x4015ca,_0x2a9a22],0x3);return tf2[_0x3544d1(0x246)](_0x42ae24,_0x2d53de);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x51f19f,_0x14b1c7=![]){const _0x1ae0b3=_0x325c64;return tf3[_0x1ae0b3(0x2bb)](()=>{const _0x4cdd31=_0x1ae0b3,[_0x10f7f7,_0x20d406]=_0x51f19f[_0x4cdd31(0x35c)]['slice'](0x1);if(_0x10f7f7===_0x20d406)return _0x51f19f;const _0x37112d=Math[_0x4cdd31(0x378)](_0x10f7f7-_0x20d406),_0x566443=Math[_0x4cdd31(0x26a)](_0x37112d*(_0x14b1c7?0.5:0x1)),_0x59c097=_0x10f7f7>_0x20d406?0x2:0x1,_0x1687ac=_0x2a7f79=>{const _0xed0c3=_0x4cdd31,_0x231e9a=_0x51f19f[_0xed0c3(0x35c)]['slice']();return _0x231e9a[_0x59c097]=_0x2a7f79,tf3[_0xed0c3(0x22a)](_0x231e9a,0x0,_0xed0c3(0x167));},_0x182b3a=_0x1687ac(_0x566443),_0x2e9a14=_0x37112d-_0x182b3a['shape'][_0x59c097],_0x4d8a15=_0x14b1c7&&_0x2e9a14?_0x1687ac(_0x2e9a14):null,_0x3309b2=[_0x4d8a15,_0x51f19f,_0x182b3a][_0x4cdd31(0x23c)](_0x4f4863=>!!_0x4f4863)[_0x4cdd31(0x268)](_0x149ea8=>tf3['cast'](_0x149ea8,_0x4cdd31(0x167)));return tf3[_0x4cdd31(0x28a)](_0x3309b2,_0x59c097);});}function shuffleArray(_0x3ea407){const _0x5e6346=_0x325c64,_0x5b6b61=_0x3ea407[_0x5e6346(0x1d2)]();for(let _0x52cf50=_0x5b6b61['length']-0x1;_0x52cf50>0x0;_0x52cf50--){const _0xe80921=Math[_0x5e6346(0x368)](Math[_0x5e6346(0x263)]()*(_0x52cf50+0x1)),_0x3c3ebf=_0x5b6b61[_0x52cf50];_0x5b6b61[_0x52cf50]=_0x5b6b61[_0xe80921],_0x5b6b61[_0xe80921]=_0x3c3ebf;}return _0x5b6b61;}function sigmoid(_0x240c9f){const _0x3dbaf6=_0x325c64;return 0x1/(0x1+Math[_0x3dbaf6(0x288)](-_0x240c9f));}function inverseSigmoid(_0x4396b8){const _0x50e559=_0x325c64;return Math[_0x50e559(0x238)](_0x4396b8/(0x1-_0x4396b8));}function _0x2c56(){const _0x383271=['gender','prediction_layer/box_predictor_4/box_encoding_predictor','CanvasRenderingContext2D','keys','/depthwise_filter','Box.constructor','min','distance','\x20-\x20expected\x20property\x20label\x20(','_params',',\x20for\x20url:\x20','/separable_conv2','type','filterSizes','measureText','\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20','person\x20','videoHeight','conv128_down','TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20','ageGenderNet','Tensor','fc/age','labeledDescriptors','call','face_recognition_model','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','conv4','loadWeights','getOwnPropertyNames','getRefPointsForAlignment','probability','some','resizeResults\x20-\x20invalid\x20dimensions:\x20','conv256_down','conv_12','expression','TOP_RIGHT','runAndExtendWithFaceDetections','loadFromDisk','toJSON','getContext','depthwise_filter','constructor','getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','reassignParamFromPath','genderProbability','bottomRight','slice3d','euclideanDistance:\x20arr1.length\x20!==\x20arr2.length','batchSize','getPrototypeOf','getUpperLeft','TinyXception\x20-\x20load\x20model\x20before\x20inference','img','MobilenetV1','topRight','landmarkNet','conv0','object','_imageTensors','conv_4','\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number','from','boxIndex','\x20filterSizes\x20in\x20config','/BatchNorm/gamma','FaceExpressionNet','softmax','_labeledDescriptors','prototype','enumerable','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','withFaceDescriptors','conv128_1','/depthwise_conv','classPrediction','reduction_block','originalPath','http://','isLoaded','createElement','dense0','output_layer','rgba(0,\x200,\x200,\x200.5)','nextObj','/separable_conv0','/biases','_maxResults','64340fssIYX','entry_flow/reduction_block_0','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','addEventListener','mobilenetv1/conv_0','conv_1','readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment','status','conv256_down_out','/BatchNorm/beta','shape','conv_9','drawLines','url','conv_7','pointwise_filter','3690865ZXinkJ','conv_3','depth\x20has\x20to\x20be\x20an\x20integer:\x20','/separable_conv1','entry_flow','DEFAULT_FILTER_SIZES','floor','/filters','getOwnPropertyDescriptor','conv_13','/conv/bias','result','FaceFeatureExtractor','FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>','MALE','createVideoElement','reduction_block_0','config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20','prediction_layer/box_predictor_5/class_predictor','split','push','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string','abs','transpose','prediction_layer/box_predictor_1/box_encoding_predictor','\x20at\x20input\x20index\x20','exit_flow/reduction_block','as4D','mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null',',\x20filterSize:\x20','depthwiseConv2d','run','mobilenetv1/conv_12','12TTSczF','toNetInput\x20-','isDisposed','\x20tf.Tensor4D\x20with\x20batchSize\x20','className','entry_flow/conv_in','node','complete','D,\x20instead\x20have\x20','imageWidth','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','lineTo','/pointwise_conv','catch','Prediction/BoxPredictor_','conv64_2','detectLandmarks','magnitude','conv_5','_numMainBlocks','boolean','prediction_layer/box_predictor_2/box_encoding_predictor','ImageData','anchor','loadFromUri','conv32_3','predictExpressions','/conv0','dataSync','.loadFromUri\x20-\x20expected\x20model\x20uri','sad','reshape','BOTTOM_LEFT','scalar','alignMinBbox','1556823hdYeJE','main_block_','sigmoid','output_layer/extra_dim','TinyYolov2\x20-\x20load\x20model\x20before\x20inference','right','isArray','input','mobilenetv1/conv_1','\x20-\x20expected\x20properties\x20score\x20(','520ohqnUt','fillStyle','/batch_norm_scale',')\x20to\x20be\x20a\x20number','female','mobilenetv1/conv_5','_config','HTMLImageElement','fearful','conv6','fetch','expandDims','truediv','_box','runAndExtendWithFaceDetection','batch_norm_offset','/conv1','faceLandmarks',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','forSize','_distanceThreshold','rgba(255,\x20255,\x20255,\x201)','38060660CarNOS','canvas','sort','classScore','.json','createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment','oncanplay','number','tinyFaceDetector','detect','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','conv2','cast','div','failed\x20to\x20fetch:\x20(','string','/bias','create','startsWith','unstack','valid','depthwise_conv','getInputWidth','lineColor','dense1','SsdMobilenetv1','conv32_2','traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params','getNose','/Conv2d_','getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet','fontSize','exit_flow/separable_conv','prediction_layer/conv_0','relativePositions','_height','conv_0','mul','_inputSize','avgPool','/conv2','alignDlib','join','float32','_imageDims','shiftByPoint','play',',\x20weights.length:\x20','FaceLandmark68Net','clipAtImageBorders','rgba(0,\x200,\x20255,\x201)','SsdMobilenetv1Options','getImageData','mobilenetv1/conv_10','unknown','/class_predictor','BOTTOM_RIGHT','fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20','prediction_layer/conv_6','_paramMappings','FaceRecognitionNet','box_encoding_predictor','face_feature_extractor_tiny_model','detection','serializeParams','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','isRect','FEMALE','faceLandmark68TinyNet','error','1692eiHKcR','forEach','classes','NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20','boxEncodingSize','mean','shift','getClassifierChannelsIn','/sub','pointwise_conv','fc/gender','clipByValue','createImageElement','moveTo','asSortedArray','naturalWidth','_scoreThreshold','/truediv','conv_2','_canvases','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','mobilenetv1/conv_6','/batch_norm_mean','disgusted','/batch_norm_variance','draw','prediction_layer/conv_3','runNet','prediction_layer/box_predictor_2/class_predictor','imageTensors','conv256_1','/conv/filters','conv7','conv32_down','toSquare','area','text','beginPath','/scale/biases','getParamFromPath','HTMLCanvasElement','getInputDimensions','getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class','conv32_1','default','getTrainableParams','box_predictor_0','length','isBatchInput','height','padding','faceFeatureExtractor','anchors','putImageData','predictAgeAndGender','FaceLandmark68TinyNet','/BatchNorm/moving_variance','/expansion_conv','withFaceLandmarks','assertIsValidLabeledBox','TinyFaceDetectorOptions','getLeftEyeBrow','getEnv','relativeBox','relu','removeEventListener','getParamList','json','/pointwise_filter','readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20','weightsLoaderFactory','max','conv1','then','reduce','createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment','/conv','conv2d','tensor3d','box_predictor_2','slice','useTinyLandmarkNet','angry','resizeBilinear','as2D','every','/weights','lineWidth','prediction_layer/conv_5','computeFaceDescriptor','atan2','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','arc','postProcess','all','Prediction','minConfidence','mobilenetv1/conv_7','toPixels','tiny_yolov2_separable_conv_model','inputSize','TinyYolov2','_width','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options','neutral','separable_conv2','rescale','px\x20','currentTarget','path','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','imageHeight','width','readFile','prediction_layer/box_predictor_3/class_predictor','reshapedInputDimensions','_classScore','_score','https://','extra_dim','pointSize','image','age_gender_model','extractWeights','blob','_shift','_descriptors','reverse','faceRecognitionNet','tensor1d','data','@tensorflow/tfjs-node','positions','getJawOutline','bias','align','drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof','conv11','label','stroke','top','expressions','strokeStyle','Canvas','fromPixels','drawPoints','faceExpressionNet','/BoxEncodingPredictor','paramMappings','extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported','pointColor','conv',',\x20for\x20path\x20','face_feature_extractor_model','assertIsValidPredictedBox','batch_norm_scale','tinyYolov2','Georgia','conv_6','face_expression_model','forwardInput','image/','/conv3','endsWith','Output/extra_dim','-weights_manifest.json','_label','score','fill','extractBoxes','conv128_2','stack','tensor4d','withFaceExpressions','computeMeanDistance','distanceThreshold','/BatchNorm/moving_mean','getInputHeight','out','boxPredictionEncoding','isFirstLayerConv2d','params','log','conv64_3','TOP_LEFT','canvases','filter','resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null','yaw','batch_norm_mean','prediction_layer/box_predictor_','descriptors','loadClassifierParams','fromJSON','exports','descriptor','sub','boxColor','topLeft','middle_flow','/depthwise_weights','getMouth','extractParamsFromWeightMap','scale','expansion_conv','runTinyYolov2','age','_distance','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array','variable','toString','undefined','stringify','prediction_layer/box_predictor_0/class_predictor','conv_in','getDefaultModelName','extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D','Image','add','TinyXception','conv8','prediction_layer/box_predictor_3/box_encoding_predictor','filters','as3D','_name','random','conv3','forward','FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','map','_imgDims','round','/ClassPredictor','box_predictor_5','getInput','measureWidth','_minConfidence','ComposableTask\x20-\x20run\x20is\x20not\x20implemented','meanRgb','arraySync','ssdMobilenetv1','traversePropertyPath','monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','getReshapedInputDimensions','tensor2d','left','isNodejs','NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20','landmarks','videoWidth','anchorPosition','roll','toBatchTensor','749756SrrOlL','onload','_inputDimensions','\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','box_predictor_1','browser','conv64_1','createCanvasElement','exp','getFrozenParams','concat','weights','isNaN','withClassScores','freeze','dense2','exit_flow','zeros','extractedFaces','onerror','happy','_className','_faceFeatureExtractor','biases','_positions','withAgeAndGender','invalid\x20config:\x20','same','dispose','load','mobilenetv1','loadFromWeightMap','expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20','tensor','maxPool','/scale/weights','4HVbWOJ','versions','face','pop','entry_flow/reduction_block_1','drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','hasOwnProperty','__esModule','imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement','box','pad','weights\x20remaing\x20after\x20extract:\x20','conv5','iouThreshold','Variable','extractClassifierParams','sqrt','separableConv2d','/scale','as1D','1.7.3','fontStyle','tidy','/box_encoding_predictor','mobilenetv1/conv_2','prediction_layer/conv_4','MobilenetV1/Conv2d_','/batch_norm_offset','drawImage','assertIsValidBox','readAsDataURL','TinyFaceFeatureExtractor','conv256_2','face_landmark_68_model','bottom','FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input','Video','locateFaces','_treatAsBatchInput','dense3','options','parentTask','naturalHeight','measureHeight','extractParams','array','2ZFeFDP','faceLandmark68Net','findBestMatch','_pointwise/convolution_bn_offset','getLeftEye','\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','prediction_layer/box_predictor_1/class_predictor','2819144LuBgyy','getRightEyeBrow','TinyYolov2Options','prediction_layer/conv_1','imageDims','unshiftedLandmarks','withSeparableConvs','function','conv_11','male','bottomLeft','conv64_down','middle_flow/main_block_','matMul','config','/bn','toBatchTensor\x20-\x20at\x20batchIdx\x20','getRightEye','_batchSize',',\x20from\x20url:\x20','defineProperty','matchDescriptor','getClassifierChannelsOut','extractPredictedClass','prediction_layer/conv_7','prediction_layer/box_predictor_0/box_encoding_predictor','inputDimensions','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','pitch','withFaceDescriptor'];_0x2c56=function(){return _0x383271;};return _0x2c56();}var Rect=class extends Box{constructor(_0x27d6b0,_0x1f3cc2,_0x51b52a,_0x37cb3b,_0x6b919e=![]){super({'x':_0x27d6b0,'y':_0x1f3cc2,'width':_0x51b52a,'height':_0x37cb3b},_0x6b919e);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0xdfe3f,_0x47a1d6,_0x138bb2=new Point(0x0,0x0)){const _0x13e57c=_0x325c64,{width:_0x20dcc3,height:_0x10ba37}=_0x47a1d6;this[_0x13e57c(0x269)]=new Dimensions(_0x20dcc3,_0x10ba37),this[_0x13e57c(0x1ff)]=_0x138bb2,this[_0x13e57c(0x298)]=_0xdfe3f[_0x13e57c(0x268)](_0x3f926b=>_0x3f926b[_0x13e57c(0x161)](new Point(_0x20dcc3,_0x10ba37))[_0x13e57c(0x25c)](_0x138bb2));}get['shift'](){const _0x396654=_0x325c64;return new Point(this[_0x396654(0x1ff)]['x'],this['_shift']['y']);}get[_0x325c64(0x102)](){const _0x319e60=_0x325c64;return this[_0x319e60(0x269)][_0x319e60(0x1f2)];}get[_0x325c64(0x1f1)](){const _0x26e53d=_0x325c64;return this[_0x26e53d(0x269)][_0x26e53d(0x1b3)];}get[_0x325c64(0x206)](){return this['_positions'];}get[_0x325c64(0x15e)](){const _0x15f8c5=_0x325c64;return this[_0x15f8c5(0x298)][_0x15f8c5(0x268)](_0xe227f4=>_0xe227f4['sub'](this[_0x15f8c5(0x1ff)])[_0x15f8c5(0x149)](new Point(this[_0x15f8c5(0x102)],this[_0x15f8c5(0x1f1)])));}[_0x325c64(0x139)](_0x4f1372,_0x2730cb){const _0x127560=_0x325c64;return new this[(_0x127560(0x324))](this[_0x127560(0x15e)],{'width':_0x4f1372,'height':_0x2730cb});}['shiftBy'](_0x2f9209,_0x2ce2d5){const _0x2c1068=_0x325c64;return new this[(_0x2c1068(0x324))](this[_0x2c1068(0x15e)],this[_0x2c1068(0x269)],new Point(_0x2f9209,_0x2ce2d5));}[_0x325c64(0x169)](_0x254eef){return this['shiftBy'](_0x254eef['x'],_0x254eef['y']);}[_0x325c64(0x209)](_0x5a0113,_0x38784a={}){const _0x1c80ba=_0x325c64;if(_0x5a0113){const _0x479855=_0x5a0113 instanceof FaceDetection?_0x5a0113[_0x1c80ba(0x2ae)]['floor']():new Box(_0x5a0113);return this['shiftBy'](_0x479855['x'],_0x479855['y'])[_0x1c80ba(0x209)](null,_0x38784a);}const {useDlibAlignment:_0x2ffbfe,minBoxPadding:_0x57a6d4}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x38784a};if(_0x2ffbfe)return this[_0x1c80ba(0x165)]();return this[_0x1c80ba(0x11b)](_0x57a6d4);}[_0x325c64(0x165)](){const _0x10dcc0=_0x325c64,_0x3bfb83=this[_0x10dcc0(0x317)](),[_0x4844a2,_0x29bb25,_0x5c248e]=_0x3bfb83,_0x52c005=_0x399338=>_0x5c248e[_0x10dcc0(0x246)](_0x399338)[_0x10dcc0(0x10a)](),_0x4e0121=(_0x52c005(_0x4844a2)+_0x52c005(_0x29bb25))/0x2,_0x7faa1a=Math[_0x10dcc0(0x368)](_0x4e0121/relScale),_0xbe8bcb=getCenterPoint(_0x3bfb83),_0x2312b1=Math[_0x10dcc0(0x368)](Math[_0x10dcc0(0x1c9)](0x0,_0xbe8bcb['x']-relX*_0x7faa1a)),_0x566ba0=Math[_0x10dcc0(0x368)](Math[_0x10dcc0(0x1c9)](0x0,_0xbe8bcb['y']-relY*_0x7faa1a));return new Rect(_0x2312b1,_0x566ba0,Math['min'](_0x7faa1a,this[_0x10dcc0(0x102)]+_0x2312b1),Math[_0x10dcc0(0x2ff)](_0x7faa1a,this['imageHeight']+_0x566ba0));}[_0x325c64(0x11b)](_0x5c886c){const _0x41e0fb=_0x325c64,_0x4a9668=minBbox(this[_0x41e0fb(0x206)]);return _0x4a9668[_0x41e0fb(0x2af)](_0x4a9668[_0x41e0fb(0x1f2)]*_0x5c886c,_0x4a9668['height']*_0x5c886c);}[_0x325c64(0x317)](){const _0x5e152d=_0x325c64;throw new Error(_0x5e152d(0x1ac));}},FaceLandmarks5=class extends FaceLandmarks{['getRefPointsForAlignment'](){const _0x2d0a89=_0x325c64,_0x5387dd=this[_0x2d0a89(0x206)];return[_0x5387dd[0x0],_0x5387dd[0x1],getCenterPoint([_0x5387dd[0x3],_0x5387dd[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{[_0x325c64(0x207)](){const _0x562df7=_0x325c64;return this['positions'][_0x562df7(0x1d2)](0x0,0x11);}[_0x325c64(0x1bf)](){const _0x1bd28f=_0x325c64;return this['positions'][_0x1bd28f(0x1d2)](0x11,0x16);}['getRightEyeBrow'](){const _0x2c9d02=_0x325c64;return this[_0x2c9d02(0x206)][_0x2c9d02(0x1d2)](0x16,0x1b);}[_0x325c64(0x158)](){const _0x43aad2=_0x325c64;return this['positions'][_0x43aad2(0x1d2)](0x1b,0x24);}[_0x325c64(0x2d7)](){const _0x3189a5=_0x325c64;return this['positions'][_0x3189a5(0x1d2)](0x24,0x2a);}['getRightEye'](){const _0x4675c8=_0x325c64;return this['positions'][_0x4675c8(0x1d2)](0x2a,0x30);}[_0x325c64(0x24b)](){const _0x23388e=_0x325c64;return this[_0x23388e(0x206)][_0x23388e(0x1d2)](0x30,0x44);}[_0x325c64(0x317)](){const _0x1cf157=_0x325c64;return[this['getLeftEye'](),this['getRightEye'](),this[_0x1cf157(0x24b)]()][_0x1cf157(0x268)](getCenterPoint);}},FaceMatch=class{constructor(_0x41a4c3,_0x313ccf){const _0x2dd479=_0x325c64;this[_0x2dd479(0x228)]=_0x41a4c3,this['_distance']=_0x313ccf;}get[_0x325c64(0x20c)](){const _0x40919d=_0x325c64;return this[_0x40919d(0x228)];}get[_0x325c64(0x300)](){const _0x15dce0=_0x325c64;return this[_0x15dce0(0x251)];}[_0x325c64(0x254)](_0x596f11=!![]){const _0x26c949=_0x325c64;return''+this[_0x26c949(0x20c)]+(_0x596f11?'\x20('+round(this[_0x26c949(0x300)])+')':'');}},LabeledBox=class extends Box{constructor(_0x5ceb90,_0x1fb37a){const _0x2f00bc=_0x325c64;super(_0x5ceb90),this[_0x2f00bc(0x228)]=_0x1fb37a;}static[_0x325c64(0x1bd)](_0x2b565b,_0x8abfb){const _0x48c1b4=_0x325c64;Box[_0x48c1b4(0x2c2)](_0x2b565b,_0x8abfb);if(!isValidNumber(_0x2b565b[_0x48c1b4(0x20c)]))throw new Error(_0x8abfb+_0x48c1b4(0x301)+_0x2b565b[_0x48c1b4(0x20c)]+_0x48c1b4(0x129));}get[_0x325c64(0x20c)](){return this['_label'];}},LabeledFaceDescriptors=class{constructor(_0x2721b6,_0x1ac2a7){const _0x4d202b=_0x325c64;if(!(typeof _0x2721b6===_0x4d202b(0x14b)))throw new Error(_0x4d202b(0x377));if(!Array['isArray'](_0x1ac2a7)||_0x1ac2a7[_0x4d202b(0x319)](_0x3914de=>!(_0x3914de instanceof Float32Array)))throw new Error(_0x4d202b(0x252));this[_0x4d202b(0x228)]=_0x2721b6,this[_0x4d202b(0x200)]=_0x1ac2a7;}get['label'](){const _0x565958=_0x325c64;return this[_0x565958(0x228)];}get[_0x325c64(0x241)](){const _0x2fb854=_0x325c64;return this[_0x2fb854(0x200)];}[_0x325c64(0x321)](){const _0x288893=_0x325c64;return{'label':this[_0x288893(0x20c)],'descriptors':this['descriptors']['map'](_0x143d80=>Array[_0x288893(0x338)](_0x143d80))};}static[_0x325c64(0x243)](_0x1faafe){const _0x2a9847=_0x325c64,_0xfa931=_0x1faafe['descriptors'][_0x2a9847(0x268)](_0x319e23=>new Float32Array(_0x319e23));return new LabeledFaceDescriptors(_0x1faafe['label'],_0xfa931);}},PredictedBox=class extends LabeledBox{constructor(_0x2715ec,_0x264f07,_0xf03745,_0x3cf827){super(_0x2715ec,_0x264f07),this['_score']=_0xf03745,this['_classScore']=_0x3cf827;}static[_0x325c64(0x21c)](_0x597f8a,_0x17dd53){const _0x4f38ad=_0x325c64;LabeledBox[_0x4f38ad(0x1bd)](_0x597f8a,_0x17dd53);if(!isValidProbablitiy(_0x597f8a[_0x4f38ad(0x229)])||!isValidProbablitiy(_0x597f8a[_0x4f38ad(0x13f)]))throw new Error(_0x17dd53+_0x4f38ad(0x125)+_0x597f8a[_0x4f38ad(0x229)]+')\x20and\x20('+_0x597f8a[_0x4f38ad(0x13f)]+')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]');}get[_0x325c64(0x229)](){const _0x3e0274=_0x325c64;return this[_0x3e0274(0x1f7)];}get['classScore'](){const _0x4dfecc=_0x325c64;return this[_0x4dfecc(0x1f6)];}};function isWithFaceDetection(_0x1b600d){return _0x1b600d['detection']instanceof FaceDetection;}function extendWithFaceDetection(_0x389aa0,_0x3b51fa){const _0xa7cca={'detection':_0x3b51fa};return{..._0x389aa0,..._0xa7cca};}function createBrowserEnv(){const _0x39e83c=_0x325c64,_0x315204=window[_0x39e83c(0x130)];if(!_0x315204)throw new Error('fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment');const _0x20c745=()=>{const _0x50ab50=_0x39e83c;throw new Error(_0x50ab50(0x358));};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document[_0x39e83c(0x34a)](_0x39e83c(0x13d)),'createImageElement':()=>document['createElement'](_0x39e83c(0x32f)),'createVideoElement':()=>document[_0x39e83c(0x34a)]('video'),'fetch':_0x315204,'readFile':_0x20c745};}function isNodejs(){const _0x25fef9=_0x325c64;return typeof global===_0x25fef9(0x334)&&typeof process!==_0x25fef9(0x255)&&process[_0x25fef9(0x2a5)]!=null&&process[_0x25fef9(0x2a5)][_0x25fef9(0xff)]!=null;}function createFileSystem(_0x4f272f){const _0x4bd0a0=_0x325c64;let _0x479c52='';if(!_0x4f272f&&isNodejs())try{_0x4f272f=require('fs');}catch(_0x28bb55){console['log'](_0x4bd0a0(0x181),_0x28bb55),_0x479c52=_0x28bb55[_0x4bd0a0(0x254)]();}const _0x5a74c5=_0x4f272f?_0x243d14=>new Promise((_0x60c70e,_0x3107bb)=>{const _0x12a7ab=_0x4bd0a0;_0x4f272f[_0x12a7ab(0x1f3)](_0x243d14,(_0x14bcd7,_0x1105da)=>_0x14bcd7?_0x3107bb(_0x14bcd7):_0x60c70e(_0x1105da));}):()=>{const _0x2064a5=_0x4bd0a0;throw new Error(_0x2064a5(0x1c7)+_0x479c52);};return{'readFile':_0x5a74c5};}function createNodejsEnv(){const _0x1f26af=_0x325c64,_0x3a16cf=global[_0x1f26af(0x211)]||global[_0x1f26af(0x1aa)],_0x256ed8=global[_0x1f26af(0x25b)]||global[_0x1f26af(0x12d)],_0x43e7ec=global[_0x1f26af(0x2c9)]||global['HTMLVideoElement'],_0x1dc790=()=>{if(_0x3a16cf)return new _0x3a16cf();throw new Error('createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment');},_0x4726ef=()=>{const _0x57264d=_0x1f26af;if(_0x256ed8)return new _0x256ed8();throw new Error(_0x57264d(0x1cd));},_0x34dd0e=()=>{const _0x19741e=_0x1f26af;if(_0x43e7ec)return new _0x43e7ec();throw new Error(_0x19741e(0x141));},_0x820db3=global[_0x1f26af(0x130)],_0x14c851=createFileSystem();return{'Canvas':_0x3a16cf||class{},'CanvasRenderingContext2D':global[_0x1f26af(0x2fb)]||class{},'Image':_0x256ed8||class{},'ImageData':global[_0x1f26af(0x10f)]||class{},'Video':global['HTMLVideoElement']||class{},'createCanvasElement':_0x1dc790,'createImageElement':_0x4726ef,'createVideoElement':_0x34dd0e,'fetch':_0x820db3,..._0x14c851};}function isBrowser(){const _0x1305ab=_0x325c64;return typeof window==='object'&&typeof document!==_0x1305ab(0x255)&&typeof HTMLImageElement!==_0x1305ab(0x255)&&typeof HTMLCanvasElement!==_0x1305ab(0x255)&&typeof HTMLVideoElement!=='undefined'&&typeof ImageData!=='undefined'&&typeof CanvasRenderingContext2D!==_0x1305ab(0x255);}var environment;function getEnv(){const _0x1f8860=_0x325c64;if(!environment)throw new Error(_0x1f8860(0x325));return environment;}function setEnv(_0x4cd7ea){environment=_0x4cd7ea;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x31e284){const _0x18443a=_0x325c64;!environment&&initialize();if(!environment)throw new Error(_0x18443a(0x275));const {Canvas:Canvas=environment[_0x18443a(0x211)],Image:Image=environment[_0x18443a(0x25b)]}=_0x31e284;environment[_0x18443a(0x211)]=Canvas,environment[_0x18443a(0x25b)]=Image,environment['createCanvasElement']=_0x31e284[_0x18443a(0x287)]||(()=>new Canvas()),environment[_0x18443a(0x18e)]=_0x31e284[_0x18443a(0x18e)]||(()=>new Image()),environment[_0x18443a(0x10f)]=_0x31e284[_0x18443a(0x10f)]||environment['ImageData'],environment[_0x18443a(0x2c9)]=_0x31e284[_0x18443a(0x2c9)]||environment['Video'],environment[_0x18443a(0x130)]=_0x31e284[_0x18443a(0x130)]||environment['fetch'],environment['readFile']=_0x31e284[_0x18443a(0x1f3)]||environment[_0x18443a(0x1f3)];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x11d55d){const _0x61b547=_0x325c64;if(!env[_0x61b547(0x279)]()&&typeof _0x11d55d==='string')return document['getElementById'](_0x11d55d);return _0x11d55d;}function getContext2dOrThrow(_0x311c39){const _0x51810a=_0x325c64,{Canvas:_0x5f100d,CanvasRenderingContext2D:_0x30efde}=env[_0x51810a(0x1c0)]();if(_0x311c39 instanceof _0x30efde)return _0x311c39;const _0x1b3385=resolveInput(_0x311c39);if(!(_0x1b3385 instanceof _0x5f100d))throw new Error('resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas');const _0x5f34dd=_0x1b3385[_0x51810a(0x322)]('2d');if(!_0x5f34dd)throw new Error(_0x51810a(0x23d));return _0x5f34dd;}var AnchorPosition=(_0x170d8e=>{const _0x418eb8=_0x325c64;return _0x170d8e[_0x418eb8(0x23a)]=_0x418eb8(0x23a),_0x170d8e[_0x418eb8(0x31e)]='TOP_RIGHT',_0x170d8e[_0x418eb8(0x119)]=_0x418eb8(0x119),_0x170d8e[_0x418eb8(0x174)]='BOTTOM_RIGHT',_0x170d8e;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x16eba8={}){const _0x2b39d1=_0x325c64,{anchorPosition:_0x3d400d,backgroundColor:_0x13f181,fontColor:_0x361cc6,fontSize:_0x25011c,fontStyle:_0x16ce61,padding:_0xb315b9}=_0x16eba8;this[_0x2b39d1(0x27d)]=_0x3d400d||_0x2b39d1(0x23a),this['backgroundColor']=_0x13f181||_0x2b39d1(0x34d),this['fontColor']=_0x361cc6||_0x2b39d1(0x13b),this[_0x2b39d1(0x15b)]=_0x25011c||0xe,this[_0x2b39d1(0x2ba)]=_0x16ce61||_0x2b39d1(0x21f),this[_0x2b39d1(0x1b4)]=_0xb315b9||0x4;}},DrawTextField=class{constructor(_0xb7283c,_0x3bcba5,_0x20f62d={}){const _0xeec3c5=_0x325c64;this['text']=typeof _0xb7283c==='string'?[_0xb7283c]:_0xb7283c instanceof DrawTextField?_0xb7283c['text']:_0xb7283c,this[_0xeec3c5(0x110)]=_0x3bcba5,this['options']=new DrawTextFieldOptions(_0x20f62d);}['measureWidth'](_0x4ea706){const _0x2b7a92=_0x325c64,{padding:_0x299bce}=this[_0x2b7a92(0x2cd)];return this[_0x2b7a92(0x1a6)][_0x2b7a92(0x268)](_0x25aded=>_0x4ea706[_0x2b7a92(0x307)](_0x25aded)[_0x2b7a92(0x1f2)])[_0x2b7a92(0x1cc)]((_0x751d,_0x4ca9e3)=>_0x751d<_0x4ca9e3?_0x4ca9e3:_0x751d,0x0)+0x2*_0x299bce;}[_0x325c64(0x2d0)](){const _0x11e132=_0x325c64,{fontSize:_0x222749,padding:_0x35c39b}=this[_0x11e132(0x2cd)];return this[_0x11e132(0x1a6)][_0x11e132(0x1b1)]*_0x222749+0x2*_0x35c39b;}['getUpperLeft'](_0x56baa0,_0x6e7400){const _0x59fde8=_0x325c64,{anchorPosition:_0x1accef}=this['options'],_0x347b2b=_0x1accef===_0x59fde8(0x174)||_0x1accef===_0x59fde8(0x31e),_0x28c35a=_0x1accef==='BOTTOM_LEFT'||_0x1accef===_0x59fde8(0x174),_0x2a0454=this[_0x59fde8(0x26e)](_0x56baa0),_0x4a786b=this['measureHeight'](),_0x3bc7b6=_0x347b2b?this[_0x59fde8(0x110)]['x']-_0x2a0454:this[_0x59fde8(0x110)]['x'],_0x294831=_0x28c35a?this[_0x59fde8(0x110)]['y']-_0x4a786b:this['anchor']['y'];if(_0x6e7400){const {width:_0x55814e,height:_0x298009}=_0x6e7400,_0x219cc6=Math[_0x59fde8(0x1c9)](Math[_0x59fde8(0x2ff)](_0x3bc7b6,_0x55814e-_0x2a0454),0x0),_0x47610b=Math[_0x59fde8(0x1c9)](Math[_0x59fde8(0x2ff)](_0x294831,_0x298009-_0x4a786b),0x0);return{'x':_0x219cc6,'y':_0x47610b};}return{'x':_0x3bc7b6,'y':_0x294831};}[_0x325c64(0x19b)](_0x392f9f){const _0x49e6be=_0x325c64,_0xf0682b=resolveInput(_0x392f9f),_0x22681c=getContext2dOrThrow(_0xf0682b),{backgroundColor:_0x117921,fontColor:_0x363e6b,fontSize:_0x2bb983,fontStyle:_0x4ad419,padding:_0x2fef0d}=this[_0x49e6be(0x2cd)];_0x22681c['font']=_0x2bb983+_0x49e6be(0x1ed)+_0x4ad419;const _0x3645a0=this[_0x49e6be(0x26e)](_0x22681c),_0x3006bd=this['measureHeight']();_0x22681c[_0x49e6be(0x127)]=_0x117921;const _0x234ce9=this[_0x49e6be(0x32d)](_0x22681c,_0xf0682b);_0x22681c['fillRect'](_0x234ce9['x'],_0x234ce9['y'],_0x3645a0,_0x3006bd),_0x22681c['fillStyle']=_0x363e6b,this[_0x49e6be(0x1a6)]['forEach']((_0x407a06,_0x34bf94)=>{const _0xf1712b=_0x2fef0d+_0x234ce9['x'],_0xdcfb4=_0x2fef0d+_0x234ce9['y']+(_0x34bf94+0x1)*_0x2bb983;_0x22681c['fillText'](_0x407a06,_0xf1712b,_0xdcfb4);});}},DrawBoxOptions=class{constructor(_0x1db884={}){const _0x33034c=_0x325c64,{boxColor:_0x3ab150,lineWidth:_0x11c5f3,label:_0x2cfd77,drawLabelOptions:_0x4640a6}=_0x1db884;this[_0x33034c(0x247)]=_0x3ab150||_0x33034c(0x16e),this[_0x33034c(0x1d9)]=_0x11c5f3||0x2,this['label']=_0x2cfd77;const _0x3a5d4e={'anchorPosition':_0x33034c(0x119),'backgroundColor':this[_0x33034c(0x247)]};this['drawLabelOptions']=new DrawTextFieldOptions({..._0x3a5d4e,..._0x4640a6});}},DrawBox=class{constructor(_0x52f508,_0x3de2be={}){const _0x2a7e6c=_0x325c64;this[_0x2a7e6c(0x2ae)]=new Box(_0x52f508),this[_0x2a7e6c(0x2cd)]=new DrawBoxOptions(_0x3de2be);}['draw'](_0x5b0fbb){const _0x2c54c7=_0x325c64,_0x474ad0=getContext2dOrThrow(_0x5b0fbb),{boxColor:_0x4266e5,lineWidth:_0x289756}=this[_0x2c54c7(0x2cd)],{x:_0x37d86c,y:_0x33627d,width:_0x327d92,height:_0x297cbc}=this[_0x2c54c7(0x2ae)];_0x474ad0['strokeStyle']=_0x4266e5,_0x474ad0['lineWidth']=_0x289756,_0x474ad0['strokeRect'](_0x37d86c,_0x33627d,_0x327d92,_0x297cbc);const {label:_0x426d25}=this[_0x2c54c7(0x2cd)];_0x426d25&&new DrawTextField([_0x426d25],{'x':_0x37d86c-_0x289756/0x2,'y':_0x33627d},this[_0x2c54c7(0x2cd)]['drawLabelOptions'])['draw'](_0x5b0fbb);}};function drawDetections(_0x2b58dd,_0x3de722){const _0x74541c=_0x325c64,_0x21e049=Array[_0x74541c(0x122)](_0x3de722)?_0x3de722:[_0x3de722];_0x21e049[_0x74541c(0x183)](_0x1c997d=>{const _0x200bdf=_0x74541c,_0x27c5ae=_0x1c997d instanceof FaceDetection?_0x1c997d[_0x200bdf(0x229)]:isWithFaceDetection(_0x1c997d)?_0x1c997d[_0x200bdf(0x17b)][_0x200bdf(0x229)]:void 0x0,_0x1fcc41=_0x1c997d instanceof FaceDetection?_0x1c997d[_0x200bdf(0x2ae)]:isWithFaceDetection(_0x1c997d)?_0x1c997d[_0x200bdf(0x17b)][_0x200bdf(0x2ae)]:new Box(_0x1c997d),_0x1b85ff=_0x27c5ae?''+round(_0x27c5ae):void 0x0;new DrawBox(_0x1fcc41,{'label':_0x1b85ff})[_0x200bdf(0x19b)](_0x2b58dd);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x49d5cd){const _0x4afbf8=_0x325c64,{Image:_0x1537a2,Video:_0x576c90}=env[_0x4afbf8(0x1c0)]();return _0x49d5cd instanceof _0x1537a2&&_0x49d5cd[_0x4afbf8(0x100)]||_0x49d5cd instanceof _0x576c90&&_0x49d5cd['readyState']>=0x3;}function awaitMediaLoaded(_0x545d88){return new Promise((_0x429a44,_0x403e17)=>{const _0x909b6a=_0x55d2;if(_0x545d88 instanceof env[_0x909b6a(0x1c0)]()[_0x909b6a(0x211)]||isMediaLoaded(_0x545d88))_0x429a44(null);function _0x5489fe(_0x500028){const _0x1ab75e=_0x909b6a;if(!_0x500028[_0x1ab75e(0x1ee)])return;_0x500028[_0x1ab75e(0x1ee)][_0x1ab75e(0x1c3)]('load',_0x5ae7e9),_0x500028[_0x1ab75e(0x1ee)][_0x1ab75e(0x1c3)](_0x1ab75e(0x181),_0x5489fe),_0x403e17(_0x500028);}function _0x5ae7e9(_0x59ab01){const _0x328d11=_0x909b6a;if(!_0x59ab01[_0x328d11(0x1ee)])return;_0x59ab01[_0x328d11(0x1ee)]['removeEventListener']('load',_0x5ae7e9),_0x59ab01[_0x328d11(0x1ee)]['removeEventListener'](_0x328d11(0x181),_0x5489fe),_0x429a44(_0x59ab01);}_0x545d88['addEventListener']('load',_0x5ae7e9),_0x545d88[_0x909b6a(0x355)](_0x909b6a(0x181),_0x5489fe);});}function bufferToImage(_0xdcbb51){return new Promise((_0x3a8a4e,_0x543285)=>{const _0x5c77cd=_0x55d2;if(!(_0xdcbb51 instanceof Blob))_0x543285(new Error('bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob'));const _0xad184f=new FileReader();_0xad184f[_0x5c77cd(0x281)]=()=>{const _0x310d82=_0x5c77cd;if(typeof _0xad184f[_0x310d82(0x36d)]!==_0x310d82(0x14b))_0x543285(new Error('bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload'));const _0x2d9bcb=env['getEnv']()[_0x310d82(0x18e)]();_0x2d9bcb['onload']=()=>_0x3a8a4e(_0x2d9bcb),_0x2d9bcb[_0x310d82(0x293)]=_0x543285,_0x2d9bcb['src']=_0xad184f[_0x310d82(0x36d)];},_0xad184f[_0x5c77cd(0x293)]=_0x543285,_0xad184f[_0x5c77cd(0x2c3)](_0xdcbb51);});}function getMediaDimensions(_0x3076c4){const _0x1fb30a=_0x325c64,{Image:_0x5090e8,Video:_0x133aa6}=env[_0x1fb30a(0x1c0)]();if(_0x3076c4 instanceof _0x5090e8)return new Dimensions(_0x3076c4[_0x1fb30a(0x191)],_0x3076c4[_0x1fb30a(0x2cf)]);if(_0x3076c4 instanceof _0x133aa6)return new Dimensions(_0x3076c4[_0x1fb30a(0x27c)],_0x3076c4[_0x1fb30a(0x30a)]);return new Dimensions(_0x3076c4[_0x1fb30a(0x1f2)],_0x3076c4[_0x1fb30a(0x1b3)]);}function createCanvas({width:_0x54f44d,height:_0x4c6cdb}){const _0x28e1ce=_0x325c64,{createCanvasElement:_0x5b976c}=env[_0x28e1ce(0x1c0)](),_0x5a3434=_0x5b976c();return _0x5a3434['width']=_0x54f44d,_0x5a3434['height']=_0x4c6cdb,_0x5a3434;}function createCanvasFromMedia(_0xfeca7d,_0x272633){const _0x5cc0c1=_0x325c64,{ImageData:_0x26fbe5}=env[_0x5cc0c1(0x1c0)]();if(!(_0xfeca7d instanceof _0x26fbe5)&&!isMediaLoaded(_0xfeca7d))throw new Error(_0x5cc0c1(0x103));const {width:_0xde7842,height:_0x48986c}=_0x272633||getMediaDimensions(_0xfeca7d),_0x267b9d=createCanvas({'width':_0xde7842,'height':_0x48986c});return _0xfeca7d instanceof _0x26fbe5?getContext2dOrThrow(_0x267b9d)[_0x5cc0c1(0x1b7)](_0xfeca7d,0x0,0x0):getContext2dOrThrow(_0x267b9d)['drawImage'](_0xfeca7d,0x0,0x0,_0xde7842,_0x48986c),_0x267b9d;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0xbeae40,_0x484801){const _0x264dc9=_0x325c64,_0x5b4b5a=_0x484801||env[_0x264dc9(0x1c0)]()[_0x264dc9(0x287)](),[_0x52cfd2,_0xe83388,_0x51888d]=_0xbeae40[_0x264dc9(0x35c)][_0x264dc9(0x1d2)](isTensor4D(_0xbeae40)?0x1:0x0),_0x3737e5=tf4['tidy'](()=>_0xbeae40['as3D'](_0x52cfd2,_0xe83388,_0x51888d)['toInt']());return await tf4[_0x264dc9(0x285)][_0x264dc9(0x1e4)](_0x3737e5,_0x5b4b5a),_0x3737e5['dispose'](),_0x5b4b5a;}function isMediaElement(_0x275220){const _0x4138fd=_0x325c64,{Image:_0x4e11a2,Canvas:_0x5205de,Video:_0x35f721}=env[_0x4138fd(0x1c0)]();return _0x275220 instanceof _0x4e11a2||_0x275220 instanceof _0x5205de||_0x275220 instanceof _0x35f721;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x28143a,_0x4df7a6,_0x120555=![]){const _0x14ea8e=_0x325c64,{Image:_0x2a081b,Canvas:_0x2cc3f4}=env['getEnv']();if(!(_0x28143a instanceof _0x2a081b||_0x28143a instanceof _0x2cc3f4))throw new Error(_0x14ea8e(0x2ad));if(_0x4df7a6<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x2af34e=getMediaDimensions(_0x28143a),_0x4bd14f=_0x4df7a6/Math[_0x14ea8e(0x1c9)](_0x2af34e[_0x14ea8e(0x1b3)],_0x2af34e[_0x14ea8e(0x1f2)]),_0x815efc=_0x4bd14f*_0x2af34e[_0x14ea8e(0x1f2)],_0x59f07f=_0x4bd14f*_0x2af34e[_0x14ea8e(0x1b3)],_0x391414=createCanvas({'width':_0x4df7a6,'height':_0x4df7a6}),_0x5c4b2a=_0x28143a instanceof _0x2cc3f4?_0x28143a:createCanvasFromMedia(_0x28143a),_0x38758f=Math['abs'](_0x815efc-_0x59f07f)/0x2,_0x2fc57a=_0x120555&&_0x815efc<_0x59f07f?_0x38758f:0x0,_0x2c4c30=_0x120555&&_0x59f07f<_0x815efc?_0x38758f:0x0;if(_0x5c4b2a[_0x14ea8e(0x1f2)]>0x0&&_0x5c4b2a['height']>0x0)getContext2dOrThrow(_0x391414)[_0x14ea8e(0x2c1)](_0x5c4b2a,_0x2fc57a,_0x2c4c30,_0x815efc,_0x59f07f);return _0x391414;}var NetInput=class{constructor(_0x3ef6c8,_0x16ca31=![]){const _0x264d95=_0x325c64;this[_0x264d95(0x335)]=[],this['_canvases']=[],this['_treatAsBatchInput']=![],this['_inputDimensions']=[],this[_0x264d95(0x162)]=0x0;if(!Array[_0x264d95(0x122)](_0x3ef6c8))throw new Error(_0x264d95(0x27a)+_0x3ef6c8);this[_0x264d95(0x2cb)]=_0x16ca31,this[_0x264d95(0x2ed)]=_0x3ef6c8[_0x264d95(0x1b1)],_0x3ef6c8['forEach']((_0x454627,_0x5ed360)=>{const _0x5dfbc8=_0x264d95;if(isTensor3D(_0x454627)){this['_imageTensors'][_0x5ed360]=_0x454627,this[_0x5dfbc8(0x282)][_0x5ed360]=_0x454627[_0x5dfbc8(0x35c)];return;}if(isTensor4D(_0x454627)){const _0x323161=_0x454627['shape'][0x0];if(_0x323161!==0x1)throw new Error(_0x5dfbc8(0x185)+_0x323161+'\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array');this['_imageTensors'][_0x5ed360]=_0x454627,this[_0x5dfbc8(0x282)][_0x5ed360]=_0x454627[_0x5dfbc8(0x35c)][_0x5dfbc8(0x1d2)](0x1);return;}const _0x2ec55f=_0x454627 instanceof env[_0x5dfbc8(0x1c0)]()[_0x5dfbc8(0x211)]?_0x454627:createCanvasFromMedia(_0x454627);this['_canvases'][_0x5ed360]=_0x2ec55f,this[_0x5dfbc8(0x282)][_0x5ed360]=[_0x2ec55f[_0x5dfbc8(0x1b3)],_0x2ec55f['width'],0x3];});}get['imageTensors'](){const _0x303e04=_0x325c64;return this[_0x303e04(0x335)];}get[_0x325c64(0x23b)](){const _0x165a32=_0x325c64;return this[_0x165a32(0x195)];}get['isBatchInput'](){const _0xcea68=_0x325c64;return this[_0xcea68(0x32b)]>0x1||this[_0xcea68(0x2cb)];}get[_0x325c64(0x32b)](){const _0x48d756=_0x325c64;return this[_0x48d756(0x2ed)];}get[_0x325c64(0x2f5)](){const _0x36d371=_0x325c64;return this[_0x36d371(0x282)];}get[_0x325c64(0x1e6)](){const _0x1e1eb9=_0x325c64;return this[_0x1e1eb9(0x162)];}get[_0x325c64(0x1f5)](){const _0x5ebe7b=_0x325c64;return range(this[_0x5ebe7b(0x32b)],0x0,0x1)[_0x5ebe7b(0x268)]((_0x9bb912,_0x5b89b0)=>this[_0x5ebe7b(0x276)](_0x5b89b0));}[_0x325c64(0x26d)](_0x40e7ee){const _0x4ec8b6=_0x325c64;return this[_0x4ec8b6(0x23b)][_0x40e7ee]||this[_0x4ec8b6(0x19f)][_0x40e7ee];}[_0x325c64(0x1ab)](_0x36b3f7){return this['_inputDimensions'][_0x36b3f7];}[_0x325c64(0x233)](_0xed99e8){const _0x27a4a4=_0x325c64;return this[_0x27a4a4(0x282)][_0xed99e8][0x0];}['getInputWidth'](_0x595af2){const _0x365aff=_0x325c64;return this[_0x365aff(0x282)][_0x595af2][0x1];}[_0x325c64(0x276)](_0x30cba8){const _0x4e6c16=_0x325c64;if(typeof this[_0x4e6c16(0x1e6)]!==_0x4e6c16(0x143))throw new Error(_0x4e6c16(0x15a));const _0x81c3f6=this['getInputWidth'](_0x30cba8),_0x27851b=this[_0x4e6c16(0x233)](_0x30cba8);return computeReshapedDimensions({'width':_0x81c3f6,'height':_0x27851b},this[_0x4e6c16(0x1e6)]);}['toBatchTensor'](_0x1d5eb0,_0x21041b=!![]){const _0x400a87=_0x325c64;return this[_0x400a87(0x162)]=_0x1d5eb0,tf5[_0x400a87(0x2bb)](()=>{const _0x17351c=_0x400a87,_0xcf2aff=range(this[_0x17351c(0x32b)],0x0,0x1)[_0x17351c(0x268)](_0x4a2f86=>{const _0x58be87=_0x17351c,_0x4af8e8=this[_0x58be87(0x26d)](_0x4a2f86);if(_0x4af8e8 instanceof tf5['Tensor']){let _0x3ebdbf=isTensor4D(_0x4af8e8)?_0x4af8e8:tf5[_0x58be87(0x131)](_0x4af8e8);return _0x3ebdbf=padToSquare(_0x3ebdbf,_0x21041b),(_0x3ebdbf['shape'][0x1]!==_0x1d5eb0||_0x3ebdbf[_0x58be87(0x35c)][0x2]!==_0x1d5eb0)&&(_0x3ebdbf=tf5[_0x58be87(0x1fb)][_0x58be87(0x1d5)](_0x3ebdbf,[_0x1d5eb0,_0x1d5eb0],![],![])),_0x3ebdbf[_0x58be87(0x261)](_0x1d5eb0,_0x1d5eb0,0x3);}if(_0x4af8e8 instanceof env[_0x58be87(0x1c0)]()[_0x58be87(0x211)])return tf5[_0x58be87(0x285)][_0x58be87(0x212)](imageToSquare(_0x4af8e8,_0x1d5eb0,_0x21041b));throw new Error(_0x58be87(0x2eb)+_0x4a2f86+_0x58be87(0x138)+_0x4af8e8);}),_0x4cf132=tf5[_0x17351c(0x22d)](_0xcf2aff[_0x17351c(0x268)](_0x3ab27a=>tf5[_0x17351c(0x148)](_0x3ab27a,_0x17351c(0x167))))[_0x17351c(0x37d)](this[_0x17351c(0x32b)],_0x1d5eb0,_0x1d5eb0,0x3);return _0x4cf132;});}};async function toNetInput(_0x3d1173){const _0x34d416=_0x325c64;if(_0x3d1173 instanceof NetInput)return _0x3d1173;const _0x53c99f=Array[_0x34d416(0x122)](_0x3d1173)?_0x3d1173:[_0x3d1173];if(!_0x53c99f['length'])throw new Error('toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input');const _0x18691b=_0x441926=>Array['isArray'](_0x3d1173)?_0x34d416(0x37b)+_0x441926+':':'',_0x1b288d=_0x53c99f[_0x34d416(0x268)](resolveInput);return _0x1b288d[_0x34d416(0x183)]((_0x4f8982,_0x1c5e5c)=>{const _0x5b59b1=_0x34d416;if(!isMediaElement(_0x4f8982)&&!isTensor3D(_0x4f8982)&&!isTensor4D(_0x4f8982)){if(typeof _0x53c99f[_0x1c5e5c]===_0x5b59b1(0x14b))throw new Error(_0x5b59b1(0x384)+_0x18691b(_0x1c5e5c)+_0x5b59b1(0x308)+_0x53c99f[_0x1c5e5c]);throw new Error(_0x5b59b1(0x384)+_0x18691b(_0x1c5e5c)+'\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id');}if(isTensor4D(_0x4f8982)){const _0x4dea98=_0x4f8982[_0x5b59b1(0x35c)][0x0];if(_0x4dea98!==0x1)throw new Error('toNetInput\x20-'+_0x18691b(_0x1c5e5c)+_0x5b59b1(0xfc)+_0x4dea98+_0x5b59b1(0x146));}}),await Promise[_0x34d416(0x1e0)](_0x1b288d[_0x34d416(0x268)](_0x43a2bb=>isMediaElement(_0x43a2bb)&&awaitMediaLoaded(_0x43a2bb))),new NetInput(_0x1b288d,Array[_0x34d416(0x122)](_0x3d1173));}async function extractFaces(_0xfbda6f,_0x3dc38d){const _0x31d65a=_0x325c64,{Canvas:_0x1fbf4d}=env['getEnv']();let _0x4b0ea7=_0xfbda6f;if(!(_0xfbda6f instanceof _0x1fbf4d)){const _0x3a1436=await toNetInput(_0xfbda6f);if(_0x3a1436[_0x31d65a(0x32b)]>0x1)throw new Error(_0x31d65a(0x17d));const _0x255afa=_0x3a1436[_0x31d65a(0x26d)](0x0);_0x4b0ea7=_0x255afa instanceof _0x1fbf4d?_0x255afa:await imageTensorToCanvas(_0x255afa);}const _0x4ebf33=getContext2dOrThrow(_0x4b0ea7),_0x47f9ab=_0x3dc38d[_0x31d65a(0x268)](_0x265eda=>_0x265eda instanceof FaceDetection?_0x265eda[_0x31d65a(0x139)](_0x4b0ea7['width'],_0x4b0ea7[_0x31d65a(0x1b3)])[_0x31d65a(0x2ae)][_0x31d65a(0x368)]():_0x265eda)[_0x31d65a(0x268)](_0x3508e8=>_0x3508e8[_0x31d65a(0x16d)](_0x4b0ea7[_0x31d65a(0x1f2)],_0x4b0ea7[_0x31d65a(0x1b3)]));return _0x47f9ab[_0x31d65a(0x268)](({x:_0x97abd8,y:_0x3f8095,width:_0x206af2,height:_0x5df4b9})=>{const _0x32c1c6=_0x31d65a,_0x16140d=createCanvas({'width':_0x206af2,'height':_0x5df4b9});if(_0x206af2>0x0&&_0x5df4b9>0x0)getContext2dOrThrow(_0x16140d)[_0x32c1c6(0x1b7)](_0x4ebf33[_0x32c1c6(0x170)](_0x97abd8,_0x3f8095,_0x206af2,_0x5df4b9),0x0,0x0);return _0x16140d;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x5ca291,_0x1e719d){const _0x1ee9b3=_0x325c64;if(!isTensor3D(_0x5ca291)&&!isTensor4D(_0x5ca291))throw new Error(_0x1ee9b3(0x25a));if(isTensor4D(_0x5ca291)&&_0x5ca291['shape'][0x0]>0x1)throw new Error(_0x1ee9b3(0x217));return tf6[_0x1ee9b3(0x2bb)](()=>{const _0xdfa1d3=_0x1ee9b3,[_0xc2f66f,_0x70473c,_0x19e2f0]=_0x5ca291[_0xdfa1d3(0x35c)]['slice'](isTensor4D(_0x5ca291)?0x1:0x0),_0x1dcc2a=_0x1e719d['map'](_0x2ca3ae=>_0x2ca3ae instanceof FaceDetection?_0x2ca3ae['forSize'](_0x70473c,_0xc2f66f)[_0xdfa1d3(0x2ae)]:_0x2ca3ae)[_0xdfa1d3(0x268)](_0xe7dafb=>_0xe7dafb['clipAtImageBorders'](_0x70473c,_0xc2f66f)),_0x98547b=_0x1dcc2a['filter'](_0x3af731=>_0x3af731[_0xdfa1d3(0x1f2)]>0x0&&_0x3af731[_0xdfa1d3(0x1b3)]>0x0)['map'](({x:_0x4344a9,y:_0x31490f,width:_0x4591f5,height:_0x325f41})=>tf6[_0xdfa1d3(0x329)](_0x5ca291[_0xdfa1d3(0x261)](_0xc2f66f,_0x70473c,_0x19e2f0),[_0x31490f,_0x4344a9,0x0],[_0x325f41,_0x4591f5,_0x19e2f0]));return _0x98547b;});}async function fetchOrThrow(_0xde127d,_0x553696){const _0x16bdab=_0x325c64,{fetch:_0x50b4cd}=env[_0x16bdab(0x1c0)](),_0x307f8b=await _0x50b4cd(_0xde127d,_0x553696);if(!(_0x307f8b[_0x16bdab(0x359)]<0x190))throw new Error(_0x16bdab(0x14a)+_0x307f8b[_0x16bdab(0x359)]+')\x20'+_0x307f8b['statusText']+_0x16bdab(0x2ee)+_0x307f8b[_0x16bdab(0x35f)]);return _0x307f8b;}async function fetchImage(_0x31535c){const _0x12e4fb=_0x325c64,_0x4b16ed=await fetchOrThrow(_0x31535c),_0x50ad8e=await _0x4b16ed[_0x12e4fb(0x1fe)]();if(!_0x50ad8e[_0x12e4fb(0x305)][_0x12e4fb(0x14e)](_0x12e4fb(0x223)))throw new Error(_0x12e4fb(0x267)+_0x50ad8e[_0x12e4fb(0x305)]+_0x12e4fb(0x303)+_0x4b16ed[_0x12e4fb(0x35f)]);return bufferToImage(_0x50ad8e);}async function fetchJson(_0x1bbb2c){const _0x229c3d=_0x325c64;return(await fetchOrThrow(_0x1bbb2c))[_0x229c3d(0x1c5)]();}async function fetchNetWeights(_0x301aeb){return new Float32Array(await(await fetchOrThrow(_0x301aeb))['arrayBuffer']());}function bufferToVideo(_0x4c0d35){return new Promise((_0x417642,_0x32e6d1)=>{const _0x52103b=_0x55d2;if(!(_0x4c0d35 instanceof Blob))_0x32e6d1(new Error('bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob'));const _0x32f00e=env[_0x52103b(0x1c0)]()[_0x52103b(0x371)]();_0x32f00e[_0x52103b(0x142)]=()=>_0x417642(_0x32f00e),_0x32f00e[_0x52103b(0x293)]=_0x32e6d1,_0x32f00e['playsInline']=!![],_0x32f00e['muted']=!![],_0x32f00e['src']=URL['createObjectURL'](_0x4c0d35),_0x32f00e[_0x52103b(0x16a)]();});}async function fetchVideo(_0x629679){const _0x43509f=_0x325c64,_0x1b1ed8=await fetchOrThrow(_0x629679),_0x139e9c=await _0x1b1ed8[_0x43509f(0x1fe)]();if(!_0x139e9c[_0x43509f(0x305)][_0x43509f(0x14e)]('video/'))throw new Error(_0x43509f(0x175)+_0x139e9c['type']+_0x43509f(0x303)+_0x1b1ed8[_0x43509f(0x35f)]);return bufferToVideo(_0x139e9c);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x54b3d0,_0x44ed05){const _0x14f6e2=_0x325c64,_0x392fc2=_0x44ed05+_0x14f6e2(0x227);if(!_0x54b3d0)return{'modelBaseUri':'','manifestUri':_0x392fc2};if(_0x54b3d0==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x392fc2};const _0x33035c=_0x54b3d0[_0x14f6e2(0x14e)](_0x14f6e2(0x348))?_0x14f6e2(0x348):_0x54b3d0[_0x14f6e2(0x14e)]('https://')?_0x14f6e2(0x1f8):'';_0x54b3d0=_0x54b3d0['replace'](_0x33035c,'');const _0xab7264=_0x54b3d0['split']('/')[_0x14f6e2(0x23c)](_0x565f48=>_0x565f48),_0x53b754=_0x54b3d0[_0x14f6e2(0x225)](_0x14f6e2(0x140))?_0xab7264[_0xab7264[_0x14f6e2(0x1b1)]-0x1]:_0x392fc2;let _0x4d42d3=_0x33035c+(_0x54b3d0[_0x14f6e2(0x225)](_0x14f6e2(0x140))?_0xab7264['slice'](0x0,_0xab7264[_0x14f6e2(0x1b1)]-0x1):_0xab7264)[_0x14f6e2(0x166)]('/');return _0x4d42d3=_0x54b3d0['startsWith']('/')?'/'+_0x4d42d3:_0x4d42d3,{'modelBaseUri':_0x4d42d3,'manifestUri':_0x4d42d3==='/'?'/'+_0x53b754:_0x4d42d3+'/'+_0x53b754};}async function loadWeightMap(_0x3d54c1,_0x40cc80){const _0x1a32e0=_0x325c64,{manifestUri:_0x35ff0f,modelBaseUri:_0x507bbe}=getModelUris(_0x3d54c1,_0x40cc80),_0x3568e7=await fetchJson(_0x35ff0f);return tf7['io'][_0x1a32e0(0x315)](_0x3568e7,_0x507bbe);}function matchDimensions(_0xe37c3c,_0xb26698,_0x509951=![]){const _0x1e802a=_0x325c64,{width:_0x226a14,height:_0x591cc7}=_0x509951?getMediaDimensions(_0xb26698):_0xb26698;return _0xe37c3c[_0x1e802a(0x1f2)]=_0x226a14,_0xe37c3c[_0x1e802a(0x1b3)]=_0x591cc7,{'width':_0x226a14,'height':_0x591cc7};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x4892f){const _0x53cdb6=_0x325c64;this[_0x53cdb6(0x302)]=void 0x0,this[_0x53cdb6(0x177)]=[],this[_0x53cdb6(0x262)]=_0x4892f;}get[_0x325c64(0x237)](){const _0x2e04f2=_0x325c64;return this[_0x2e04f2(0x302)];}get[_0x325c64(0x216)](){const _0x364206=_0x325c64;return this[_0x364206(0x177)];}get[_0x325c64(0x349)](){const _0x2384ae=_0x325c64;return!!this[_0x2384ae(0x237)];}[_0x325c64(0x1a9)](_0x19b9e0){const _0x5dd3cd=_0x325c64,{obj:_0x5f4375,objProp:_0x388810}=this[_0x5dd3cd(0x274)](_0x19b9e0);return _0x5f4375[_0x388810];}['reassignParamFromPath'](_0x37b984,_0x20f68a){const _0xca14b2=_0x325c64,{obj:_0x28dd5a,objProp:_0xe3e00}=this[_0xca14b2(0x274)](_0x37b984);_0x28dd5a[_0xe3e00][_0xca14b2(0x29c)](),_0x28dd5a[_0xe3e00]=_0x20f68a;}[_0x325c64(0x1c4)](){const _0x1c9eb4=_0x325c64;return this[_0x1c9eb4(0x177)]['map'](({paramPath:_0x5a4ca0})=>({'path':_0x5a4ca0,'tensor':this[_0x1c9eb4(0x1a9)](_0x5a4ca0)}));}[_0x325c64(0x1af)](){const _0x185ce5=_0x325c64;return this[_0x185ce5(0x1c4)]()[_0x185ce5(0x23c)](_0x23284e=>_0x23284e['tensor']instanceof tf8[_0x185ce5(0x2b3)]);}[_0x325c64(0x289)](){const _0x4e160f=_0x325c64;return this[_0x4e160f(0x1c4)]()[_0x4e160f(0x23c)](_0x166598=>!(_0x166598[_0x4e160f(0x2a1)]instanceof tf8['Variable']));}['variable'](){const _0x3cd482=_0x325c64;this[_0x3cd482(0x289)]()[_0x3cd482(0x183)](({path:_0x31e344,tensor:_0x4f3d1f})=>{const _0x45feb9=_0x3cd482;this[_0x45feb9(0x326)](_0x31e344,_0x4f3d1f[_0x45feb9(0x253)]());});}[_0x325c64(0x28e)](){const _0x3cbe18=_0x325c64;this[_0x3cbe18(0x1af)]()[_0x3cbe18(0x183)](({path:_0x2df79c,tensor:_0x7ed45})=>{const _0x50fe9e=_0x3cbe18,_0x4ab319=tf8[_0x50fe9e(0x2a1)](_0x7ed45[_0x50fe9e(0x115)]());_0x7ed45[_0x50fe9e(0x29c)](),this[_0x50fe9e(0x326)](_0x2df79c,_0x4ab319);});}[_0x325c64(0x29c)](_0x1e0ba6=!![]){const _0x1e6895=_0x325c64;this[_0x1e6895(0x1c4)]()[_0x1e6895(0x183)](_0x21b39c=>{const _0x445c34=_0x1e6895;if(_0x1e0ba6&&_0x21b39c[_0x445c34(0x2a1)][_0x445c34(0x385)])throw new Error('param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20'+_0x21b39c[_0x445c34(0x1ef)]);_0x21b39c[_0x445c34(0x2a1)]['dispose']();}),this[_0x1e6895(0x302)]=void 0x0;}[_0x325c64(0x17c)](){const _0x7e74e2=_0x325c64;return new Float32Array(this[_0x7e74e2(0x1c4)]()[_0x7e74e2(0x268)](({tensor:_0x5950be})=>Array['from'](_0x5950be[_0x7e74e2(0x115)]()))[_0x7e74e2(0x1cc)]((_0x5cdab7,_0x2f4ab4)=>_0x5cdab7[_0x7e74e2(0x28a)](_0x2f4ab4)));}async[_0x325c64(0x29d)](_0x530a3c){const _0x37302a=_0x325c64;if(_0x530a3c instanceof Float32Array){this['extractWeights'](_0x530a3c);return;}await this[_0x37302a(0x111)](_0x530a3c);}async[_0x325c64(0x111)](_0x32828e){const _0x173e24=_0x325c64;if(_0x32828e&&typeof _0x32828e!==_0x173e24(0x14b))throw new Error(this[_0x173e24(0x262)]+_0x173e24(0x116));const _0x1c1cf3=await loadWeightMap(_0x32828e,this[_0x173e24(0x259)]());this[_0x173e24(0x29f)](_0x1c1cf3);}async[_0x325c64(0x320)](_0x5693f5){const _0x3ada09=_0x325c64;if(_0x5693f5&&typeof _0x5693f5!=='string')throw new Error(this[_0x3ada09(0x262)]+_0x3ada09(0x341));const {readFile:_0x4da4d5}=env['getEnv'](),{manifestUri:_0x14f704,modelBaseUri:_0x3e9442}=getModelUris(_0x5693f5,this['getDefaultModelName']()),_0x2faa13=_0xa62ebe=>Promise['all'](_0xa62ebe[_0x3ada09(0x268)](_0x12434a=>_0x4da4d5(_0x12434a)['then'](_0x1ee31b=>_0x1ee31b['buffer']))),_0x589fcf=tf8['io'][_0x3ada09(0x1c8)](_0x2faa13),_0x20d627=JSON['parse']((await _0x4da4d5(_0x14f704))[_0x3ada09(0x254)]()),_0x3cd5f6=await _0x589fcf(_0x20d627,_0x3e9442);this[_0x3ada09(0x29f)](_0x3cd5f6);}[_0x325c64(0x29f)](_0x2d4181){const _0x29b558=_0x325c64,{paramMappings:_0xcaa6a,params:_0x1bc216}=this[_0x29b558(0x24c)](_0x2d4181);this[_0x29b558(0x177)]=_0xcaa6a,this['_params']=_0x1bc216;}['extractWeights'](_0x12f709){const _0x46c9cd=_0x325c64,{paramMappings:_0x4e873f,params:_0x10f669}=this['extractParams'](_0x12f709);this[_0x46c9cd(0x177)]=_0x4e873f,this['_params']=_0x10f669;}[_0x325c64(0x274)](_0x2b0f92){const _0x6fda5a=_0x325c64;if(!this[_0x6fda5a(0x237)])throw new Error(_0x6fda5a(0x157));const _0x38daa7=_0x2b0f92[_0x6fda5a(0x375)]('/')[_0x6fda5a(0x1cc)]((_0x9fcc49,_0x2ae1eb)=>{const _0x574d75=_0x6fda5a;if(!_0x9fcc49[_0x574d75(0x34e)][_0x574d75(0x2ab)](_0x2ae1eb))throw new Error(_0x574d75(0x2d9)+_0x2ae1eb+_0x574d75(0x21a)+_0x2b0f92);return{'obj':_0x9fcc49[_0x574d75(0x34e)],'objProp':_0x2ae1eb,'nextObj':_0x9fcc49[_0x574d75(0x34e)][_0x2ae1eb]};},{'nextObj':this[_0x6fda5a(0x237)]}),{obj:_0x1ad0f1,objProp:_0x38c756}=_0x38daa7;if(!_0x1ad0f1||!_0x38c756||!(_0x1ad0f1[_0x38c756]instanceof tf8[_0x6fda5a(0x30e)]))throw new Error('traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20'+_0x2b0f92);return{'obj':_0x1ad0f1,'objProp':_0x38c756};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0xefb36d,_0x3db98a,_0x43829b){const _0x5ca83b=_0x325c64;return tf9[_0x5ca83b(0x2bb)](()=>{const _0x4bda62=_0x5ca83b;let _0x1c880f=tf9['separableConv2d'](_0xefb36d,_0x3db98a[_0x4bda62(0x323)],_0x3db98a[_0x4bda62(0x361)],_0x43829b,_0x4bda62(0x29b));return _0x1c880f=tf9['add'](_0x1c880f,_0x3db98a[_0x4bda62(0x208)]),_0x1c880f;});}function denseBlock3(_0x3404f0,_0x47178e,_0x566365=![]){const _0x5230c0=_0x325c64;return tf10[_0x5230c0(0x2bb)](()=>{const _0x16fcf3=_0x5230c0,_0x8b4e07=tf10[_0x16fcf3(0x1c2)](_0x566365?tf10['add'](tf10['conv2d'](_0x3404f0,_0x47178e[_0x16fcf3(0x333)][_0x16fcf3(0x260)],[0x2,0x2],'same'),_0x47178e['conv0'][_0x16fcf3(0x208)]):depthwiseSeparableConv(_0x3404f0,_0x47178e[_0x16fcf3(0x333)],[0x2,0x2])),_0x5a42f5=depthwiseSeparableConv(_0x8b4e07,_0x47178e[_0x16fcf3(0x1ca)],[0x1,0x1]),_0x4c8e83=tf10[_0x16fcf3(0x1c2)](tf10[_0x16fcf3(0x25c)](_0x8b4e07,_0x5a42f5)),_0x3c43ed=depthwiseSeparableConv(_0x4c8e83,_0x47178e[_0x16fcf3(0x147)],[0x1,0x1]);return tf10[_0x16fcf3(0x1c2)](tf10['add'](_0x8b4e07,tf10[_0x16fcf3(0x25c)](_0x5a42f5,_0x3c43ed)));});}function denseBlock4(_0x3c7c3a,_0x11cb8c,_0x2cd313=![],_0x568b87=!![]){const _0x5163ef=_0x325c64;return tf10[_0x5163ef(0x2bb)](()=>{const _0x48cabe=_0x5163ef,_0x5366cf=tf10[_0x48cabe(0x1c2)](_0x2cd313?tf10[_0x48cabe(0x25c)](tf10[_0x48cabe(0x1cf)](_0x3c7c3a,_0x11cb8c['conv0']['filters'],_0x568b87?[0x2,0x2]:[0x1,0x1],_0x48cabe(0x29b)),_0x11cb8c[_0x48cabe(0x333)]['bias']):depthwiseSeparableConv(_0x3c7c3a,_0x11cb8c[_0x48cabe(0x333)],_0x568b87?[0x2,0x2]:[0x1,0x1])),_0x267880=depthwiseSeparableConv(_0x5366cf,_0x11cb8c[_0x48cabe(0x1ca)],[0x1,0x1]),_0x5eb65b=tf10['relu'](tf10[_0x48cabe(0x25c)](_0x5366cf,_0x267880)),_0x113767=depthwiseSeparableConv(_0x5eb65b,_0x11cb8c[_0x48cabe(0x147)],[0x1,0x1]),_0x5641a8=tf10['relu'](tf10[_0x48cabe(0x25c)](_0x5366cf,tf10[_0x48cabe(0x25c)](_0x267880,_0x113767))),_0x540d3d=depthwiseSeparableConv(_0x5641a8,_0x11cb8c[_0x48cabe(0x264)],[0x1,0x1]);return tf10[_0x48cabe(0x1c2)](tf10[_0x48cabe(0x25c)](_0x5366cf,tf10[_0x48cabe(0x25c)](_0x267880,tf10['add'](_0x113767,_0x540d3d))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x21e58b,_0x2b7d10,_0x547771=_0x325c64(0x29b),_0x5a3749=![]){const _0x3da264=_0x325c64;return tf11[_0x3da264(0x2bb)](()=>{const _0x5e7b62=_0x3da264,_0x44c6c4=tf11['add'](tf11[_0x5e7b62(0x1cf)](_0x21e58b,_0x2b7d10[_0x5e7b62(0x260)],[0x1,0x1],_0x547771),_0x2b7d10[_0x5e7b62(0x208)]);return _0x5a3749?tf11[_0x5e7b62(0x1c2)](_0x44c6c4):_0x44c6c4;});}function disposeUnusedWeightTensors(_0xe790ed,_0x113cd0){const _0x454b61=_0x325c64;Object[_0x454b61(0x2fc)](_0xe790ed)[_0x454b61(0x183)](_0x43156a=>{const _0x34e5ed=_0x454b61;!_0x113cd0['some'](_0x1ac52b=>_0x1ac52b[_0x34e5ed(0x347)]===_0x43156a)&&_0xe790ed[_0x43156a][_0x34e5ed(0x29c)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x40e5c1,_0x33d9b6){return(_0x6807c0,_0x21d9f5,_0x291b8f,_0x13de84)=>{const _0xa636cf=_0x55d2,_0x26f4d6=tf12['tensor4d'](_0x40e5c1(_0x6807c0*_0x21d9f5*_0x291b8f*_0x291b8f),[_0x291b8f,_0x291b8f,_0x6807c0,_0x21d9f5]),_0x36a101=tf12[_0xa636cf(0x203)](_0x40e5c1(_0x21d9f5));return _0x33d9b6[_0xa636cf(0x376)]({'paramPath':_0x13de84+_0xa636cf(0x369)},{'paramPath':_0x13de84+_0xa636cf(0x14c)}),{'filters':_0x26f4d6,'bias':_0x36a101};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x315597,_0x568009){return(_0x383df8,_0x4c7ed1,_0x570424)=>{const _0xa7e87c=_0x55d2,_0x38a1b7=tf13['tensor2d'](_0x315597(_0x383df8*_0x4c7ed1),[_0x383df8,_0x4c7ed1]),_0x5a5261=tf13[_0xa7e87c(0x203)](_0x315597(_0x4c7ed1));return _0x568009[_0xa7e87c(0x376)]({'paramPath':_0x570424+_0xa7e87c(0x1d8)},{'paramPath':_0x570424+'/bias'}),{'weights':_0x38a1b7,'bias':_0x5a5261};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x1443d7,_0x455d60,_0x336025){const _0x41a35d=_0x325c64;this[_0x41a35d(0x323)]=_0x1443d7,this[_0x41a35d(0x361)]=_0x455d60,this[_0x41a35d(0x208)]=_0x336025;}};function extractSeparableConvParamsFactory(_0x2b5f74,_0x128990){return(_0x50969b,_0x4ae016,_0xf5045e)=>{const _0x442471=_0x55d2,_0x381e11=tf14[_0x442471(0x22e)](_0x2b5f74(0x3*0x3*_0x50969b),[0x3,0x3,_0x50969b,0x1]),_0x41fc14=tf14[_0x442471(0x22e)](_0x2b5f74(_0x50969b*_0x4ae016),[0x1,0x1,_0x50969b,_0x4ae016]),_0x253164=tf14['tensor1d'](_0x2b5f74(_0x4ae016));return _0x128990[_0x442471(0x376)]({'paramPath':_0xf5045e+_0x442471(0x2fd)},{'paramPath':_0xf5045e+_0x442471(0x1c6)},{'paramPath':_0xf5045e+_0x442471(0x14c)}),new SeparableConvParams(_0x381e11,_0x41fc14,_0x253164);};}function loadSeparableConvParamsFactory(_0xd1eafc){return _0x493ef1=>{const _0x571289=_0x55d2,_0x319e71=_0xd1eafc(_0x493ef1+_0x571289(0x2fd),0x4),_0x30bd46=_0xd1eafc(_0x493ef1+_0x571289(0x1c6),0x4),_0x58b534=_0xd1eafc(_0x493ef1+_0x571289(0x14c),0x1);return new SeparableConvParams(_0x319e71,_0x30bd46,_0x58b534);};}function extractWeightEntryFactory(_0x345eb6,_0x50b116){return(_0x23c2be,_0x48ae59,_0x532038)=>{const _0xeb78d=_0x55d2,_0x5c6d2d=_0x345eb6[_0x23c2be];if(!isTensor(_0x5c6d2d,_0x48ae59))throw new Error('expected\x20weightMap['+_0x23c2be+']\x20to\x20be\x20a\x20Tensor'+_0x48ae59+_0xeb78d(0x101)+_0x5c6d2d);return _0x50b116[_0xeb78d(0x376)]({'originalPath':_0x23c2be,'paramPath':_0x532038||_0x23c2be}),_0x5c6d2d;};}function extractWeightsFactory(_0x501164){let _0x7aa234=_0x501164;function _0x36e52a(_0x4f7835){const _0x2d8044=_0x55d2,_0x26d178=_0x7aa234['slice'](0x0,_0x4f7835);return _0x7aa234=_0x7aa234[_0x2d8044(0x1d2)](_0x4f7835),_0x26d178;}function _0x1fd47b(){return _0x7aa234;}return{'extractWeights':_0x36e52a,'getRemainingWeights':_0x1fd47b};}function extractorsFactory(_0x2b18ad,_0x23b736){const _0x2354c1=extractConvParamsFactory(_0x2b18ad,_0x23b736),_0x29b001=extractSeparableConvParamsFactory(_0x2b18ad,_0x23b736);function _0x3770fe(_0x47a3bc,_0x4ddd51,_0x4c6e9b,_0xb2805e=![]){const _0x4a7918=_0x55d2,_0x3173dc=_0xb2805e?_0x2354c1(_0x47a3bc,_0x4ddd51,0x3,_0x4c6e9b+_0x4a7918(0x114)):_0x29b001(_0x47a3bc,_0x4ddd51,_0x4c6e9b+_0x4a7918(0x114)),_0x14adbc=_0x29b001(_0x4ddd51,_0x4ddd51,_0x4c6e9b+_0x4a7918(0x136)),_0x634e0f=_0x29b001(_0x4ddd51,_0x4ddd51,_0x4c6e9b+_0x4a7918(0x164));return{'conv0':_0x3173dc,'conv1':_0x14adbc,'conv2':_0x634e0f};}function _0xad704f(_0x5d09b9,_0x351e55,_0x90716a,_0x1d2d1b=![]){const {conv0:_0x5be1b2,conv1:_0x29a42b,conv2:_0x15cbb9}=_0x3770fe(_0x5d09b9,_0x351e55,_0x90716a,_0x1d2d1b),_0x516eaf=_0x29b001(_0x351e55,_0x351e55,_0x90716a+'/conv3');return{'conv0':_0x5be1b2,'conv1':_0x29a42b,'conv2':_0x15cbb9,'conv3':_0x516eaf};}return{'extractDenseBlock3Params':_0x3770fe,'extractDenseBlock4Params':_0xad704f};}function extractParams(_0x57dd56){const _0x55ab0d=_0x325c64,_0x3e40f2=[],{extractWeights:_0x42e3d7,getRemainingWeights:_0x1e9aa3}=extractWeightsFactory(_0x57dd56),{extractDenseBlock4Params:_0x49bfa9}=extractorsFactory(_0x42e3d7,_0x3e40f2),_0x44b9f2=_0x49bfa9(0x3,0x20,_0x55ab0d(0x34b),!![]),_0xcfabbc=_0x49bfa9(0x20,0x40,_0x55ab0d(0x154)),_0x64c3d4=_0x49bfa9(0x40,0x80,_0x55ab0d(0x28f)),_0x3c3c72=_0x49bfa9(0x80,0x100,_0x55ab0d(0x2cc));if(_0x1e9aa3()[_0x55ab0d(0x1b1)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x1e9aa3()[_0x55ab0d(0x1b1)]);return{'paramMappings':_0x3e40f2,'params':{'dense0':_0x44b9f2,'dense1':_0xcfabbc,'dense2':_0x64c3d4,'dense3':_0x3c3c72}};}function loadConvParamsFactory(_0x2456e6){return _0x5698ac=>{const _0x501188=_0x55d2,_0xcef092=_0x2456e6(_0x5698ac+'/filters',0x4),_0x5e70c0=_0x2456e6(_0x5698ac+_0x501188(0x14c),0x1);return{'filters':_0xcef092,'bias':_0x5e70c0};};}function loadParamsFactory(_0x66833f,_0x50f801){const _0x287053=extractWeightEntryFactory(_0x66833f,_0x50f801),_0x170e20=loadConvParamsFactory(_0x287053),_0x401f76=loadSeparableConvParamsFactory(_0x287053);function _0x29e154(_0x4de6ae,_0x376804=![]){const _0x25974d=_0x55d2,_0x11450e=_0x376804?_0x170e20(_0x4de6ae+_0x25974d(0x114)):_0x401f76(_0x4de6ae+_0x25974d(0x114)),_0x3fc4d5=_0x401f76(_0x4de6ae+_0x25974d(0x136)),_0x3f13df=_0x401f76(_0x4de6ae+_0x25974d(0x164));return{'conv0':_0x11450e,'conv1':_0x3fc4d5,'conv2':_0x3f13df};}function _0x381b26(_0x3d90ab,_0x13a671=![]){const _0x5ae19f=_0x55d2,_0x1e29a3=_0x13a671?_0x170e20(_0x3d90ab+_0x5ae19f(0x114)):_0x401f76(_0x3d90ab+_0x5ae19f(0x114)),_0x1c80ca=_0x401f76(_0x3d90ab+_0x5ae19f(0x136)),_0x4e6ed8=_0x401f76(_0x3d90ab+'/conv2'),_0x4a7f71=_0x401f76(_0x3d90ab+_0x5ae19f(0x224));return{'conv0':_0x1e29a3,'conv1':_0x1c80ca,'conv2':_0x4e6ed8,'conv3':_0x4a7f71};}return{'extractDenseBlock3Params':_0x29e154,'extractDenseBlock4Params':_0x381b26};}function extractParamsFromWeightMap(_0x1dae08){const _0x110357=_0x325c64,_0x14cace=[],{extractDenseBlock4Params:_0x52db58}=loadParamsFactory(_0x1dae08,_0x14cace),_0x304fe2={'dense0':_0x52db58(_0x110357(0x34b),!![]),'dense1':_0x52db58('dense1'),'dense2':_0x52db58(_0x110357(0x28f)),'dense3':_0x52db58(_0x110357(0x2cc))};return disposeUnusedWeightTensors(_0x1dae08,_0x14cace),{'params':_0x304fe2,'paramMappings':_0x14cace};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x29e8b4=_0x325c64;super(_0x29e8b4(0x36e));}['forwardInput'](_0x55092f){const _0x5813c1=_0x325c64,{params:_0x2d2712}=this;if(!_0x2d2712)throw new Error(_0x5813c1(0x1dd));return tf15['tidy'](()=>{const _0x402beb=_0x5813c1,_0x179e6b=tf15[_0x402beb(0x148)](_0x55092f[_0x402beb(0x27f)](0x70,!![]),'float32'),_0x501473=[122.782,117.001,104.298],_0x519f82=normalize(_0x179e6b,_0x501473)[_0x402beb(0x149)](0xff);let _0x5df52e=denseBlock4(_0x519f82,_0x2d2712[_0x402beb(0x34b)],!![]);return _0x5df52e=denseBlock4(_0x5df52e,_0x2d2712[_0x402beb(0x154)]),_0x5df52e=denseBlock4(_0x5df52e,_0x2d2712[_0x402beb(0x28f)]),_0x5df52e=denseBlock4(_0x5df52e,_0x2d2712[_0x402beb(0x2cc)]),_0x5df52e=tf15[_0x402beb(0x163)](_0x5df52e,[0x7,0x7],[0x2,0x2],_0x402beb(0x150)),_0x5df52e;});}async[_0x325c64(0x265)](_0x524dd9){const _0x16b7d3=_0x325c64;return this[_0x16b7d3(0x222)](await toNetInput(_0x524dd9));}[_0x325c64(0x259)](){const _0x32de37=_0x325c64;return _0x32de37(0x21b);}[_0x325c64(0x24c)](_0x29c945){return extractParamsFromWeightMap(_0x29c945);}[_0x325c64(0x2d1)](_0x1bcca9){return extractParams(_0x1bcca9);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x23e366,_0x3e9bb8){const _0x2e351c=_0x325c64;return tf16[_0x2e351c(0x2bb)](()=>tf16['add'](tf16['matMul'](_0x23e366,_0x3e9bb8[_0x2e351c(0x28b)]),_0x3e9bb8[_0x2e351c(0x208)]));}function extractParams2(_0x5c3b6c,_0x336946,_0x2a434e){const _0x15c18f=_0x325c64,_0x56267a=[],{extractWeights:_0x2469fa,getRemainingWeights:_0x383da1}=extractWeightsFactory(_0x5c3b6c),_0x716add=extractFCParamsFactory(_0x2469fa,_0x56267a),_0x131e8a=_0x716add(_0x336946,_0x2a434e,'fc');if(_0x383da1()[_0x15c18f(0x1b1)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x383da1()[_0x15c18f(0x1b1)]);return{'paramMappings':_0x56267a,'params':{'fc':_0x131e8a}};}function extractParamsFromWeightMap2(_0xbb9f9){const _0x602ca2=[],_0x562031=extractWeightEntryFactory(_0xbb9f9,_0x602ca2);function _0x1dc165(_0x44ee10){const _0x207704=_0x55d2,_0x24f1bf=_0x562031(_0x44ee10+_0x207704(0x1d8),0x2),_0x15cbc5=_0x562031(_0x44ee10+'/bias',0x1);return{'weights':_0x24f1bf,'bias':_0x15cbc5};}const _0x22c99f={'fc':_0x1dc165('fc')};return disposeUnusedWeightTensors(_0xbb9f9,_0x602ca2),{'params':_0x22c99f,'paramMappings':_0x602ca2};}function seperateWeightMaps(_0x52ce35){const _0xe13e44=_0x325c64,_0x50df9b={},_0x272393={};return Object[_0xe13e44(0x2fc)](_0x52ce35)[_0xe13e44(0x183)](_0x30e15f=>{const _0x3c27d5=_0xe13e44,_0x3edd7c=_0x30e15f[_0x3c27d5(0x14e)]('fc')?_0x272393:_0x50df9b;_0x3edd7c[_0x30e15f]=_0x52ce35[_0x30e15f];}),{'featureExtractorMap':_0x50df9b,'classifierMap':_0x272393};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x225b06,_0x4e9abe){const _0x7f4823=_0x325c64;super(_0x225b06),this[_0x7f4823(0x296)]=_0x4e9abe;}get[_0x325c64(0x1b5)](){const _0x5d07a6=_0x325c64;return this[_0x5d07a6(0x296)];}[_0x325c64(0x19d)](_0x273aa0){const _0x2c6d78=_0x325c64,{params:_0x3ae360}=this;if(!_0x3ae360)throw new Error(this[_0x2c6d78(0x262)]+'\x20-\x20load\x20model\x20before\x20inference');return tf17['tidy'](()=>{const _0x2127d1=_0x2c6d78,_0x318754=_0x273aa0 instanceof NetInput?this[_0x2127d1(0x1b5)][_0x2127d1(0x222)](_0x273aa0):_0x273aa0;return fullyConnectedLayer(_0x318754[_0x2127d1(0x1d6)](_0x318754[_0x2127d1(0x35c)][0x0],-0x1),_0x3ae360['fc']);});}['dispose'](_0xcca7a0=!![]){const _0x255936=_0x325c64;this[_0x255936(0x1b5)]['dispose'](_0xcca7a0),super['dispose'](_0xcca7a0);}[_0x325c64(0x242)](_0x3f35f5){const _0x497a66=_0x325c64,{params:_0x5199ee,paramMappings:_0x3303fc}=this[_0x497a66(0x2b4)](_0x3f35f5);this[_0x497a66(0x302)]=_0x5199ee,this['_paramMappings']=_0x3303fc;}['extractClassifierParams'](_0x416b5e){const _0x31a004=_0x325c64;return extractParams2(_0x416b5e,this[_0x31a004(0x189)](),this[_0x31a004(0x2f1)]());}[_0x325c64(0x24c)](_0x498472){const _0x28ed54=_0x325c64,{featureExtractorMap:_0x1c5e0c,classifierMap:_0x20dfce}=seperateWeightMaps(_0x498472);return this[_0x28ed54(0x1b5)][_0x28ed54(0x29f)](_0x1c5e0c),extractParamsFromWeightMap2(_0x20dfce);}[_0x325c64(0x2d1)](_0x59528d){const _0x257b39=_0x325c64,_0x335493=this[_0x257b39(0x189)](),_0x533836=this['getClassifierChannelsOut'](),_0x30298f=_0x533836*_0x335493+_0x533836,_0x162bc8=_0x59528d['slice'](0x0,_0x59528d['length']-_0x30298f),_0x383ae4=_0x59528d[_0x257b39(0x1d2)](_0x59528d[_0x257b39(0x1b1)]-_0x30298f);return this[_0x257b39(0x1b5)][_0x257b39(0x1fd)](_0x162bc8),this[_0x257b39(0x2b4)](_0x383ae4);}},FACE_EXPRESSION_LABELS=[_0x325c64(0x1ea),_0x325c64(0x294),'sad',_0x325c64(0x1d4),_0x325c64(0x12e),'disgusted','surprised'],FaceExpressions=class{constructor(_0x59475a){const _0x2384b4=_0x325c64;this[_0x2384b4(0x1ea)]=0x0,this[_0x2384b4(0x294)]=0x0,this[_0x2384b4(0x117)]=0x0,this[_0x2384b4(0x1d4)]=0x0,this[_0x2384b4(0x12e)]=0x0,this[_0x2384b4(0x199)]=0x0,this['surprised']=0x0;if(_0x59475a[_0x2384b4(0x1b1)]!==0x7)throw new Error(_0x2384b4(0x2aa)+_0x59475a[_0x2384b4(0x1b1)]);FACE_EXPRESSION_LABELS['forEach']((_0x3ed7c9,_0xfc4546)=>{this[_0x3ed7c9]=_0x59475a[_0xfc4546];});}[_0x325c64(0x190)](){const _0x14a0db=_0x325c64;return FACE_EXPRESSION_LABELS[_0x14a0db(0x268)](_0x546925=>({'expression':_0x546925,'probability':this[_0x546925]}))[_0x14a0db(0x13e)]((_0x5eef36,_0x146a5f)=>_0x146a5f[_0x14a0db(0x318)]-_0x5eef36[_0x14a0db(0x318)]);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x27f7e2=new FaceFeatureExtractor()){const _0x1299db=_0x325c64;super(_0x1299db(0x33c),_0x27f7e2);}[_0x325c64(0x222)](_0x4d0432){const _0x317cc0=_0x325c64;return tf18[_0x317cc0(0x2bb)](()=>tf18[_0x317cc0(0x33d)](this[_0x317cc0(0x19d)](_0x4d0432)));}async[_0x325c64(0x265)](_0x1ce1a9){const _0x420459=_0x325c64;return this[_0x420459(0x222)](await toNetInput(_0x1ce1a9));}async['predictExpressions'](_0x183035){const _0x1aac87=_0x325c64,_0x3db447=await toNetInput(_0x183035),_0x1dd17c=await this['forwardInput'](_0x3db447),_0x4c2c4b=await Promise[_0x1aac87(0x1e0)](tf18[_0x1aac87(0x14f)](_0x1dd17c)['map'](async _0x17cb96=>{const _0x423bed=_0x1aac87,_0xf7d975=_0x17cb96[_0x423bed(0x115)]();return _0x17cb96['dispose'](),_0xf7d975;}));_0x1dd17c[_0x1aac87(0x29c)]();const _0xccec4a=_0x4c2c4b['map'](_0x4340eb=>new FaceExpressions(_0x4340eb));return _0x3db447[_0x1aac87(0x1b2)]?_0xccec4a:_0xccec4a[0x0];}['getDefaultModelName'](){const _0x50e737=_0x325c64;return _0x50e737(0x221);}[_0x325c64(0x189)](){return 0x100;}[_0x325c64(0x2f1)](){return 0x7;}};function isWithFaceExpressions(_0x5dca03){const _0x5c69e2=_0x325c64;return _0x5dca03[_0x5c69e2(0x20f)]instanceof FaceExpressions;}function extendWithFaceExpressions(_0x277d60,_0x4ab805){const _0x9fcf49={'expressions':_0x4ab805};return{..._0x277d60,..._0x9fcf49};}function drawFaceExpressions(_0x958667,_0x32dabe,_0x865751=0.1,_0x5a4ad8){const _0x3ea788=_0x325c64,_0x46f523=Array[_0x3ea788(0x122)](_0x32dabe)?_0x32dabe:[_0x32dabe];_0x46f523[_0x3ea788(0x183)](_0x3ebebc=>{const _0x46bdcd=_0x3ea788,_0x27e8e5=_0x3ebebc instanceof FaceExpressions?_0x3ebebc:isWithFaceExpressions(_0x3ebebc)?_0x3ebebc[_0x46bdcd(0x20f)]:void 0x0;if(!_0x27e8e5)throw new Error(_0x46bdcd(0x2a9));const _0x25fe9e=_0x27e8e5[_0x46bdcd(0x190)](),_0x47dcd7=_0x25fe9e[_0x46bdcd(0x23c)](_0x4de949=>_0x4de949[_0x46bdcd(0x318)]>_0x865751),_0x24caa6=isWithFaceDetection(_0x3ebebc)?_0x3ebebc[_0x46bdcd(0x17b)][_0x46bdcd(0x2ae)][_0x46bdcd(0x2e5)]:_0x5a4ad8||new Point(0x0,0x0),_0x433597=new DrawTextField(_0x47dcd7[_0x46bdcd(0x268)](_0x30303e=>_0x30303e[_0x46bdcd(0x31d)]+'\x20('+round(_0x30303e['probability'])+')'),_0x24caa6);_0x433597[_0x46bdcd(0x19b)](_0x958667);});}function isWithFaceLandmarks(_0xa0e71b){const _0x25974f=_0x325c64;return isWithFaceDetection(_0xa0e71b)&&_0xa0e71b[_0x25974f(0x27b)]instanceof FaceLandmarks&&_0xa0e71b[_0x25974f(0x2e0)]instanceof FaceLandmarks&&_0xa0e71b['alignedRect']instanceof FaceDetection;}function calculateFaceAngle(_0xceb5d0){const _0x3f04ce=_0x325c64,_0x4114f7=(_0x766430,_0x24cc6a,_0x16db2b,_0x3e335b)=>Math[_0x3f04ce(0x1dc)](_0x3e335b-_0x24cc6a,_0x16db2b-_0x766430)%Math['PI'],_0x4be4ff=_0x5727d2=>_0x5727d2*0xb4/Math['PI'],_0x38e56d={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0xceb5d0||!_0xceb5d0[_0x3f04ce(0x298)]||_0xceb5d0[_0x3f04ce(0x298)][_0x3f04ce(0x1b1)]!==0x44)return _0x38e56d;const _0x44200c=_0xceb5d0['_positions'];_0x38e56d[_0x3f04ce(0x27e)]=-_0x4114f7(_0x44200c[0x24]['_x'],_0x44200c[0x24]['_y'],_0x44200c[0x2d]['_x'],_0x44200c[0x2d]['_y']),_0x38e56d[_0x3f04ce(0x2f7)]=_0x4114f7(0x0,Math[_0x3f04ce(0x378)](_0x44200c[0x0]['_x']-_0x44200c[0x1e]['_x'])/_0x44200c[0x1e]['_x'],Math['PI'],Math[_0x3f04ce(0x378)](_0x44200c[0x10]['_x']-_0x44200c[0x1e]['_x'])/_0x44200c[0x1e]['_x']);const _0x5d51b2=_0x44200c[_0x3f04ce(0x1cc)]((_0xce1e70,_0x5ca532)=>_0xce1e70<_0x5ca532['_y']?_0xce1e70:_0x5ca532['_y'],Infinity),_0xe3ddb0=_0x44200c[_0x3f04ce(0x1cc)]((_0x259507,_0xa8b487)=>_0x259507>_0xa8b487['_y']?_0x259507:_0xa8b487['_y'],-Infinity);return _0x38e56d[_0x3f04ce(0x23e)]=Math['PI']*(_0xceb5d0['_imgDims']['_height']/(_0xe3ddb0-_0x5d51b2)/1.4-0x1),_0x38e56d;}function extendWithFaceLandmarks(_0x160afc,_0x3e331d){const _0x32688c=_0x325c64,{box:_0x3bf8c8}=_0x160afc['detection'],_0x289481=_0x3e331d['shiftBy'](_0x3bf8c8['x'],_0x3bf8c8['y']),_0x550474=_0x289481[_0x32688c(0x209)](),{imageDims:_0x3bec24}=_0x160afc['detection'],_0x14542c=new FaceDetection(_0x160afc[_0x32688c(0x17b)][_0x32688c(0x229)],_0x550474[_0x32688c(0x1ec)](_0x3bec24[_0x32688c(0x201)]()),_0x3bec24),_0x414326=calculateFaceAngle(_0x3e331d),_0x4ba81d={'landmarks':_0x289481,'unshiftedLandmarks':_0x3e331d,'alignedRect':_0x14542c,'angle':_0x414326};return{..._0x160afc,..._0x4ba81d};}var DrawFaceLandmarksOptions=class{constructor(_0x36143a={}){const _0x133452=_0x325c64,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0x1b6499,lineColor:_0x4b67b8,pointSize:_0xfa713a,pointColor:_0x5cfab2}=_0x36143a;this[_0x133452(0x35e)]=drawLines,this[_0x133452(0x213)]=drawPoints,this[_0x133452(0x1d9)]=_0x1b6499||0x1,this[_0x133452(0x1fa)]=_0xfa713a||0x2,this[_0x133452(0x153)]=_0x4b67b8||'rgba(0,\x20255,\x20255,\x201)',this[_0x133452(0x218)]=_0x5cfab2||'rgba(255,\x200,\x20255,\x201)';}},DrawFaceLandmarks=class{constructor(_0x4a9e37,_0x1dd3d3={}){const _0x3dc8b3=_0x325c64;this[_0x3dc8b3(0x137)]=_0x4a9e37,this[_0x3dc8b3(0x2cd)]=new DrawFaceLandmarksOptions(_0x1dd3d3);}[_0x325c64(0x19b)](_0x4750c5){const _0x5d103c=_0x325c64,_0x23da42=getContext2dOrThrow(_0x4750c5),{drawLines:_0x260140,drawPoints:_0xa5b390,lineWidth:_0x5dc117,lineColor:_0x3195d3,pointSize:_0x1324dd,pointColor:_0x32d907}=this[_0x5d103c(0x2cd)];_0x260140&&this['faceLandmarks']instanceof FaceLandmarks68&&(_0x23da42[_0x5d103c(0x210)]=_0x3195d3,_0x23da42[_0x5d103c(0x1d9)]=_0x5dc117,drawContour(_0x23da42,this[_0x5d103c(0x137)][_0x5d103c(0x207)]()),drawContour(_0x23da42,this[_0x5d103c(0x137)][_0x5d103c(0x1bf)]()),drawContour(_0x23da42,this[_0x5d103c(0x137)][_0x5d103c(0x2dc)]()),drawContour(_0x23da42,this[_0x5d103c(0x137)]['getNose']()),drawContour(_0x23da42,this['faceLandmarks'][_0x5d103c(0x2d7)](),!![]),drawContour(_0x23da42,this[_0x5d103c(0x137)][_0x5d103c(0x2ec)](),!![]),drawContour(_0x23da42,this[_0x5d103c(0x137)]['getMouth'](),!![]));if(_0xa5b390){_0x23da42['strokeStyle']=_0x32d907,_0x23da42[_0x5d103c(0x127)]=_0x32d907;const _0x1f2970=_0x262000=>{const _0xade23b=_0x5d103c;_0x23da42[_0xade23b(0x1a7)](),_0x23da42[_0xade23b(0x1de)](_0x262000['x'],_0x262000['y'],_0x1324dd,0x0,0x2*Math['PI']),_0x23da42['fill']();};this[_0x5d103c(0x137)][_0x5d103c(0x206)][_0x5d103c(0x183)](_0x1f2970);}}};function drawFaceLandmarks(_0xd180d2,_0x14e66b){const _0x3c00a3=_0x325c64,_0x26fe3c=Array[_0x3c00a3(0x122)](_0x14e66b)?_0x14e66b:[_0x14e66b];_0x26fe3c[_0x3c00a3(0x183)](_0x5164f8=>{const _0x5df703=_0x3c00a3,_0x375bcc=_0x5164f8 instanceof FaceLandmarks?_0x5164f8:isWithFaceLandmarks(_0x5164f8)?_0x5164f8[_0x5df703(0x27b)]:void 0x0;if(!_0x375bcc)throw new Error(_0x5df703(0x20a));new DrawFaceLandmarks(_0x375bcc)['draw'](_0xd180d2);});}var version=_0x325c64(0x2b9),tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x570080,_0x1c2fec){const _0x4a3d48=extractConvParamsFactory(_0x570080,_0x1c2fec),_0x83cecd=extractSeparableConvParamsFactory(_0x570080,_0x1c2fec);function _0x12da22(_0x513293,_0x408d07,_0x43fdcc){const _0x52ab91=_0x55d2,_0x384344=_0x83cecd(_0x513293,_0x408d07,_0x43fdcc+'/separable_conv0'),_0x15efdd=_0x83cecd(_0x408d07,_0x408d07,_0x43fdcc+_0x52ab91(0x365)),_0x258c66=_0x4a3d48(_0x513293,_0x408d07,0x1,_0x43fdcc+'/expansion_conv');return{'separable_conv0':_0x384344,'separable_conv1':_0x15efdd,'expansion_conv':_0x258c66};}function _0x52f97d(_0x2dd6fe,_0x12ce43){const _0xe8859e=_0x55d2,_0x3434ff=_0x83cecd(_0x2dd6fe,_0x2dd6fe,_0x12ce43+'/separable_conv0'),_0x6b352e=_0x83cecd(_0x2dd6fe,_0x2dd6fe,_0x12ce43+_0xe8859e(0x365)),_0x40ce09=_0x83cecd(_0x2dd6fe,_0x2dd6fe,_0x12ce43+'/separable_conv2');return{'separable_conv0':_0x3434ff,'separable_conv1':_0x6b352e,'separable_conv2':_0x40ce09};}return{'extractConvParams':_0x4a3d48,'extractSeparableConvParams':_0x83cecd,'extractReductionBlockParams':_0x12da22,'extractMainBlockParams':_0x52f97d};}function extractParams3(_0x3afafa,_0xa6fc1c){const _0x318cd6=_0x325c64,_0x3159b1=[],{extractWeights:_0x38a8a3,getRemainingWeights:_0x15bb10}=extractWeightsFactory(_0x3afafa),{extractConvParams:_0x4a3eaa,extractSeparableConvParams:_0x8a85df,extractReductionBlockParams:_0x107520,extractMainBlockParams:_0xd92027}=extractorsFactory2(_0x38a8a3,_0x3159b1),_0x4be4af=_0x4a3eaa(0x3,0x20,0x3,_0x318cd6(0xfe)),_0x43bc29=_0x107520(0x20,0x40,_0x318cd6(0x353)),_0x21cdb2=_0x107520(0x40,0x80,_0x318cd6(0x2a8)),_0x211392={'conv_in':_0x4be4af,'reduction_block_0':_0x43bc29,'reduction_block_1':_0x21cdb2},_0x2bd86c={};range(_0xa6fc1c,0x0,0x1)[_0x318cd6(0x183)](_0x261ab5=>{const _0xab13e=_0x318cd6;_0x2bd86c['main_block_'+_0x261ab5]=_0xd92027(0x80,_0xab13e(0x2e7)+_0x261ab5);});const _0x2af18a=_0x107520(0x80,0x100,_0x318cd6(0x37c)),_0x5e9ee4=_0x8a85df(0x100,0x200,_0x318cd6(0x15c)),_0xcb6bb7={'reduction_block':_0x2af18a,'separable_conv':_0x5e9ee4};if(_0x15bb10()[_0x318cd6(0x1b1)]!==0x0)throw new Error(_0x318cd6(0x2b0)+_0x15bb10()[_0x318cd6(0x1b1)]);return{'paramMappings':_0x3159b1,'params':{'entry_flow':_0x211392,'middle_flow':_0x2bd86c,'exit_flow':_0xcb6bb7}};}function loadParamsFactory2(_0x3035fb,_0x286693){const _0x106799=extractWeightEntryFactory(_0x3035fb,_0x286693),_0xcf48e7=loadConvParamsFactory(_0x106799),_0x2de3d4=loadSeparableConvParamsFactory(_0x106799);function _0x41d460(_0x58fde5){const _0x2b426a=_0x55d2,_0x35b11f=_0x2de3d4(_0x58fde5+_0x2b426a(0x34f)),_0x10b62a=_0x2de3d4(_0x58fde5+_0x2b426a(0x365)),_0x376503=_0xcf48e7(_0x58fde5+_0x2b426a(0x1bb));return{'separable_conv0':_0x35b11f,'separable_conv1':_0x10b62a,'expansion_conv':_0x376503};}function _0x3d7112(_0x8b8f8d){const _0x38b1a7=_0x55d2,_0x3f38bc=_0x2de3d4(_0x8b8f8d+'/separable_conv0'),_0x383723=_0x2de3d4(_0x8b8f8d+'/separable_conv1'),_0x5b0bac=_0x2de3d4(_0x8b8f8d+_0x38b1a7(0x304));return{'separable_conv0':_0x3f38bc,'separable_conv1':_0x383723,'separable_conv2':_0x5b0bac};}return{'extractConvParams':_0xcf48e7,'extractSeparableConvParams':_0x2de3d4,'extractReductionBlockParams':_0x41d460,'extractMainBlockParams':_0x3d7112};}function extractParamsFromWeightMap3(_0x3caa92,_0x560cbf){const _0x29afc9=_0x325c64,_0x2c0c97=[],{extractConvParams:_0x3d269b,extractSeparableConvParams:_0x31bb70,extractReductionBlockParams:_0x430b8e,extractMainBlockParams:_0x5631ff}=loadParamsFactory2(_0x3caa92,_0x2c0c97),_0x44e51e=_0x3d269b(_0x29afc9(0xfe)),_0x1ef05f=_0x430b8e(_0x29afc9(0x353)),_0x549648=_0x430b8e(_0x29afc9(0x2a8)),_0x433809={'conv_in':_0x44e51e,'reduction_block_0':_0x1ef05f,'reduction_block_1':_0x549648},_0x5ce49a={};range(_0x560cbf,0x0,0x1)[_0x29afc9(0x183)](_0x4dec2c=>{const _0x3a24d1=_0x29afc9;_0x5ce49a[_0x3a24d1(0x11d)+_0x4dec2c]=_0x5631ff('middle_flow/main_block_'+_0x4dec2c);});const _0x2c098e=_0x430b8e(_0x29afc9(0x37c)),_0x5e262b=_0x31bb70(_0x29afc9(0x15c)),_0x5041d4={'reduction_block':_0x2c098e,'separable_conv':_0x5e262b};return disposeUnusedWeightTensors(_0x3caa92,_0x2c0c97),{'params':{'entry_flow':_0x433809,'middle_flow':_0x5ce49a,'exit_flow':_0x5041d4},'paramMappings':_0x2c0c97};}function conv(_0x5c1a8a,_0x239a4b,_0x525c0b){const _0xa385c8=_0x325c64;return tf19[_0xa385c8(0x25c)](tf19['conv2d'](_0x5c1a8a,_0x239a4b[_0xa385c8(0x260)],_0x525c0b,_0xa385c8(0x29b)),_0x239a4b[_0xa385c8(0x208)]);}function reductionBlock(_0x590970,_0x251644,_0x15bce8=!![]){const _0x680be9=_0x325c64;let _0x2aa041=_0x15bce8?tf19[_0x680be9(0x1c2)](_0x590970):_0x590970;return _0x2aa041=depthwiseSeparableConv(_0x2aa041,_0x251644['separable_conv0'],[0x1,0x1]),_0x2aa041=depthwiseSeparableConv(tf19[_0x680be9(0x1c2)](_0x2aa041),_0x251644['separable_conv1'],[0x1,0x1]),_0x2aa041=tf19[_0x680be9(0x2a2)](_0x2aa041,[0x3,0x3],[0x2,0x2],_0x680be9(0x29b)),_0x2aa041=tf19[_0x680be9(0x25c)](_0x2aa041,conv(_0x590970,_0x251644[_0x680be9(0x24e)],[0x2,0x2])),_0x2aa041;}function mainBlock(_0x13841d,_0x401d63){const _0x540e4b=_0x325c64;let _0x416a6a=depthwiseSeparableConv(tf19[_0x540e4b(0x1c2)](_0x13841d),_0x401d63['separable_conv0'],[0x1,0x1]);return _0x416a6a=depthwiseSeparableConv(tf19['relu'](_0x416a6a),_0x401d63['separable_conv1'],[0x1,0x1]),_0x416a6a=depthwiseSeparableConv(tf19[_0x540e4b(0x1c2)](_0x416a6a),_0x401d63[_0x540e4b(0x1eb)],[0x1,0x1]),_0x416a6a=tf19[_0x540e4b(0x25c)](_0x416a6a,_0x13841d),_0x416a6a;}var TinyXception=class extends NeuralNetwork{constructor(_0x3a6b3d){const _0x1c5bc7=_0x325c64;super(_0x1c5bc7(0x25d)),this[_0x1c5bc7(0x10c)]=_0x3a6b3d;}[_0x325c64(0x222)](_0x42ea35){const _0x4f489d=_0x325c64,{params:_0x5d9a0c}=this;if(!_0x5d9a0c)throw new Error(_0x4f489d(0x32e));return tf19[_0x4f489d(0x2bb)](()=>{const _0x5f1ed1=_0x4f489d,_0xd2e21c=tf19[_0x5f1ed1(0x148)](_0x42ea35['toBatchTensor'](0x70,!![]),_0x5f1ed1(0x167)),_0x5bad7d=[122.782,117.001,104.298],_0x68e856=normalize(_0xd2e21c,_0x5bad7d)[_0x5f1ed1(0x149)](0xff);let _0x20dfda=tf19[_0x5f1ed1(0x1c2)](conv(_0x68e856,_0x5d9a0c[_0x5f1ed1(0x366)][_0x5f1ed1(0x258)],[0x2,0x2]));return _0x20dfda=reductionBlock(_0x20dfda,_0x5d9a0c[_0x5f1ed1(0x366)][_0x5f1ed1(0x372)],![]),_0x20dfda=reductionBlock(_0x20dfda,_0x5d9a0c[_0x5f1ed1(0x366)]['reduction_block_1']),range(this[_0x5f1ed1(0x10c)],0x0,0x1)[_0x5f1ed1(0x183)](_0x3ea7e7=>{const _0x3f17e9=_0x5f1ed1;_0x20dfda=mainBlock(_0x20dfda,_0x5d9a0c[_0x3f17e9(0x249)][_0x3f17e9(0x11d)+_0x3ea7e7]);}),_0x20dfda=reductionBlock(_0x20dfda,_0x5d9a0c[_0x5f1ed1(0x290)][_0x5f1ed1(0x346)]),_0x20dfda=tf19['relu'](depthwiseSeparableConv(_0x20dfda,_0x5d9a0c[_0x5f1ed1(0x290)]['separable_conv'],[0x1,0x1])),_0x20dfda;});}async[_0x325c64(0x265)](_0x28b69a){return this['forwardInput'](await toNetInput(_0x28b69a));}['getDefaultModelName'](){return'tiny_xception_model';}[_0x325c64(0x24c)](_0x436757){return extractParamsFromWeightMap3(_0x436757,this['_numMainBlocks']);}['extractParams'](_0x3e88fc){const _0x17760c=_0x325c64;return extractParams3(_0x3e88fc,this[_0x17760c(0x10c)]);}};function extractParams4(_0x53da49){const _0x315110=_0x325c64,_0x6b95d6=[],{extractWeights:_0x6c8a23,getRemainingWeights:_0x1e2a01}=extractWeightsFactory(_0x53da49),_0x42a9f0=extractFCParamsFactory(_0x6c8a23,_0x6b95d6),_0xfe3d5f=_0x42a9f0(0x200,0x1,_0x315110(0x30f)),_0x15271e=_0x42a9f0(0x200,0x2,'fc/gender');if(_0x1e2a01()['length']!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x1e2a01()[_0x315110(0x1b1)]);return{'paramMappings':_0x6b95d6,'params':{'fc':{'age':_0xfe3d5f,'gender':_0x15271e}}};}function extractParamsFromWeightMap4(_0x1dbedc){const _0xfcd89f=_0x325c64,_0x19a83c=[],_0x161410=extractWeightEntryFactory(_0x1dbedc,_0x19a83c);function _0x119731(_0x59e342){const _0x116ba2=_0x55d2,_0x251548=_0x161410(_0x59e342+_0x116ba2(0x1d8),0x2),_0x60c1e4=_0x161410(_0x59e342+_0x116ba2(0x14c),0x1);return{'weights':_0x251548,'bias':_0x60c1e4};}const _0x50ca8d={'fc':{'age':_0x119731(_0xfcd89f(0x30f)),'gender':_0x119731(_0xfcd89f(0x18c))}};return disposeUnusedWeightTensors(_0x1dbedc,_0x19a83c),{'params':_0x50ca8d,'paramMappings':_0x19a83c};}var Gender=(_0x7de3c4=>{const _0x48ef95=_0x325c64;return _0x7de3c4[_0x48ef95(0x17f)]=_0x48ef95(0x12a),_0x7de3c4[_0x48ef95(0x370)]=_0x48ef95(0x2e4),_0x7de3c4;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x1b9174=new TinyXception(0x2)){const _0x13bdb9=_0x325c64;super('AgeGenderNet'),this[_0x13bdb9(0x296)]=_0x1b9174;}get['faceFeatureExtractor'](){const _0x3a03a5=_0x325c64;return this[_0x3a03a5(0x296)];}[_0x325c64(0x19d)](_0x3dc9b9){const _0x28e173=_0x325c64,{params:_0x4b966e}=this;if(!_0x4b966e)throw new Error(this[_0x28e173(0x262)]+'\x20-\x20load\x20model\x20before\x20inference');return tf20[_0x28e173(0x2bb)](()=>{const _0x43bc02=_0x28e173,_0x4506c7=_0x3dc9b9 instanceof NetInput?this['faceFeatureExtractor']['forwardInput'](_0x3dc9b9):_0x3dc9b9,_0x14c903=tf20[_0x43bc02(0x163)](_0x4506c7,[0x7,0x7],[0x2,0x2],_0x43bc02(0x150))[_0x43bc02(0x1d6)](_0x4506c7[_0x43bc02(0x35c)][0x0],-0x1),_0x347703=fullyConnectedLayer(_0x14c903,_0x4b966e['fc'][_0x43bc02(0x250)])[_0x43bc02(0x2b8)](),_0x40350e=fullyConnectedLayer(_0x14c903,_0x4b966e['fc'][_0x43bc02(0x2f9)]);return{'age':_0x347703,'gender':_0x40350e};});}['forwardInput'](_0x35175b){return tf20['tidy'](()=>{const _0x48bf1e=_0x55d2,{age:_0x3c2f1f,gender:_0x1dfa4e}=this['runNet'](_0x35175b);return{'age':_0x3c2f1f,'gender':tf20[_0x48bf1e(0x33d)](_0x1dfa4e)};});}async[_0x325c64(0x265)](_0x51dfe5){const _0x38be12=_0x325c64;return this[_0x38be12(0x222)](await toNetInput(_0x51dfe5));}async[_0x325c64(0x1b8)](_0x4c721b){const _0x3a378e=_0x325c64,_0x49f935=await toNetInput(_0x4c721b),_0x4aafd9=await this[_0x3a378e(0x222)](_0x49f935),_0x5c69f0=tf20['unstack'](_0x4aafd9[_0x3a378e(0x250)]),_0x580ac1=tf20['unstack'](_0x4aafd9[_0x3a378e(0x2f9)]),_0x19c6a7=_0x5c69f0[_0x3a378e(0x268)]((_0x52bcda,_0x533717)=>({'ageTensor':_0x52bcda,'genderTensor':_0x580ac1[_0x533717]})),_0x43a3ca=await Promise['all'](_0x19c6a7[_0x3a378e(0x268)](async({ageTensor:_0x3efc47,genderTensor:_0x15674e})=>{const _0x4dc2a0=_0x3a378e,_0x50b93b=_0x3efc47[_0x4dc2a0(0x115)]()[0x0],_0x34b410=_0x15674e[_0x4dc2a0(0x115)]()[0x0],_0x4e4b5e=_0x34b410>0.5,_0x17e3ca=_0x4e4b5e?_0x4dc2a0(0x2e4):_0x4dc2a0(0x12a),_0x4ba96c=_0x4e4b5e?_0x34b410:0x1-_0x34b410;return _0x3efc47[_0x4dc2a0(0x29c)](),_0x15674e[_0x4dc2a0(0x29c)](),{'age':_0x50b93b,'gender':_0x17e3ca,'genderProbability':_0x4ba96c};}));return _0x4aafd9['age'][_0x3a378e(0x29c)](),_0x4aafd9[_0x3a378e(0x2f9)][_0x3a378e(0x29c)](),_0x49f935[_0x3a378e(0x1b2)]?_0x43a3ca:_0x43a3ca[0x0];}[_0x325c64(0x259)](){const _0x10baf0=_0x325c64;return _0x10baf0(0x1fc);}[_0x325c64(0x29c)](_0x3cc2ff=!![]){const _0x3de491=_0x325c64;this[_0x3de491(0x1b5)]['dispose'](_0x3cc2ff),super[_0x3de491(0x29c)](_0x3cc2ff);}[_0x325c64(0x242)](_0x4356a5){const _0x272cb3=_0x325c64,{params:_0x29bc5d,paramMappings:_0x2e6a30}=this[_0x272cb3(0x2b4)](_0x4356a5);this[_0x272cb3(0x302)]=_0x29bc5d,this[_0x272cb3(0x177)]=_0x2e6a30;}[_0x325c64(0x2b4)](_0x1d97b6){return extractParams4(_0x1d97b6);}[_0x325c64(0x24c)](_0x41074b){const _0x3d4bbb=_0x325c64,{featureExtractorMap:_0x5572da,classifierMap:_0xe27e8f}=seperateWeightMaps(_0x41074b);return this['faceFeatureExtractor'][_0x3d4bbb(0x29f)](_0x5572da),extractParamsFromWeightMap4(_0xe27e8f);}[_0x325c64(0x2d1)](_0xc2fe76){const _0x1e699b=_0x325c64,_0x2f328d=0x200*0x1+0x1+(0x200*0x2+0x2),_0x4a3217=_0xc2fe76[_0x1e699b(0x1d2)](0x0,_0xc2fe76[_0x1e699b(0x1b1)]-_0x2f328d),_0x19b2f1=_0xc2fe76['slice'](_0xc2fe76[_0x1e699b(0x1b1)]-_0x2f328d);return this[_0x1e699b(0x1b5)][_0x1e699b(0x1fd)](_0x4a3217),this[_0x1e699b(0x2b4)](_0x19b2f1);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{['postProcess'](_0xe3ace7,_0xb8677a,_0x27f7d3){const _0x519fbc=_0x325c64,_0x564b90=_0x27f7d3['map'](({width:_0x2f7fce,height:_0x395286})=>{const _0x2b9d1f=_0x55d2,_0xd2393b=_0xb8677a/Math[_0x2b9d1f(0x1c9)](_0x395286,_0x2f7fce);return{'width':_0x2f7fce*_0xd2393b,'height':_0x395286*_0xd2393b};}),_0x167757=_0x564b90['length'];return tf21[_0x519fbc(0x2bb)](()=>{const _0x45367b=_0x519fbc,_0x2a0c4e=(_0x3e3aaf,_0x201140)=>tf21['stack']([tf21[_0x45367b(0x22a)]([0x44],_0x3e3aaf,_0x45367b(0x167)),tf21['fill']([0x44],_0x201140,'float32')],0x1)[_0x45367b(0x1d6)](0x1,0x88)[_0x45367b(0x2b8)](),_0x4be855=(_0x5b512a,_0x3da0b7)=>{const _0x5a13b2=_0x45367b,{width:_0x20ac7e,height:_0x497ce6}=_0x564b90[_0x5b512a];return _0x3da0b7(_0x20ac7e,_0x497ce6)?Math[_0x5a13b2(0x378)](_0x20ac7e-_0x497ce6)/0x2:0x0;},_0x523aed=_0x2956c8=>_0x4be855(_0x2956c8,(_0x40c808,_0x32d63b)=>_0x40c808<_0x32d63b),_0x3c161f=_0x996dfe=>_0x4be855(_0x996dfe,(_0xba3c85,_0x254996)=>_0x254996<_0xba3c85),_0xb890d1=_0xe3ace7[_0x45367b(0x161)](tf21[_0x45367b(0x22a)]([_0x167757,0x88],_0xb8677a,_0x45367b(0x167)))[_0x45367b(0x246)](tf21[_0x45367b(0x22d)](Array[_0x45367b(0x338)](Array(_0x167757),(_0xaa8722,_0x4cd38e)=>_0x2a0c4e(_0x523aed(_0x4cd38e),_0x3c161f(_0x4cd38e)))))['div'](tf21[_0x45367b(0x22d)](Array['from'](Array(_0x167757),(_0xe1a469,_0x47a717)=>_0x2a0c4e(_0x564b90[_0x47a717][_0x45367b(0x1f2)],_0x564b90[_0x47a717][_0x45367b(0x1b3)]))));return _0xb890d1;});}[_0x325c64(0x222)](_0x56c854){return tf21['tidy'](()=>{const _0x864c46=_0x55d2,_0x3810d3=this[_0x864c46(0x19d)](_0x56c854);return this[_0x864c46(0x1df)](_0x3810d3,_0x56c854['inputSize'],_0x56c854[_0x864c46(0x2f5)][_0x864c46(0x268)](([_0x19c8d,_0x10f9b1])=>({'height':_0x19c8d,'width':_0x10f9b1})));});}async[_0x325c64(0x265)](_0x35dea3){const _0x55ac60=_0x325c64;return this[_0x55ac60(0x222)](await toNetInput(_0x35dea3));}async[_0x325c64(0x109)](_0x5f13d1){const _0x26181c=_0x325c64,_0x239679=await toNetInput(_0x5f13d1),_0x455b37=tf21[_0x26181c(0x2bb)](()=>tf21[_0x26181c(0x14f)](this['forwardInput'](_0x239679))),_0x4bae1b=await Promise['all'](_0x455b37['map'](async(_0x24d0f8,_0x5eca3d)=>{const _0x1b142c=_0x26181c,_0x47a7bd=Array[_0x1b142c(0x338)](_0x24d0f8[_0x1b142c(0x115)]()),_0x3400fe=_0x47a7bd[_0x1b142c(0x23c)]((_0x4f715a,_0x25b886)=>isEven(_0x25b886)),_0x3105ec=_0x47a7bd[_0x1b142c(0x23c)]((_0x469735,_0x5f5ad1)=>!isEven(_0x5f5ad1));return new FaceLandmarks68(Array(0x44)[_0x1b142c(0x22a)](0x0)['map']((_0x1c88fe,_0x3f1877)=>new Point(_0x3400fe[_0x3f1877],_0x3105ec[_0x3f1877])),{'height':_0x239679[_0x1b142c(0x233)](_0x5eca3d),'width':_0x239679[_0x1b142c(0x152)](_0x5eca3d)});}));return _0x455b37[_0x26181c(0x183)](_0x1e6f51=>_0x1e6f51[_0x26181c(0x29c)]()),_0x239679['isBatchInput']?_0x4bae1b:_0x4bae1b[0x0];}[_0x325c64(0x2f1)](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x60919e=new FaceFeatureExtractor()){const _0xf36557=_0x325c64;super(_0xf36557(0x16c),_0x60919e);}[_0x325c64(0x259)](){const _0x3aa0d1=_0x325c64;return _0x3aa0d1(0x2c6);}[_0x325c64(0x189)](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0xe46522){const _0x482bca=_0x325c64,_0x3ce324=[],{extractDenseBlock3Params:_0x3aee53}=loadParamsFactory(_0xe46522,_0x3ce324),_0x20c8bd={'dense0':_0x3aee53(_0x482bca(0x34b),!![]),'dense1':_0x3aee53('dense1'),'dense2':_0x3aee53(_0x482bca(0x28f))};return disposeUnusedWeightTensors(_0xe46522,_0x3ce324),{'params':_0x20c8bd,'paramMappings':_0x3ce324};}function extractParamsTiny(_0x174811){const _0x3e7448=_0x325c64,_0x4a5291=[],{extractWeights:_0x1b581a,getRemainingWeights:_0xc66218}=extractWeightsFactory(_0x174811),{extractDenseBlock3Params:_0x4891d5}=extractorsFactory(_0x1b581a,_0x4a5291),_0x4b59dd=_0x4891d5(0x3,0x20,_0x3e7448(0x34b),!![]),_0x795279=_0x4891d5(0x20,0x40,_0x3e7448(0x154)),_0x2e8ebf=_0x4891d5(0x40,0x80,_0x3e7448(0x28f));if(_0xc66218()['length']!==0x0)throw new Error(_0x3e7448(0x2b0)+_0xc66218()['length']);return{'paramMappings':_0x4a5291,'params':{'dense0':_0x4b59dd,'dense1':_0x795279,'dense2':_0x2e8ebf}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x186a90=_0x325c64;super(_0x186a90(0x2c4));}['forwardInput'](_0x3c3e48){const {params:_0x5071fc}=this;if(!_0x5071fc)throw new Error('TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference');return tf22['tidy'](()=>{const _0x41963b=_0x55d2,_0x57a545=tf22[_0x41963b(0x148)](_0x3c3e48[_0x41963b(0x27f)](0x70,!![]),_0x41963b(0x167)),_0x5ab9b6=[122.782,117.001,104.298],_0x3b0134=normalize(_0x57a545,_0x5ab9b6)[_0x41963b(0x149)](0xff);let _0x3fd0bf=denseBlock3(_0x3b0134,_0x5071fc[_0x41963b(0x34b)],!![]);return _0x3fd0bf=denseBlock3(_0x3fd0bf,_0x5071fc[_0x41963b(0x154)]),_0x3fd0bf=denseBlock3(_0x3fd0bf,_0x5071fc['dense2']),_0x3fd0bf=tf22[_0x41963b(0x163)](_0x3fd0bf,[0xe,0xe],[0x2,0x2],_0x41963b(0x150)),_0x3fd0bf;});}async[_0x325c64(0x265)](_0xf4214a){const _0xc3cf09=_0x325c64;return this[_0xc3cf09(0x222)](await toNetInput(_0xf4214a));}[_0x325c64(0x259)](){const _0x512fed=_0x325c64;return _0x512fed(0x17a);}[_0x325c64(0x24c)](_0x1710ad){return extractParamsFromWeightMapTiny(_0x1710ad);}[_0x325c64(0x2d1)](_0x3c93c1){return extractParamsTiny(_0x3c93c1);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x5cab99=new TinyFaceFeatureExtractor()){const _0x90bb48=_0x325c64;super(_0x90bb48(0x1b9),_0x5cab99);}[_0x325c64(0x259)](){return'face_landmark_68_tiny_model';}[_0x325c64(0x189)](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x5e7332,_0x52cf9a){const _0x59eaad=_0x325c64;return tf23[_0x59eaad(0x25c)](tf23[_0x59eaad(0x161)](_0x5e7332,_0x52cf9a[_0x59eaad(0x28b)]),_0x52cf9a[_0x59eaad(0x297)]);}function convLayer2(_0x5168c3,_0x64d803,_0x5cde35,_0x4545cc,_0xf378a6=_0x325c64(0x29b)){const _0x29e426=_0x325c64,{filters:_0x5b0b73,bias:_0x31e540}=_0x64d803[_0x29e426(0x219)];let _0x85fbc5=tf24[_0x29e426(0x1cf)](_0x5168c3,_0x5b0b73,_0x5cde35,_0xf378a6);return _0x85fbc5=tf24[_0x29e426(0x25c)](_0x85fbc5,_0x31e540),_0x85fbc5=scale(_0x85fbc5,_0x64d803[_0x29e426(0x24d)]),_0x4545cc?tf24['relu'](_0x85fbc5):_0x85fbc5;}function conv2(_0x32b49a,_0x5df2a6){return convLayer2(_0x32b49a,_0x5df2a6,[0x1,0x1],!![]);}function convNoRelu(_0x57f33c,_0x364f17){return convLayer2(_0x57f33c,_0x364f17,[0x1,0x1],![]);}function convDown(_0x55c73d,_0x57391c){return convLayer2(_0x55c73d,_0x57391c,[0x2,0x2],!![],'valid');}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x35858f,_0x4385e2){function _0x561b39(_0x508999,_0x46000c,_0x505b4b){const _0x697915=_0x55d2,_0x19d5d7=_0x35858f(_0x508999),_0x1bb9c9=_0x19d5d7[_0x697915(0x1b1)]/(_0x46000c*_0x505b4b*_0x505b4b);if(isFloat(_0x1bb9c9))throw new Error(_0x697915(0x364)+_0x1bb9c9+_0x697915(0x16b)+_0x19d5d7[_0x697915(0x1b1)]+',\x20numFilters:\x20'+_0x46000c+_0x697915(0x37f)+_0x505b4b);return tf25[_0x697915(0x2bb)](()=>tf25[_0x697915(0x379)](tf25[_0x697915(0x22e)](_0x19d5d7,[_0x46000c,_0x1bb9c9,_0x505b4b,_0x505b4b]),[0x2,0x3,0x1,0x0]));}function _0x488a53(_0x47a866,_0x25bc5f,_0x35ac0b,_0x436258){const _0x42acc0=_0x55d2,_0x2d93e9=_0x561b39(_0x47a866,_0x25bc5f,_0x35ac0b),_0x25bc53=tf25[_0x42acc0(0x203)](_0x35858f(_0x25bc5f));return _0x4385e2['push']({'paramPath':_0x436258+'/filters'},{'paramPath':_0x436258+_0x42acc0(0x14c)}),{'filters':_0x2d93e9,'bias':_0x25bc53};}function _0x3be1be(_0x37fc33,_0x1b7106){const _0x26f959=_0x55d2,_0x4c0aa3=tf25[_0x26f959(0x203)](_0x35858f(_0x37fc33)),_0x287a94=tf25[_0x26f959(0x203)](_0x35858f(_0x37fc33));return _0x4385e2[_0x26f959(0x376)]({'paramPath':_0x1b7106+_0x26f959(0x1d8)},{'paramPath':_0x1b7106+'/biases'}),{'weights':_0x4c0aa3,'biases':_0x287a94};}function _0x38ee11(_0xea3fa,_0x44fa6a,_0x3cac85,_0x598adc){const _0x596822=_0x55d2,_0x2fec01=_0x488a53(_0xea3fa,_0x44fa6a,_0x3cac85,_0x598adc+_0x596822(0x1ce)),_0x328cdf=_0x3be1be(_0x44fa6a,_0x598adc+_0x596822(0x2b7));return{'conv':_0x2fec01,'scale':_0x328cdf};}function _0x33eaf2(_0x3a0d20,_0x3bb9c0,_0x39ea7a,_0x1ced98,_0x2780f4=![]){const _0x3931fa=_0x55d2,_0x43d4cf=_0x38ee11((_0x2780f4?0.5:0x1)*_0x3a0d20,_0x3bb9c0,_0x39ea7a,_0x1ced98+_0x3931fa(0x136)),_0x43f516=_0x38ee11(_0x3a0d20,_0x3bb9c0,_0x39ea7a,_0x1ced98+_0x3931fa(0x164));return{'conv1':_0x43d4cf,'conv2':_0x43f516};}return{'extractConvLayerParams':_0x38ee11,'extractResidualLayerParams':_0x33eaf2};}function extractParams5(_0x5abe82){const _0x138e0b=_0x325c64,{extractWeights:_0x36b0b7,getRemainingWeights:_0x2b7fa2}=extractWeightsFactory(_0x5abe82),_0x588649=[],{extractConvLayerParams:_0x2cd2fa,extractResidualLayerParams:_0x340cc4}=extractorsFactory3(_0x36b0b7,_0x588649),_0x6f4a79=_0x2cd2fa(0x1260,0x20,0x7,_0x138e0b(0x1a3)),_0x4e8106=_0x340cc4(0x2400,0x20,0x3,_0x138e0b(0x1ad)),_0x48bb30=_0x340cc4(0x2400,0x20,0x3,_0x138e0b(0x156)),_0x40d776=_0x340cc4(0x2400,0x20,0x3,_0x138e0b(0x112)),_0x3c6413=_0x340cc4(0x9000,0x40,0x3,_0x138e0b(0x2e6),!![]),_0x41dd9f=_0x340cc4(0x9000,0x40,0x3,'conv64_1'),_0x145c6e=_0x340cc4(0x9000,0x40,0x3,_0x138e0b(0x108)),_0x25b553=_0x340cc4(0x9000,0x40,0x3,'conv64_3'),_0x11aab3=_0x340cc4(0x24000,0x80,0x3,'conv128_down',!![]),_0x356135=_0x340cc4(0x24000,0x80,0x3,'conv128_1'),_0x11f02a=_0x340cc4(0x24000,0x80,0x3,_0x138e0b(0x22c)),_0x5a604e=_0x340cc4(0x90000,0x100,0x3,_0x138e0b(0x31b),!![]),_0x1a8605=_0x340cc4(0x90000,0x100,0x3,_0x138e0b(0x1a0)),_0x772e51=_0x340cc4(0x90000,0x100,0x3,_0x138e0b(0x2c5)),_0x280cc7=_0x340cc4(0x90000,0x100,0x3,_0x138e0b(0x35a)),_0x2f1e30=tf25['tidy'](()=>tf25[_0x138e0b(0x379)](tf25[_0x138e0b(0x277)](_0x36b0b7(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0x588649['push']({'paramPath':'fc'});if(_0x2b7fa2()[_0x138e0b(0x1b1)]!==0x0)throw new Error(_0x138e0b(0x2b0)+_0x2b7fa2()[_0x138e0b(0x1b1)]);const _0x3a5897={'conv32_down':_0x6f4a79,'conv32_1':_0x4e8106,'conv32_2':_0x48bb30,'conv32_3':_0x40d776,'conv64_down':_0x3c6413,'conv64_1':_0x41dd9f,'conv64_2':_0x145c6e,'conv64_3':_0x25b553,'conv128_down':_0x11aab3,'conv128_1':_0x356135,'conv128_2':_0x11f02a,'conv256_down':_0x5a604e,'conv256_1':_0x1a8605,'conv256_2':_0x772e51,'conv256_down_out':_0x280cc7,'fc':_0x2f1e30};return{'params':_0x3a5897,'paramMappings':_0x588649};}function extractorsFactory4(_0x5e09ce,_0x2ac41c){const _0x518a39=extractWeightEntryFactory(_0x5e09ce,_0x2ac41c);function _0x4a432a(_0x176ef7){const _0x2f2341=_0x55d2,_0x239deb=_0x518a39(_0x176ef7+_0x2f2341(0x2a3),0x1),_0x36de7d=_0x518a39(_0x176ef7+_0x2f2341(0x1a8),0x1);return{'weights':_0x239deb,'biases':_0x36de7d};}function _0x26d9ba(_0x3ed60e){const _0xe343c4=_0x55d2,_0x4d9138=_0x518a39(_0x3ed60e+_0xe343c4(0x1a1),0x4),_0x3a3e2d=_0x518a39(_0x3ed60e+_0xe343c4(0x36c),0x1),_0x36c98e=_0x4a432a(_0x3ed60e);return{'conv':{'filters':_0x4d9138,'bias':_0x3a3e2d},'scale':_0x36c98e};}function _0x23a96b(_0x4e8a7d){const _0x260033=_0x55d2;return{'conv1':_0x26d9ba(_0x4e8a7d+_0x260033(0x136)),'conv2':_0x26d9ba(_0x4e8a7d+_0x260033(0x164))};}return{'extractConvLayerParams':_0x26d9ba,'extractResidualLayerParams':_0x23a96b};}function extractParamsFromWeightMap5(_0x47021e){const _0x43937f=_0x325c64,_0x43eab4=[],{extractConvLayerParams:_0x3d89b2,extractResidualLayerParams:_0x13851a}=extractorsFactory4(_0x47021e,_0x43eab4),_0x5d1b98=_0x3d89b2(_0x43937f(0x1a3)),_0x4f542c=_0x13851a(_0x43937f(0x1ad)),_0x513c53=_0x13851a(_0x43937f(0x156)),_0x1b48e4=_0x13851a(_0x43937f(0x112)),_0x1c0643=_0x13851a(_0x43937f(0x2e6)),_0x3a9e98=_0x13851a(_0x43937f(0x286)),_0x28c0bd=_0x13851a(_0x43937f(0x108)),_0x47fd51=_0x13851a(_0x43937f(0x239)),_0x24be75=_0x13851a(_0x43937f(0x30b)),_0x40f7b3=_0x13851a(_0x43937f(0x343)),_0x33ef0f=_0x13851a('conv128_2'),_0x54694d=_0x13851a(_0x43937f(0x31b)),_0x1960c8=_0x13851a('conv256_1'),_0x42b940=_0x13851a('conv256_2'),_0x13dcce=_0x13851a(_0x43937f(0x35a)),{fc:_0x336d9e}=_0x47021e;_0x43eab4[_0x43937f(0x376)]({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x336d9e))throw new Error(_0x43937f(0x2a0)+_0x336d9e);const _0x4811d2={'conv32_down':_0x5d1b98,'conv32_1':_0x4f542c,'conv32_2':_0x513c53,'conv32_3':_0x1b48e4,'conv64_down':_0x1c0643,'conv64_1':_0x3a9e98,'conv64_2':_0x28c0bd,'conv64_3':_0x47fd51,'conv128_down':_0x24be75,'conv128_1':_0x40f7b3,'conv128_2':_0x33ef0f,'conv256_down':_0x54694d,'conv256_1':_0x1960c8,'conv256_2':_0x42b940,'conv256_down_out':_0x13dcce,'fc':_0x336d9e};return disposeUnusedWeightTensors(_0x47021e,_0x43eab4),{'params':_0x4811d2,'paramMappings':_0x43eab4};}var tf26=__toESM(require_tfjs_esm());function residual(_0x39486e,_0x507fa9){const _0x48a21a=_0x325c64;let _0x225d5f=conv2(_0x39486e,_0x507fa9[_0x48a21a(0x1ca)]);return _0x225d5f=convNoRelu(_0x225d5f,_0x507fa9[_0x48a21a(0x147)]),_0x225d5f=tf26['add'](_0x225d5f,_0x39486e),_0x225d5f=tf26[_0x48a21a(0x1c2)](_0x225d5f),_0x225d5f;}function residualDown(_0xc40ef6,_0x3098a4){const _0x470dc6=_0x325c64;let _0x588ac3=convDown(_0xc40ef6,_0x3098a4[_0x470dc6(0x1ca)]);_0x588ac3=convNoRelu(_0x588ac3,_0x3098a4[_0x470dc6(0x147)]);let _0x314893=tf26[_0x470dc6(0x163)](_0xc40ef6,0x2,0x2,_0x470dc6(0x150));const _0x5d264f=tf26[_0x470dc6(0x291)](_0x314893[_0x470dc6(0x35c)]),_0xa3425a=_0x314893['shape'][0x3]!==_0x588ac3[_0x470dc6(0x35c)][0x3],_0x3d65d0=_0x314893['shape'][0x1]!==_0x588ac3[_0x470dc6(0x35c)][0x1]||_0x314893['shape'][0x2]!==_0x588ac3['shape'][0x2];if(_0x3d65d0){const _0x2ee720=[..._0x588ac3[_0x470dc6(0x35c)]];_0x2ee720[0x1]=0x1;const _0x56b875=tf26[_0x470dc6(0x291)](_0x2ee720);_0x588ac3=tf26[_0x470dc6(0x28a)]([_0x588ac3,_0x56b875],0x1);const _0x5061c3=[..._0x588ac3[_0x470dc6(0x35c)]];_0x5061c3[0x2]=0x1;const _0x1b9c11=tf26['zeros'](_0x5061c3);_0x588ac3=tf26[_0x470dc6(0x28a)]([_0x588ac3,_0x1b9c11],0x2);}return _0x314893=_0xa3425a?tf26['concat']([_0x314893,_0x5d264f],0x3):_0x314893,_0x588ac3=tf26['add'](_0x314893,_0x588ac3),_0x588ac3=tf26[_0x470dc6(0x1c2)](_0x588ac3),_0x588ac3;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){const _0x3429cb=_0x325c64;super(_0x3429cb(0x178));}[_0x325c64(0x222)](_0x16a532){const _0x37aaf1=_0x325c64,{params:_0xde6154}=this;if(!_0xde6154)throw new Error(_0x37aaf1(0x266));return tf27[_0x37aaf1(0x2bb)](()=>{const _0x463fab=_0x37aaf1,_0x1c043a=tf27[_0x463fab(0x148)](_0x16a532[_0x463fab(0x27f)](0x96,!![]),'float32'),_0x32d27b=[122.782,117.001,104.298],_0x55bcbf=normalize(_0x1c043a,_0x32d27b)[_0x463fab(0x149)](0xff);let _0x1d0c17=convDown(_0x55bcbf,_0xde6154[_0x463fab(0x1a3)]);_0x1d0c17=tf27[_0x463fab(0x2a2)](_0x1d0c17,0x3,0x2,_0x463fab(0x150)),_0x1d0c17=residual(_0x1d0c17,_0xde6154[_0x463fab(0x1ad)]),_0x1d0c17=residual(_0x1d0c17,_0xde6154[_0x463fab(0x156)]),_0x1d0c17=residual(_0x1d0c17,_0xde6154['conv32_3']),_0x1d0c17=residualDown(_0x1d0c17,_0xde6154['conv64_down']),_0x1d0c17=residual(_0x1d0c17,_0xde6154[_0x463fab(0x286)]),_0x1d0c17=residual(_0x1d0c17,_0xde6154['conv64_2']),_0x1d0c17=residual(_0x1d0c17,_0xde6154['conv64_3']),_0x1d0c17=residualDown(_0x1d0c17,_0xde6154['conv128_down']),_0x1d0c17=residual(_0x1d0c17,_0xde6154[_0x463fab(0x343)]),_0x1d0c17=residual(_0x1d0c17,_0xde6154['conv128_2']),_0x1d0c17=residualDown(_0x1d0c17,_0xde6154[_0x463fab(0x31b)]),_0x1d0c17=residual(_0x1d0c17,_0xde6154[_0x463fab(0x1a0)]),_0x1d0c17=residual(_0x1d0c17,_0xde6154[_0x463fab(0x2c5)]),_0x1d0c17=residualDown(_0x1d0c17,_0xde6154[_0x463fab(0x35a)]);const _0x47ab09=_0x1d0c17[_0x463fab(0x187)]([0x1,0x2]),_0x59b3e7=tf27[_0x463fab(0x2e8)](_0x47ab09,_0xde6154['fc']);return _0x59b3e7;});}async[_0x325c64(0x265)](_0x3542f4){const _0x528b5a=_0x325c64;return this[_0x528b5a(0x222)](await toNetInput(_0x3542f4));}async[_0x325c64(0x1db)](_0x89fee8){const _0x315c4f=_0x325c64;var _0x5c2de2;if((_0x5c2de2=_0x89fee8==null?void 0x0:_0x89fee8[_0x315c4f(0x35c)])==null?void 0x0:_0x5c2de2[_0x315c4f(0x319)](_0x451c49=>_0x451c49<=0x0))return new Float32Array(0x80);const _0x1914c9=await toNetInput(_0x89fee8),_0x31dc8f=tf27[_0x315c4f(0x2bb)](()=>tf27[_0x315c4f(0x14f)](this[_0x315c4f(0x222)](_0x1914c9))),_0x116bd0=await Promise[_0x315c4f(0x1e0)](_0x31dc8f['map'](_0x5552fc=>_0x5552fc[_0x315c4f(0x204)]()));return _0x31dc8f[_0x315c4f(0x183)](_0x30a227=>_0x30a227[_0x315c4f(0x29c)]()),_0x1914c9[_0x315c4f(0x1b2)]?_0x116bd0:_0x116bd0[0x0];}['getDefaultModelName'](){const _0x277055=_0x325c64;return _0x277055(0x312);}['extractParamsFromWeightMap'](_0xb9e755){return extractParamsFromWeightMap5(_0xb9e755);}['extractParams'](_0x31baef){return extractParams5(_0x31baef);}};function createFaceRecognitionNet(_0xaa48e3){const _0x67682c=_0x325c64,_0x3ac6a0=new FaceRecognitionNet();return _0x3ac6a0[_0x67682c(0x1fd)](_0xaa48e3),_0x3ac6a0;}function extendWithFaceDescriptor(_0x1b4d5b,_0x5947de){const _0x184b9={'descriptor':_0x5947de};return{..._0x1b4d5b,..._0x184b9};}function isWithAge(_0x34f903){const _0x5a39c5=_0x325c64;return typeof _0x34f903[_0x5a39c5(0x250)]===_0x5a39c5(0x143);}function extendWithAge(_0xbb2577,_0x442729){const _0x4e6094={'age':_0x442729};return{..._0xbb2577,..._0x4e6094};}function isWithGender(_0x53e3e5){const _0x214eab=_0x325c64;return(_0x53e3e5['gender']==='male'||_0x53e3e5[_0x214eab(0x2f9)]==='female')&&isValidProbablitiy(_0x53e3e5[_0x214eab(0x327)]);}function extendWithGender(_0x501c71,_0x11107e,_0x513a80){const _0x43f299={'gender':_0x11107e,'genderProbability':_0x513a80};return{..._0x501c71,..._0x43f299};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x2b0ebb,_0x20a0b6){function _0x3d8dc5(_0x217e18,_0x307997){const _0xb5d926=_0x55d2,_0x11dce1=tf28[_0xb5d926(0x22e)](_0x2b0ebb(0x3*0x3*_0x217e18),[0x3,0x3,_0x217e18,0x1]),_0x10354b=tf28[_0xb5d926(0x203)](_0x2b0ebb(_0x217e18)),_0x5099e7=tf28[_0xb5d926(0x203)](_0x2b0ebb(_0x217e18)),_0x35accb=tf28['tensor1d'](_0x2b0ebb(_0x217e18)),_0x558f97=tf28[_0xb5d926(0x203)](_0x2b0ebb(_0x217e18));return _0x20a0b6[_0xb5d926(0x376)]({'paramPath':_0x307997+'/filters'},{'paramPath':_0x307997+_0xb5d926(0x128)},{'paramPath':_0x307997+_0xb5d926(0x2c0)},{'paramPath':_0x307997+_0xb5d926(0x198)},{'paramPath':_0x307997+'/batch_norm_variance'}),{'filters':_0x11dce1,'batch_norm_scale':_0x10354b,'batch_norm_offset':_0x5099e7,'batch_norm_mean':_0x35accb,'batch_norm_variance':_0x558f97};}function _0x4e9687(_0x4da0a8,_0x4fbef7,_0x4296f2,_0x11817a,_0xe6d4d4){const _0x250fa6=_0x55d2,_0x3ba86b=tf28['tensor4d'](_0x2b0ebb(_0x4da0a8*_0x4fbef7*_0x4296f2*_0x4296f2),[_0x4296f2,_0x4296f2,_0x4da0a8,_0x4fbef7]),_0x4b7f67=tf28[_0x250fa6(0x203)](_0x2b0ebb(_0x4fbef7));return _0x20a0b6[_0x250fa6(0x376)]({'paramPath':_0x11817a+'/filters'},{'paramPath':_0x11817a+'/'+(_0xe6d4d4?'batch_norm_offset':_0x250fa6(0x208))}),{'filters':_0x3ba86b,'bias':_0x4b7f67};}function _0x227f52(_0xb6e401,_0x59034e,_0x5bb351,_0x4ccfb2){const {filters:_0x1a1746,bias:_0x132675}=_0x4e9687(_0xb6e401,_0x59034e,_0x5bb351,_0x4ccfb2,!![]);return{'filters':_0x1a1746,'batch_norm_offset':_0x132675};}function _0x15593b(_0x243b4f,_0x355ffb,_0x544471){const _0x5c19b2=_0x55d2,_0x438b43=_0x3d8dc5(_0x243b4f,_0x544471+'/depthwise_conv'),_0x234964=_0x227f52(_0x243b4f,_0x355ffb,0x1,_0x544471+_0x5c19b2(0x105));return{'depthwise_conv':_0x438b43,'pointwise_conv':_0x234964};}function _0x4924ad(){const _0x20e839=_0x55d2,_0x531451=_0x227f52(0x3,0x20,0x3,_0x20e839(0x356)),_0x34a41a=_0x15593b(0x20,0x40,_0x20e839(0x124)),_0x5e6bc2=_0x15593b(0x40,0x80,_0x20e839(0x2bd)),_0x377b07=_0x15593b(0x80,0x80,'mobilenetv1/conv_3'),_0x23d8ad=_0x15593b(0x80,0x100,'mobilenetv1/conv_4'),_0x921c78=_0x15593b(0x100,0x100,_0x20e839(0x12b)),_0x54eda0=_0x15593b(0x100,0x200,_0x20e839(0x197)),_0x338708=_0x15593b(0x200,0x200,_0x20e839(0x1e3)),_0x201691=_0x15593b(0x200,0x200,'mobilenetv1/conv_8'),_0x43b349=_0x15593b(0x200,0x200,'mobilenetv1/conv_9'),_0x2b9c39=_0x15593b(0x200,0x200,_0x20e839(0x171)),_0x249203=_0x15593b(0x200,0x200,'mobilenetv1/conv_11'),_0x3111a2=_0x15593b(0x200,0x400,_0x20e839(0x382)),_0x10cafd=_0x15593b(0x400,0x400,'mobilenetv1/conv_13');return{'conv_0':_0x531451,'conv_1':_0x34a41a,'conv_2':_0x5e6bc2,'conv_3':_0x377b07,'conv_4':_0x23d8ad,'conv_5':_0x921c78,'conv_6':_0x54eda0,'conv_7':_0x338708,'conv_8':_0x201691,'conv_9':_0x43b349,'conv_10':_0x2b9c39,'conv_11':_0x249203,'conv_12':_0x3111a2,'conv_13':_0x10cafd};}function _0x3a4908(){const _0x559bf5=_0x55d2,_0x22ae17=_0x227f52(0x400,0x100,0x1,_0x559bf5(0x15d)),_0x244866=_0x227f52(0x100,0x200,0x3,'prediction_layer/conv_1'),_0x34d479=_0x227f52(0x200,0x80,0x1,'prediction_layer/conv_2'),_0x5c0b6=_0x227f52(0x80,0x100,0x3,'prediction_layer/conv_3'),_0x119233=_0x227f52(0x100,0x80,0x1,_0x559bf5(0x2be)),_0x481eef=_0x227f52(0x80,0x100,0x3,_0x559bf5(0x1da)),_0x364b7e=_0x227f52(0x100,0x40,0x1,_0x559bf5(0x176)),_0x16c0c1=_0x227f52(0x40,0x80,0x3,_0x559bf5(0x2f3)),_0x3b56d6=_0x4e9687(0x200,0xc,0x1,_0x559bf5(0x2f4)),_0xc94bfe=_0x4e9687(0x200,0x9,0x1,_0x559bf5(0x257)),_0x56a5df=_0x4e9687(0x400,0x18,0x1,_0x559bf5(0x37a)),_0x3cddb5=_0x4e9687(0x400,0x12,0x1,_0x559bf5(0x2da)),_0x1f2384=_0x4e9687(0x200,0x18,0x1,_0x559bf5(0x10e)),_0x5ee894=_0x4e9687(0x200,0x12,0x1,_0x559bf5(0x19e)),_0x440e2a=_0x4e9687(0x100,0x18,0x1,_0x559bf5(0x25f)),_0x308388=_0x4e9687(0x100,0x12,0x1,_0x559bf5(0x1f4)),_0x1816d5=_0x4e9687(0x100,0x18,0x1,_0x559bf5(0x2fa)),_0x416c34=_0x4e9687(0x100,0x12,0x1,'prediction_layer/box_predictor_4/class_predictor'),_0x152522=_0x4e9687(0x80,0x18,0x1,'prediction_layer/box_predictor_5/box_encoding_predictor'),_0x543d90=_0x4e9687(0x80,0x12,0x1,_0x559bf5(0x374)),_0x42d011={'box_encoding_predictor':_0x3b56d6,'class_predictor':_0xc94bfe},_0x2f86de={'box_encoding_predictor':_0x56a5df,'class_predictor':_0x3cddb5},_0x27c1b6={'box_encoding_predictor':_0x1f2384,'class_predictor':_0x5ee894},_0x6e2b2b={'box_encoding_predictor':_0x440e2a,'class_predictor':_0x308388},_0x26f792={'box_encoding_predictor':_0x1816d5,'class_predictor':_0x416c34},_0x4eaa7a={'box_encoding_predictor':_0x152522,'class_predictor':_0x543d90};return{'conv_0':_0x22ae17,'conv_1':_0x244866,'conv_2':_0x34d479,'conv_3':_0x5c0b6,'conv_4':_0x119233,'conv_5':_0x481eef,'conv_6':_0x364b7e,'conv_7':_0x16c0c1,'box_predictor_0':_0x42d011,'box_predictor_1':_0x2f86de,'box_predictor_2':_0x27c1b6,'box_predictor_3':_0x6e2b2b,'box_predictor_4':_0x26f792,'box_predictor_5':_0x4eaa7a};}return{'extractMobilenetV1Params':_0x4924ad,'extractPredictionLayerParams':_0x3a4908};}function extractParams6(_0x45c62a){const _0x1e3310=_0x325c64,_0x265135=[],{extractWeights:_0x221615,getRemainingWeights:_0xd11a80}=extractWeightsFactory(_0x45c62a),{extractMobilenetV1Params:_0x849369,extractPredictionLayerParams:_0x1cf537}=extractorsFactory5(_0x221615,_0x265135),_0x21368a=_0x849369(),_0x52c1a6=_0x1cf537(),_0x19db5e=tf28[_0x1e3310(0x1d0)](_0x221615(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x30cb53={'extra_dim':_0x19db5e};_0x265135[_0x1e3310(0x376)]({'paramPath':_0x1e3310(0x11f)});if(_0xd11a80()[_0x1e3310(0x1b1)]!==0x0)throw new Error(_0x1e3310(0x2b0)+_0xd11a80()[_0x1e3310(0x1b1)]);return{'params':{'mobilenetv1':_0x21368a,'prediction_layer':_0x52c1a6,'output_layer':_0x30cb53},'paramMappings':_0x265135};}function extractorsFactory6(_0x3704f1,_0x534380){const _0x305ebc=extractWeightEntryFactory(_0x3704f1,_0x534380);function _0x1d790a(_0xa20742,_0x4f9066,_0x46f440){const _0x28a103=_0x55d2,_0x58c775=_0x305ebc(_0xa20742+_0x28a103(0x159)+_0x4f9066+'_pointwise/weights',0x4,_0x46f440+'/filters'),_0x49412d=_0x305ebc(_0xa20742+_0x28a103(0x159)+_0x4f9066+_0x28a103(0x2d6),0x1,_0x46f440+_0x28a103(0x2c0));return{'filters':_0x58c775,'batch_norm_offset':_0x49412d};}function _0x10057e(_0x65fab3){const _0x3bddb9=_0x55d2,_0x177fee='mobilenetv1/conv_'+_0x65fab3,_0x5f388a=_0x3bddb9(0x2bf)+_0x65fab3+'_depthwise',_0x1e3f76=_0x177fee+_0x3bddb9(0x344),_0xa93b4f=_0x177fee+_0x3bddb9(0x105),_0x5d8fb9=_0x305ebc(_0x5f388a+_0x3bddb9(0x24a),0x4,_0x1e3f76+_0x3bddb9(0x369)),_0x2c60ce=_0x305ebc(_0x5f388a+_0x3bddb9(0x33b),0x1,_0x1e3f76+_0x3bddb9(0x128)),_0x43d2d0=_0x305ebc(_0x5f388a+_0x3bddb9(0x35b),0x1,_0x1e3f76+_0x3bddb9(0x2c0)),_0x44cd66=_0x305ebc(_0x5f388a+_0x3bddb9(0x232),0x1,_0x1e3f76+_0x3bddb9(0x198)),_0x34fc75=_0x305ebc(_0x5f388a+_0x3bddb9(0x1ba),0x1,_0x1e3f76+_0x3bddb9(0x19a));return{'depthwise_conv':{'filters':_0x5d8fb9,'batch_norm_scale':_0x2c60ce,'batch_norm_offset':_0x43d2d0,'batch_norm_mean':_0x44cd66,'batch_norm_variance':_0x34fc75},'pointwise_conv':_0x1d790a(_0x3bddb9(0x330),_0x65fab3,_0xa93b4f)};}function _0x54d61a(){const _0x437828=_0x55d2;return{'conv_0':_0x1d790a(_0x437828(0x330),0x0,_0x437828(0x356)),'conv_1':_0x10057e(0x1),'conv_2':_0x10057e(0x2),'conv_3':_0x10057e(0x3),'conv_4':_0x10057e(0x4),'conv_5':_0x10057e(0x5),'conv_6':_0x10057e(0x6),'conv_7':_0x10057e(0x7),'conv_8':_0x10057e(0x8),'conv_9':_0x10057e(0x9),'conv_10':_0x10057e(0xa),'conv_11':_0x10057e(0xb),'conv_12':_0x10057e(0xc),'conv_13':_0x10057e(0xd)};}function _0x105fa3(_0x100404,_0x3872ca){const _0x16c3cb=_0x55d2,_0x47814e=_0x305ebc(_0x100404+'/weights',0x4,_0x3872ca+_0x16c3cb(0x369)),_0x565995=_0x305ebc(_0x100404+_0x16c3cb(0x350),0x1,_0x3872ca+'/bias');return{'filters':_0x47814e,'bias':_0x565995};}function _0x201c37(_0x5bdccc){const _0x537426=_0x55d2,_0x55e737=_0x105fa3(_0x537426(0x107)+_0x5bdccc+_0x537426(0x215),_0x537426(0x240)+_0x5bdccc+_0x537426(0x2bc)),_0x1bb7b9=_0x105fa3(_0x537426(0x107)+_0x5bdccc+_0x537426(0x26b),_0x537426(0x240)+_0x5bdccc+_0x537426(0x173));return{'box_encoding_predictor':_0x55e737,'class_predictor':_0x1bb7b9};}function _0x54c019(){const _0x443bf1=_0x55d2;return{'conv_0':_0x1d790a(_0x443bf1(0x1e1),0x0,_0x443bf1(0x15d)),'conv_1':_0x1d790a(_0x443bf1(0x1e1),0x1,_0x443bf1(0x2de)),'conv_2':_0x1d790a(_0x443bf1(0x1e1),0x2,'prediction_layer/conv_2'),'conv_3':_0x1d790a(_0x443bf1(0x1e1),0x3,_0x443bf1(0x19c)),'conv_4':_0x1d790a('Prediction',0x4,_0x443bf1(0x2be)),'conv_5':_0x1d790a(_0x443bf1(0x1e1),0x5,_0x443bf1(0x1da)),'conv_6':_0x1d790a('Prediction',0x6,_0x443bf1(0x176)),'conv_7':_0x1d790a(_0x443bf1(0x1e1),0x7,'prediction_layer/conv_7'),'box_predictor_0':_0x201c37(0x0),'box_predictor_1':_0x201c37(0x1),'box_predictor_2':_0x201c37(0x2),'box_predictor_3':_0x201c37(0x3),'box_predictor_4':_0x201c37(0x4),'box_predictor_5':_0x201c37(0x5)};}return{'extractMobilenetV1Params':_0x54d61a,'extractPredictionLayerParams':_0x54c019};}function extractParamsFromWeightMap6(_0xa719b8){const _0x36d1a2=_0x325c64,_0x1f09ad=[],{extractMobilenetV1Params:_0x38b928,extractPredictionLayerParams:_0x424302}=extractorsFactory6(_0xa719b8,_0x1f09ad),_0x21d0af=_0xa719b8[_0x36d1a2(0x226)];_0x1f09ad[_0x36d1a2(0x376)]({'originalPath':_0x36d1a2(0x226),'paramPath':'output_layer/extra_dim'});if(!isTensor3D(_0x21d0af))throw new Error('expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20'+_0x21d0af);const _0x513acd={'mobilenetv1':_0x38b928(),'prediction_layer':_0x424302(),'output_layer':{'extra_dim':_0x21d0af}};return disposeUnusedWeightTensors(_0xa719b8,_0x1f09ad),{'params':_0x513acd,'paramMappings':_0x1f09ad};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x540ac5,_0x54b082,_0x1d99b2){const _0x4f390c=_0x325c64;return tf29[_0x4f390c(0x2bb)](()=>{const _0x25ac8d=_0x4f390c;let _0x965c8b=tf29['conv2d'](_0x540ac5,_0x54b082[_0x25ac8d(0x260)],_0x1d99b2,_0x25ac8d(0x29b));return _0x965c8b=tf29[_0x25ac8d(0x25c)](_0x965c8b,_0x54b082[_0x25ac8d(0x135)]),tf29[_0x25ac8d(0x18d)](_0x965c8b,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0x1084fe,_0x3d1ede,_0x1982b0){return tf30['tidy'](()=>{const _0x4f7047=_0x55d2;let _0x9d23eb=tf30[_0x4f7047(0x380)](_0x1084fe,_0x3d1ede[_0x4f7047(0x260)],_0x1982b0,_0x4f7047(0x29b));return _0x9d23eb=tf30['batchNorm'](_0x9d23eb,_0x3d1ede[_0x4f7047(0x23f)],_0x3d1ede['batch_norm_variance'],_0x3d1ede[_0x4f7047(0x135)],_0x3d1ede[_0x4f7047(0x21d)],epsilon),tf30[_0x4f7047(0x18d)](_0x9d23eb,0x0,0x6);});}function getStridesForLayerIdx(_0x96ca99){return[0x2,0x4,0x6,0xc]['some'](_0x404514=>_0x404514===_0x96ca99)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x2c3698,_0x947005){return tf30['tidy'](()=>{const _0x1b8034=_0x55d2;let _0x555bbe,_0x55bfa8=pointwiseConvLayer(_0x2c3698,_0x947005[_0x1b8034(0x160)],[0x2,0x2]);const _0xde20d1=[_0x947005[_0x1b8034(0x357)],_0x947005['conv_2'],_0x947005[_0x1b8034(0x363)],_0x947005[_0x1b8034(0x336)],_0x947005[_0x1b8034(0x10b)],_0x947005[_0x1b8034(0x220)],_0x947005[_0x1b8034(0x360)],_0x947005['conv_8'],_0x947005[_0x1b8034(0x35d)],_0x947005['conv_10'],_0x947005[_0x1b8034(0x2e3)],_0x947005[_0x1b8034(0x31c)],_0x947005[_0x1b8034(0x36b)]];_0xde20d1['forEach']((_0x57c01a,_0x4d2ef8)=>{const _0x2ef663=_0x1b8034,_0x294bc5=_0x4d2ef8+0x1,_0x44e4a5=getStridesForLayerIdx(_0x294bc5);_0x55bfa8=depthwiseConvLayer(_0x55bfa8,_0x57c01a[_0x2ef663(0x151)],_0x44e4a5),_0x55bfa8=pointwiseConvLayer(_0x55bfa8,_0x57c01a[_0x2ef663(0x18b)],[0x1,0x1]);if(_0x294bc5===0xb)_0x555bbe=_0x55bfa8;});if(_0x555bbe===null)throw new Error(_0x1b8034(0x37e));return{'out':_0x55bfa8,'conv11':_0x555bbe};});}function IOU(_0x2f4ef7,_0x9a57f8,_0x1d2a6e){const _0xdef66d=_0x325c64,_0x4ea1fd=_0x2f4ef7[_0xdef66d(0x272)](),_0x4bde58=Math[_0xdef66d(0x2ff)](_0x4ea1fd[_0x9a57f8][0x0],_0x4ea1fd[_0x9a57f8][0x2]),_0x4cdd5f=Math['min'](_0x4ea1fd[_0x9a57f8][0x1],_0x4ea1fd[_0x9a57f8][0x3]),_0x276cb5=Math[_0xdef66d(0x1c9)](_0x4ea1fd[_0x9a57f8][0x0],_0x4ea1fd[_0x9a57f8][0x2]),_0x32ed6a=Math[_0xdef66d(0x1c9)](_0x4ea1fd[_0x9a57f8][0x1],_0x4ea1fd[_0x9a57f8][0x3]),_0x2bfe35=Math[_0xdef66d(0x2ff)](_0x4ea1fd[_0x1d2a6e][0x0],_0x4ea1fd[_0x1d2a6e][0x2]),_0x15d2fc=Math[_0xdef66d(0x2ff)](_0x4ea1fd[_0x1d2a6e][0x1],_0x4ea1fd[_0x1d2a6e][0x3]),_0x3ba6a3=Math[_0xdef66d(0x1c9)](_0x4ea1fd[_0x1d2a6e][0x0],_0x4ea1fd[_0x1d2a6e][0x2]),_0x4ba5ec=Math['max'](_0x4ea1fd[_0x1d2a6e][0x1],_0x4ea1fd[_0x1d2a6e][0x3]),_0x180117=(_0x276cb5-_0x4bde58)*(_0x32ed6a-_0x4cdd5f),_0x3df842=(_0x3ba6a3-_0x2bfe35)*(_0x4ba5ec-_0x15d2fc);if(_0x180117<=0x0||_0x3df842<=0x0)return 0x0;const _0x15ec44=Math[_0xdef66d(0x1c9)](_0x4bde58,_0x2bfe35),_0x5b6dd3=Math[_0xdef66d(0x1c9)](_0x4cdd5f,_0x15d2fc),_0x123ca6=Math['min'](_0x276cb5,_0x3ba6a3),_0x5acf33=Math[_0xdef66d(0x2ff)](_0x32ed6a,_0x4ba5ec),_0x1deafc=Math[_0xdef66d(0x1c9)](_0x123ca6-_0x15ec44,0x0)*Math[_0xdef66d(0x1c9)](_0x5acf33-_0x5b6dd3,0x0);return _0x1deafc/(_0x180117+_0x3df842-_0x1deafc);}function nonMaxSuppression2(_0x3984b6,_0x2aa4a9,_0x5b004f,_0x4e5fa3,_0x7293f4){const _0x3ac7c5=_0x325c64,_0xb8d583=_0x3984b6['shape'][0x0],_0x3138bc=Math[_0x3ac7c5(0x2ff)](_0x5b004f,_0xb8d583),_0x59ce97=_0x2aa4a9[_0x3ac7c5(0x268)]((_0x5603c6,_0x47b8c0)=>({'score':_0x5603c6,'boxIndex':_0x47b8c0}))[_0x3ac7c5(0x23c)](_0x5d82ff=>_0x5d82ff[_0x3ac7c5(0x229)]>_0x7293f4)[_0x3ac7c5(0x13e)]((_0x976179,_0x22e676)=>_0x22e676['score']-_0x976179[_0x3ac7c5(0x229)]),_0x4d7f5b=_0x332d7e=>_0x332d7e<=_0x4e5fa3?0x1:0x0,_0x51555a=[];return _0x59ce97['forEach'](_0x108993=>{const _0x5edb74=_0x3ac7c5;if(_0x51555a[_0x5edb74(0x1b1)]>=_0x3138bc)return;const _0xa3870=_0x108993['score'];for(let _0x3427a8=_0x51555a[_0x5edb74(0x1b1)]-0x1;_0x3427a8>=0x0;--_0x3427a8){const _0x156a8f=IOU(_0x3984b6,_0x108993[_0x5edb74(0x339)],_0x51555a[_0x3427a8]);if(_0x156a8f===0x0)continue;_0x108993[_0x5edb74(0x229)]*=_0x4d7f5b(_0x156a8f);if(_0x108993[_0x5edb74(0x229)]<=_0x7293f4)break;}_0xa3870===_0x108993[_0x5edb74(0x229)]&&_0x51555a[_0x5edb74(0x376)](_0x108993[_0x5edb74(0x339)]);}),_0x51555a;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0xb23e30){const _0x5af307=_0x325c64,_0x424c8d=tf31[_0x5af307(0x14f)](tf31['transpose'](_0xb23e30,[0x1,0x0])),_0x147ff8=[tf31[_0x5af307(0x246)](_0x424c8d[0x2],_0x424c8d[0x0]),tf31['sub'](_0x424c8d[0x3],_0x424c8d[0x1])],_0x3ee426=[tf31[_0x5af307(0x25c)](_0x424c8d[0x0],tf31[_0x5af307(0x149)](_0x147ff8[0x0],0x2)),tf31[_0x5af307(0x25c)](_0x424c8d[0x1],tf31[_0x5af307(0x149)](_0x147ff8[0x1],0x2))];return{'sizes':_0x147ff8,'centers':_0x3ee426};}function decodeBoxesLayer(_0x298489,_0x5e1a3b){const _0x5a2dc9=_0x325c64,{sizes:_0x3f0faf,centers:_0x4fba9f}=getCenterCoordinatesAndSizesLayer(_0x298489),_0x4819a2=tf31['unstack'](tf31[_0x5a2dc9(0x379)](_0x5e1a3b,[0x1,0x0])),_0x44cec8=tf31['div'](tf31[_0x5a2dc9(0x161)](tf31[_0x5a2dc9(0x288)](tf31[_0x5a2dc9(0x149)](_0x4819a2[0x2],0x5)),_0x3f0faf[0x0]),0x2),_0x41306c=tf31[_0x5a2dc9(0x25c)](tf31[_0x5a2dc9(0x161)](tf31[_0x5a2dc9(0x149)](_0x4819a2[0x0],0xa),_0x3f0faf[0x0]),_0x4fba9f[0x0]),_0x53de67=tf31[_0x5a2dc9(0x149)](tf31[_0x5a2dc9(0x161)](tf31['exp'](tf31[_0x5a2dc9(0x149)](_0x4819a2[0x3],0x5)),_0x3f0faf[0x1]),0x2),_0xff9063=tf31[_0x5a2dc9(0x25c)](tf31['mul'](tf31['div'](_0x4819a2[0x1],0xa),_0x3f0faf[0x1]),_0x4fba9f[0x1]);return tf31[_0x5a2dc9(0x379)](tf31[_0x5a2dc9(0x22d)]([tf31['sub'](_0x41306c,_0x44cec8),tf31[_0x5a2dc9(0x246)](_0xff9063,_0x53de67),tf31['add'](_0x41306c,_0x44cec8),tf31['add'](_0xff9063,_0x53de67)]),[0x1,0x0]);}function outputLayer(_0x1cb2eb,_0xfd9b35,_0x23acb9){const _0x5174e5=_0x325c64;return tf31[_0x5174e5(0x2bb)](()=>{const _0x3aa4a9=_0x5174e5,_0x44b305=_0x1cb2eb[_0x3aa4a9(0x35c)][0x0];let _0x1fb4b7=decodeBoxesLayer(tf31[_0x3aa4a9(0x118)](tf31['tile'](_0x23acb9[_0x3aa4a9(0x1f9)],[_0x44b305,0x1,0x1]),[-0x1,0x4]),tf31['reshape'](_0x1cb2eb,[-0x1,0x4]));_0x1fb4b7=tf31[_0x3aa4a9(0x118)](_0x1fb4b7,[_0x44b305,_0x1fb4b7['shape'][0x0]/_0x44b305,0x4]);const _0x3d6a97=tf31[_0x3aa4a9(0x11e)](tf31[_0x3aa4a9(0x1d2)](_0xfd9b35,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0x257505=tf31[_0x3aa4a9(0x1d2)](_0x3d6a97,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0x257505=tf31[_0x3aa4a9(0x118)](_0x257505,[_0x44b305,_0x257505[_0x3aa4a9(0x35c)][0x1]]);const _0x50d945=tf31[_0x3aa4a9(0x14f)](_0x1fb4b7),_0x571d5a=tf31[_0x3aa4a9(0x14f)](_0x257505);return{'boxes':_0x50d945,'scores':_0x571d5a};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x1717f9,_0x4e75ab){const _0x376913=_0x325c64;return tf32[_0x376913(0x2bb)](()=>{const _0x21e45c=_0x376913,_0x68047c=_0x1717f9[_0x21e45c(0x35c)][0x0],_0x44c901=tf32[_0x21e45c(0x118)](convLayer(_0x1717f9,_0x4e75ab[_0x21e45c(0x179)]),[_0x68047c,-0x1,0x1,0x4]),_0xe885bb=tf32[_0x21e45c(0x118)](convLayer(_0x1717f9,_0x4e75ab['class_predictor']),[_0x68047c,-0x1,0x3]);return{'boxPredictionEncoding':_0x44c901,'classPrediction':_0xe885bb};});}function predictionLayer(_0x22b894,_0x7097b3,_0x1a498b){return tf33['tidy'](()=>{const _0x44b601=_0x55d2,_0x320c34=pointwiseConvLayer(_0x22b894,_0x1a498b[_0x44b601(0x160)],[0x1,0x1]),_0x3d20ac=pointwiseConvLayer(_0x320c34,_0x1a498b[_0x44b601(0x357)],[0x2,0x2]),_0x18a615=pointwiseConvLayer(_0x3d20ac,_0x1a498b[_0x44b601(0x194)],[0x1,0x1]),_0xc361e2=pointwiseConvLayer(_0x18a615,_0x1a498b['conv_3'],[0x2,0x2]),_0x2b9ecc=pointwiseConvLayer(_0xc361e2,_0x1a498b[_0x44b601(0x336)],[0x1,0x1]),_0x413f90=pointwiseConvLayer(_0x2b9ecc,_0x1a498b[_0x44b601(0x10b)],[0x2,0x2]),_0xe3a2d1=pointwiseConvLayer(_0x413f90,_0x1a498b[_0x44b601(0x220)],[0x1,0x1]),_0x2dc5b8=pointwiseConvLayer(_0xe3a2d1,_0x1a498b[_0x44b601(0x360)],[0x2,0x2]),_0x524026=boxPredictionLayer(_0x7097b3,_0x1a498b[_0x44b601(0x1b0)]),_0x5d26aa=boxPredictionLayer(_0x22b894,_0x1a498b[_0x44b601(0x284)]),_0x2ca3c7=boxPredictionLayer(_0x3d20ac,_0x1a498b[_0x44b601(0x1d1)]),_0x154297=boxPredictionLayer(_0xc361e2,_0x1a498b['box_predictor_3']),_0x1e22cf=boxPredictionLayer(_0x413f90,_0x1a498b['box_predictor_4']),_0x3fbdb5=boxPredictionLayer(_0x2dc5b8,_0x1a498b[_0x44b601(0x26c)]),_0x1220cb=tf33[_0x44b601(0x28a)]([_0x524026['boxPredictionEncoding'],_0x5d26aa['boxPredictionEncoding'],_0x2ca3c7['boxPredictionEncoding'],_0x154297['boxPredictionEncoding'],_0x1e22cf[_0x44b601(0x235)],_0x3fbdb5[_0x44b601(0x235)]],0x1),_0x14900f=tf33[_0x44b601(0x28a)]([_0x524026[_0x44b601(0x345)],_0x5d26aa[_0x44b601(0x345)],_0x2ca3c7['classPrediction'],_0x154297[_0x44b601(0x345)],_0x1e22cf[_0x44b601(0x345)],_0x3fbdb5[_0x44b601(0x345)]],0x1);return{'boxPredictions':_0x1220cb,'classPredictions':_0x14900f};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x39b3cd,maxResults:_0x33b38b}={}){const _0x34a71d=_0x325c64;this[_0x34a71d(0x262)]=_0x34a71d(0x16f),this[_0x34a71d(0x26f)]=_0x39b3cd||0.5,this[_0x34a71d(0x351)]=_0x33b38b||0x64;if(typeof this['_minConfidence']!==_0x34a71d(0x143)||this[_0x34a71d(0x26f)]<=0x0||this[_0x34a71d(0x26f)]>=0x1)throw new Error(this['_name']+_0x34a71d(0x196));if(typeof this['_maxResults']!==_0x34a71d(0x143))throw new Error(this[_0x34a71d(0x262)]+_0x34a71d(0x337));}get[_0x325c64(0x1e2)](){const _0x4ff045=_0x325c64;return this[_0x4ff045(0x26f)];}get['maxResults'](){const _0x1a7a7d=_0x325c64;return this[_0x1a7a7d(0x351)];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){const _0x3cb408=_0x325c64;super(_0x3cb408(0x155));}[_0x325c64(0x222)](_0x5d5bd7){const _0x9fe8c4=_0x325c64,{params:_0x23b1fc}=this;if(!_0x23b1fc)throw new Error(_0x9fe8c4(0x1f0));return tf34[_0x9fe8c4(0x2bb)](()=>{const _0x34ab86=_0x9fe8c4,_0x38d061=tf34[_0x34ab86(0x148)](_0x5d5bd7[_0x34ab86(0x27f)](0x200,![]),_0x34ab86(0x167)),_0x379ff4=tf34[_0x34ab86(0x246)](tf34['div'](_0x38d061,127.5),0x1),_0x3e22f3=mobileNetV1(_0x379ff4,_0x23b1fc[_0x34ab86(0x29e)]),{boxPredictions:_0x355d67,classPredictions:_0x3ab12f}=predictionLayer(_0x3e22f3[_0x34ab86(0x234)],_0x3e22f3[_0x34ab86(0x20b)],_0x23b1fc['prediction_layer']);return outputLayer(_0x355d67,_0x3ab12f,_0x23b1fc[_0x34ab86(0x34c)]);});}async[_0x325c64(0x265)](_0x3d8957){const _0x5961f2=_0x325c64;return this[_0x5961f2(0x222)](await toNetInput(_0x3d8957));}async[_0x325c64(0x2ca)](_0x14a5ae,_0x2ae444={}){const _0x3119dd=_0x325c64,{maxResults:_0x356448,minConfidence:_0x14b4f3}=new SsdMobilenetv1Options(_0x2ae444),_0x3e5b5a=await toNetInput(_0x14a5ae),{boxes:_0x354cd1,scores:_0x5835b6}=this[_0x3119dd(0x222)](_0x3e5b5a),_0x2334c3=_0x354cd1[0x0],_0x20cb07=_0x5835b6[0x0];for(let _0x1c3cfa=0x1;_0x1c3cfa<_0x354cd1[_0x3119dd(0x1b1)];_0x1c3cfa++){_0x354cd1[_0x1c3cfa][_0x3119dd(0x29c)](),_0x5835b6[_0x1c3cfa][_0x3119dd(0x29c)]();}const _0x402203=Array[_0x3119dd(0x338)](_0x20cb07[_0x3119dd(0x115)]()),_0x333c28=0.5,_0x4e9256=nonMaxSuppression2(_0x2334c3,_0x402203,_0x356448,_0x333c28,_0x14b4f3),_0x3ec3cc=_0x3e5b5a[_0x3119dd(0x276)](0x0),_0x53b49e=_0x3e5b5a[_0x3119dd(0x1e6)],_0x4b0236=_0x53b49e/_0x3ec3cc['width'],_0x36b8b5=_0x53b49e/_0x3ec3cc[_0x3119dd(0x1b3)],_0x4eb094=_0x2334c3[_0x3119dd(0x272)](),_0x579410=_0x4e9256[_0x3119dd(0x268)](_0x3c5447=>{const _0x536c24=_0x3119dd,[_0x3b92a5,_0x41c512]=[Math[_0x536c24(0x1c9)](0x0,_0x4eb094[_0x3c5447][0x0]),Math[_0x536c24(0x2ff)](0x1,_0x4eb094[_0x3c5447][0x2])][_0x536c24(0x268)](_0x50646f=>_0x50646f*_0x36b8b5),[_0x1366f3,_0x239447]=[Math[_0x536c24(0x1c9)](0x0,_0x4eb094[_0x3c5447][0x1]),Math[_0x536c24(0x2ff)](0x1,_0x4eb094[_0x3c5447][0x3])][_0x536c24(0x268)](_0xbec834=>_0xbec834*_0x4b0236);return new FaceDetection(_0x402203[_0x3c5447],new Rect(_0x1366f3,_0x3b92a5,_0x239447-_0x1366f3,_0x41c512-_0x3b92a5),{'height':_0x3e5b5a[_0x536c24(0x233)](0x0),'width':_0x3e5b5a[_0x536c24(0x152)](0x0)});});return _0x2334c3[_0x3119dd(0x29c)](),_0x20cb07[_0x3119dd(0x29c)](),_0x579410;}[_0x325c64(0x259)](){return'ssd_mobilenetv1_model';}[_0x325c64(0x24c)](_0x3c3702){return extractParamsFromWeightMap6(_0x3c3702);}[_0x325c64(0x2d1)](_0x1a826a){return extractParams6(_0x1a826a);}};function createSsdMobilenetv1(_0x437985){const _0x511106=_0x325c64,_0x33db5d=new SsdMobilenetv1();return _0x33db5d[_0x511106(0x1fd)](_0x437985),_0x33db5d;}function createFaceDetectionNet(_0xc2ba07){return createSsdMobilenetv1(_0xc2ba07);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME='tiny_yolov2_model',DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x325c64(0x1e5),tf39=__toESM(require_tfjs_esm()),isNumber=_0x22e71e=>typeof _0x22e71e===_0x325c64(0x143);function validateConfig(_0xbfbe5d){const _0xb03e2c=_0x325c64;if(!_0xbfbe5d)throw new Error(_0xb03e2c(0x29a)+_0xbfbe5d);if(typeof _0xbfbe5d[_0xb03e2c(0x2e1)]!==_0xb03e2c(0x10d))throw new Error(_0xb03e2c(0x313)+_0xbfbe5d[_0xb03e2c(0x2e1)]);if(!isNumber(_0xbfbe5d[_0xb03e2c(0x2b2)])||_0xbfbe5d[_0xb03e2c(0x2b2)]<0x0||_0xbfbe5d[_0xb03e2c(0x2b2)]>0x1)throw new Error('config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20'+_0xbfbe5d[_0xb03e2c(0x2b2)]);if(!Array[_0xb03e2c(0x122)](_0xbfbe5d[_0xb03e2c(0x184)])||!_0xbfbe5d[_0xb03e2c(0x184)]['length']||!_0xbfbe5d['classes'][_0xb03e2c(0x1d7)](_0x1425bc=>typeof _0x1425bc===_0xb03e2c(0x14b)))throw new Error(_0xb03e2c(0x373)+JSON[_0xb03e2c(0x256)](_0xbfbe5d['classes']));if(!Array[_0xb03e2c(0x122)](_0xbfbe5d[_0xb03e2c(0x1b6)])||!_0xbfbe5d['anchors'][_0xb03e2c(0x1b1)]||!_0xbfbe5d[_0xb03e2c(0x1b6)][_0xb03e2c(0x268)](_0xf20b83=>_0xf20b83||{})['every'](_0xa81e30=>isNumber(_0xa81e30['x'])&&isNumber(_0xa81e30['y'])))throw new Error('config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20'+JSON[_0xb03e2c(0x256)](_0xbfbe5d[_0xb03e2c(0x1b6)]));if(_0xbfbe5d['meanRgb']&&(!Array['isArray'](_0xbfbe5d[_0xb03e2c(0x271)])||_0xbfbe5d[_0xb03e2c(0x271)][_0xb03e2c(0x1b1)]!==0x3||!_0xbfbe5d[_0xb03e2c(0x271)]['every'](isNumber)))throw new Error('config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20'+JSON[_0xb03e2c(0x256)](_0xbfbe5d[_0xb03e2c(0x271)]));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x736108){const _0x2973c6=_0x325c64;return tf35[_0x2973c6(0x2bb)](()=>{const _0x1f99d6=_0x2973c6,_0x1fd543=tf35['mul'](_0x736108,tf35[_0x1f99d6(0x11a)](0.10000000149011612));return tf35[_0x1f99d6(0x25c)](tf35[_0x1f99d6(0x1c2)](tf35[_0x1f99d6(0x246)](_0x736108,_0x1fd543)),_0x1fd543);});}function convWithBatchNorm(_0x8c1a6c,_0x588e86){const _0x3bd4b0=_0x325c64;return tf36[_0x3bd4b0(0x2bb)](()=>{const _0x22d5cd=_0x3bd4b0;let _0xefbd5=tf36[_0x22d5cd(0x2af)](_0x8c1a6c,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0xefbd5=tf36[_0x22d5cd(0x1cf)](_0xefbd5,_0x588e86[_0x22d5cd(0x219)][_0x22d5cd(0x260)],[0x1,0x1],_0x22d5cd(0x150)),_0xefbd5=tf36['sub'](_0xefbd5,_0x588e86['bn']['sub']),_0xefbd5=tf36['mul'](_0xefbd5,_0x588e86['bn'][_0x22d5cd(0x132)]),_0xefbd5=tf36[_0x22d5cd(0x25c)](_0xefbd5,_0x588e86[_0x22d5cd(0x219)][_0x22d5cd(0x208)]),leaky(_0xefbd5);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x4050ca,_0x371394){return tf37['tidy'](()=>{const _0x493e22=_0x55d2;let _0x1d04c5=tf37[_0x493e22(0x2af)](_0x4050ca,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x1d04c5=tf37[_0x493e22(0x2b6)](_0x1d04c5,_0x371394[_0x493e22(0x323)],_0x371394['pointwise_filter'],[0x1,0x1],_0x493e22(0x150)),_0x1d04c5=tf37[_0x493e22(0x25c)](_0x1d04c5,_0x371394[_0x493e22(0x208)]),leaky(_0x1d04c5);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x1cf613,_0x351a72){const _0xe0a58a=extractConvParamsFactory(_0x1cf613,_0x351a72);function _0x272450(_0x36ed3c,_0x4a33cd){const _0x70e116=tf38['tensor1d'](_0x1cf613(_0x36ed3c)),_0x1a9062=tf38['tensor1d'](_0x1cf613(_0x36ed3c));return _0x351a72['push']({'paramPath':_0x4a33cd+'/sub'},{'paramPath':_0x4a33cd+'/truediv'}),{'sub':_0x70e116,'truediv':_0x1a9062};}function _0x22cefe(_0x55d20c,_0x593e77,_0x3f1b50){const _0x27c734=_0x55d2,_0x2580b4=_0xe0a58a(_0x55d20c,_0x593e77,0x3,_0x3f1b50+_0x27c734(0x1ce)),_0x30abec=_0x272450(_0x593e77,_0x3f1b50+_0x27c734(0x2ea));return{'conv':_0x2580b4,'bn':_0x30abec};}const _0x98fb42=extractSeparableConvParamsFactory(_0x1cf613,_0x351a72);return{'extractConvParams':_0xe0a58a,'extractConvWithBatchNormParams':_0x22cefe,'extractSeparableConvParams':_0x98fb42};}function extractParams7(_0x4f6ec0,_0x347a41,_0x2a09eb,_0x56e1f1){const _0x1583d9=_0x325c64,{extractWeights:_0x30c398,getRemainingWeights:_0x478f1b}=extractWeightsFactory(_0x4f6ec0),_0x1e9f4e=[],{extractConvParams:_0xa912d1,extractConvWithBatchNormParams:_0x2eca5e,extractSeparableConvParams:_0x4ea953}=extractorsFactory7(_0x30c398,_0x1e9f4e);let _0x2b8427;if(_0x347a41['withSeparableConvs']){const [_0x3fae1a,_0x31d90a,_0x5ad11e,_0x5a29aa,_0x1a7a88,_0x58d920,_0x50ba48,_0x1c7a86,_0x12ccfa]=_0x56e1f1,_0x191233=_0x347a41['isFirstLayerConv2d']?_0xa912d1(_0x3fae1a,_0x31d90a,0x3,_0x1583d9(0x333)):_0x4ea953(_0x3fae1a,_0x31d90a,_0x1583d9(0x333)),_0x2147dc=_0x4ea953(_0x31d90a,_0x5ad11e,_0x1583d9(0x1ca)),_0x3b7f39=_0x4ea953(_0x5ad11e,_0x5a29aa,_0x1583d9(0x147)),_0x5f5d23=_0x4ea953(_0x5a29aa,_0x1a7a88,_0x1583d9(0x264)),_0x22f3e6=_0x4ea953(_0x1a7a88,_0x58d920,_0x1583d9(0x314)),_0x2812c6=_0x4ea953(_0x58d920,_0x50ba48,_0x1583d9(0x2b1)),_0x48bb95=_0x1c7a86?_0x4ea953(_0x50ba48,_0x1c7a86,_0x1583d9(0x12f)):void 0x0,_0x53e24c=_0x12ccfa?_0x4ea953(_0x1c7a86,_0x12ccfa,'conv7'):void 0x0,_0x5c3cf6=_0xa912d1(_0x12ccfa||_0x1c7a86||_0x50ba48,0x5*_0x2a09eb,0x1,_0x1583d9(0x25e));_0x2b8427={'conv0':_0x191233,'conv1':_0x2147dc,'conv2':_0x3b7f39,'conv3':_0x5f5d23,'conv4':_0x22f3e6,'conv5':_0x2812c6,'conv6':_0x48bb95,'conv7':_0x53e24c,'conv8':_0x5c3cf6};}else{const [_0x4cb771,_0x45632a,_0x4dfab9,_0x3d0735,_0x4973a0,_0x47441b,_0xcc18ec,_0x3d60b0,_0x424a58]=_0x56e1f1,_0x22644e=_0x2eca5e(_0x4cb771,_0x45632a,_0x1583d9(0x333)),_0x2ba4c2=_0x2eca5e(_0x45632a,_0x4dfab9,'conv1'),_0x1d8f64=_0x2eca5e(_0x4dfab9,_0x3d0735,_0x1583d9(0x147)),_0x268e9a=_0x2eca5e(_0x3d0735,_0x4973a0,_0x1583d9(0x264)),_0x3faa99=_0x2eca5e(_0x4973a0,_0x47441b,'conv4'),_0x490390=_0x2eca5e(_0x47441b,_0xcc18ec,_0x1583d9(0x2b1)),_0x44f184=_0x2eca5e(_0xcc18ec,_0x3d60b0,'conv6'),_0x405221=_0x2eca5e(_0x3d60b0,_0x424a58,_0x1583d9(0x1a2)),_0x473265=_0xa912d1(_0x424a58,0x5*_0x2a09eb,0x1,_0x1583d9(0x25e));_0x2b8427={'conv0':_0x22644e,'conv1':_0x2ba4c2,'conv2':_0x1d8f64,'conv3':_0x268e9a,'conv4':_0x3faa99,'conv5':_0x490390,'conv6':_0x44f184,'conv7':_0x405221,'conv8':_0x473265};}if(_0x478f1b()[_0x1583d9(0x1b1)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x478f1b()[_0x1583d9(0x1b1)]);return{'params':_0x2b8427,'paramMappings':_0x1e9f4e};}function extractorsFactory8(_0x1ba94d,_0x274b0d){const _0x362491=extractWeightEntryFactory(_0x1ba94d,_0x274b0d);function _0x2900d6(_0x2adaaa){const _0x5e655f=_0x55d2,_0x212d3f=_0x362491(_0x2adaaa+_0x5e655f(0x18a),0x1),_0x25e20a=_0x362491(_0x2adaaa+_0x5e655f(0x193),0x1);return{'sub':_0x212d3f,'truediv':_0x25e20a};}function _0x40c90d(_0x85d9bb){const _0x2188ca=_0x55d2,_0x40fee6=_0x362491(_0x85d9bb+_0x2188ca(0x369),0x4),_0x1bea83=_0x362491(_0x85d9bb+_0x2188ca(0x14c),0x1);return{'filters':_0x40fee6,'bias':_0x1bea83};}function _0x273be1(_0x6f3bdf){const _0x2fb712=_0x55d2,_0x5a170b=_0x40c90d(_0x6f3bdf+_0x2fb712(0x1ce)),_0xb4492b=_0x2900d6(_0x6f3bdf+_0x2fb712(0x2ea));return{'conv':_0x5a170b,'bn':_0xb4492b};}const _0x855930=loadSeparableConvParamsFactory(_0x362491);return{'extractConvParams':_0x40c90d,'extractConvWithBatchNormParams':_0x273be1,'extractSeparableConvParams':_0x855930};}function extractParamsFromWeightMap7(_0x1cf156,_0x5f2b12){const _0x1f67ee=_0x325c64,_0x4f60d6=[],{extractConvParams:_0x4ccc78,extractConvWithBatchNormParams:_0x489383,extractSeparableConvParams:_0x34994b}=extractorsFactory8(_0x1cf156,_0x4f60d6);let _0x3515f0;if(_0x5f2b12[_0x1f67ee(0x2e1)]){const _0x3a2a33=_0x5f2b12[_0x1f67ee(0x306)]&&_0x5f2b12[_0x1f67ee(0x306)][_0x1f67ee(0x1b1)]||0x9;_0x3515f0={'conv0':_0x5f2b12['isFirstLayerConv2d']?_0x4ccc78(_0x1f67ee(0x333)):_0x34994b('conv0'),'conv1':_0x34994b(_0x1f67ee(0x1ca)),'conv2':_0x34994b(_0x1f67ee(0x147)),'conv3':_0x34994b(_0x1f67ee(0x264)),'conv4':_0x34994b(_0x1f67ee(0x314)),'conv5':_0x34994b(_0x1f67ee(0x2b1)),'conv6':_0x3a2a33>0x7?_0x34994b(_0x1f67ee(0x12f)):void 0x0,'conv7':_0x3a2a33>0x8?_0x34994b(_0x1f67ee(0x1a2)):void 0x0,'conv8':_0x4ccc78(_0x1f67ee(0x25e))};}else _0x3515f0={'conv0':_0x489383(_0x1f67ee(0x333)),'conv1':_0x489383(_0x1f67ee(0x1ca)),'conv2':_0x489383(_0x1f67ee(0x147)),'conv3':_0x489383(_0x1f67ee(0x264)),'conv4':_0x489383(_0x1f67ee(0x314)),'conv5':_0x489383(_0x1f67ee(0x2b1)),'conv6':_0x489383(_0x1f67ee(0x12f)),'conv7':_0x489383(_0x1f67ee(0x1a2)),'conv8':_0x4ccc78(_0x1f67ee(0x25e))};return disposeUnusedWeightTensors(_0x1cf156,_0x4f60d6),{'params':_0x3515f0,'paramMappings':_0x4f60d6};}var TinyYolov2Options=class{constructor({inputSize:_0x1441d4,scoreThreshold:_0xac2890}={}){const _0x4e8b66=_0x325c64;this[_0x4e8b66(0x262)]=_0x4e8b66(0x2dd),this['_inputSize']=_0x1441d4||0x1a0,this[_0x4e8b66(0x192)]=_0xac2890||0.5;if(typeof this[_0x4e8b66(0x162)]!=='number'||this['_inputSize']%0x20!==0x0)throw new Error(this[_0x4e8b66(0x262)]+_0x4e8b66(0x2d8));if(typeof this[_0x4e8b66(0x192)]!==_0x4e8b66(0x143)||this[_0x4e8b66(0x192)]<=0x0||this['_scoreThreshold']>=0x1)throw new Error(this['_name']+_0x4e8b66(0x283));}get[_0x325c64(0x1e6)](){const _0x26e3c2=_0x325c64;return this[_0x26e3c2(0x162)];}get['scoreThreshold'](){const _0x390163=_0x325c64;return this[_0x390163(0x192)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x1fa1cf){const _0x27666b=_0x325c64;super(_0x27666b(0x1e7)),validateConfig(_0x1fa1cf),this[_0x27666b(0x12c)]=_0x1fa1cf;}get[_0x325c64(0x2e9)](){const _0x44504f=_0x325c64;return this[_0x44504f(0x12c)];}get[_0x325c64(0x28d)](){const _0x3f5686=_0x325c64;return this[_0x3f5686(0x2e9)][_0x3f5686(0x28d)]||this[_0x3f5686(0x2e9)][_0x3f5686(0x184)]['length']>0x1;}get[_0x325c64(0x186)](){const _0x440064=_0x325c64;return 0x5+(this[_0x440064(0x28d)]?this[_0x440064(0x2e9)][_0x440064(0x184)][_0x440064(0x1b1)]:0x0);}['runTinyYolov2'](_0x5cca4e,_0x1407bb){const _0xd68d0b=_0x325c64;let _0x43d29b=convWithBatchNorm(_0x5cca4e,_0x1407bb[_0xd68d0b(0x333)]);return _0x43d29b=tf39[_0xd68d0b(0x2a2)](_0x43d29b,[0x2,0x2],[0x2,0x2],'same'),_0x43d29b=convWithBatchNorm(_0x43d29b,_0x1407bb[_0xd68d0b(0x1ca)]),_0x43d29b=tf39[_0xd68d0b(0x2a2)](_0x43d29b,[0x2,0x2],[0x2,0x2],'same'),_0x43d29b=convWithBatchNorm(_0x43d29b,_0x1407bb['conv2']),_0x43d29b=tf39[_0xd68d0b(0x2a2)](_0x43d29b,[0x2,0x2],[0x2,0x2],_0xd68d0b(0x29b)),_0x43d29b=convWithBatchNorm(_0x43d29b,_0x1407bb[_0xd68d0b(0x264)]),_0x43d29b=tf39['maxPool'](_0x43d29b,[0x2,0x2],[0x2,0x2],_0xd68d0b(0x29b)),_0x43d29b=convWithBatchNorm(_0x43d29b,_0x1407bb[_0xd68d0b(0x314)]),_0x43d29b=tf39['maxPool'](_0x43d29b,[0x2,0x2],[0x2,0x2],'same'),_0x43d29b=convWithBatchNorm(_0x43d29b,_0x1407bb[_0xd68d0b(0x2b1)]),_0x43d29b=tf39[_0xd68d0b(0x2a2)](_0x43d29b,[0x2,0x2],[0x1,0x1],'same'),_0x43d29b=convWithBatchNorm(_0x43d29b,_0x1407bb[_0xd68d0b(0x12f)]),_0x43d29b=convWithBatchNorm(_0x43d29b,_0x1407bb[_0xd68d0b(0x1a2)]),convLayer(_0x43d29b,_0x1407bb['conv8'],_0xd68d0b(0x150),![]);}['runMobilenet'](_0x235199,_0x53091a){const _0x1f37c7=_0x325c64;let _0x66f3d0=this[_0x1f37c7(0x2e9)][_0x1f37c7(0x236)]?leaky(convLayer(_0x235199,_0x53091a[_0x1f37c7(0x333)],_0x1f37c7(0x150),![])):depthwiseSeparableConv2(_0x235199,_0x53091a['conv0']);return _0x66f3d0=tf39[_0x1f37c7(0x2a2)](_0x66f3d0,[0x2,0x2],[0x2,0x2],_0x1f37c7(0x29b)),_0x66f3d0=depthwiseSeparableConv2(_0x66f3d0,_0x53091a['conv1']),_0x66f3d0=tf39[_0x1f37c7(0x2a2)](_0x66f3d0,[0x2,0x2],[0x2,0x2],_0x1f37c7(0x29b)),_0x66f3d0=depthwiseSeparableConv2(_0x66f3d0,_0x53091a[_0x1f37c7(0x147)]),_0x66f3d0=tf39[_0x1f37c7(0x2a2)](_0x66f3d0,[0x2,0x2],[0x2,0x2],_0x1f37c7(0x29b)),_0x66f3d0=depthwiseSeparableConv2(_0x66f3d0,_0x53091a[_0x1f37c7(0x264)]),_0x66f3d0=tf39[_0x1f37c7(0x2a2)](_0x66f3d0,[0x2,0x2],[0x2,0x2],_0x1f37c7(0x29b)),_0x66f3d0=depthwiseSeparableConv2(_0x66f3d0,_0x53091a['conv4']),_0x66f3d0=tf39['maxPool'](_0x66f3d0,[0x2,0x2],[0x2,0x2],'same'),_0x66f3d0=depthwiseSeparableConv2(_0x66f3d0,_0x53091a['conv5']),_0x66f3d0=tf39[_0x1f37c7(0x2a2)](_0x66f3d0,[0x2,0x2],[0x1,0x1],'same'),_0x66f3d0=_0x53091a[_0x1f37c7(0x12f)]?depthwiseSeparableConv2(_0x66f3d0,_0x53091a['conv6']):_0x66f3d0,_0x66f3d0=_0x53091a[_0x1f37c7(0x1a2)]?depthwiseSeparableConv2(_0x66f3d0,_0x53091a[_0x1f37c7(0x1a2)]):_0x66f3d0,convLayer(_0x66f3d0,_0x53091a['conv8'],_0x1f37c7(0x150),![]);}[_0x325c64(0x222)](_0x408e56,_0x2b257a){const _0x6de264=_0x325c64,{params:_0x1b8f9d}=this;if(!_0x1b8f9d)throw new Error(_0x6de264(0x120));return tf39[_0x6de264(0x2bb)](()=>{const _0x5e07fb=_0x6de264;let _0x3f5d15=tf39[_0x5e07fb(0x148)](_0x408e56[_0x5e07fb(0x27f)](_0x2b257a,![]),_0x5e07fb(0x167));return _0x3f5d15=this[_0x5e07fb(0x2e9)][_0x5e07fb(0x271)]?normalize(_0x3f5d15,this[_0x5e07fb(0x2e9)][_0x5e07fb(0x271)]):_0x3f5d15,_0x3f5d15=_0x3f5d15[_0x5e07fb(0x149)](0xff),this[_0x5e07fb(0x2e9)][_0x5e07fb(0x2e1)]?this['runMobilenet'](_0x3f5d15,_0x1b8f9d):this[_0x5e07fb(0x24f)](_0x3f5d15,_0x1b8f9d);});}async[_0x325c64(0x265)](_0xa6e3f3,_0x1d56de){const _0x2a3055=_0x325c64;return this[_0x2a3055(0x222)](await toNetInput(_0xa6e3f3),_0x1d56de);}async['detect'](_0x57cf83,_0x47742a={}){const _0x42e61c=_0x325c64,{inputSize:_0x5562c7,scoreThreshold:_0x8d1bec}=new TinyYolov2Options(_0x47742a),_0x2a4b14=await toNetInput(_0x57cf83),_0xce6a76=await this[_0x42e61c(0x222)](_0x2a4b14,_0x5562c7),_0x488c4b=tf39['tidy'](()=>tf39[_0x42e61c(0x14f)](_0xce6a76)[0x0][_0x42e61c(0x131)]()),_0x3e003b={'width':_0x2a4b14[_0x42e61c(0x152)](0x0),'height':_0x2a4b14['getInputHeight'](0x0)},_0x1370ac=await this[_0x42e61c(0x22b)](_0x488c4b,_0x2a4b14[_0x42e61c(0x276)](0x0),_0x8d1bec);_0xce6a76['dispose'](),_0x488c4b[_0x42e61c(0x29c)]();const _0x3b2240=_0x1370ac[_0x42e61c(0x268)](_0x15c93a=>_0x15c93a[_0x42e61c(0x2ae)]),_0x48c370=_0x1370ac[_0x42e61c(0x268)](_0x4c08f3=>_0x4c08f3[_0x42e61c(0x229)]),_0x150d3f=_0x1370ac['map'](_0x3419ef=>_0x3419ef[_0x42e61c(0x13f)]),_0xb260de=_0x1370ac[_0x42e61c(0x268)](_0x5ce594=>this[_0x42e61c(0x2e9)][_0x42e61c(0x184)][_0x5ce594[_0x42e61c(0x20c)]]),_0x41adbc=nonMaxSuppression(_0x3b2240['map'](_0x3ed218=>_0x3ed218[_0x42e61c(0x1ec)](_0x5562c7)),_0x48c370,this[_0x42e61c(0x2e9)][_0x42e61c(0x2b2)],!![]),_0x3643ac=_0x41adbc[_0x42e61c(0x268)](_0x292580=>new ObjectDetection(_0x48c370[_0x292580],_0x150d3f[_0x292580],_0xb260de[_0x292580],_0x3b2240[_0x292580],_0x3e003b));return _0x3643ac;}[_0x325c64(0x259)](){return'';}['extractParamsFromWeightMap'](_0x51b1c3){const _0x2b74d8=_0x325c64;return extractParamsFromWeightMap7(_0x51b1c3,this[_0x2b74d8(0x2e9)]);}[_0x325c64(0x2d1)](_0x4f21bf){const _0x33424a=_0x325c64,_0x3509ba=this[_0x33424a(0x2e9)]['filterSizes']||_TinyYolov2Base[_0x33424a(0x367)],_0x53814f=_0x3509ba?_0x3509ba[_0x33424a(0x1b1)]:void 0x0;if(_0x53814f!==0x7&&_0x53814f!==0x8&&_0x53814f!==0x9)throw new Error(_0x33424a(0x30c)+_0x53814f+_0x33424a(0x33a));return extractParams7(_0x4f21bf,this['config'],this[_0x33424a(0x186)],_0x3509ba);}async[_0x325c64(0x22b)](_0x3d75cd,_0xd4916e,_0x5df188){const _0x3739b4=_0x325c64,{width:_0x5e0628,height:_0x46e73e}=_0xd4916e,_0x300a11=Math[_0x3739b4(0x1c9)](_0x5e0628,_0x46e73e),_0x1c2613=_0x300a11/_0x5e0628,_0xe6560=_0x300a11/_0x46e73e,_0x572fb=_0x3d75cd['shape'][0x1],_0x6806d0=this[_0x3739b4(0x2e9)][_0x3739b4(0x1b6)][_0x3739b4(0x1b1)],[_0x5643ce,_0x57168c,_0x32ab33]=tf39[_0x3739b4(0x2bb)](()=>{const _0x145717=_0x3739b4,_0x33ca54=_0x3d75cd[_0x145717(0x118)]([_0x572fb,_0x572fb,_0x6806d0,this[_0x145717(0x186)]]),_0x2d9338=_0x33ca54[_0x145717(0x1d2)]([0x0,0x0,0x0,0x0],[_0x572fb,_0x572fb,_0x6806d0,0x4]),_0x4407e6=_0x33ca54[_0x145717(0x1d2)]([0x0,0x0,0x0,0x4],[_0x572fb,_0x572fb,_0x6806d0,0x1]),_0x581c43=this['withClassScores']?tf39[_0x145717(0x33d)](_0x33ca54[_0x145717(0x1d2)]([0x0,0x0,0x0,0x5],[_0x572fb,_0x572fb,_0x6806d0,this[_0x145717(0x2e9)][_0x145717(0x184)][_0x145717(0x1b1)]]),0x3):tf39['scalar'](0x0);return[_0x2d9338,_0x4407e6,_0x581c43];}),_0x54f68e=[],_0x526203=await _0x57168c['array'](),_0x2ef5ef=await _0x5643ce['array']();for(let _0x2b9e8d=0x0;_0x2b9e8d<_0x572fb;_0x2b9e8d++){for(let _0x4c6eab=0x0;_0x4c6eab<_0x572fb;_0x4c6eab++){for(let _0x121522=0x0;_0x121522<_0x6806d0;_0x121522++){const _0x104f78=sigmoid(_0x526203[_0x2b9e8d][_0x4c6eab][_0x121522][0x0]);if(!_0x5df188||_0x104f78>_0x5df188){const _0x532134=(_0x4c6eab+sigmoid(_0x2ef5ef[_0x2b9e8d][_0x4c6eab][_0x121522][0x0]))/_0x572fb*_0x1c2613,_0x1e6cbb=(_0x2b9e8d+sigmoid(_0x2ef5ef[_0x2b9e8d][_0x4c6eab][_0x121522][0x1]))/_0x572fb*_0xe6560,_0x342b9f=Math[_0x3739b4(0x288)](_0x2ef5ef[_0x2b9e8d][_0x4c6eab][_0x121522][0x2])*this[_0x3739b4(0x2e9)]['anchors'][_0x121522]['x']/_0x572fb*_0x1c2613,_0x36f11a=Math[_0x3739b4(0x288)](_0x2ef5ef[_0x2b9e8d][_0x4c6eab][_0x121522][0x3])*this['config'][_0x3739b4(0x1b6)][_0x121522]['y']/_0x572fb*_0xe6560,_0x4ead86=_0x532134-_0x342b9f/0x2,_0x43bf9f=_0x1e6cbb-_0x36f11a/0x2,_0x15995d={'row':_0x2b9e8d,'col':_0x4c6eab,'anchor':_0x121522},{classScore:_0x24f0c9,label:_0x33477c}=this[_0x3739b4(0x28d)]?await this[_0x3739b4(0x2f2)](_0x32ab33,_0x15995d):{'classScore':0x1,'label':0x0};_0x54f68e['push']({'box':new BoundingBox(_0x4ead86,_0x43bf9f,_0x4ead86+_0x342b9f,_0x43bf9f+_0x36f11a),'score':_0x104f78,'classScore':_0x104f78*_0x24f0c9,'label':_0x33477c,..._0x15995d});}}}}return _0x5643ce[_0x3739b4(0x29c)](),_0x57168c['dispose'](),_0x32ab33[_0x3739b4(0x29c)](),_0x54f68e;}async[_0x325c64(0x2f2)](_0x514df2,_0x5c2ca0){const _0x45991b=_0x325c64,{row:_0x152476,col:_0x3f8f81,anchor:_0x3422d4}=_0x5c2ca0,_0x1f2b8f=await _0x514df2[_0x45991b(0x2d2)]();return Array(this[_0x45991b(0x2e9)][_0x45991b(0x184)][_0x45991b(0x1b1)])['fill'](0x0)['map']((_0x5d1d8b,_0xadcdf0)=>_0x1f2b8f[_0x152476][_0x3f8f81][_0x3422d4][_0xadcdf0])[_0x45991b(0x268)]((_0x4b9b20,_0x1d68fc)=>({'classScore':_0x4b9b20,'label':_0x1d68fc}))[_0x45991b(0x1cc)]((_0x4d44d7,_0x69c773)=>_0x4d44d7[_0x45991b(0x13f)]>_0x69c773[_0x45991b(0x13f)]?_0x4d44d7:_0x69c773);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base['DEFAULT_FILTER_SIZES']=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0xa3f8d=!![]){const _0x321f55=_0x325c64,_0x26bf66={'withSeparableConvs':_0xa3f8d,'iouThreshold':IOU_THRESHOLD,'classes':[_0x321f55(0x2a6)],..._0xa3f8d?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x26bf66);}get[_0x325c64(0x2e1)](){return this['config']['withSeparableConvs'];}get['anchors'](){const _0x10130d=_0x325c64;return this[_0x10130d(0x2e9)][_0x10130d(0x1b6)];}async[_0x325c64(0x2ca)](_0x226b2f,_0x5d338c){const _0x58f4c2=_0x325c64,_0x1c6223=await this[_0x58f4c2(0x145)](_0x226b2f,_0x5d338c);return _0x1c6223[_0x58f4c2(0x268)](_0x4accdf=>new FaceDetection(_0x4accdf['score'],_0x4accdf[_0x58f4c2(0x1c1)],{'width':_0x4accdf[_0x58f4c2(0x102)],'height':_0x4accdf[_0x58f4c2(0x1f1)]}));}[_0x325c64(0x259)](){const _0x1393c6=_0x325c64;return this[_0x1393c6(0x2e1)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x325c64(0x24c)](_0x4bed54){const _0x7ab188=_0x325c64;return super[_0x7ab188(0x24c)](_0x4bed54);}};function createTinyYolov2(_0x14067f,_0x58ca9f=!![]){const _0x2d2da0=new TinyYolov2(_0x58ca9f);return _0x2d2da0['extractWeights'](_0x14067f),_0x2d2da0;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){const _0xa255e4=_0x325c64;super(...arguments),this[_0xa255e4(0x262)]=_0xa255e4(0x1be);}},ComposableTask=class{async['then'](_0x310a57){const _0x739efd=_0x325c64;return _0x310a57(await this[_0x739efd(0x381)]());}async['run'](){const _0x2c22e3=_0x325c64;throw new Error(_0x2c22e3(0x270));}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x2c88eb,_0x37bdf2,_0x327c3a,_0x43e4e5,_0x41636e=({alignedRect:_0x51cffe})=>_0x51cffe){const _0x3ab5a2=_0x325c64,_0x219b1c=_0x2c88eb[_0x3ab5a2(0x268)](_0xf2c922=>isWithFaceLandmarks(_0xf2c922)?_0x41636e(_0xf2c922):_0xf2c922[_0x3ab5a2(0x17b)]),_0x2e7671=_0x43e4e5||(_0x37bdf2 instanceof tf40['Tensor']?await extractFaceTensors(_0x37bdf2,_0x219b1c):await extractFaces(_0x37bdf2,_0x219b1c)),_0x5f38a3=await _0x327c3a(_0x2e7671);return _0x2e7671['forEach'](_0x2f6c81=>_0x2f6c81 instanceof tf40['Tensor']&&_0x2f6c81[_0x3ab5a2(0x29c)]()),_0x5f38a3;}async function extractSingleFaceAndComputeResult(_0x52e98a,_0x47a57a,_0x31b3ea,_0x410963,_0x3eae4d){return extractAllFacesAndComputeResults([_0x52e98a],_0x47a57a,async _0x1c6b90=>_0x31b3ea(_0x1c6b90[0x0]),_0x410963,_0x3eae4d);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x312c6c={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':['face'],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x312c6c);}get[_0x325c64(0x1b6)](){const _0x19ae3a=_0x325c64;return this[_0x19ae3a(0x2e9)][_0x19ae3a(0x1b6)];}async[_0x325c64(0x2ca)](_0x2a5178,_0x594c16){const _0x41cfa2=_0x325c64,_0xceec16=await this[_0x41cfa2(0x145)](_0x2a5178,_0x594c16);return _0xceec16[_0x41cfa2(0x268)](_0x269735=>new FaceDetection(_0x269735[_0x41cfa2(0x229)],_0x269735[_0x41cfa2(0x1c1)],{'width':_0x269735[_0x41cfa2(0x102)],'height':_0x269735[_0x41cfa2(0x1f1)]}));}['getDefaultModelName'](){return'tiny_face_detector_model';}[_0x325c64(0x24c)](_0x136446){const _0x37039c=_0x325c64;return super[_0x37039c(0x24c)](_0x136446);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x3aad90,_0x127e72)=>nets[_0x325c64(0x273)][_0x325c64(0x2ca)](_0x3aad90,_0x127e72),tinyFaceDetector=(_0x47400f,_0x56ed77)=>nets[_0x325c64(0x144)][_0x325c64(0x2ca)](_0x47400f,_0x56ed77),tinyYolov2=(_0x33dac5,_0x543d53)=>nets['tinyYolov2'][_0x325c64(0x2ca)](_0x33dac5,_0x543d53),detectFaceLandmarks=_0x304be3=>nets[_0x325c64(0x2d4)][_0x325c64(0x109)](_0x304be3),detectFaceLandmarksTiny=_0xc8ac33=>nets[_0x325c64(0x180)][_0x325c64(0x109)](_0xc8ac33),computeFaceDescriptor=_0x3c6ef6=>nets[_0x325c64(0x202)]['computeFaceDescriptor'](_0x3c6ef6),recognizeFaceExpressions=_0x3303ec=>nets[_0x325c64(0x214)]['predictExpressions'](_0x3303ec),predictAgeAndGender=_0x1d4d79=>nets[_0x325c64(0x30d)][_0x325c64(0x1b8)](_0x1d4d79),loadSsdMobilenetv1Model=_0x543658=>nets[_0x325c64(0x273)]['load'](_0x543658),loadTinyFaceDetectorModel=_0x4731aa=>nets[_0x325c64(0x144)]['load'](_0x4731aa),loadTinyYolov2Model=_0x4646a5=>nets[_0x325c64(0x21e)][_0x325c64(0x29d)](_0x4646a5),loadFaceLandmarkModel=_0x544c9f=>nets[_0x325c64(0x2d4)][_0x325c64(0x29d)](_0x544c9f),loadFaceLandmarkTinyModel=_0x331737=>nets[_0x325c64(0x180)]['load'](_0x331737),loadFaceRecognitionModel=_0x3e9922=>nets[_0x325c64(0x202)][_0x325c64(0x29d)](_0x3e9922),loadFaceExpressionModel=_0x17a2fb=>nets['faceExpressionNet']['load'](_0x17a2fb),loadAgeGenderModel=_0x53b08b=>nets[_0x325c64(0x30d)]['load'](_0x53b08b),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0xe1a461,_0x379b53,_0x23d64d){const _0xd1e4ad=_0x325c64;super(),this[_0xd1e4ad(0x2ce)]=_0xe1a461,this[_0xd1e4ad(0x123)]=_0x379b53,this[_0xd1e4ad(0x292)]=_0x23d64d;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x325c64(0x381)](){const _0x596096=_0x325c64,_0x4f74d4=await this[_0x596096(0x2ce)],_0x3fff74=await extractAllFacesAndComputeResults(_0x4f74d4,this[_0x596096(0x123)],async _0x5c94a8=>Promise[_0x596096(0x1e0)](_0x5c94a8['map'](_0xa22c6d=>nets['faceExpressionNet'][_0x596096(0x113)](_0xa22c6d))),this[_0x596096(0x292)]);return _0x4f74d4[_0x596096(0x268)]((_0x2b3ec4,_0x1196f8)=>extendWithFaceExpressions(_0x2b3ec4,_0x3fff74[_0x1196f8]));}[_0x325c64(0x299)](){return new PredictAllAgeAndGenderTask(this,this['input']);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x325c64(0x381)](){const _0x1878c8=_0x325c64,_0x2008bb=await this[_0x1878c8(0x2ce)];if(!_0x2008bb)return void 0x0;const _0xf5c9cc=await extractSingleFaceAndComputeResult(_0x2008bb,this['input'],_0x281416=>nets[_0x1878c8(0x214)][_0x1878c8(0x113)](_0x281416),this['extractedFaces']);return extendWithFaceExpressions(_0x2008bb,_0xf5c9cc);}[_0x325c64(0x299)](){return new PredictSingleAgeAndGenderTask(this,this['input']);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{['withAgeAndGender'](){const _0x535d8b=_0x325c64;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x535d8b(0x123)]);}[_0x325c64(0x342)](){const _0x273a88=_0x325c64;return new ComputeAllFaceDescriptorsTask(this,this[_0x273a88(0x123)]);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x325c64(0x299)](){const _0x174c28=_0x325c64;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x174c28(0x123)]);}[_0x325c64(0x2f8)](){return new ComputeSingleFaceDescriptorTask(this,this['input']);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x251417,_0x36f467,_0x11075f){const _0x37c424=_0x325c64;super(),this[_0x37c424(0x2ce)]=_0x251417,this[_0x37c424(0x123)]=_0x36f467,this['extractedFaces']=_0x11075f;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x325c64(0x381)](){const _0x48aab9=_0x325c64,_0x7dffc1=await this[_0x48aab9(0x2ce)],_0x4537d4=await extractAllFacesAndComputeResults(_0x7dffc1,this[_0x48aab9(0x123)],async _0x946bf=>Promise[_0x48aab9(0x1e0)](_0x946bf[_0x48aab9(0x268)](_0x317325=>nets['ageGenderNet'][_0x48aab9(0x1b8)](_0x317325))),this[_0x48aab9(0x292)]);return _0x7dffc1[_0x48aab9(0x268)]((_0x3d8f8d,_0x2eb46a)=>{const {age:_0x4e3c85,gender:_0x3eb234,genderProbability:_0x14705a}=_0x4537d4[_0x2eb46a];return extendWithAge(extendWithGender(_0x3d8f8d,_0x3eb234,_0x14705a),_0x4e3c85);});}['withFaceExpressions'](){const _0x148574=_0x325c64;return new PredictAllFaceExpressionsTask(this,this[_0x148574(0x123)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x325c64(0x381)](){const _0x50179e=_0x325c64,_0x3fced4=await this[_0x50179e(0x2ce)];if(!_0x3fced4)return void 0x0;const {age:_0x55b7b1,gender:_0x7cecc7,genderProbability:_0x39f8c2}=await extractSingleFaceAndComputeResult(_0x3fced4,this['input'],_0x416ef1=>nets[_0x50179e(0x30d)][_0x50179e(0x1b8)](_0x416ef1),this[_0x50179e(0x292)]);return extendWithAge(extendWithGender(_0x3fced4,_0x7cecc7,_0x39f8c2),_0x55b7b1);}[_0x325c64(0x22f)](){const _0x2e29c5=_0x325c64;return new PredictSingleFaceExpressionsTask(this,this[_0x2e29c5(0x123)]);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{['withFaceExpressions'](){const _0x2ab0e5=_0x325c64;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x2ab0e5(0x123)]);}[_0x325c64(0x342)](){const _0x127488=_0x325c64;return new ComputeAllFaceDescriptorsTask(this,this[_0x127488(0x123)]);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{['withFaceExpressions'](){const _0x267b19=_0x325c64;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x267b19(0x123)]);}['withFaceDescriptor'](){const _0x334ce1=_0x325c64;return new ComputeSingleFaceDescriptorTask(this,this[_0x334ce1(0x123)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0xaa595f,_0x580309){const _0x1e3152=_0x325c64;super(),this[_0x1e3152(0x2ce)]=_0xaa595f,this['input']=_0x580309;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x325c64(0x381)](){const _0x528475=_0x325c64,_0x581e32=await this[_0x528475(0x2ce)],_0x4de685=await extractAllFacesAndComputeResults(_0x581e32,this[_0x528475(0x123)],_0x52c963=>Promise[_0x528475(0x1e0)](_0x52c963[_0x528475(0x268)](_0x268cef=>nets[_0x528475(0x202)]['computeFaceDescriptor'](_0x268cef))),null,_0x47cfe5=>_0x47cfe5[_0x528475(0x27b)][_0x528475(0x209)](null,{'useDlibAlignment':!![]}));return _0x4de685[_0x528475(0x268)]((_0x4a7384,_0x547755)=>extendWithFaceDescriptor(_0x581e32[_0x547755],_0x4a7384));}[_0x325c64(0x22f)](){const _0x22e1b4=_0x325c64;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x22e1b4(0x123)]);}[_0x325c64(0x299)](){const _0x354c56=_0x325c64;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x354c56(0x123)]);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x325c64(0x381)](){const _0x5cbe01=_0x325c64,_0x20ab6f=await this['parentTask'];if(!_0x20ab6f)return void 0x0;const _0x3df982=await extractSingleFaceAndComputeResult(_0x20ab6f,this[_0x5cbe01(0x123)],_0x2702c3=>nets[_0x5cbe01(0x202)][_0x5cbe01(0x1db)](_0x2702c3),null,_0x12a8c0=>_0x12a8c0[_0x5cbe01(0x27b)][_0x5cbe01(0x209)](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x20ab6f,_0x3df982);}[_0x325c64(0x22f)](){const _0x14fda3=_0x325c64;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x14fda3(0x123)]);}[_0x325c64(0x299)](){const _0x5f4db2=_0x325c64;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x5f4db2(0x123)]);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0x123a46,_0x16310e,_0x3b047f){const _0x4fc210=_0x325c64;super(),this['parentTask']=_0x123a46,this[_0x4fc210(0x123)]=_0x16310e,this[_0x4fc210(0x1d3)]=_0x3b047f;}get['landmarkNet'](){const _0xd0a5f8=_0x325c64;return this[_0xd0a5f8(0x1d3)]?nets[_0xd0a5f8(0x180)]:nets['faceLandmark68Net'];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x325c64(0x381)](){const _0x59fe35=_0x325c64,_0x473d30=await this[_0x59fe35(0x2ce)],_0x3f6687=_0x473d30[_0x59fe35(0x268)](_0x54ec06=>_0x54ec06[_0x59fe35(0x17b)]),_0x1438d6=this[_0x59fe35(0x123)]instanceof tf41['Tensor']?await extractFaceTensors(this['input'],_0x3f6687):await extractFaces(this[_0x59fe35(0x123)],_0x3f6687),_0x399627=await Promise[_0x59fe35(0x1e0)](_0x1438d6[_0x59fe35(0x268)](_0x335dd2=>this[_0x59fe35(0x332)][_0x59fe35(0x109)](_0x335dd2)));_0x1438d6[_0x59fe35(0x183)](_0x409f0c=>_0x409f0c instanceof tf41[_0x59fe35(0x30e)]&&_0x409f0c[_0x59fe35(0x29c)]());const _0x4d4ea4=_0x473d30[_0x59fe35(0x23c)]((_0x2dd609,_0x5a3eef)=>_0x399627[_0x5a3eef])[_0x59fe35(0x268)]((_0x19af2b,_0x4f37b8)=>extendWithFaceLandmarks(_0x19af2b,_0x399627[_0x4f37b8]));return _0x4d4ea4;}['withFaceExpressions'](){const _0xbf0835=_0x325c64;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0xbf0835(0x123)]);}[_0x325c64(0x299)](){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this['input']);}[_0x325c64(0x342)](){const _0x4f44a5=_0x325c64;return new ComputeAllFaceDescriptorsTask(this,this[_0x4f44a5(0x123)]);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x325c64(0x381)](){const _0x329f7a=_0x325c64,_0xff0f81=await this[_0x329f7a(0x2ce)];if(!_0xff0f81)return void 0x0;const {detection:_0x6e088b}=_0xff0f81,_0x4a9336=this[_0x329f7a(0x123)]instanceof tf41['Tensor']?await extractFaceTensors(this[_0x329f7a(0x123)],[_0x6e088b]):await extractFaces(this[_0x329f7a(0x123)],[_0x6e088b]),_0x3d70cd=await this[_0x329f7a(0x332)][_0x329f7a(0x109)](_0x4a9336[0x0]);return _0x4a9336[_0x329f7a(0x183)](_0x844b1c=>_0x844b1c instanceof tf41[_0x329f7a(0x30e)]&&_0x844b1c[_0x329f7a(0x29c)]()),extendWithFaceLandmarks(_0xff0f81,_0x3d70cd);}[_0x325c64(0x22f)](){const _0x535868=_0x325c64;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x535868(0x123)]);}[_0x325c64(0x299)](){const _0x57ffaa=_0x325c64;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x57ffaa(0x123)]);}[_0x325c64(0x2f8)](){const _0x157c9a=_0x325c64;return new ComputeSingleFaceDescriptorTask(this,this[_0x157c9a(0x123)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x573e16,_0x1cff27=new SsdMobilenetv1Options()){const _0x1972c2=_0x325c64;super(),this[_0x1972c2(0x123)]=_0x573e16,this[_0x1972c2(0x2cd)]=_0x1cff27;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async['run'](){const _0xb16e91=_0x325c64,{input:_0x4eed38,options:_0x7b8076}=this;let _0x2f27be;if(_0x7b8076 instanceof TinyFaceDetectorOptions)_0x2f27be=nets[_0xb16e91(0x144)][_0xb16e91(0x2ca)](_0x4eed38,_0x7b8076);else{if(_0x7b8076 instanceof SsdMobilenetv1Options)_0x2f27be=nets[_0xb16e91(0x273)][_0xb16e91(0x2ca)](_0x4eed38,_0x7b8076);else{if(_0x7b8076 instanceof TinyYolov2Options)_0x2f27be=nets[_0xb16e91(0x21e)][_0xb16e91(0x2ca)](_0x4eed38,_0x7b8076);else throw new Error(_0xb16e91(0x1e9));}}return _0x2f27be;}[_0x325c64(0x31f)](){return new Promise((_0x446c65,_0xc17b7c)=>{const _0x5aa2c5=_0x55d2;this['run']()[_0x5aa2c5(0x1cb)](_0x1d9406=>_0x446c65(_0x1d9406[_0x5aa2c5(0x268)](_0x1f516a=>extendWithFaceDetection({},_0x1f516a))))[_0x5aa2c5(0x106)](_0x44edc2=>_0xc17b7c(_0x44edc2));});}[_0x325c64(0x1bc)](_0x51ab3b=![]){const _0x24c5e2=_0x325c64;return new DetectAllFaceLandmarksTask(this[_0x24c5e2(0x31f)](),this[_0x24c5e2(0x123)],_0x51ab3b);}[_0x325c64(0x22f)](){const _0x5bf435=_0x325c64;return new PredictAllFaceExpressionsTask(this[_0x5bf435(0x31f)](),this[_0x5bf435(0x123)]);}[_0x325c64(0x299)](){const _0x2e26bc=_0x325c64;return new PredictAllAgeAndGenderTask(this['runAndExtendWithFaceDetections'](),this[_0x2e26bc(0x123)]);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x325c64(0x381)](){const _0x599456=_0x325c64,_0x77952=await new DetectAllFacesTask(this[_0x599456(0x123)],this[_0x599456(0x2cd)]);let _0x4ee16f=_0x77952[0x0];return _0x77952['forEach'](_0xab35ed=>{const _0x5a15f3=_0x599456;if(_0xab35ed[_0x5a15f3(0x229)]>_0x4ee16f[_0x5a15f3(0x229)])_0x4ee16f=_0xab35ed;}),_0x4ee16f;}[_0x325c64(0x134)](){return new Promise(async _0x3c985f=>{const _0x1a0817=_0x55d2,_0x336260=await this[_0x1a0817(0x381)]();_0x3c985f(_0x336260?extendWithFaceDetection({},_0x336260):void 0x0);});}[_0x325c64(0x1bc)](_0xf8a8a3=![]){const _0x4cebbf=_0x325c64;return new DetectSingleFaceLandmarksTask(this['runAndExtendWithFaceDetection'](),this[_0x4cebbf(0x123)],_0xf8a8a3);}['withFaceExpressions'](){const _0x14c374=_0x325c64;return new PredictSingleFaceExpressionsTask(this[_0x14c374(0x134)](),this[_0x14c374(0x123)]);}[_0x325c64(0x299)](){const _0x538fc6=_0x325c64;return new PredictSingleAgeAndGenderTask(this[_0x538fc6(0x134)](),this[_0x538fc6(0x123)]);}};function detectSingleFace(_0x209d3f,_0x940791=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x209d3f,_0x940791);}function detectAllFaces(_0x383389,_0x10a2cd=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x383389,_0x10a2cd);}async function allFacesSsdMobilenetv1(_0x27fd3a,_0x39042d){const _0x36bc83=_0x325c64;return detectAllFaces(_0x27fd3a,new SsdMobilenetv1Options(_0x39042d?{'minConfidence':_0x39042d}:{}))[_0x36bc83(0x1bc)]()[_0x36bc83(0x342)]();}async function allFacesTinyYolov2(_0x59a7f8,_0x2ca4fe={}){const _0x5dfcb5=_0x325c64;return detectAllFaces(_0x59a7f8,new TinyYolov2Options(_0x2ca4fe))['withFaceLandmarks']()[_0x5dfcb5(0x342)]();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x391001,_0x10047d){const _0x28171f=_0x325c64;if(_0x391001[_0x28171f(0x1b1)]!==_0x10047d['length'])throw new Error(_0x28171f(0x32a));const _0x3245cb=Array[_0x28171f(0x338)](_0x391001),_0x2df22b=Array[_0x28171f(0x338)](_0x10047d);return Math[_0x28171f(0x2b5)](_0x3245cb[_0x28171f(0x268)]((_0x4ba07e,_0x117016)=>_0x4ba07e-_0x2df22b[_0x117016])[_0x28171f(0x1cc)]((_0x383635,_0x2ba98d)=>_0x383635+_0x2ba98d**0x2,0x0));}var FaceMatcher=class{constructor(_0x2bc721,_0x59f8e6=0.6){const _0x30d6c2=_0x325c64;this[_0x30d6c2(0x13a)]=_0x59f8e6;const _0xb87ce0=Array['isArray'](_0x2bc721)?_0x2bc721:[_0x2bc721];if(!_0xb87ce0[_0x30d6c2(0x1b1)])throw new Error(_0x30d6c2(0x2c8));let _0x21da9f=0x1;const _0x3cae5d=()=>_0x30d6c2(0x309)+_0x21da9f++;this[_0x30d6c2(0x33e)]=_0xb87ce0['map'](_0x244729=>{const _0x4a760e=_0x30d6c2;if(_0x244729 instanceof LabeledFaceDescriptors)return _0x244729;if(_0x244729 instanceof Float32Array)return new LabeledFaceDescriptors(_0x3cae5d(),[_0x244729]);if(_0x244729[_0x4a760e(0x245)]&&_0x244729[_0x4a760e(0x245)]instanceof Float32Array)return new LabeledFaceDescriptors(_0x3cae5d(),[_0x244729['descriptor']]);throw new Error(_0x4a760e(0x36f));});}get[_0x325c64(0x310)](){return this['_labeledDescriptors'];}get[_0x325c64(0x231)](){const _0x3c9d11=_0x325c64;return this[_0x3c9d11(0x13a)];}[_0x325c64(0x230)](_0x48d37e,_0x15f8de){const _0x161b30=_0x325c64;return _0x15f8de[_0x161b30(0x268)](_0x2289d0=>euclideanDistance(_0x2289d0,_0x48d37e))[_0x161b30(0x1cc)]((_0x5da4c7,_0x1193e4)=>_0x5da4c7+_0x1193e4,0x0)/(_0x15f8de[_0x161b30(0x1b1)]||0x1);}[_0x325c64(0x2f0)](_0x2128b8){const _0x647fd9=_0x325c64;return this['labeledDescriptors'][_0x647fd9(0x268)](({descriptors:_0x3d12b1,label:_0x3fbac3})=>new FaceMatch(_0x3fbac3,this[_0x647fd9(0x230)](_0x2128b8,_0x3d12b1)))[_0x647fd9(0x1cc)]((_0x3cc20e,_0x188dd7)=>_0x3cc20e[_0x647fd9(0x300)]<_0x188dd7[_0x647fd9(0x300)]?_0x3cc20e:_0x188dd7);}[_0x325c64(0x2d5)](_0x1a4679){const _0x52c26d=_0x325c64,_0x227a25=this[_0x52c26d(0x2f0)](_0x1a4679);return _0x227a25[_0x52c26d(0x300)]<this[_0x52c26d(0x13a)]?_0x227a25:new FaceMatch(_0x52c26d(0x172),_0x227a25[_0x52c26d(0x300)]);}['toJSON'](){const _0x4afd9c=_0x325c64;return{'distanceThreshold':this[_0x4afd9c(0x13a)],'labeledDescriptors':this[_0x4afd9c(0x33e)]['map'](_0x5cac3c=>_0x5cac3c[_0x4afd9c(0x321)]())};}static['fromJSON'](_0x1c8d8f){const _0x317617=_0x325c64,_0xe6a35b=_0x1c8d8f[_0x317617(0x310)]['map'](_0x204b03=>LabeledFaceDescriptors[_0x317617(0x243)](_0x204b03));return new FaceMatcher(_0xe6a35b,_0x1c8d8f[_0x317617(0x231)]);}};function createTinyFaceDetector(_0x287454){const _0x20c934=_0x325c64,_0x541ec4=new TinyFaceDetector();return _0x541ec4[_0x20c934(0x1fd)](_0x287454),_0x541ec4;}function resizeResults(_0x166103,_0xa32653){const _0xce9a7a=_0x325c64,{width:_0x378a69,height:_0x244b0b}=new Dimensions(_0xa32653[_0xce9a7a(0x1f2)],_0xa32653['height']);if(_0x378a69<=0x0||_0x244b0b<=0x0)throw new Error(_0xce9a7a(0x31a)+JSON['stringify']({'width':_0x378a69,'height':_0x244b0b}));if(Array[_0xce9a7a(0x122)](_0x166103))return _0x166103['map'](_0x1b66d0=>resizeResults(_0x1b66d0,{'width':_0x378a69,'height':_0x244b0b}));if(isWithFaceLandmarks(_0x166103)){const _0x46eba8=_0x166103[_0xce9a7a(0x17b)][_0xce9a7a(0x139)](_0x378a69,_0x244b0b),_0x5cd2d9=_0x166103['unshiftedLandmarks'][_0xce9a7a(0x139)](_0x46eba8[_0xce9a7a(0x2ae)][_0xce9a7a(0x1f2)],_0x46eba8[_0xce9a7a(0x2ae)]['height']);return extendWithFaceLandmarks(extendWithFaceDetection(_0x166103,_0x46eba8),_0x5cd2d9);}if(isWithFaceDetection(_0x166103))return extendWithFaceDetection(_0x166103,_0x166103['detection'][_0xce9a7a(0x139)](_0x378a69,_0x244b0b));if(_0x166103 instanceof FaceLandmarks||_0x166103 instanceof FaceDetection)return _0x166103[_0xce9a7a(0x139)](_0x378a69,_0x244b0b);return _0x166103;}var version2=version;0x0&&(module[_0x325c64(0x244)]={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});