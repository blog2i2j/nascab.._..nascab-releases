'use strict';const _0x34daa7=_0x549b;(function(_0x31ff6d,_0x5a9da4){const _0x381a60=_0x549b,_0x2aeed9=_0x31ff6d();while(!![]){try{const _0x100c07=-parseInt(_0x381a60(0x422))/0x1*(parseInt(_0x381a60(0x298))/0x2)+parseInt(_0x381a60(0x216))/0x3*(parseInt(_0x381a60(0x26d))/0x4)+parseInt(_0x381a60(0x3d1))/0x5*(-parseInt(_0x381a60(0x433))/0x6)+parseInt(_0x381a60(0x2c9))/0x7*(parseInt(_0x381a60(0x1bf))/0x8)+-parseInt(_0x381a60(0x2af))/0x9+-parseInt(_0x381a60(0x3cd))/0xa+parseInt(_0x381a60(0x252))/0xb;if(_0x100c07===_0x5a9da4)break;else _0x2aeed9['push'](_0x2aeed9['shift']());}catch(_0xabed5f){_0x2aeed9['push'](_0x2aeed9['shift']());}}}(_0x12ef,0xc060f));var __create=Object[_0x34daa7(0x31e)],__defProp=Object[_0x34daa7(0x1ce)],__getOwnPropDesc=Object['getOwnPropertyDescriptor'],__getOwnPropNames=Object[_0x34daa7(0x3ee)],__getProtoOf=Object['getPrototypeOf'],__hasOwnProp=Object[_0x34daa7(0x36c)][_0x34daa7(0x3f9)],__commonJS=(_0x1e8db5,_0x50bc9f)=>function _0x275865(){const _0x1ee5b2=_0x34daa7;return _0x50bc9f||(0x0,_0x1e8db5[__getOwnPropNames(_0x1e8db5)[0x0]])((_0x50bc9f={'exports':{}})[_0x1ee5b2(0x2fe)],_0x50bc9f),_0x50bc9f[_0x1ee5b2(0x2fe)];},__export=(_0x4124a9,_0xfecf9c)=>{for(var _0x21ac43 in _0xfecf9c)__defProp(_0x4124a9,_0x21ac43,{'get':_0xfecf9c[_0x21ac43],'enumerable':!![]});},__copyProps=(_0x2ddc40,_0x154122,_0x3f87f7,_0x5d60e6)=>{const _0x958216=_0x34daa7;if(_0x154122&&typeof _0x154122===_0x958216(0x2ea)||typeof _0x154122===_0x958216(0x236)){for(let _0xcc1243 of __getOwnPropNames(_0x154122))if(!__hasOwnProp[_0x958216(0x23e)](_0x2ddc40,_0xcc1243)&&_0xcc1243!==_0x3f87f7)__defProp(_0x2ddc40,_0xcc1243,{'get':()=>_0x154122[_0xcc1243],'enumerable':!(_0x5d60e6=__getOwnPropDesc(_0x154122,_0xcc1243))||_0x5d60e6[_0x958216(0x321)]});}return _0x2ddc40;},__toESM=(_0x1572c2,_0x303e7d,_0x226257)=>(_0x226257=_0x1572c2!=null?__create(__getProtoOf(_0x1572c2)):{},__copyProps(_0x303e7d||!_0x1572c2||!_0x1572c2[_0x34daa7(0x241)]?__defProp(_0x226257,'default',{'value':_0x1572c2,'enumerable':!![]}):_0x226257,_0x1572c2)),__toCommonJS=_0x4ff8cb=>__copyProps(__defProp({},_0x34daa7(0x241),{'value':!![]}),_0x4ff8cb),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x3d8b86,_0x58313d){'use strict';const _0x13df53=_0x34daa7;var _0x3d3329=Object['defineProperty'],_0x28e8cd=Object[_0x13df53(0x260)],_0x5a51db=Object[_0x13df53(0x3ee)],_0x32f6cf=Object[_0x13df53(0x36c)][_0x13df53(0x3f9)],_0x22f71c=(_0x3bf1d6,_0x56b254,_0x3a4b5f,_0x22b781)=>{const _0x41bdec=_0x13df53;if(_0x56b254&&typeof _0x56b254===_0x41bdec(0x2ea)||typeof _0x56b254===_0x41bdec(0x236)){for(let _0x25b42e of _0x5a51db(_0x56b254))if(!_0x32f6cf[_0x41bdec(0x23e)](_0x3bf1d6,_0x25b42e)&&_0x25b42e!==_0x3a4b5f)_0x3d3329(_0x3bf1d6,_0x25b42e,{'get':()=>_0x56b254[_0x25b42e],'enumerable':!(_0x22b781=_0x28e8cd(_0x56b254,_0x25b42e))||_0x22b781[_0x41bdec(0x321)]});}return _0x3bf1d6;},_0x532fff=(_0x3bd193,_0x44436c,_0x5859a1)=>(_0x22f71c(_0x3bd193,_0x44436c,_0x13df53(0x3e8)),_0x5859a1&&_0x22f71c(_0x5859a1,_0x44436c,_0x13df53(0x3e8))),_0x1c5fad=_0x248ccc=>_0x22f71c(_0x3d3329({},'__esModule',{'value':!![]}),_0x248ccc),_0x12a2ff={};_0x58313d['exports']=_0x1c5fad(_0x12a2ff),_0x532fff(_0x12a2ff,require(_0x13df53(0x1f7)),_0x58313d['exports']);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module[_0x34daa7(0x2fe)]=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x130ea6,_0x465514,_0x254fd6=![]){const _0x3da689=_0x34daa7;_0x130ea6[_0x3da689(0x214)](),_0x465514[_0x3da689(0x3c5)](0x1)['forEach'](({x:_0x29bb7e,y:_0x184803},_0x366e31)=>{const _0x2b7576=_0x3da689,_0x3d21bb=_0x465514[_0x366e31];_0x130ea6[_0x2b7576(0x364)](_0x3d21bb['x'],_0x3d21bb['y']),_0x130ea6[_0x2b7576(0x3ba)](_0x29bb7e,_0x184803);});if(_0x254fd6){const _0x275073=_0x465514[_0x465514[_0x3da689(0x40e)]-0x1],_0xddf6ca=_0x465514[0x0];if(!_0x275073||!_0xddf6ca)return;_0x130ea6[_0x3da689(0x364)](_0x275073['x'],_0x275073['y']),_0x130ea6[_0x3da689(0x3ba)](_0xddf6ca['x'],_0xddf6ca['y']);}_0x130ea6[_0x3da689(0x1f0)]();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x52af7a,_0x4c689f){const _0x5e5dca=_0x34daa7;if(!isValidNumber(_0x52af7a)||!isValidNumber(_0x4c689f))throw new Error(_0x5e5dca(0x399)+JSON[_0x5e5dca(0x218)]({'width':_0x52af7a,'height':_0x4c689f}));this[_0x5e5dca(0x1d2)]=_0x52af7a,this[_0x5e5dca(0x311)]=_0x4c689f;}get['width'](){const _0x9f70c0=_0x34daa7;return this[_0x9f70c0(0x1d2)];}get[_0x34daa7(0x1c0)](){const _0x4dedb8=_0x34daa7;return this[_0x4dedb8(0x311)];}['reverse'](){const _0x231a19=_0x34daa7;return new Dimensions(0x1/this['width'],0x1/this[_0x231a19(0x1c0)]);}};function isTensor(_0x280b54,_0x4eadcf){const _0x44ec49=_0x34daa7;return _0x280b54 instanceof tf[_0x44ec49(0x2ae)]&&_0x280b54[_0x44ec49(0x377)][_0x44ec49(0x40e)]===_0x4eadcf;}function isTensor1D(_0x3e433b){return isTensor(_0x3e433b,0x1);}function isTensor2D(_0x494c63){return isTensor(_0x494c63,0x2);}function isTensor3D(_0x74b382){return isTensor(_0x74b382,0x3);}function isTensor4D(_0x33f549){return isTensor(_0x33f549,0x4);}function isFloat(_0xb75e09){return _0xb75e09%0x1!==0x0;}function isEven(_0x3af8c2){return _0x3af8c2%0x2===0x0;}function round(_0xf48659,_0x5302b7=0x2){const _0x4854c0=_0x34daa7,_0x33c9a1=0xa**_0x5302b7;return Math[_0x4854c0(0x409)](_0xf48659*_0x33c9a1)/_0x33c9a1;}function isDimensions(_0x333c2b){const _0x16c885=_0x34daa7;return _0x333c2b&&_0x333c2b[_0x16c885(0x29d)]&&_0x333c2b[_0x16c885(0x1c0)];}function computeReshapedDimensions({width:_0x21b2f2,height:_0x134ea6},_0x18c149){const _0x361a14=_0x34daa7,_0x38195d=_0x18c149/Math[_0x361a14(0x387)](_0x134ea6,_0x21b2f2);return new Dimensions(Math[_0x361a14(0x41b)](_0x21b2f2*_0x38195d),Math['round'](_0x134ea6*_0x38195d));}function getCenterPoint(_0x45a3f7){const _0x4dc37e=_0x34daa7;return _0x45a3f7[_0x4dc37e(0x1f3)]((_0x403e2d,_0x379318)=>_0x403e2d[_0x4dc37e(0x2e3)](_0x379318),new Point(0x0,0x0))[_0x4dc37e(0x323)](new Point(_0x45a3f7[_0x4dc37e(0x40e)],_0x45a3f7['length']));}function range(_0x424ebd,_0x66cde2,_0x1a4a76){const _0x43f9f7=_0x34daa7;return Array(_0x424ebd)[_0x43f9f7(0x293)](0x0)[_0x43f9f7(0x20a)]((_0x1a621b,_0x596f2b)=>_0x66cde2+_0x596f2b*_0x1a4a76);}function isValidNumber(_0x2e1e4d){return!!_0x2e1e4d&&_0x2e1e4d!==Infinity&&_0x2e1e4d!==-Infinity&&!Number['isNaN'](_0x2e1e4d)||_0x2e1e4d===0x0;}function isValidProbablitiy(_0x59aa57){return isValidNumber(_0x59aa57)&&_0x59aa57>=0x0&&_0x59aa57<=0x1;}var Point=class{constructor(_0x3a7102,_0x3115be){this['_x']=_0x3a7102,this['_y']=_0x3115be;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}[_0x34daa7(0x2e3)](_0x579f12){return new Point(this['x']+_0x579f12['x'],this['y']+_0x579f12['y']);}[_0x34daa7(0x39c)](_0x4b408b){return new Point(this['x']-_0x4b408b['x'],this['y']-_0x4b408b['y']);}[_0x34daa7(0x2e4)](_0x589339){return new Point(this['x']*_0x589339['x'],this['y']*_0x589339['y']);}['div'](_0x514669){return new Point(this['x']/_0x514669['x'],this['y']/_0x514669['y']);}['abs'](){const _0x450317=_0x34daa7;return new Point(Math['abs'](this['x']),Math[_0x450317(0x1eb)](this['y']));}[_0x34daa7(0x3e6)](){return Math['sqrt'](this['x']**0x2+this['y']**0x2);}['floor'](){const _0x24faad=_0x34daa7;return new Point(Math[_0x24faad(0x409)](this['x']),Math[_0x24faad(0x409)](this['y']));}},Box=class{static[_0x34daa7(0x239)](_0x5024a7){const _0x486096=_0x34daa7;return!!_0x5024a7&&[_0x5024a7['x'],_0x5024a7['y'],_0x5024a7[_0x486096(0x29d)],_0x5024a7['height']][_0x486096(0x2c7)](isValidNumber);}static[_0x34daa7(0x432)](_0x5d48f3,_0xb4c8d,_0x4cf68e=![]){const _0x47e572=_0x34daa7;if(!Box['isRect'](_0x5d48f3))throw new Error(_0xb4c8d+_0x47e572(0x21d)+JSON[_0x47e572(0x218)](_0x5d48f3)+_0x47e572(0x246));if(!_0x4cf68e&&(_0x5d48f3['width']<0x0||_0x5d48f3[_0x47e572(0x1c0)]<0x0))throw new Error(_0xb4c8d+_0x47e572(0x35c)+_0x5d48f3[_0x47e572(0x29d)]+_0x47e572(0x263)+_0x5d48f3[_0x47e572(0x1c0)]+')\x20must\x20be\x20positive\x20numbers');}constructor(_0x1f7ae0,_0xf8b7b4=!![]){const _0x4639d4=_0x34daa7,_0x5ec90f=_0x1f7ae0||{},_0x1f5651=[_0x5ec90f[_0x4639d4(0x357)],_0x5ec90f['top'],_0x5ec90f[_0x4639d4(0x23f)],_0x5ec90f[_0x4639d4(0x428)]]['every'](isValidNumber),_0x2c7b5c=[_0x5ec90f['x'],_0x5ec90f['y'],_0x5ec90f[_0x4639d4(0x29d)],_0x5ec90f['height']]['every'](isValidNumber);if(!_0x2c7b5c&&!_0x1f5651)throw new Error(_0x4639d4(0x2a7)+JSON[_0x4639d4(0x218)](_0x5ec90f));const [_0x1895f2,_0x544ed3,_0x41206b,_0x2709e9]=_0x2c7b5c?[_0x5ec90f['x'],_0x5ec90f['y'],_0x5ec90f['width'],_0x5ec90f['height']]:[_0x5ec90f[_0x4639d4(0x357)],_0x5ec90f[_0x4639d4(0x1b4)],_0x5ec90f[_0x4639d4(0x23f)]-_0x5ec90f[_0x4639d4(0x357)],_0x5ec90f[_0x4639d4(0x428)]-_0x5ec90f[_0x4639d4(0x1b4)]];Box['assertIsValidBox']({'x':_0x1895f2,'y':_0x544ed3,'width':_0x41206b,'height':_0x2709e9},_0x4639d4(0x30b),_0xf8b7b4),this['_x']=_0x1895f2,this['_y']=_0x544ed3,this[_0x4639d4(0x1d2)]=_0x41206b,this[_0x4639d4(0x311)]=_0x2709e9;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get[_0x34daa7(0x29d)](){const _0x4e68b0=_0x34daa7;return this[_0x4e68b0(0x1d2)];}get[_0x34daa7(0x1c0)](){const _0x161e53=_0x34daa7;return this[_0x161e53(0x311)];}get[_0x34daa7(0x357)](){return this['x'];}get[_0x34daa7(0x1b4)](){return this['y'];}get[_0x34daa7(0x23f)](){const _0x8d38c3=_0x34daa7;return this['x']+this[_0x8d38c3(0x29d)];}get[_0x34daa7(0x428)](){const _0x12411b=_0x34daa7;return this['y']+this[_0x12411b(0x1c0)];}get[_0x34daa7(0x30e)](){const _0x534913=_0x34daa7;return this['width']*this[_0x534913(0x1c0)];}get[_0x34daa7(0x29c)](){const _0x5c06d7=_0x34daa7;return new Point(this[_0x5c06d7(0x357)],this['top']);}get['topRight'](){const _0x3e1857=_0x34daa7;return new Point(this[_0x3e1857(0x23f)],this['top']);}get[_0x34daa7(0x1fc)](){const _0x236341=_0x34daa7;return new Point(this[_0x236341(0x357)],this['bottom']);}get[_0x34daa7(0x220)](){const _0x1284e2=_0x34daa7;return new Point(this['right'],this[_0x1284e2(0x428)]);}[_0x34daa7(0x41b)](){const _0xdcb65b=_0x34daa7,[_0x1875df,_0x3962a4,_0x5bc356,_0x28231b]=[this['x'],this['y'],this[_0xdcb65b(0x29d)],this[_0xdcb65b(0x1c0)]][_0xdcb65b(0x20a)](_0x9a3751=>Math[_0xdcb65b(0x41b)](_0x9a3751));return new Box({'x':_0x1875df,'y':_0x3962a4,'width':_0x5bc356,'height':_0x28231b});}[_0x34daa7(0x409)](){const _0xa73ade=_0x34daa7,[_0x40533e,_0x3caa0e,_0x443597,_0x546b5b]=[this['x'],this['y'],this['width'],this[_0xa73ade(0x1c0)]][_0xa73ade(0x20a)](_0x2403cf=>Math['floor'](_0x2403cf));return new Box({'x':_0x40533e,'y':_0x3caa0e,'width':_0x443597,'height':_0x546b5b});}[_0x34daa7(0x358)](){const _0x527b58=_0x34daa7;let {x:_0x1bb36c,y:_0x1ce39c,width:_0x20a536,height:_0x328846}=this;const _0x60535b=Math[_0x527b58(0x1eb)](_0x20a536-_0x328846);return _0x20a536<_0x328846&&(_0x1bb36c-=_0x60535b/0x2,_0x20a536+=_0x60535b),_0x328846<_0x20a536&&(_0x1ce39c-=_0x60535b/0x2,_0x328846+=_0x60535b),new Box({'x':_0x1bb36c,'y':_0x1ce39c,'width':_0x20a536,'height':_0x328846});}[_0x34daa7(0x32f)](_0x5d3186){const _0x5c2986=_0x34daa7,_0x1054ca=isDimensions(_0x5d3186)?_0x5d3186[_0x5c2986(0x29d)]:_0x5d3186,_0x5f3c67=isDimensions(_0x5d3186)?_0x5d3186[_0x5c2986(0x1c0)]:_0x5d3186;return new Box({'x':this['x']*_0x1054ca,'y':this['y']*_0x5f3c67,'width':this[_0x5c2986(0x29d)]*_0x1054ca,'height':this['height']*_0x5f3c67});}[_0x34daa7(0x380)](_0x49372a,_0x2649f5){const _0x16cfba=_0x34daa7,[_0xf917f3,_0x4ede5b,_0xd78741,_0xb3b0bb]=[this['x']-_0x49372a/0x2,this['y']-_0x2649f5/0x2,this[_0x16cfba(0x29d)]+_0x49372a,this['height']+_0x2649f5];return new Box({'x':_0xf917f3,'y':_0x4ede5b,'width':_0xd78741,'height':_0xb3b0bb});}[_0x34daa7(0x419)](_0x2df2b0,_0x24ba2f){const _0x19491b=_0x34daa7,{x:_0x16843b,y:_0x51073a,right:_0x18014d,bottom:_0x452dea}=this,_0x2345a5=Math[_0x19491b(0x387)](_0x16843b,0x0),_0x5cc786=Math[_0x19491b(0x387)](_0x51073a,0x0),_0x2fee9f=_0x18014d-_0x2345a5,_0x53fcf1=_0x452dea-_0x5cc786,_0xa30e77=Math['min'](_0x2fee9f,_0x2df2b0-_0x2345a5),_0x2f54ee=Math[_0x19491b(0x227)](_0x53fcf1,_0x24ba2f-_0x5cc786);return new Box({'x':_0x2345a5,'y':_0x5cc786,'width':_0xa30e77,'height':_0x2f54ee})[_0x19491b(0x409)]();}[_0x34daa7(0x374)](_0x5ebdf2,_0x376a5c){const {width:_0x5c6c14,height:_0x140f98}=this,_0x50e2f2=this['x']+_0x5ebdf2,_0x1dc760=this['y']+_0x376a5c;return new Box({'x':_0x50e2f2,'y':_0x1dc760,'width':_0x5c6c14,'height':_0x140f98});}['padAtBorders'](_0x5525fc,_0x3543bf){const _0x13e6c7=_0x34daa7,_0x1936ce=this['width']+0x1,_0x3f1e5e=this[_0x13e6c7(0x1c0)]+0x1,_0x51ac74=0x1,_0x296ee4=0x1;let _0x76050f=_0x1936ce,_0x2a1351=_0x3f1e5e,_0x1e707d=this[_0x13e6c7(0x357)],_0x5eb768=this[_0x13e6c7(0x1b4)],_0x12e9bd=this[_0x13e6c7(0x23f)],_0x442b00=this[_0x13e6c7(0x428)];return _0x12e9bd>_0x3543bf&&(_0x76050f=-_0x12e9bd+_0x3543bf+_0x1936ce,_0x12e9bd=_0x3543bf),_0x442b00>_0x5525fc&&(_0x2a1351=-_0x442b00+_0x5525fc+_0x3f1e5e,_0x442b00=_0x5525fc),_0x1e707d<0x1&&(_0x2a1351=0x2-_0x1e707d,_0x1e707d=0x1),_0x5eb768<0x1&&(_0x2a1351=0x2-_0x5eb768,_0x5eb768=0x1),{'dy':_0x296ee4,'edy':_0x2a1351,'dx':_0x51ac74,'edx':_0x76050f,'y':_0x5eb768,'ey':_0x442b00,'x':_0x1e707d,'ex':_0x12e9bd,'w':_0x1936ce,'h':_0x3f1e5e};}[_0x34daa7(0x25f)](_0x2fc7a8){const _0x267fe5=_0x34daa7;return new Box({'left':this[_0x267fe5(0x357)]+_0x2fc7a8['left']*this['width'],'top':this['top']+_0x2fc7a8[_0x267fe5(0x1b4)]*this[_0x267fe5(0x1c0)],'right':this['right']+_0x2fc7a8[_0x267fe5(0x23f)]*this['width'],'bottom':this[_0x267fe5(0x428)]+_0x2fc7a8[_0x267fe5(0x428)]*this[_0x267fe5(0x1c0)]})[_0x267fe5(0x358)]()[_0x267fe5(0x41b)]();}},BoundingBox=class extends Box{constructor(_0x4d1036,_0x1c30e5,_0x3205c6,_0x481cf0,_0x54301a=![]){super({'left':_0x4d1036,'top':_0x1c30e5,'right':_0x3205c6,'bottom':_0x481cf0},_0x54301a);}},ObjectDetection=class{constructor(_0x4702d2,_0x4ccd21,_0x204566,_0x7a402,_0x4fa801){const _0x215db5=_0x34daa7;this[_0x215db5(0x213)]=new Dimensions(_0x4fa801[_0x215db5(0x29d)],_0x4fa801[_0x215db5(0x1c0)]),this['_score']=_0x4702d2,this[_0x215db5(0x1cc)]=_0x4ccd21,this[_0x215db5(0x33a)]=_0x204566,this[_0x215db5(0x414)]=new Box(_0x7a402)[_0x215db5(0x32f)](this[_0x215db5(0x213)]);}get[_0x34daa7(0x2b5)](){const _0x3e0aa1=_0x34daa7;return this[_0x3e0aa1(0x348)];}get[_0x34daa7(0x370)](){const _0x153344=_0x34daa7;return this[_0x153344(0x1cc)];}get[_0x34daa7(0x36a)](){const _0x4af75d=_0x34daa7;return this[_0x4af75d(0x33a)];}get[_0x34daa7(0x381)](){const _0x20e36e=_0x34daa7;return this[_0x20e36e(0x414)];}get[_0x34daa7(0x290)](){const _0x663946=_0x34daa7;return this[_0x663946(0x213)];}get['imageWidth'](){const _0x39e0ff=_0x34daa7;return this[_0x39e0ff(0x290)][_0x39e0ff(0x29d)];}get['imageHeight'](){const _0x405aa0=_0x34daa7;return this[_0x405aa0(0x290)][_0x405aa0(0x1c0)];}get['relativeBox'](){const _0x274fe4=_0x34daa7;return new Box(this['_box'])[_0x274fe4(0x32f)](this[_0x274fe4(0x290)][_0x274fe4(0x3a0)]());}[_0x34daa7(0x3f1)](_0x56b49c,_0x2d50d5){const _0x2d64f5=_0x34daa7;return new ObjectDetection(this[_0x2d64f5(0x2b5)],this[_0x2d64f5(0x370)],this[_0x2d64f5(0x36a)],this['relativeBox'],{'width':_0x56b49c,'height':_0x2d50d5});}},FaceDetection=class extends ObjectDetection{constructor(_0x53bd4c,_0x400f47,_0x2b7f69){super(_0x53bd4c,_0x53bd4c,'',_0x400f47,_0x2b7f69);}['forSize'](_0x4c20b9,_0x26a60b){const _0x29adc6=_0x34daa7,{score:_0x33b0b8,relativeBox:_0x4da88b,imageDims:_0x39d163}=super[_0x29adc6(0x3f1)](_0x4c20b9,_0x26a60b);return new FaceDetection(_0x33b0b8,_0x4da88b,_0x39d163);}};function iou(_0x1071ba,_0x4d5b02,_0x298af2=!![]){const _0x13137d=_0x34daa7,_0x48c14e=Math[_0x13137d(0x387)](0x0,Math['min'](_0x1071ba['right'],_0x4d5b02[_0x13137d(0x23f)])-Math[_0x13137d(0x387)](_0x1071ba[_0x13137d(0x357)],_0x4d5b02['left'])),_0x1a66b3=Math[_0x13137d(0x387)](0x0,Math[_0x13137d(0x227)](_0x1071ba['bottom'],_0x4d5b02[_0x13137d(0x428)])-Math[_0x13137d(0x387)](_0x1071ba[_0x13137d(0x1b4)],_0x4d5b02['top'])),_0x1b210a=_0x48c14e*_0x1a66b3;return _0x298af2?_0x1b210a/(_0x1071ba[_0x13137d(0x30e)]+_0x4d5b02[_0x13137d(0x30e)]-_0x1b210a):_0x1b210a/Math[_0x13137d(0x227)](_0x1071ba[_0x13137d(0x30e)],_0x4d5b02[_0x13137d(0x30e)]);}function minBbox(_0x57535c){const _0x11acf1=_0x34daa7,_0x18b3b5=_0x57535c['map'](_0x43cb65=>_0x43cb65['x']),_0x4fbbb1=_0x57535c[_0x11acf1(0x20a)](_0x532290=>_0x532290['y']),_0x37a1be=_0x18b3b5[_0x11acf1(0x1f3)]((_0x4856dc,_0x121a60)=>_0x121a60<_0x4856dc?_0x121a60:_0x4856dc,Infinity),_0x9044f6=_0x4fbbb1['reduce']((_0x582055,_0x15e513)=>_0x15e513<_0x582055?_0x15e513:_0x582055,Infinity),_0x22930d=_0x18b3b5[_0x11acf1(0x1f3)]((_0x3a0ad2,_0x431e95)=>_0x3a0ad2<_0x431e95?_0x431e95:_0x3a0ad2,0x0),_0x2aff46=_0x4fbbb1[_0x11acf1(0x1f3)]((_0x1e329d,_0x4a7919)=>_0x1e329d<_0x4a7919?_0x4a7919:_0x1e329d,0x0);return new BoundingBox(_0x37a1be,_0x9044f6,_0x22930d,_0x2aff46);}function nonMaxSuppression(_0x1fc014,_0x15993c,_0x3df136,_0x5aea37=!![]){const _0x2adff4=_0x34daa7;let _0x4e9314=_0x15993c[_0x2adff4(0x20a)]((_0x273076,_0x557aa7)=>({'score':_0x273076,'boxIndex':_0x557aa7}))[_0x2adff4(0x1ea)]((_0xdfd223,_0x3cfcfc)=>_0xdfd223[_0x2adff4(0x2b5)]-_0x3cfcfc[_0x2adff4(0x2b5)])['map'](_0x3e7779=>_0x3e7779[_0x2adff4(0x304)]);const _0x4ab9d6=[];while(_0x4e9314['length']>0x0){const _0x190356=_0x4e9314[_0x2adff4(0x395)]();_0x4ab9d6['push'](_0x190356);const _0x2e090d=_0x4e9314,_0x274f19=[];for(let _0x1412a2=0x0;_0x1412a2<_0x2e090d['length'];_0x1412a2++){const _0x6e3618=_0x2e090d[_0x1412a2],_0x2d0d45=_0x1fc014[_0x190356],_0x3ed58d=_0x1fc014[_0x6e3618];_0x274f19[_0x2adff4(0x2d5)](iou(_0x2d0d45,_0x3ed58d,_0x5aea37));}_0x4e9314=_0x4e9314[_0x2adff4(0x3a5)]((_0x4e2b68,_0x1322ff)=>_0x274f19[_0x1322ff]<=_0x3df136);}return _0x4ab9d6;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x31c4eb,_0x38d71d){const _0x6fa41a=_0x34daa7;return tf2[_0x6fa41a(0x319)](()=>{const _0x12299d=_0x6fa41a,[_0x4312c3,_0x3f5ab6,_0x24f0b2]=_0x38d71d,_0x2e9404=tf2[_0x12299d(0x293)]([..._0x31c4eb['shape']['slice'](0x0,0x3),0x1],_0x4312c3,'float32'),_0x2528ea=tf2['fill']([..._0x31c4eb[_0x12299d(0x377)][_0x12299d(0x3c5)](0x0,0x3),0x1],_0x3f5ab6,_0x12299d(0x28e)),_0x257731=tf2['fill']([..._0x31c4eb['shape'][_0x12299d(0x3c5)](0x0,0x3),0x1],_0x24f0b2,_0x12299d(0x28e)),_0x17dbb8=tf2['concat']([_0x2e9404,_0x2528ea,_0x257731],0x3);return tf2['sub'](_0x31c4eb,_0x17dbb8);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x1800b5,_0x1624ef=![]){const _0x32905e=_0x34daa7;return tf3[_0x32905e(0x319)](()=>{const _0x6d57af=_0x32905e,[_0x1b175b,_0x4f308f]=_0x1800b5['shape'][_0x6d57af(0x3c5)](0x1);if(_0x1b175b===_0x4f308f)return _0x1800b5;const _0x2b4ae5=Math[_0x6d57af(0x1eb)](_0x1b175b-_0x4f308f),_0x53a351=Math[_0x6d57af(0x41b)](_0x2b4ae5*(_0x1624ef?0.5:0x1)),_0x11d8c5=_0x1b175b>_0x4f308f?0x2:0x1,_0x2bd867=_0x4f91c8=>{const _0x3f2cdb=_0x6d57af,_0x281cc5=_0x1800b5[_0x3f2cdb(0x377)][_0x3f2cdb(0x3c5)]();return _0x281cc5[_0x11d8c5]=_0x4f91c8,tf3[_0x3f2cdb(0x293)](_0x281cc5,0x0,_0x3f2cdb(0x28e));},_0x37f5e8=_0x2bd867(_0x53a351),_0x28b829=_0x2b4ae5-_0x37f5e8[_0x6d57af(0x377)][_0x11d8c5],_0x26bbca=_0x1624ef&&_0x28b829?_0x2bd867(_0x28b829):null,_0x373f24=[_0x26bbca,_0x1800b5,_0x37f5e8][_0x6d57af(0x3a5)](_0x917608=>!!_0x917608)[_0x6d57af(0x20a)](_0x39a3d4=>tf3[_0x6d57af(0x31f)](_0x39a3d4,_0x6d57af(0x28e)));return tf3[_0x6d57af(0x307)](_0x373f24,_0x11d8c5);});}function shuffleArray(_0x5edf33){const _0x4c4559=_0x34daa7,_0x5d6c6f=_0x5edf33[_0x4c4559(0x3c5)]();for(let _0x428a38=_0x5d6c6f['length']-0x1;_0x428a38>0x0;_0x428a38--){const _0x4c0374=Math[_0x4c4559(0x409)](Math[_0x4c4559(0x341)]()*(_0x428a38+0x1)),_0x261650=_0x5d6c6f[_0x428a38];_0x5d6c6f[_0x428a38]=_0x5d6c6f[_0x4c0374],_0x5d6c6f[_0x4c0374]=_0x261650;}return _0x5d6c6f;}function sigmoid(_0x2efb2d){const _0x3d8f43=_0x34daa7;return 0x1/(0x1+Math[_0x3d8f43(0x418)](-_0x2efb2d));}function inverseSigmoid(_0x487787){return Math['log'](_0x487787/(0x1-_0x487787));}var Rect=class extends Box{constructor(_0xf065b2,_0x2cbe1e,_0x2e47a6,_0x50341e,_0x594781=![]){super({'x':_0xf065b2,'y':_0x2cbe1e,'width':_0x2e47a6,'height':_0x50341e},_0x594781);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x5077fe,_0x2a4938,_0x45cf3f=new Point(0x0,0x0)){const _0x24a3d=_0x34daa7,{width:_0x48ea40,height:_0x5deb7f}=_0x2a4938;this['_imgDims']=new Dimensions(_0x48ea40,_0x5deb7f),this[_0x24a3d(0x3bd)]=_0x45cf3f,this[_0x24a3d(0x38d)]=_0x5077fe[_0x24a3d(0x20a)](_0x44d425=>_0x44d425[_0x24a3d(0x2e4)](new Point(_0x48ea40,_0x5deb7f))['add'](_0x45cf3f));}get[_0x34daa7(0x374)](){const _0x9afc57=_0x34daa7;return new Point(this[_0x9afc57(0x3bd)]['x'],this[_0x9afc57(0x3bd)]['y']);}get[_0x34daa7(0x3e1)](){const _0x2f751f=_0x34daa7;return this[_0x2f751f(0x40b)][_0x2f751f(0x29d)];}get['imageHeight'](){const _0x56fdda=_0x34daa7;return this[_0x56fdda(0x40b)][_0x56fdda(0x1c0)];}get[_0x34daa7(0x3c3)](){const _0x127992=_0x34daa7;return this[_0x127992(0x38d)];}get[_0x34daa7(0x1c3)](){const _0x386c90=_0x34daa7;return this[_0x386c90(0x38d)][_0x386c90(0x20a)](_0x3bf901=>_0x3bf901[_0x386c90(0x39c)](this[_0x386c90(0x3bd)])['div'](new Point(this['imageWidth'],this['imageHeight'])));}[_0x34daa7(0x3f1)](_0x5a0fb4,_0x2cab3e){const _0x204a73=_0x34daa7;return new this[(_0x204a73(0x36e))](this['relativePositions'],{'width':_0x5a0fb4,'height':_0x2cab3e});}[_0x34daa7(0x41f)](_0x19a6fe,_0x1070b3){const _0x117403=_0x34daa7;return new this[(_0x117403(0x36e))](this['relativePositions'],this['_imgDims'],new Point(_0x19a6fe,_0x1070b3));}[_0x34daa7(0x202)](_0x58cc12){const _0x39b252=_0x34daa7;return this[_0x39b252(0x41f)](_0x58cc12['x'],_0x58cc12['y']);}[_0x34daa7(0x2cb)](_0x145c2e,_0x537ef4={}){const _0x5e1069=_0x34daa7;if(_0x145c2e){const _0x36f1d5=_0x145c2e instanceof FaceDetection?_0x145c2e['box']['floor']():new Box(_0x145c2e);return this[_0x5e1069(0x41f)](_0x36f1d5['x'],_0x36f1d5['y'])['align'](null,_0x537ef4);}const {useDlibAlignment:_0x865ac8,minBoxPadding:_0x472839}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x537ef4};if(_0x865ac8)return this['alignDlib']();return this[_0x5e1069(0x3f6)](_0x472839);}[_0x34daa7(0x2d9)](){const _0x55152a=_0x34daa7,_0x2fe4e9=this[_0x55152a(0x317)](),[_0x1a64bb,_0x497ec9,_0x1ef24c]=_0x2fe4e9,_0x12364c=_0x5be536=>_0x1ef24c[_0x55152a(0x39c)](_0x5be536)[_0x55152a(0x3e6)](),_0x2e0cf8=(_0x12364c(_0x1a64bb)+_0x12364c(_0x497ec9))/0x2,_0x4d6a0e=Math[_0x55152a(0x409)](_0x2e0cf8/relScale),_0x308f27=getCenterPoint(_0x2fe4e9),_0x2d62de=Math['floor'](Math['max'](0x0,_0x308f27['x']-relX*_0x4d6a0e)),_0x48130a=Math[_0x55152a(0x409)](Math[_0x55152a(0x387)](0x0,_0x308f27['y']-relY*_0x4d6a0e));return new Rect(_0x2d62de,_0x48130a,Math[_0x55152a(0x227)](_0x4d6a0e,this['imageWidth']+_0x2d62de),Math[_0x55152a(0x227)](_0x4d6a0e,this[_0x55152a(0x369)]+_0x48130a));}[_0x34daa7(0x3f6)](_0x4a88ab){const _0x337c40=_0x34daa7,_0x827744=minBbox(this[_0x337c40(0x3c3)]);return _0x827744['pad'](_0x827744[_0x337c40(0x29d)]*_0x4a88ab,_0x827744['height']*_0x4a88ab);}[_0x34daa7(0x317)](){const _0x3d6371=_0x34daa7;throw new Error(_0x3d6371(0x207));}},FaceLandmarks5=class extends FaceLandmarks{[_0x34daa7(0x317)](){const _0x37f762=_0x34daa7,_0x4a5af2=this[_0x37f762(0x3c3)];return[_0x4a5af2[0x0],_0x4a5af2[0x1],getCenterPoint([_0x4a5af2[0x3],_0x4a5af2[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{[_0x34daa7(0x3ad)](){const _0x3bba54=_0x34daa7;return this[_0x3bba54(0x3c3)][_0x3bba54(0x3c5)](0x0,0x11);}['getLeftEyeBrow'](){const _0xff1992=_0x34daa7;return this['positions'][_0xff1992(0x3c5)](0x11,0x16);}[_0x34daa7(0x391)](){const _0x60ff5c=_0x34daa7;return this[_0x60ff5c(0x3c3)][_0x60ff5c(0x3c5)](0x16,0x1b);}[_0x34daa7(0x2c1)](){const _0x544e5c=_0x34daa7;return this[_0x544e5c(0x3c3)][_0x544e5c(0x3c5)](0x1b,0x24);}['getLeftEye'](){const _0x49adc0=_0x34daa7;return this[_0x49adc0(0x3c3)][_0x49adc0(0x3c5)](0x24,0x2a);}[_0x34daa7(0x2dd)](){const _0x58194c=_0x34daa7;return this[_0x58194c(0x3c3)][_0x58194c(0x3c5)](0x2a,0x30);}['getMouth'](){const _0x525f6a=_0x34daa7;return this['positions'][_0x525f6a(0x3c5)](0x30,0x44);}['getRefPointsForAlignment'](){const _0x8ce5a3=_0x34daa7;return[this[_0x8ce5a3(0x238)](),this['getRightEye'](),this[_0x8ce5a3(0x1ca)]()]['map'](getCenterPoint);}},FaceMatch=class{constructor(_0x323e52,_0x459e79){const _0x391529=_0x34daa7;this[_0x391529(0x24e)]=_0x323e52,this[_0x391529(0x39f)]=_0x459e79;}get['label'](){return this['_label'];}get[_0x34daa7(0x39a)](){return this['_distance'];}[_0x34daa7(0x404)](_0x66bc5b=!![]){const _0x2f3dfe=_0x34daa7;return''+this[_0x2f3dfe(0x406)]+(_0x66bc5b?'\x20('+round(this[_0x2f3dfe(0x39a)])+')':'');}},LabeledBox=class extends Box{constructor(_0x21af22,_0x47b4ad){const _0x25ab39=_0x34daa7;super(_0x21af22),this[_0x25ab39(0x24e)]=_0x47b4ad;}static[_0x34daa7(0x235)](_0x45692b,_0x1f6663){const _0x2ec20f=_0x34daa7;Box['assertIsValidBox'](_0x45692b,_0x1f6663);if(!isValidNumber(_0x45692b[_0x2ec20f(0x406)]))throw new Error(_0x1f6663+_0x2ec20f(0x32a)+_0x45692b[_0x2ec20f(0x406)]+')\x20to\x20be\x20a\x20number');}get['label'](){const _0x269c45=_0x34daa7;return this[_0x269c45(0x24e)];}},LabeledFaceDescriptors=class{constructor(_0xc442b,_0x29a440){const _0x32487=_0x34daa7;if(!(typeof _0xc442b==='string'))throw new Error(_0x32487(0x351));if(!Array['isArray'](_0x29a440)||_0x29a440['some'](_0x389f81=>!(_0x389f81 instanceof Float32Array)))throw new Error(_0x32487(0x40a));this['_label']=_0xc442b,this[_0x32487(0x228)]=_0x29a440;}get[_0x34daa7(0x406)](){const _0x1d14a4=_0x34daa7;return this[_0x1d14a4(0x24e)];}get[_0x34daa7(0x1bc)](){return this['_descriptors'];}['toJSON'](){const _0x219df7=_0x34daa7;return{'label':this[_0x219df7(0x406)],'descriptors':this[_0x219df7(0x1bc)][_0x219df7(0x20a)](_0xb92426=>Array[_0x219df7(0x2cf)](_0xb92426))};}static['fromJSON'](_0x189139){const _0x3361c4=_0x34daa7,_0x2da46f=_0x189139[_0x3361c4(0x1bc)][_0x3361c4(0x20a)](_0x3d1067=>new Float32Array(_0x3d1067));return new LabeledFaceDescriptors(_0x189139[_0x3361c4(0x406)],_0x2da46f);}},PredictedBox=class extends LabeledBox{constructor(_0x201cc2,_0x375874,_0x433078,_0x1e168f){super(_0x201cc2,_0x375874),this['_score']=_0x433078,this['_classScore']=_0x1e168f;}static[_0x34daa7(0x3f0)](_0x42ce48,_0xf07e1d){const _0x3d74e5=_0x34daa7;LabeledBox['assertIsValidLabeledBox'](_0x42ce48,_0xf07e1d);if(!isValidProbablitiy(_0x42ce48[_0x3d74e5(0x2b5)])||!isValidProbablitiy(_0x42ce48[_0x3d74e5(0x370)]))throw new Error(_0xf07e1d+_0x3d74e5(0x251)+_0x42ce48[_0x3d74e5(0x2b5)]+_0x3d74e5(0x3e4)+_0x42ce48[_0x3d74e5(0x370)]+_0x3d74e5(0x1de));}get[_0x34daa7(0x2b5)](){const _0xb4e4fc=_0x34daa7;return this[_0xb4e4fc(0x348)];}get[_0x34daa7(0x370)](){const _0x3db27a=_0x34daa7;return this[_0x3db27a(0x1cc)];}};function isWithFaceDetection(_0x51db1c){const _0x5d0599=_0x34daa7;return _0x51db1c[_0x5d0599(0x3d3)]instanceof FaceDetection;}function extendWithFaceDetection(_0xd7a267,_0x122be7){const _0x49efe2={'detection':_0x122be7};return{..._0xd7a267,..._0x49efe2};}function createBrowserEnv(){const _0x360ca3=_0x34daa7,_0x280337=window[_0x360ca3(0x3d0)];if(!_0x280337)throw new Error(_0x360ca3(0x430));const _0x25744a=()=>{throw new Error('readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment');};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document[_0x360ca3(0x272)]('canvas'),'createImageElement':()=>document[_0x360ca3(0x272)](_0x360ca3(0x426)),'createVideoElement':()=>document[_0x360ca3(0x272)]('video'),'fetch':_0x280337,'readFile':_0x25744a};}function isNodejs(){const _0x6ca227=_0x34daa7;return typeof global===_0x6ca227(0x2ea)&&typeof process!==_0x6ca227(0x2e1)&&process[_0x6ca227(0x431)]!=null&&process[_0x6ca227(0x431)][_0x6ca227(0x2b0)]!=null;}function createFileSystem(_0x5f5262){const _0x17ccdf=_0x34daa7;let _0x273134='';if(!_0x5f5262&&isNodejs())try{_0x5f5262=require('fs');}catch(_0x4d1a63){console[_0x17ccdf(0x2e0)](_0x17ccdf(0x36f),_0x4d1a63),_0x273134=_0x4d1a63[_0x17ccdf(0x404)]();}const _0x586a59=_0x5f5262?_0x208d41=>new Promise((_0x301161,_0x7b0761)=>{_0x5f5262['readFile'](_0x208d41,(_0x162023,_0xb8ccfb)=>_0x162023?_0x7b0761(_0x162023):_0x301161(_0xb8ccfb));}):()=>{const _0x64432c=_0x17ccdf;throw new Error(_0x64432c(0x2a9)+_0x273134);};return{'readFile':_0x586a59};}function createNodejsEnv(){const _0x66b57c=_0x34daa7,_0x2b6832=global['Canvas']||global[_0x66b57c(0x2ca)],_0x30803e=global[_0x66b57c(0x2f7)]||global['HTMLImageElement'],_0x1a6e85=global['Video']||global[_0x66b57c(0x32b)],_0x23e1f1=()=>{if(_0x2b6832)return new _0x2b6832();throw new Error('createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment');},_0x1400e5=()=>{const _0x3cfc98=_0x66b57c;if(_0x30803e)return new _0x30803e();throw new Error(_0x3cfc98(0x3b2));},_0x37cd65=()=>{const _0x19b005=_0x66b57c;if(_0x1a6e85)return new _0x1a6e85();throw new Error(_0x19b005(0x2d2));},_0x5e5008=global[_0x66b57c(0x3d0)],_0x15119e=createFileSystem();return{'Canvas':_0x2b6832||class{},'CanvasRenderingContext2D':global[_0x66b57c(0x2de)]||class{},'Image':_0x30803e||class{},'ImageData':global[_0x66b57c(0x201)]||class{},'Video':global[_0x66b57c(0x32b)]||class{},'createCanvasElement':_0x23e1f1,'createImageElement':_0x1400e5,'createVideoElement':_0x37cd65,'fetch':_0x5e5008,..._0x15119e};}function isBrowser(){const _0x5dd280=_0x34daa7;return typeof window===_0x5dd280(0x2ea)&&typeof document!=='undefined'&&typeof HTMLImageElement!==_0x5dd280(0x2e1)&&typeof HTMLCanvasElement!==_0x5dd280(0x2e1)&&typeof HTMLVideoElement!==_0x5dd280(0x2e1)&&typeof ImageData!==_0x5dd280(0x2e1)&&typeof CanvasRenderingContext2D!==_0x5dd280(0x2e1);}var environment;function getEnv(){if(!environment)throw new Error('getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()');return environment;}function setEnv(_0x1f4409){environment=_0x1f4409;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x68df12){const _0x497a88=_0x34daa7;!environment&&initialize();if(!environment)throw new Error(_0x497a88(0x255));const {Canvas:Canvas=environment[_0x497a88(0x20b)],Image:Image=environment[_0x497a88(0x2f7)]}=_0x68df12;environment[_0x497a88(0x20b)]=Canvas,environment[_0x497a88(0x2f7)]=Image,environment[_0x497a88(0x355)]=_0x68df12['createCanvasElement']||(()=>new Canvas()),environment['createImageElement']=_0x68df12[_0x497a88(0x1fb)]||(()=>new Image()),environment['ImageData']=_0x68df12[_0x497a88(0x201)]||environment[_0x497a88(0x201)],environment[_0x497a88(0x1ed)]=_0x68df12['Video']||environment[_0x497a88(0x1ed)],environment[_0x497a88(0x3d0)]=_0x68df12[_0x497a88(0x3d0)]||environment[_0x497a88(0x3d0)],environment[_0x497a88(0x28f)]=_0x68df12['readFile']||environment[_0x497a88(0x28f)];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x482951){const _0xa62e6f=_0x34daa7;if(!env[_0xa62e6f(0x38f)]()&&typeof _0x482951==='string')return document[_0xa62e6f(0x1b1)](_0x482951);return _0x482951;}function getContext2dOrThrow(_0x12e06c){const _0x418301=_0x34daa7,{Canvas:_0x314bfc,CanvasRenderingContext2D:_0x5c1d03}=env[_0x418301(0x2bf)]();if(_0x12e06c instanceof _0x5c1d03)return _0x12e06c;const _0x59762d=resolveInput(_0x12e06c);if(!(_0x59762d instanceof _0x314bfc))throw new Error('resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas');const _0x147154=_0x59762d['getContext']('2d');if(!_0x147154)throw new Error(_0x418301(0x1f4));return _0x147154;}var AnchorPosition=(_0x564a67=>{const _0x52e5bf=_0x34daa7;return _0x564a67[_0x52e5bf(0x21f)]=_0x52e5bf(0x21f),_0x564a67[_0x52e5bf(0x38a)]=_0x52e5bf(0x38a),_0x564a67[_0x52e5bf(0x345)]='BOTTOM_LEFT',_0x564a67[_0x52e5bf(0x41d)]=_0x52e5bf(0x41d),_0x564a67;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x368474={}){const _0x109748=_0x34daa7,{anchorPosition:_0x238c96,backgroundColor:_0xda4c8a,fontColor:_0x1253f3,fontSize:_0x575883,fontStyle:_0x2be58d,padding:_0x3a5e82}=_0x368474;this[_0x109748(0x2ee)]=_0x238c96||_0x109748(0x21f),this[_0x109748(0x1f5)]=_0xda4c8a||_0x109748(0x330),this[_0x109748(0x296)]=_0x1253f3||_0x109748(0x372),this[_0x109748(0x1d3)]=_0x575883||0xe,this['fontStyle']=_0x2be58d||'Georgia',this['padding']=_0x3a5e82||0x4;}},DrawTextField=class{constructor(_0x34a32f,_0x4b42e9,_0x3d2443={}){const _0x27e4ea=_0x34daa7;this[_0x27e4ea(0x42c)]=typeof _0x34a32f===_0x27e4ea(0x3ea)?[_0x34a32f]:_0x34a32f instanceof DrawTextField?_0x34a32f[_0x27e4ea(0x42c)]:_0x34a32f,this[_0x27e4ea(0x256)]=_0x4b42e9,this[_0x27e4ea(0x3d2)]=new DrawTextFieldOptions(_0x3d2443);}['measureWidth'](_0xee3e44){const _0x3c4e5d=_0x34daa7,{padding:_0x283de1}=this[_0x3c4e5d(0x3d2)];return this[_0x3c4e5d(0x42c)][_0x3c4e5d(0x20a)](_0x109a9b=>_0xee3e44['measureText'](_0x109a9b)['width'])[_0x3c4e5d(0x1f3)]((_0x418232,_0x51fbec)=>_0x418232<_0x51fbec?_0x51fbec:_0x418232,0x0)+0x2*_0x283de1;}['measureHeight'](){const _0x34fa5e=_0x34daa7,{fontSize:_0x5b1bb6,padding:_0x31b2ed}=this[_0x34fa5e(0x3d2)];return this[_0x34fa5e(0x42c)][_0x34fa5e(0x40e)]*_0x5b1bb6+0x2*_0x31b2ed;}[_0x34daa7(0x2f8)](_0x18638f,_0x2eb2f9){const _0x2acca9=_0x34daa7,{anchorPosition:_0x362253}=this[_0x2acca9(0x3d2)],_0x3e0270=_0x362253===_0x2acca9(0x41d)||_0x362253===_0x2acca9(0x38a),_0x16af9c=_0x362253===_0x2acca9(0x345)||_0x362253===_0x2acca9(0x41d),_0x36c7e9=this[_0x2acca9(0x302)](_0x18638f),_0x1c3124=this[_0x2acca9(0x1c2)](),_0x39f5ae=_0x3e0270?this[_0x2acca9(0x256)]['x']-_0x36c7e9:this['anchor']['x'],_0x16a1aa=_0x16af9c?this['anchor']['y']-_0x1c3124:this[_0x2acca9(0x256)]['y'];if(_0x2eb2f9){const {width:_0x20e2f2,height:_0x3b74a1}=_0x2eb2f9,_0x34c5a2=Math[_0x2acca9(0x387)](Math[_0x2acca9(0x227)](_0x39f5ae,_0x20e2f2-_0x36c7e9),0x0),_0x47bb23=Math[_0x2acca9(0x387)](Math['min'](_0x16a1aa,_0x3b74a1-_0x1c3124),0x0);return{'x':_0x34c5a2,'y':_0x47bb23};}return{'x':_0x39f5ae,'y':_0x16a1aa};}[_0x34daa7(0x299)](_0x5a27d4){const _0x1c0abe=_0x34daa7,_0x23d65b=resolveInput(_0x5a27d4),_0x259757=getContext2dOrThrow(_0x23d65b),{backgroundColor:_0xfb6f13,fontColor:_0xccad90,fontSize:_0x35aaaf,fontStyle:_0x261455,padding:_0xafb6a8}=this['options'];_0x259757[_0x1c0abe(0x365)]=_0x35aaaf+_0x1c0abe(0x347)+_0x261455;const _0x4ed2f9=this['measureWidth'](_0x259757),_0x25bf54=this[_0x1c0abe(0x1c2)]();_0x259757[_0x1c0abe(0x324)]=_0xfb6f13;const _0x3c916b=this['getUpperLeft'](_0x259757,_0x23d65b);_0x259757[_0x1c0abe(0x2b8)](_0x3c916b['x'],_0x3c916b['y'],_0x4ed2f9,_0x25bf54),_0x259757[_0x1c0abe(0x324)]=_0xccad90,this[_0x1c0abe(0x42c)][_0x1c0abe(0x287)]((_0x3895e8,_0x3507a2)=>{const _0x4410a8=_0x1c0abe,_0x24f5ff=_0xafb6a8+_0x3c916b['x'],_0x3e1c7f=_0xafb6a8+_0x3c916b['y']+(_0x3507a2+0x1)*_0x35aaaf;_0x259757[_0x4410a8(0x410)](_0x3895e8,_0x24f5ff,_0x3e1c7f);});}},DrawBoxOptions=class{constructor(_0x37a928={}){const _0x282240=_0x34daa7,{boxColor:_0x138cea,lineWidth:_0x5f5dfb,label:_0xe7a681,drawLabelOptions:_0x18bfbd}=_0x37a928;this[_0x282240(0x1b8)]=_0x138cea||_0x282240(0x2c5),this[_0x282240(0x2f2)]=_0x5f5dfb||0x2,this[_0x282240(0x406)]=_0xe7a681;const _0x43913f={'anchorPosition':_0x282240(0x345),'backgroundColor':this[_0x282240(0x1b8)]};this[_0x282240(0x219)]=new DrawTextFieldOptions({..._0x43913f,..._0x18bfbd});}},DrawBox=class{constructor(_0x527ef6,_0x2ef289={}){const _0x3d4a60=_0x34daa7;this[_0x3d4a60(0x381)]=new Box(_0x527ef6),this['options']=new DrawBoxOptions(_0x2ef289);}['draw'](_0x48b465){const _0x29c5fc=_0x34daa7,_0x25682e=getContext2dOrThrow(_0x48b465),{boxColor:_0x21fc77,lineWidth:_0x31e8d0}=this[_0x29c5fc(0x3d2)],{x:_0x2f29f0,y:_0x5b4e3a,width:_0x5156dd,height:_0x6c6bce}=this['box'];_0x25682e[_0x29c5fc(0x2be)]=_0x21fc77,_0x25682e[_0x29c5fc(0x2f2)]=_0x31e8d0,_0x25682e[_0x29c5fc(0x33b)](_0x2f29f0,_0x5b4e3a,_0x5156dd,_0x6c6bce);const {label:_0x152938}=this[_0x29c5fc(0x3d2)];_0x152938&&new DrawTextField([_0x152938],{'x':_0x2f29f0-_0x31e8d0/0x2,'y':_0x5b4e3a},this[_0x29c5fc(0x3d2)][_0x29c5fc(0x219)])['draw'](_0x48b465);}};function drawDetections(_0x3142e7,_0x1972dc){const _0x58ff01=_0x34daa7,_0x20ebfa=Array[_0x58ff01(0x3c1)](_0x1972dc)?_0x1972dc:[_0x1972dc];_0x20ebfa[_0x58ff01(0x287)](_0x53add6=>{const _0x29171e=_0x58ff01,_0x3a6719=_0x53add6 instanceof FaceDetection?_0x53add6['score']:isWithFaceDetection(_0x53add6)?_0x53add6['detection']['score']:void 0x0,_0x43e750=_0x53add6 instanceof FaceDetection?_0x53add6['box']:isWithFaceDetection(_0x53add6)?_0x53add6[_0x29171e(0x3d3)][_0x29171e(0x381)]:new Box(_0x53add6),_0x51c998=_0x3a6719?''+round(_0x3a6719):void 0x0;new DrawBox(_0x43e750,{'label':_0x51c998})[_0x29171e(0x299)](_0x3142e7);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x58e813){const _0x2f515f=_0x34daa7,{Image:_0x26e6a1,Video:_0x1c454f}=env[_0x2f515f(0x2bf)]();return _0x58e813 instanceof _0x26e6a1&&_0x58e813['complete']||_0x58e813 instanceof _0x1c454f&&_0x58e813['readyState']>=0x3;}function awaitMediaLoaded(_0x552acd){return new Promise((_0x475b0e,_0xbbf299)=>{const _0x631c22=_0x549b;if(_0x552acd instanceof env[_0x631c22(0x2bf)]()[_0x631c22(0x20b)]||isMediaLoaded(_0x552acd))_0x475b0e(null);function _0x31466d(_0x3262bd){const _0x4f3cf8=_0x631c22;if(!_0x3262bd[_0x4f3cf8(0x204)])return;_0x3262bd[_0x4f3cf8(0x204)][_0x4f3cf8(0x1c5)](_0x4f3cf8(0x237),_0xc5b686),_0x3262bd[_0x4f3cf8(0x204)][_0x4f3cf8(0x1c5)](_0x4f3cf8(0x36f),_0x31466d),_0xbbf299(_0x3262bd);}function _0xc5b686(_0x28df64){const _0x901e2a=_0x631c22;if(!_0x28df64[_0x901e2a(0x204)])return;_0x28df64[_0x901e2a(0x204)][_0x901e2a(0x1c5)]('load',_0xc5b686),_0x28df64['currentTarget'][_0x901e2a(0x1c5)](_0x901e2a(0x36f),_0x31466d),_0x475b0e(_0x28df64);}_0x552acd[_0x631c22(0x3bc)]('load',_0xc5b686),_0x552acd[_0x631c22(0x3bc)]('error',_0x31466d);});}function bufferToImage(_0x3b2653){return new Promise((_0x273c47,_0x4867be)=>{const _0x3d7cd9=_0x549b;if(!(_0x3b2653 instanceof Blob))_0x4867be(new Error(_0x3d7cd9(0x3b7)));const _0x34bf69=new FileReader();_0x34bf69[_0x3d7cd9(0x3d5)]=()=>{const _0xb201fc=_0x3d7cd9;if(typeof _0x34bf69[_0xb201fc(0x1fd)]!==_0xb201fc(0x3ea))_0x4867be(new Error(_0xb201fc(0x2e2)));const _0x364afc=env['getEnv']()[_0xb201fc(0x1fb)]();_0x364afc[_0xb201fc(0x3d5)]=()=>_0x273c47(_0x364afc),_0x364afc[_0xb201fc(0x310)]=_0x4867be,_0x364afc[_0xb201fc(0x3c4)]=_0x34bf69[_0xb201fc(0x1fd)];},_0x34bf69[_0x3d7cd9(0x310)]=_0x4867be,_0x34bf69['readAsDataURL'](_0x3b2653);});}function getMediaDimensions(_0x2a67d){const _0xe850f4=_0x34daa7,{Image:_0x4673ae,Video:_0x1c202c}=env[_0xe850f4(0x2bf)]();if(_0x2a67d instanceof _0x4673ae)return new Dimensions(_0x2a67d[_0xe850f4(0x2c8)],_0x2a67d['naturalHeight']);if(_0x2a67d instanceof _0x1c202c)return new Dimensions(_0x2a67d[_0xe850f4(0x2f9)],_0x2a67d[_0xe850f4(0x390)]);return new Dimensions(_0x2a67d[_0xe850f4(0x29d)],_0x2a67d[_0xe850f4(0x1c0)]);}function createCanvas({width:_0x20f101,height:_0x58d080}){const _0x11ed6b=_0x34daa7,{createCanvasElement:_0x18ba4a}=env[_0x11ed6b(0x2bf)](),_0x458add=_0x18ba4a();return _0x458add['width']=_0x20f101,_0x458add['height']=_0x58d080,_0x458add;}function createCanvasFromMedia(_0x463950,_0x23492d){const _0x1b7c99=_0x34daa7,{ImageData:_0x46d0c}=env[_0x1b7c99(0x2bf)]();if(!(_0x463950 instanceof _0x46d0c)&&!isMediaLoaded(_0x463950))throw new Error(_0x1b7c99(0x282));const {width:_0x16ce95,height:_0x1586f2}=_0x23492d||getMediaDimensions(_0x463950),_0x4190f9=createCanvas({'width':_0x16ce95,'height':_0x1586f2});return _0x463950 instanceof _0x46d0c?getContext2dOrThrow(_0x4190f9)[_0x1b7c99(0x3e2)](_0x463950,0x0,0x0):getContext2dOrThrow(_0x4190f9)[_0x1b7c99(0x344)](_0x463950,0x0,0x0,_0x16ce95,_0x1586f2),_0x4190f9;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x19276a,_0x5afe2f){const _0x79f8e0=_0x34daa7,_0x411cb8=_0x5afe2f||env[_0x79f8e0(0x2bf)]()[_0x79f8e0(0x355)](),[_0x474cfc,_0x7f3c2c,_0x56944f]=_0x19276a[_0x79f8e0(0x377)][_0x79f8e0(0x3c5)](isTensor4D(_0x19276a)?0x1:0x0),_0x2400ae=tf4[_0x79f8e0(0x319)](()=>_0x19276a[_0x79f8e0(0x262)](_0x474cfc,_0x7f3c2c,_0x56944f)[_0x79f8e0(0x2a1)]());return await tf4[_0x79f8e0(0x284)][_0x79f8e0(0x2e7)](_0x2400ae,_0x411cb8),_0x2400ae[_0x79f8e0(0x31b)](),_0x411cb8;}function isMediaElement(_0x40d359){const _0x3b5103=_0x34daa7,{Image:_0x438dd0,Canvas:_0x47984e,Video:_0x47a3e1}=env[_0x3b5103(0x2bf)]();return _0x40d359 instanceof _0x438dd0||_0x40d359 instanceof _0x47984e||_0x40d359 instanceof _0x47a3e1;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x266446,_0x351953,_0x3641f1=![]){const _0x1bc0ac=_0x34daa7,{Image:_0x5cfd55,Canvas:_0x310766}=env['getEnv']();if(!(_0x266446 instanceof _0x5cfd55||_0x266446 instanceof _0x310766))throw new Error(_0x1bc0ac(0x2da));if(_0x351953<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x22b27e=getMediaDimensions(_0x266446),_0x1be2cf=_0x351953/Math['max'](_0x22b27e[_0x1bc0ac(0x1c0)],_0x22b27e[_0x1bc0ac(0x29d)]),_0x10a9c5=_0x1be2cf*_0x22b27e[_0x1bc0ac(0x29d)],_0x53a176=_0x1be2cf*_0x22b27e[_0x1bc0ac(0x1c0)],_0x257121=createCanvas({'width':_0x351953,'height':_0x351953}),_0x1c219f=_0x266446 instanceof _0x310766?_0x266446:createCanvasFromMedia(_0x266446),_0xb9bbc=Math[_0x1bc0ac(0x1eb)](_0x10a9c5-_0x53a176)/0x2,_0x194a51=_0x3641f1&&_0x10a9c5<_0x53a176?_0xb9bbc:0x0,_0x4c4a9d=_0x3641f1&&_0x53a176<_0x10a9c5?_0xb9bbc:0x0;if(_0x1c219f[_0x1bc0ac(0x29d)]>0x0&&_0x1c219f[_0x1bc0ac(0x1c0)]>0x0)getContext2dOrThrow(_0x257121)[_0x1bc0ac(0x344)](_0x1c219f,_0x194a51,_0x4c4a9d,_0x10a9c5,_0x53a176);return _0x257121;}var NetInput=class{constructor(_0x3e91ce,_0x23b37b=![]){const _0x33037c=_0x34daa7;this[_0x33037c(0x342)]=[],this['_canvases']=[],this['_treatAsBatchInput']=![],this[_0x33037c(0x2c6)]=[],this[_0x33037c(0x401)]=0x0;if(!Array[_0x33037c(0x3c1)](_0x3e91ce))throw new Error(_0x33037c(0x3fb)+_0x3e91ce);this[_0x33037c(0x415)]=_0x23b37b,this['_batchSize']=_0x3e91ce[_0x33037c(0x40e)],_0x3e91ce[_0x33037c(0x287)]((_0x226ef3,_0x4276b8)=>{const _0x4a9cbc=_0x33037c;if(isTensor3D(_0x226ef3)){this['_imageTensors'][_0x4276b8]=_0x226ef3,this['_inputDimensions'][_0x4276b8]=_0x226ef3[_0x4a9cbc(0x377)];return;}if(isTensor4D(_0x226ef3)){const _0x164965=_0x226ef3['shape'][0x0];if(_0x164965!==0x1)throw new Error(_0x4a9cbc(0x258)+_0x164965+_0x4a9cbc(0x1f9));this['_imageTensors'][_0x4276b8]=_0x226ef3,this[_0x4a9cbc(0x2c6)][_0x4276b8]=_0x226ef3[_0x4a9cbc(0x377)][_0x4a9cbc(0x3c5)](0x1);return;}const _0x4111de=_0x226ef3 instanceof env['getEnv']()[_0x4a9cbc(0x20b)]?_0x226ef3:createCanvasFromMedia(_0x226ef3);this['_canvases'][_0x4276b8]=_0x4111de,this['_inputDimensions'][_0x4276b8]=[_0x4111de['height'],_0x4111de['width'],0x3];});}get[_0x34daa7(0x1da)](){return this['_imageTensors'];}get[_0x34daa7(0x243)](){const _0x506e38=_0x34daa7;return this[_0x506e38(0x368)];}get[_0x34daa7(0x424)](){const _0x541442=_0x34daa7;return this[_0x541442(0x280)]>0x1||this[_0x541442(0x415)];}get[_0x34daa7(0x280)](){return this['_batchSize'];}get[_0x34daa7(0x35e)](){const _0x5db176=_0x34daa7;return this[_0x5db176(0x2c6)];}get[_0x34daa7(0x217)](){const _0x5e45fd=_0x34daa7;return this[_0x5e45fd(0x401)];}get[_0x34daa7(0x1bb)](){const _0x2b153f=_0x34daa7;return range(this['batchSize'],0x0,0x1)[_0x2b153f(0x20a)]((_0x4a73ca,_0xe5e2b1)=>this['getReshapedInputDimensions'](_0xe5e2b1));}[_0x34daa7(0x3aa)](_0x2274ee){const _0x430a91=_0x34daa7;return this[_0x430a91(0x243)][_0x2274ee]||this['imageTensors'][_0x2274ee];}['getInputDimensions'](_0x8de1ca){const _0x5aa856=_0x34daa7;return this[_0x5aa856(0x2c6)][_0x8de1ca];}[_0x34daa7(0x2c3)](_0x5cdb4f){const _0x3a2481=_0x34daa7;return this[_0x3a2481(0x2c6)][_0x5cdb4f][0x0];}[_0x34daa7(0x35f)](_0x4cbccc){return this['_inputDimensions'][_0x4cbccc][0x1];}[_0x34daa7(0x2df)](_0x460a64){const _0x22085d=_0x34daa7;if(typeof this[_0x22085d(0x217)]!==_0x22085d(0x343))throw new Error('getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet');const _0x3003e7=this[_0x22085d(0x35f)](_0x460a64),_0x28f95a=this[_0x22085d(0x2c3)](_0x460a64);return computeReshapedDimensions({'width':_0x3003e7,'height':_0x28f95a},this[_0x22085d(0x217)]);}[_0x34daa7(0x412)](_0x55b2f4,_0x5ad462=!![]){const _0x538172=_0x34daa7;return this['_inputSize']=_0x55b2f4,tf5[_0x538172(0x319)](()=>{const _0x4e38d6=_0x538172,_0x30ffcd=range(this[_0x4e38d6(0x280)],0x0,0x1)['map'](_0x4987cb=>{const _0x2764f4=_0x4e38d6,_0x11d8bb=this['getInput'](_0x4987cb);if(_0x11d8bb instanceof tf5['Tensor']){let _0x32ab6e=isTensor4D(_0x11d8bb)?_0x11d8bb:tf5[_0x2764f4(0x385)](_0x11d8bb);return _0x32ab6e=padToSquare(_0x32ab6e,_0x5ad462),(_0x32ab6e[_0x2764f4(0x377)][0x1]!==_0x55b2f4||_0x32ab6e[_0x2764f4(0x377)][0x2]!==_0x55b2f4)&&(_0x32ab6e=tf5[_0x2764f4(0x353)][_0x2764f4(0x2eb)](_0x32ab6e,[_0x55b2f4,_0x55b2f4],![],![])),_0x32ab6e[_0x2764f4(0x262)](_0x55b2f4,_0x55b2f4,0x3);}if(_0x11d8bb instanceof env[_0x2764f4(0x2bf)]()[_0x2764f4(0x20b)])return tf5[_0x2764f4(0x284)][_0x2764f4(0x316)](imageToSquare(_0x11d8bb,_0x55b2f4,_0x5ad462));throw new Error(_0x2764f4(0x322)+_0x4987cb+_0x2764f4(0x3a1)+_0x11d8bb);}),_0x16276a=tf5[_0x4e38d6(0x336)](_0x30ffcd[_0x4e38d6(0x20a)](_0x297758=>tf5[_0x4e38d6(0x31f)](_0x297758,_0x4e38d6(0x28e))))['as4D'](this['batchSize'],_0x55b2f4,_0x55b2f4,0x3);return _0x16276a;});}};async function toNetInput(_0x54b7e8){const _0x12ca2f=_0x34daa7;if(_0x54b7e8 instanceof NetInput)return _0x54b7e8;const _0x384efe=Array[_0x12ca2f(0x3c1)](_0x54b7e8)?_0x54b7e8:[_0x54b7e8];if(!_0x384efe[_0x12ca2f(0x40e)])throw new Error('toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input');const _0x2305e9=_0x31a686=>Array[_0x12ca2f(0x3c1)](_0x54b7e8)?_0x12ca2f(0x38b)+_0x31a686+':':'',_0x4393c8=_0x384efe[_0x12ca2f(0x20a)](resolveInput);return _0x4393c8['forEach']((_0x2622f0,_0x3efa24)=>{const _0x70f7b=_0x12ca2f;if(!isMediaElement(_0x2622f0)&&!isTensor3D(_0x2622f0)&&!isTensor4D(_0x2622f0)){if(typeof _0x384efe[_0x3efa24]===_0x70f7b(0x3ea))throw new Error('toNetInput\x20-'+_0x2305e9(_0x3efa24)+_0x70f7b(0x2ce)+_0x384efe[_0x3efa24]);throw new Error(_0x70f7b(0x1ef)+_0x2305e9(_0x3efa24)+'\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id');}if(isTensor4D(_0x2622f0)){const _0x58137b=_0x2622f0[_0x70f7b(0x377)][0x0];if(_0x58137b!==0x1)throw new Error(_0x70f7b(0x1ef)+_0x2305e9(_0x3efa24)+_0x70f7b(0x286)+_0x58137b+'\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array');}}),await Promise[_0x12ca2f(0x1cb)](_0x4393c8[_0x12ca2f(0x20a)](_0x2a5aa7=>isMediaElement(_0x2a5aa7)&&awaitMediaLoaded(_0x2a5aa7))),new NetInput(_0x4393c8,Array[_0x12ca2f(0x3c1)](_0x54b7e8));}async function extractFaces(_0x306688,_0x196176){const _0x46162d=_0x34daa7,{Canvas:_0x12b858}=env[_0x46162d(0x2bf)]();let _0x5b76a7=_0x306688;if(!(_0x306688 instanceof _0x12b858)){const _0x3c9f44=await toNetInput(_0x306688);if(_0x3c9f44[_0x46162d(0x280)]>0x1)throw new Error(_0x46162d(0x2b6));const _0x1bb7d5=_0x3c9f44['getInput'](0x0);_0x5b76a7=_0x1bb7d5 instanceof _0x12b858?_0x1bb7d5:await imageTensorToCanvas(_0x1bb7d5);}const _0x23ba8b=getContext2dOrThrow(_0x5b76a7),_0x32be51=_0x196176[_0x46162d(0x20a)](_0x3c9d14=>_0x3c9d14 instanceof FaceDetection?_0x3c9d14[_0x46162d(0x3f1)](_0x5b76a7[_0x46162d(0x29d)],_0x5b76a7[_0x46162d(0x1c0)])[_0x46162d(0x381)][_0x46162d(0x409)]():_0x3c9d14)['map'](_0xbb41f5=>_0xbb41f5['clipAtImageBorders'](_0x5b76a7[_0x46162d(0x29d)],_0x5b76a7[_0x46162d(0x1c0)]));return _0x32be51[_0x46162d(0x20a)](({x:_0x15c75e,y:_0x18e99d,width:_0x5bf0b2,height:_0x1aac4f})=>{const _0x36bd62=_0x46162d,_0x1e3470=createCanvas({'width':_0x5bf0b2,'height':_0x1aac4f});if(_0x5bf0b2>0x0&&_0x1aac4f>0x0)getContext2dOrThrow(_0x1e3470)[_0x36bd62(0x3e2)](_0x23ba8b['getImageData'](_0x15c75e,_0x18e99d,_0x5bf0b2,_0x1aac4f),0x0,0x0);return _0x1e3470;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x49ac16,_0x580c01){const _0x7a6e5d=_0x34daa7;if(!isTensor3D(_0x49ac16)&&!isTensor4D(_0x49ac16))throw new Error('extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D');if(isTensor4D(_0x49ac16)&&_0x49ac16[_0x7a6e5d(0x377)][0x0]>0x1)throw new Error(_0x7a6e5d(0x423));return tf6[_0x7a6e5d(0x319)](()=>{const _0x26816a=_0x7a6e5d,[_0x34087a,_0x4c8f6a,_0xbd60e2]=_0x49ac16['shape']['slice'](isTensor4D(_0x49ac16)?0x1:0x0),_0x131b9d=_0x580c01[_0x26816a(0x20a)](_0x1d3216=>_0x1d3216 instanceof FaceDetection?_0x1d3216['forSize'](_0x4c8f6a,_0x34087a)[_0x26816a(0x381)]:_0x1d3216)[_0x26816a(0x20a)](_0x56fb39=>_0x56fb39['clipAtImageBorders'](_0x4c8f6a,_0x34087a)),_0x4e53e5=_0x131b9d[_0x26816a(0x3a5)](_0x53c7b6=>_0x53c7b6['width']>0x0&&_0x53c7b6[_0x26816a(0x1c0)]>0x0)['map'](({x:_0x2c1536,y:_0x3501b2,width:_0xf13edd,height:_0x34792c})=>tf6[_0x26816a(0x303)](_0x49ac16[_0x26816a(0x262)](_0x34087a,_0x4c8f6a,_0xbd60e2),[_0x3501b2,_0x2c1536,0x0],[_0x34792c,_0xf13edd,_0xbd60e2]));return _0x4e53e5;});}async function fetchOrThrow(_0x2d62c8,_0x40a671){const _0x2f0db3=_0x34daa7,{fetch:_0x47d2bd}=env['getEnv'](),_0x44b8a7=await _0x47d2bd(_0x2d62c8,_0x40a671);if(!(_0x44b8a7[_0x2f0db3(0x26e)]<0x190))throw new Error(_0x2f0db3(0x396)+_0x44b8a7[_0x2f0db3(0x26e)]+')\x20'+_0x44b8a7[_0x2f0db3(0x37f)]+_0x2f0db3(0x3c0)+_0x44b8a7[_0x2f0db3(0x288)]);return _0x44b8a7;}async function fetchImage(_0x46e1e8){const _0x10c033=_0x34daa7,_0x3a7883=await fetchOrThrow(_0x46e1e8),_0x312271=await _0x3a7883[_0x10c033(0x2ef)]();if(!_0x312271[_0x10c033(0x1e0)]['startsWith'](_0x10c033(0x3a3)))throw new Error(_0x10c033(0x291)+_0x312271['type']+_0x10c033(0x2c4)+_0x3a7883[_0x10c033(0x288)]);return bufferToImage(_0x312271);}async function fetchJson(_0x1ed21d){const _0x28c902=_0x34daa7;return(await fetchOrThrow(_0x1ed21d))[_0x28c902(0x275)]();}async function fetchNetWeights(_0x497981){const _0x554e0c=_0x34daa7;return new Float32Array(await(await fetchOrThrow(_0x497981))[_0x554e0c(0x3af)]());}function bufferToVideo(_0x5e1feb){return new Promise((_0xabb713,_0x4753fe)=>{const _0x5dc6e9=_0x549b;if(!(_0x5e1feb instanceof Blob))_0x4753fe(new Error('bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob'));const _0x1023e2=env[_0x5dc6e9(0x2bf)]()[_0x5dc6e9(0x240)]();_0x1023e2['oncanplay']=()=>_0xabb713(_0x1023e2),_0x1023e2['onerror']=_0x4753fe,_0x1023e2[_0x5dc6e9(0x42e)]=!![],_0x1023e2[_0x5dc6e9(0x211)]=!![],_0x1023e2[_0x5dc6e9(0x3c4)]=URL[_0x5dc6e9(0x338)](_0x5e1feb),_0x1023e2[_0x5dc6e9(0x229)]();});}async function fetchVideo(_0xb853d6){const _0x1d90fc=_0x34daa7,_0x6d782e=await fetchOrThrow(_0xb853d6),_0x37b411=await _0x6d782e['blob']();if(!_0x37b411[_0x1d90fc(0x1e0)]['startsWith'](_0x1d90fc(0x274)))throw new Error('fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20'+_0x37b411['type']+_0x1d90fc(0x2c4)+_0x6d782e[_0x1d90fc(0x288)]);return bufferToVideo(_0x37b411);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x3d3356,_0x5342b6){const _0x350fc5=_0x34daa7,_0x4cac3f=_0x5342b6+_0x350fc5(0x3e9);if(!_0x3d3356)return{'modelBaseUri':'','manifestUri':_0x4cac3f};if(_0x3d3356==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x4cac3f};const _0x16b78f=_0x3d3356[_0x350fc5(0x361)]('http://')?_0x350fc5(0x1d6):_0x3d3356['startsWith'](_0x350fc5(0x397))?'https://':'';_0x3d3356=_0x3d3356['replace'](_0x16b78f,'');const _0x1a2cdf=_0x3d3356[_0x350fc5(0x257)]('/')[_0x350fc5(0x3a5)](_0x5f2447=>_0x5f2447),_0x152db8=_0x3d3356[_0x350fc5(0x382)](_0x350fc5(0x3ce))?_0x1a2cdf[_0x1a2cdf[_0x350fc5(0x40e)]-0x1]:_0x4cac3f;let _0x4f00e4=_0x16b78f+(_0x3d3356[_0x350fc5(0x382)]('.json')?_0x1a2cdf['slice'](0x0,_0x1a2cdf[_0x350fc5(0x40e)]-0x1):_0x1a2cdf)['join']('/');return _0x4f00e4=_0x3d3356['startsWith']('/')?'/'+_0x4f00e4:_0x4f00e4,{'modelBaseUri':_0x4f00e4,'manifestUri':_0x4f00e4==='/'?'/'+_0x152db8:_0x4f00e4+'/'+_0x152db8};}async function loadWeightMap(_0x1a07b7,_0x5972a5){const _0x36f927=_0x34daa7,{manifestUri:_0x43a93d,modelBaseUri:_0x24925f}=getModelUris(_0x1a07b7,_0x5972a5),_0x150408=await fetchJson(_0x43a93d);return tf7['io'][_0x36f927(0x42f)](_0x150408,_0x24925f);}function matchDimensions(_0x21d166,_0x5f4e19,_0x1da6c2=![]){const _0x41d955=_0x34daa7,{width:_0x31343d,height:_0x514e9e}=_0x1da6c2?getMediaDimensions(_0x5f4e19):_0x5f4e19;return _0x21d166['width']=_0x31343d,_0x21d166[_0x41d955(0x1c0)]=_0x514e9e,{'width':_0x31343d,'height':_0x514e9e};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x510a3f){const _0x12f802=_0x34daa7;this[_0x12f802(0x332)]=void 0x0,this['_paramMappings']=[],this['_name']=_0x510a3f;}get[_0x34daa7(0x1c9)](){const _0x1a0a98=_0x34daa7;return this[_0x1a0a98(0x332)];}get['paramMappings'](){const _0x4a1435=_0x34daa7;return this[_0x4a1435(0x2f3)];}get['isLoaded'](){const _0x3e5eaa=_0x34daa7;return!!this[_0x3e5eaa(0x1c9)];}['getParamFromPath'](_0x1e947e){const _0x4f4222=_0x34daa7,{obj:_0x5573ee,objProp:_0x41d59c}=this[_0x4f4222(0x34d)](_0x1e947e);return _0x5573ee[_0x41d59c];}[_0x34daa7(0x301)](_0x13529c,_0x22259c){const _0x50eebc=_0x34daa7,{obj:_0x9bbc3d,objProp:_0x15a8a0}=this[_0x50eebc(0x34d)](_0x13529c);_0x9bbc3d[_0x15a8a0][_0x50eebc(0x31b)](),_0x9bbc3d[_0x15a8a0]=_0x22259c;}[_0x34daa7(0x24a)](){const _0x2471f0=_0x34daa7;return this['_paramMappings'][_0x2471f0(0x20a)](({paramPath:_0x4f0aa3})=>({'path':_0x4f0aa3,'tensor':this[_0x2471f0(0x375)](_0x4f0aa3)}));}[_0x34daa7(0x29f)](){const _0xe697c4=_0x34daa7;return this[_0xe697c4(0x24a)]()[_0xe697c4(0x3a5)](_0x1c2993=>_0x1c2993[_0xe697c4(0x1c7)]instanceof tf8[_0xe697c4(0x3f5)]);}['getFrozenParams'](){const _0x3f100d=_0x34daa7;return this[_0x3f100d(0x24a)]()[_0x3f100d(0x3a5)](_0x4cb570=>!(_0x4cb570['tensor']instanceof tf8[_0x3f100d(0x3f5)]));}[_0x34daa7(0x378)](){const _0x1fe35b=_0x34daa7;this[_0x1fe35b(0x3ff)]()[_0x1fe35b(0x287)](({path:_0x5be629,tensor:_0x4b17c5})=>{const _0x1504a9=_0x1fe35b;this[_0x1504a9(0x301)](_0x5be629,_0x4b17c5[_0x1504a9(0x378)]());});}['freeze'](){const _0x6ee151=_0x34daa7;this['getTrainableParams']()[_0x6ee151(0x287)](({path:_0x11d23b,tensor:_0xe69794})=>{const _0x349884=_0x6ee151,_0x4b1d5c=tf8[_0x349884(0x1c7)](_0xe69794[_0x349884(0x3bf)]());_0xe69794[_0x349884(0x31b)](),this[_0x349884(0x301)](_0x11d23b,_0x4b1d5c);});}[_0x34daa7(0x31b)](_0x1d5443=!![]){const _0x18f6e8=_0x34daa7;this[_0x18f6e8(0x24a)]()[_0x18f6e8(0x287)](_0x1bfe53=>{const _0x5869f4=_0x18f6e8;if(_0x1d5443&&_0x1bfe53[_0x5869f4(0x1c7)][_0x5869f4(0x425)])throw new Error(_0x5869f4(0x28a)+_0x1bfe53['path']);_0x1bfe53[_0x5869f4(0x1c7)][_0x5869f4(0x31b)]();}),this[_0x18f6e8(0x332)]=void 0x0;}[_0x34daa7(0x253)](){const _0x93f27e=_0x34daa7;return new Float32Array(this[_0x93f27e(0x24a)]()[_0x93f27e(0x20a)](({tensor:_0x1e9029})=>Array[_0x93f27e(0x2cf)](_0x1e9029[_0x93f27e(0x3bf)]()))[_0x93f27e(0x1f3)]((_0x425317,_0x556810)=>_0x425317[_0x93f27e(0x307)](_0x556810)));}async[_0x34daa7(0x237)](_0x257804){const _0x284880=_0x34daa7;if(_0x257804 instanceof Float32Array){this[_0x284880(0x242)](_0x257804);return;}await this[_0x284880(0x34f)](_0x257804);}async[_0x34daa7(0x34f)](_0x2ca0d4){const _0x22cd49=_0x34daa7;if(_0x2ca0d4&&typeof _0x2ca0d4!==_0x22cd49(0x3ea))throw new Error(this[_0x22cd49(0x306)]+'.loadFromUri\x20-\x20expected\x20model\x20uri');const _0x1ac004=await loadWeightMap(_0x2ca0d4,this[_0x22cd49(0x40d)]());this[_0x22cd49(0x249)](_0x1ac004);}async[_0x34daa7(0x279)](_0x1cc1ed){const _0x145da6=_0x34daa7;if(_0x1cc1ed&&typeof _0x1cc1ed!=='string')throw new Error(this['_name']+_0x145da6(0x24c));const {readFile:_0x120faa}=env[_0x145da6(0x2bf)](),{manifestUri:_0x1e3d45,modelBaseUri:_0x3e6874}=getModelUris(_0x1cc1ed,this[_0x145da6(0x40d)]()),_0x200f0e=_0x213353=>Promise['all'](_0x213353[_0x145da6(0x20a)](_0x1ea411=>_0x120faa(_0x1ea411)[_0x145da6(0x208)](_0x2c865c=>_0x2c865c['buffer']))),_0x34cb4d=tf8['io']['weightsLoaderFactory'](_0x200f0e),_0xac1b8=JSON[_0x145da6(0x376)]((await _0x120faa(_0x1e3d45))[_0x145da6(0x404)]()),_0x2bbb05=await _0x34cb4d(_0xac1b8,_0x3e6874);this[_0x145da6(0x249)](_0x2bbb05);}[_0x34daa7(0x249)](_0x15780d){const _0x39056d=_0x34daa7,{paramMappings:_0x28ee0b,params:_0x3c20cf}=this[_0x39056d(0x3b5)](_0x15780d);this[_0x39056d(0x2f3)]=_0x28ee0b,this['_params']=_0x3c20cf;}['extractWeights'](_0x2d636c){const _0x177b0f=_0x34daa7,{paramMappings:_0x176948,params:_0x29db80}=this[_0x177b0f(0x1fa)](_0x2d636c);this[_0x177b0f(0x2f3)]=_0x176948,this[_0x177b0f(0x332)]=_0x29db80;}[_0x34daa7(0x34d)](_0x25a10b){const _0x21d577=_0x34daa7;if(!this['params'])throw new Error(_0x21d577(0x2fb));const _0xedd03d=_0x25a10b[_0x21d577(0x257)]('/')[_0x21d577(0x1f3)]((_0x348d2a,_0x4c1c06)=>{const _0x135a54=_0x21d577;if(!_0x348d2a['nextObj'][_0x135a54(0x3f9)](_0x4c1c06))throw new Error(_0x135a54(0x231)+_0x4c1c06+_0x135a54(0x1e5)+_0x25a10b);return{'obj':_0x348d2a[_0x135a54(0x2a0)],'objProp':_0x4c1c06,'nextObj':_0x348d2a[_0x135a54(0x2a0)][_0x4c1c06]};},{'nextObj':this[_0x21d577(0x1c9)]}),{obj:_0x58f888,objProp:_0x2845f8}=_0xedd03d;if(!_0x58f888||!_0x2845f8||!(_0x58f888[_0x2845f8]instanceof tf8[_0x21d577(0x2ae)]))throw new Error(_0x21d577(0x297)+_0x25a10b);return{'obj':_0x58f888,'objProp':_0x2845f8};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function _0x549b(_0xfaa9ff,_0x48549d){const _0x12ef33=_0x12ef();return _0x549b=function(_0x549b1b,_0x1ae38a){_0x549b1b=_0x549b1b-0x1b1;let _0x5cefb8=_0x12ef33[_0x549b1b];return _0x5cefb8;},_0x549b(_0xfaa9ff,_0x48549d);}function depthwiseSeparableConv(_0x1cc4a4,_0x433901,_0x17eae7){const _0x161024=_0x34daa7;return tf9[_0x161024(0x319)](()=>{const _0x1a9694=_0x161024;let _0x24eb4a=tf9[_0x1a9694(0x27c)](_0x1cc4a4,_0x433901['depthwise_filter'],_0x433901[_0x1a9694(0x349)],_0x17eae7,_0x1a9694(0x32c));return _0x24eb4a=tf9[_0x1a9694(0x2e3)](_0x24eb4a,_0x433901[_0x1a9694(0x398)]),_0x24eb4a;});}function denseBlock3(_0x14e278,_0x5ab902,_0x327536=![]){const _0x527f34=_0x34daa7;return tf10[_0x527f34(0x319)](()=>{const _0x4550ef=_0x527f34,_0x39c1df=tf10[_0x4550ef(0x35d)](_0x327536?tf10[_0x4550ef(0x2e3)](tf10[_0x4550ef(0x3df)](_0x14e278,_0x5ab902[_0x4550ef(0x264)]['filters'],[0x2,0x2],_0x4550ef(0x32c)),_0x5ab902['conv0'][_0x4550ef(0x398)]):depthwiseSeparableConv(_0x14e278,_0x5ab902[_0x4550ef(0x264)],[0x2,0x2])),_0x4dc398=depthwiseSeparableConv(_0x39c1df,_0x5ab902[_0x4550ef(0x32e)],[0x1,0x1]),_0x5a6e95=tf10['relu'](tf10[_0x4550ef(0x2e3)](_0x39c1df,_0x4dc398)),_0x544b62=depthwiseSeparableConv(_0x5a6e95,_0x5ab902[_0x4550ef(0x389)],[0x1,0x1]);return tf10['relu'](tf10[_0x4550ef(0x2e3)](_0x39c1df,tf10['add'](_0x4dc398,_0x544b62)));});}function denseBlock4(_0x53d3a9,_0x44159a,_0x16157e=![],_0x32eb6d=!![]){return tf10['tidy'](()=>{const _0x4b1dda=_0x549b,_0x33a178=tf10[_0x4b1dda(0x35d)](_0x16157e?tf10['add'](tf10[_0x4b1dda(0x3df)](_0x53d3a9,_0x44159a['conv0'][_0x4b1dda(0x3a2)],_0x32eb6d?[0x2,0x2]:[0x1,0x1],_0x4b1dda(0x32c)),_0x44159a[_0x4b1dda(0x264)][_0x4b1dda(0x398)]):depthwiseSeparableConv(_0x53d3a9,_0x44159a[_0x4b1dda(0x264)],_0x32eb6d?[0x2,0x2]:[0x1,0x1])),_0x18d053=depthwiseSeparableConv(_0x33a178,_0x44159a['conv1'],[0x1,0x1]),_0x133bca=tf10[_0x4b1dda(0x35d)](tf10[_0x4b1dda(0x2e3)](_0x33a178,_0x18d053)),_0x56ed48=depthwiseSeparableConv(_0x133bca,_0x44159a['conv2'],[0x1,0x1]),_0x1b0526=tf10[_0x4b1dda(0x35d)](tf10[_0x4b1dda(0x2e3)](_0x33a178,tf10[_0x4b1dda(0x2e3)](_0x18d053,_0x56ed48))),_0x431b49=depthwiseSeparableConv(_0x1b0526,_0x44159a['conv3'],[0x1,0x1]);return tf10['relu'](tf10['add'](_0x33a178,tf10['add'](_0x18d053,tf10['add'](_0x56ed48,_0x431b49))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x4dd679,_0x3cca07,_0x43eb1a=_0x34daa7(0x32c),_0x430bf8=![]){const _0x1e22e4=_0x34daa7;return tf11[_0x1e22e4(0x319)](()=>{const _0x17fd56=_0x1e22e4,_0x2074b0=tf11[_0x17fd56(0x2e3)](tf11[_0x17fd56(0x3df)](_0x4dd679,_0x3cca07['filters'],[0x1,0x1],_0x43eb1a),_0x3cca07[_0x17fd56(0x398)]);return _0x430bf8?tf11[_0x17fd56(0x35d)](_0x2074b0):_0x2074b0;});}function disposeUnusedWeightTensors(_0x100bdb,_0x52f93d){const _0x3dcc0a=_0x34daa7;Object['keys'](_0x100bdb)[_0x3dcc0a(0x287)](_0x1686cd=>{const _0x192cae=_0x3dcc0a;!_0x52f93d['some'](_0x457913=>_0x457913[_0x192cae(0x2db)]===_0x1686cd)&&_0x100bdb[_0x1686cd][_0x192cae(0x31b)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x562507,_0x1b36d3){return(_0x56d50c,_0x22b45b,_0x4fb611,_0xa5071)=>{const _0x1abd1b=_0x549b,_0x42f9e5=tf12[_0x1abd1b(0x3b1)](_0x562507(_0x56d50c*_0x22b45b*_0x4fb611*_0x4fb611),[_0x4fb611,_0x4fb611,_0x56d50c,_0x22b45b]),_0x47c7af=tf12[_0x1abd1b(0x41c)](_0x562507(_0x22b45b));return _0x1b36d3[_0x1abd1b(0x2d5)]({'paramPath':_0xa5071+'/filters'},{'paramPath':_0xa5071+_0x1abd1b(0x3ef)}),{'filters':_0x42f9e5,'bias':_0x47c7af};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x37ced5,_0x4cc43d){return(_0xe86fac,_0x2d229e,_0x479a51)=>{const _0x4ba6c8=_0x549b,_0x2ccd83=tf13['tensor2d'](_0x37ced5(_0xe86fac*_0x2d229e),[_0xe86fac,_0x2d229e]),_0x5f5664=tf13[_0x4ba6c8(0x41c)](_0x37ced5(_0x2d229e));return _0x4cc43d[_0x4ba6c8(0x2d5)]({'paramPath':_0x479a51+'/weights'},{'paramPath':_0x479a51+_0x4ba6c8(0x3ef)}),{'weights':_0x2ccd83,'bias':_0x5f5664};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x1919a2,_0x296692,_0x317281){const _0x1fe66d=_0x34daa7;this[_0x1fe66d(0x367)]=_0x1919a2,this[_0x1fe66d(0x349)]=_0x296692,this[_0x1fe66d(0x398)]=_0x317281;}};function extractSeparableConvParamsFactory(_0x4be69a,_0x246e03){return(_0x2d0fbf,_0x46f370,_0x47dde1)=>{const _0x49d861=_0x549b,_0x15aa74=tf14['tensor4d'](_0x4be69a(0x3*0x3*_0x2d0fbf),[0x3,0x3,_0x2d0fbf,0x1]),_0x7d11f9=tf14['tensor4d'](_0x4be69a(_0x2d0fbf*_0x46f370),[0x1,0x1,_0x2d0fbf,_0x46f370]),_0x5e67e4=tf14[_0x49d861(0x41c)](_0x4be69a(_0x46f370));return _0x246e03['push']({'paramPath':_0x47dde1+'/depthwise_filter'},{'paramPath':_0x47dde1+_0x49d861(0x2ba)},{'paramPath':_0x47dde1+_0x49d861(0x3ef)}),new SeparableConvParams(_0x15aa74,_0x7d11f9,_0x5e67e4);};}function loadSeparableConvParamsFactory(_0x40dda8){return _0x524ea3=>{const _0x3cdc75=_0x549b,_0xfbb589=_0x40dda8(_0x524ea3+_0x3cdc75(0x254),0x4),_0x4c7193=_0x40dda8(_0x524ea3+_0x3cdc75(0x2ba),0x4),_0x1596b8=_0x40dda8(_0x524ea3+_0x3cdc75(0x3ef),0x1);return new SeparableConvParams(_0xfbb589,_0x4c7193,_0x1596b8);};}function extractWeightEntryFactory(_0x29ddd4,_0x31a58d){return(_0x20ac4f,_0x5b6bd1,_0xb68fee)=>{const _0x3a7d1c=_0x549b,_0x5b8375=_0x29ddd4[_0x20ac4f];if(!isTensor(_0x5b8375,_0x5b6bd1))throw new Error(_0x3a7d1c(0x259)+_0x20ac4f+']\x20to\x20be\x20a\x20Tensor'+_0x5b6bd1+_0x3a7d1c(0x205)+_0x5b8375);return _0x31a58d[_0x3a7d1c(0x2d5)]({'originalPath':_0x20ac4f,'paramPath':_0xb68fee||_0x20ac4f}),_0x5b8375;};}function extractWeightsFactory(_0x4e0fd3){let _0x8bfa18=_0x4e0fd3;function _0x40d672(_0x3a9325){const _0x48d054=_0x549b,_0x5855da=_0x8bfa18[_0x48d054(0x3c5)](0x0,_0x3a9325);return _0x8bfa18=_0x8bfa18[_0x48d054(0x3c5)](_0x3a9325),_0x5855da;}function _0x2b52bb(){return _0x8bfa18;}return{'extractWeights':_0x40d672,'getRemainingWeights':_0x2b52bb};}function extractorsFactory(_0x11bb65,_0x4909fc){const _0x1f59d5=extractConvParamsFactory(_0x11bb65,_0x4909fc),_0x2472c3=extractSeparableConvParamsFactory(_0x11bb65,_0x4909fc);function _0x427f49(_0x491559,_0x47acaa,_0x1e3d56,_0x13f69e=![]){const _0x38611c=_0x549b,_0x7f4e98=_0x13f69e?_0x1f59d5(_0x491559,_0x47acaa,0x3,_0x1e3d56+'/conv0'):_0x2472c3(_0x491559,_0x47acaa,_0x1e3d56+_0x38611c(0x3e3)),_0x4c91e8=_0x2472c3(_0x47acaa,_0x47acaa,_0x1e3d56+_0x38611c(0x1e2)),_0x4827fd=_0x2472c3(_0x47acaa,_0x47acaa,_0x1e3d56+_0x38611c(0x3d7));return{'conv0':_0x7f4e98,'conv1':_0x4c91e8,'conv2':_0x4827fd};}function _0x4000fd(_0x11d0ef,_0x18b18f,_0x5ca5c7,_0x27e3da=![]){const _0x316c45=_0x549b,{conv0:_0x21af49,conv1:_0x1c9506,conv2:_0x4e423f}=_0x427f49(_0x11d0ef,_0x18b18f,_0x5ca5c7,_0x27e3da),_0x22d381=_0x2472c3(_0x18b18f,_0x18b18f,_0x5ca5c7+_0x316c45(0x3b3));return{'conv0':_0x21af49,'conv1':_0x1c9506,'conv2':_0x4e423f,'conv3':_0x22d381};}return{'extractDenseBlock3Params':_0x427f49,'extractDenseBlock4Params':_0x4000fd};}function _0x12ef(){const _0x4031d3=['width','matchDescriptor','getTrainableParams','nextObj','toInt','DEFAULT_FILTER_SIZES','conv_11','conv_12','/class_predictor','faceExpressionNet','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','conv8','readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20','separable_conv','probability','fc/gender','age','Tensor','5980401RgXhKw','node','conv128_2','findBestMatch','prediction_layer/conv_2','/conv/bias','score','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','depthwiseConv2d','fillRect','conv3','/pointwise_filter','mobilenetv1/conv_13','weights\x20remaing\x20after\x20extract:\x20','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','strokeStyle','getEnv','happy','getNose','prediction_layer/conv_1','getInputHeight',',\x20for\x20url:\x20','rgba(0,\x200,\x20255,\x201)','_inputDimensions','every','naturalWidth','4383323tTAwWG','HTMLCanvasElement','align','conv64_3','runTinyYolov2','\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20','from','/conv','age_gender_model','createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment','extractPredictedClass','boxPredictionEncoding','push','clipByValue','/BatchNorm/beta','/BoxEncodingPredictor','alignDlib','imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement','originalPath','FaceRecognitionNet','getRightEye','CanvasRenderingContext2D','getReshapedInputDimensions','log','undefined','bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload','add','mul','pointwise_conv','mobilenetv1/conv_6','toPixels','box_predictor_1','dense3','object','resizeBilinear','conv','face_expression_model','anchorPosition','blob','resizeResults\x20-\x20invalid\x20dimensions:\x20','/batch_norm_offset','lineWidth','_paramMappings','neutral','expressions','sigmoid','Image','getUpperLeft','videoWidth','drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof','traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params',',\x20numFilters:\x20','_depthwise','exports','conv_9','TinyXception\x20-\x20load\x20model\x20before\x20inference','reassignParamFromPath','measureWidth','slice3d','boxIndex','faceFeatureExtractor','_name','concat','tensor3d','conv64_1','transpose','Box.constructor','conv11','prediction_layer/conv_4','area','expansion_conv','onerror','_height','withFaceDescriptors','face','/truediv','_maxResults','fromPixels','getRefPointsForAlignment','entry_flow/reduction_block_0','tidy','face_landmark_68_model','dispose','prediction_layer/box_predictor_1/class_predictor','entry_flow/reduction_block_1','create','cast','conv_4','enumerable','toBatchTensor\x20-\x20at\x20batchIdx\x20','div','fillStyle','_minConfidence','config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20','TinyYolov2','conv32_down','prediction_layer/box_predictor_0/box_encoding_predictor','\x20-\x20expected\x20property\x20label\x20(','HTMLVideoElement','same','FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>','conv1','rescale','rgba(0,\x200,\x200,\x200.5)','withAgeAndGender','_params','main_block_','meanRgb','prediction_layer/box_predictor_2/box_encoding_predictor','stack','withFaceExpressions','createObjectURL','withFaceDescriptor','_className','strokeRect','extractClassifierParams','exit_flow/separable_conv','tiny_yolov2_model','config','conv32_3','random','_imageTensors','number','drawImage','BOTTOM_LEFT','prediction_layer/box_predictor_4/box_encoding_predictor','px\x20','_score','pointwise_filter','middle_flow/main_block_','roll','genderProbability','traversePropertyPath','parentTask','loadFromUri',',\x20filterSize:\x20','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string','/pointwise_conv','image','/depthwise_conv','createCanvasElement','entry_flow','left','toSquare','softmax','keys','person\x20','\x20-\x20width\x20(','relu','inputDimensions','getInputWidth','tiny_face_detector_model','startsWith','tinyFaceDetector','_pointwise/convolution_bn_offset','moveTo','font','sad','depthwise_filter','_canvases','imageHeight','className','computeFaceDescriptor','prototype','prediction_layer/box_predictor_3/class_predictor','constructor','error','classScore','TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20','rgba(255,\x20255,\x20255,\x201)','prediction_layer/conv_0','shift','getParamFromPath','parse','shape','variable','reduction_block_1','SsdMobilenetv1','angry','output_layer/extra_dim','face_recognition_model','euclideanDistance:\x20arr1.length\x20!==\x20arr2.length','statusText','pad','box','endsWith','conv32_2','conv64_2','expandDims','getClassifierChannelsIn','max','prediction_layer','conv2','TOP_RIGHT','\x20at\x20input\x20index\x20','FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference','_positions','/separable_conv0','isNodejs','videoHeight','getRightEyeBrow','lineColor','FaceExpressionNet','mobilenetv1/conv_1','pop','failed\x20to\x20fetch:\x20(','https://','bias','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','distance','drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof','sub','_numMainBlocks','some','_distance','reverse',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','filters','image/','conv_0','filter','array','Prediction/BoxPredictor_','face_feature_extractor_tiny_model','prediction_layer/box_predictor_3/box_encoding_predictor','getInput','output_layer','prediction_layer/conv_7','getJawOutline','mobilenetv1/conv_0','arrayBuffer','TinyYolov2Options','tensor4d','createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment','/conv3','out','extractParamsFromWeightMap','_config','bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','MALE','descriptor','lineTo','batch_norm_scale','addEventListener','_shift','tensor2d','dataSync',',\x20from\x20url:\x20','isArray','reshape','positions','src','slice','box_predictor_0','anchors','conv_13','TinyYolov2\x20-\x20load\x20model\x20before\x20inference','exit_flow/reduction_block','toJSON','scalar','4658680VLouqY','.json','Prediction','fetch','20945qDvWVR','options','detection','FaceFeatureExtractor','onload','prediction_layer/box_predictor_2/class_predictor','/conv2','conv_2','extractBoxes','tiny_yolov2_separable_conv_model','mobilenetv1/conv_2','conv256_down','expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20','/scale/weights','conv2d','postProcess','imageWidth','putImageData','/conv0',')\x20and\x20(','_faceFeatureExtractor','magnitude','/Conv2d_','default','-weights_manifest.json','string','unstack','weights','detect','getOwnPropertyNames','/bias','assertIsValidPredictedBox','forSize','prediction_layer/box_predictor_','conv6','conv256_down_out','Variable','alignMinBbox','arc','mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null','hasOwnProperty','maxResults','NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20','mobilenetv1/conv_7','pointSize','conv7','getFrozenParams','withClassScores','_inputSize','batch_norm_mean','separable_conv1','toString','conv_1','label','conv32_1','box_encoding_predictor','floor','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array','_imgDims','landmarks','getDefaultModelName','length','config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20','fillText','batch_norm_offset','toBatchTensor','as1D','_box','_treatAsBatchInput','/box_encoding_predictor','scoreThreshold','exp','clipAtImageBorders','conv_10','round','tensor1d','BOTTOM_RIGHT','prediction_layer/box_predictor_5/box_encoding_predictor','shiftBy','invalid\x20config:\x20','runNet','102742QwsevK','extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported','isBatchInput','isDisposed','img','conv_8','bottom','predictExpressions','extractedFaces','forwardInput','text','prediction_layer/conv_3','playsInline','loadWeights','fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment','versions','assertIsValidBox','1662vmDrAO','run','FEMALE','ageGenderNet','getElementById','arraySync','pitch','top','yaw','exit_flow','conv_7','boxColor','mobilenetv1/conv_3','/conv/filters','reshapedInputDimensions','descriptors','conv256_2','iouThreshold','8XQpHVn','height','drawLines','measureHeight','relativePositions','unshiftedLandmarks','removeEventListener','classes','tensor','batchNorm','params','getMouth','all','_classScore','prediction_layer/box_predictor_1/box_encoding_predictor','defineProperty','mobilenetv1','gender','useTinyLandmarkNet','_width','fontSize','MobilenetV1/Conv2d_','/weights','http://','AgeGenderNet','/BatchNorm/moving_mean','/expansion_conv','imageTensors','ssdMobilenetv1','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','mobilenetv1/conv_11',')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]','forward','type','expression','/conv1','scale','matMul',',\x20for\x20path\x20','/separable_conv1','mobilenetv1/conv_9','dense0','separable_conv0','sort','abs','reduction_block','Video','FaceLandmark68TinyNet','toNetInput\x20-','stroke','maxPool','isFirstLayerConv2d','reduce','resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null','backgroundColor','locateFaces','@tensorflow/tfjs-node','conv64_down','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','extractParams','createImageElement','bottomLeft','result','withSeparableConvs','conv4','faceLandmarks','ImageData','shiftByPoint','landmarkNet','currentTarget','D,\x20instead\x20have\x20','/biases','getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class','then','loadClassifierParams','map','Canvas','runAndExtendWithFaceDetection','dense1','prediction_layer/conv_6','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options','/batch_norm_scale','muted','valid','_imageDims','beginPath','input','1681644oHoHOI','inputSize','stringify','drawLabelOptions','conv256_1','minConfidence','fc/age','\x20-\x20invalid\x20box:\x20','predictAgeAndGender','TOP_LEFT','bottomRight','\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032','mean','surprised','classPrediction','face_landmark_68_tiny_model','/batch_norm_mean','min','_descriptors','play','fearful','entry_flow/conv_in','/bn','getClassifierChannelsOut','asSortedArray','MobilenetV1','box_predictor_2','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','relativeBox','faceLandmark68Net','female','assertIsValidLabeledBox','function','load','getLeftEye','isRect','_scoreThreshold','truediv','mobilenetv1/conv_12','as2D','call','right','createVideoElement','__esModule','extractWeights','canvases','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','extra_dim',',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height','boxEncodingSize','conv_3','loadFromWeightMap','getParamList','atan2','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','/depthwise_weights','_label','_distanceThreshold','conv128_down','\x20-\x20expected\x20properties\x20score\x20(','37763946uwNvmy','serializeParams','/depthwise_filter','monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','anchor','split','NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20','expected\x20weightMap[','reduction_block_0','/filters','zeros','distanceThreshold','male','calibrate','getOwnPropertyDescriptor','/BatchNorm/gamma','as3D',')\x20and\x20height\x20(','conv0','boolean','tiny_xception_model','withFaceLandmarks','catch','runAndExtendWithFaceDetections','dense2','avgPool','conv_6','4WEoNQK','status','faceRecognitionNet','tinyYolov2','batch_norm_variance','createElement','detectLandmarks','video/','json','middle_flow','box_predictor_5','rgba(0,\x20255,\x20255,\x201)','loadFromDisk','pointColor','faceLandmark68TinyNet','separableConv2d','/batch_norm_variance','filterSizes','separable_conv2','batchSize','conv5','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','disgusted','browser','labeledDescriptors','\x20tf.Tensor4D\x20with\x20batchSize\x20','forEach','url','\x20-\x20load\x20model\x20before\x20inference','param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20','fromJSON','FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input','_labeledDescriptors','float32','readFile','imageDims','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','data','fill','unknown','conv_5','fontColor','traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20','30MwmHEg','draw','Output/extra_dim','/separable_conv2','topLeft'];_0x12ef=function(){return _0x4031d3;};return _0x12ef();}function extractParams(_0x16a7b3){const _0x54f675=_0x34daa7,_0x14735c=[],{extractWeights:_0x3f0f18,getRemainingWeights:_0x295008}=extractWeightsFactory(_0x16a7b3),{extractDenseBlock4Params:_0x520f83}=extractorsFactory(_0x3f0f18,_0x14735c),_0x5838a4=_0x520f83(0x3,0x20,_0x54f675(0x1e8),!![]),_0xd2e65c=_0x520f83(0x20,0x40,_0x54f675(0x20d)),_0x1dd9ad=_0x520f83(0x40,0x80,'dense2'),_0x275bbd=_0x520f83(0x80,0x100,_0x54f675(0x2e9));if(_0x295008()[_0x54f675(0x40e)]!==0x0)throw new Error(_0x54f675(0x2bc)+_0x295008()[_0x54f675(0x40e)]);return{'paramMappings':_0x14735c,'params':{'dense0':_0x5838a4,'dense1':_0xd2e65c,'dense2':_0x1dd9ad,'dense3':_0x275bbd}};}function loadConvParamsFactory(_0x479d55){return _0x1ab5d7=>{const _0x5f299d=_0x549b,_0x5be5b1=_0x479d55(_0x1ab5d7+_0x5f299d(0x25b),0x4),_0x519cad=_0x479d55(_0x1ab5d7+'/bias',0x1);return{'filters':_0x5be5b1,'bias':_0x519cad};};}function loadParamsFactory(_0x48a273,_0x49867d){const _0x1d3a9f=extractWeightEntryFactory(_0x48a273,_0x49867d),_0x1826d2=loadConvParamsFactory(_0x1d3a9f),_0x5a9d54=loadSeparableConvParamsFactory(_0x1d3a9f);function _0x57b3e4(_0x4ca50f,_0x2b7483=![]){const _0x29c403=_0x549b,_0xc9cfb8=_0x2b7483?_0x1826d2(_0x4ca50f+_0x29c403(0x3e3)):_0x5a9d54(_0x4ca50f+_0x29c403(0x3e3)),_0x4dfe62=_0x5a9d54(_0x4ca50f+_0x29c403(0x1e2)),_0x210318=_0x5a9d54(_0x4ca50f+_0x29c403(0x3d7));return{'conv0':_0xc9cfb8,'conv1':_0x4dfe62,'conv2':_0x210318};}function _0x54d3c0(_0xc467eb,_0x5c82dd=![]){const _0x539769=_0x549b,_0x4fc0b9=_0x5c82dd?_0x1826d2(_0xc467eb+_0x539769(0x3e3)):_0x5a9d54(_0xc467eb+'/conv0'),_0x3525de=_0x5a9d54(_0xc467eb+_0x539769(0x1e2)),_0x550dd5=_0x5a9d54(_0xc467eb+_0x539769(0x3d7)),_0x590698=_0x5a9d54(_0xc467eb+'/conv3');return{'conv0':_0x4fc0b9,'conv1':_0x3525de,'conv2':_0x550dd5,'conv3':_0x590698};}return{'extractDenseBlock3Params':_0x57b3e4,'extractDenseBlock4Params':_0x54d3c0};}function extractParamsFromWeightMap(_0x3ff0de){const _0x375b1c=_0x34daa7,_0x1ea721=[],{extractDenseBlock4Params:_0x53c51a}=loadParamsFactory(_0x3ff0de,_0x1ea721),_0x4def32={'dense0':_0x53c51a(_0x375b1c(0x1e8),!![]),'dense1':_0x53c51a(_0x375b1c(0x20d)),'dense2':_0x53c51a(_0x375b1c(0x26a)),'dense3':_0x53c51a(_0x375b1c(0x2e9))};return disposeUnusedWeightTensors(_0x3ff0de,_0x1ea721),{'params':_0x4def32,'paramMappings':_0x1ea721};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x3342ae=_0x34daa7;super(_0x3342ae(0x3d4));}['forwardInput'](_0x1fd1fa){const _0x1e339a=_0x34daa7,{params:_0x29ed58}=this;if(!_0x29ed58)throw new Error(_0x1e339a(0x1dc));return tf15[_0x1e339a(0x319)](()=>{const _0xfb4cac=_0x1e339a,_0x4a67de=tf15[_0xfb4cac(0x31f)](_0x1fd1fa[_0xfb4cac(0x412)](0x70,!![]),_0xfb4cac(0x28e)),_0x184a75=[122.782,117.001,104.298],_0x295a19=normalize(_0x4a67de,_0x184a75)['div'](0xff);let _0x1c832b=denseBlock4(_0x295a19,_0x29ed58['dense0'],!![]);return _0x1c832b=denseBlock4(_0x1c832b,_0x29ed58['dense1']),_0x1c832b=denseBlock4(_0x1c832b,_0x29ed58[_0xfb4cac(0x26a)]),_0x1c832b=denseBlock4(_0x1c832b,_0x29ed58['dense3']),_0x1c832b=tf15[_0xfb4cac(0x26b)](_0x1c832b,[0x7,0x7],[0x2,0x2],_0xfb4cac(0x212)),_0x1c832b;});}async[_0x34daa7(0x1df)](_0x20bcb5){const _0x5eb050=_0x34daa7;return this[_0x5eb050(0x42b)](await toNetInput(_0x20bcb5));}[_0x34daa7(0x40d)](){return'face_feature_extractor_model';}[_0x34daa7(0x3b5)](_0x3899f6){return extractParamsFromWeightMap(_0x3899f6);}[_0x34daa7(0x1fa)](_0x1b6f4d){return extractParams(_0x1b6f4d);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x2b0bf9,_0x818c09){const _0x1ac66e=_0x34daa7;return tf16[_0x1ac66e(0x319)](()=>tf16[_0x1ac66e(0x2e3)](tf16[_0x1ac66e(0x1e4)](_0x2b0bf9,_0x818c09[_0x1ac66e(0x3ec)]),_0x818c09[_0x1ac66e(0x398)]));}function extractParams2(_0x1709a0,_0x5da6da,_0x3fee31){const _0x2d7101=_0x34daa7,_0x5d1137=[],{extractWeights:_0x300add,getRemainingWeights:_0x3b9f24}=extractWeightsFactory(_0x1709a0),_0x126e02=extractFCParamsFactory(_0x300add,_0x5d1137),_0x471595=_0x126e02(_0x5da6da,_0x3fee31,'fc');if(_0x3b9f24()[_0x2d7101(0x40e)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x3b9f24()[_0x2d7101(0x40e)]);return{'paramMappings':_0x5d1137,'params':{'fc':_0x471595}};}function extractParamsFromWeightMap2(_0x2953e3){const _0x32bd9a=[],_0x3283f1=extractWeightEntryFactory(_0x2953e3,_0x32bd9a);function _0x264bd0(_0x5e2477){const _0x40350a=_0x549b,_0x40ea4a=_0x3283f1(_0x5e2477+_0x40350a(0x1d5),0x2),_0x2cd6b9=_0x3283f1(_0x5e2477+_0x40350a(0x3ef),0x1);return{'weights':_0x40ea4a,'bias':_0x2cd6b9};}const _0x18bdab={'fc':_0x264bd0('fc')};return disposeUnusedWeightTensors(_0x2953e3,_0x32bd9a),{'params':_0x18bdab,'paramMappings':_0x32bd9a};}function seperateWeightMaps(_0x3f9f7e){const _0x185bf1=_0x34daa7,_0xcb4f78={},_0x336471={};return Object[_0x185bf1(0x35a)](_0x3f9f7e)[_0x185bf1(0x287)](_0x3bccfa=>{const _0x516de5=_0x185bf1,_0x15ec06=_0x3bccfa[_0x516de5(0x361)]('fc')?_0x336471:_0xcb4f78;_0x15ec06[_0x3bccfa]=_0x3f9f7e[_0x3bccfa];}),{'featureExtractorMap':_0xcb4f78,'classifierMap':_0x336471};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x13aa4b,_0x487baa){super(_0x13aa4b),this['_faceFeatureExtractor']=_0x487baa;}get[_0x34daa7(0x305)](){const _0x5d5983=_0x34daa7;return this[_0x5d5983(0x3e5)];}[_0x34daa7(0x421)](_0x4f092c){const _0x381cf0=_0x34daa7,{params:_0x3b27ce}=this;if(!_0x3b27ce)throw new Error(this[_0x381cf0(0x306)]+_0x381cf0(0x289));return tf17[_0x381cf0(0x319)](()=>{const _0x5e4641=_0x381cf0,_0x59ae77=_0x4f092c instanceof NetInput?this[_0x5e4641(0x305)][_0x5e4641(0x42b)](_0x4f092c):_0x4f092c;return fullyConnectedLayer(_0x59ae77[_0x5e4641(0x23d)](_0x59ae77[_0x5e4641(0x377)][0x0],-0x1),_0x3b27ce['fc']);});}[_0x34daa7(0x31b)](_0x35f000=!![]){const _0x3338ca=_0x34daa7;this[_0x3338ca(0x305)][_0x3338ca(0x31b)](_0x35f000),super[_0x3338ca(0x31b)](_0x35f000);}['loadClassifierParams'](_0x59889f){const _0x4fcbe4=_0x34daa7,{params:_0x2adc79,paramMappings:_0x475b30}=this[_0x4fcbe4(0x33c)](_0x59889f);this['_params']=_0x2adc79,this['_paramMappings']=_0x475b30;}['extractClassifierParams'](_0x214d87){const _0x14f206=_0x34daa7;return extractParams2(_0x214d87,this['getClassifierChannelsIn'](),this[_0x14f206(0x22d)]());}[_0x34daa7(0x3b5)](_0x5957aa){const _0x22081c=_0x34daa7,{featureExtractorMap:_0x299809,classifierMap:_0x4ee7de}=seperateWeightMaps(_0x5957aa);return this[_0x22081c(0x305)][_0x22081c(0x249)](_0x299809),extractParamsFromWeightMap2(_0x4ee7de);}[_0x34daa7(0x1fa)](_0x528393){const _0x5d8b20=_0x34daa7,_0x413e7d=this['getClassifierChannelsIn'](),_0x8d65ec=this[_0x5d8b20(0x22d)](),_0x1abba9=_0x8d65ec*_0x413e7d+_0x8d65ec,_0x3691fd=_0x528393[_0x5d8b20(0x3c5)](0x0,_0x528393[_0x5d8b20(0x40e)]-_0x1abba9),_0x2efa0c=_0x528393['slice'](_0x528393['length']-_0x1abba9);return this[_0x5d8b20(0x305)][_0x5d8b20(0x242)](_0x3691fd),this[_0x5d8b20(0x33c)](_0x2efa0c);}},FACE_EXPRESSION_LABELS=[_0x34daa7(0x2f4),_0x34daa7(0x2c0),_0x34daa7(0x366),_0x34daa7(0x37b),_0x34daa7(0x22a),_0x34daa7(0x283),_0x34daa7(0x223)],FaceExpressions=class{constructor(_0x429727){const _0x3934ae=_0x34daa7;this[_0x3934ae(0x2f4)]=0x0,this[_0x3934ae(0x2c0)]=0x0,this[_0x3934ae(0x366)]=0x0,this['angry']=0x0,this[_0x3934ae(0x22a)]=0x0,this[_0x3934ae(0x283)]=0x0,this[_0x3934ae(0x223)]=0x0;if(_0x429727[_0x3934ae(0x40e)]!==0x7)throw new Error(_0x3934ae(0x244)+_0x429727[_0x3934ae(0x40e)]);FACE_EXPRESSION_LABELS[_0x3934ae(0x287)]((_0x60135d,_0x450821)=>{this[_0x60135d]=_0x429727[_0x450821];});}[_0x34daa7(0x22e)](){const _0x1d0207=_0x34daa7;return FACE_EXPRESSION_LABELS[_0x1d0207(0x20a)](_0x393e17=>({'expression':_0x393e17,'probability':this[_0x393e17]}))['sort']((_0x580379,_0x3e56ce)=>_0x3e56ce[_0x1d0207(0x2ab)]-_0x580379[_0x1d0207(0x2ab)]);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x29dc19=new FaceFeatureExtractor()){const _0x4f2f4b=_0x34daa7;super(_0x4f2f4b(0x393),_0x29dc19);}[_0x34daa7(0x42b)](_0x17c9d7){const _0x191e1b=_0x34daa7;return tf18[_0x191e1b(0x319)](()=>tf18[_0x191e1b(0x359)](this['runNet'](_0x17c9d7)));}async[_0x34daa7(0x1df)](_0x15cda5){const _0x5535c5=_0x34daa7;return this[_0x5535c5(0x42b)](await toNetInput(_0x15cda5));}async['predictExpressions'](_0x5ce23f){const _0x416f3f=_0x34daa7,_0x59ffee=await toNetInput(_0x5ce23f),_0x139a49=await this['forwardInput'](_0x59ffee),_0x19f2d8=await Promise[_0x416f3f(0x1cb)](tf18[_0x416f3f(0x3eb)](_0x139a49)[_0x416f3f(0x20a)](async _0x1dded5=>{const _0x5a1290=_0x1dded5['dataSync']();return _0x1dded5['dispose'](),_0x5a1290;}));_0x139a49[_0x416f3f(0x31b)]();const _0x2d8c6b=_0x19f2d8[_0x416f3f(0x20a)](_0x407556=>new FaceExpressions(_0x407556));return _0x59ffee['isBatchInput']?_0x2d8c6b:_0x2d8c6b[0x0];}['getDefaultModelName'](){const _0x4c014f=_0x34daa7;return _0x4c014f(0x2ed);}['getClassifierChannelsIn'](){return 0x100;}[_0x34daa7(0x22d)](){return 0x7;}};function isWithFaceExpressions(_0x2f97f3){const _0x33eb6e=_0x34daa7;return _0x2f97f3[_0x33eb6e(0x2f5)]instanceof FaceExpressions;}function extendWithFaceExpressions(_0x1ca515,_0x5e6e8d){const _0x1f91dd={'expressions':_0x5e6e8d};return{..._0x1ca515,..._0x1f91dd};}function drawFaceExpressions(_0x53ffca,_0x438a0b,_0x4e25a3=0.1,_0x4cb809){const _0x214103=_0x34daa7,_0x494890=Array['isArray'](_0x438a0b)?_0x438a0b:[_0x438a0b];_0x494890[_0x214103(0x287)](_0x28f026=>{const _0x537935=_0x214103,_0x3984a2=_0x28f026 instanceof FaceExpressions?_0x28f026:isWithFaceExpressions(_0x28f026)?_0x28f026[_0x537935(0x2f5)]:void 0x0;if(!_0x3984a2)throw new Error(_0x537935(0x2fa));const _0x3cf868=_0x3984a2[_0x537935(0x22e)](),_0x162480=_0x3cf868[_0x537935(0x3a5)](_0x55bd19=>_0x55bd19['probability']>_0x4e25a3),_0xf283fa=isWithFaceDetection(_0x28f026)?_0x28f026[_0x537935(0x3d3)][_0x537935(0x381)][_0x537935(0x1fc)]:_0x4cb809||new Point(0x0,0x0),_0x3117b2=new DrawTextField(_0x162480[_0x537935(0x20a)](_0x1c8073=>_0x1c8073[_0x537935(0x1e1)]+'\x20('+round(_0x1c8073[_0x537935(0x2ab)])+')'),_0xf283fa);_0x3117b2[_0x537935(0x299)](_0x53ffca);});}function isWithFaceLandmarks(_0x39068b){const _0x3484c4=_0x34daa7;return isWithFaceDetection(_0x39068b)&&_0x39068b[_0x3484c4(0x40c)]instanceof FaceLandmarks&&_0x39068b['unshiftedLandmarks']instanceof FaceLandmarks&&_0x39068b['alignedRect']instanceof FaceDetection;}function calculateFaceAngle(_0x7675ee){const _0x6cad54=_0x34daa7,_0xa10a6b=(_0x1f95eb,_0x528cc9,_0x5a77ca,_0x581875)=>Math[_0x6cad54(0x24b)](_0x581875-_0x528cc9,_0x5a77ca-_0x1f95eb)%Math['PI'],_0x377ce8=_0xbdcae4=>_0xbdcae4*0xb4/Math['PI'],_0x611f2a={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x7675ee||!_0x7675ee[_0x6cad54(0x38d)]||_0x7675ee[_0x6cad54(0x38d)][_0x6cad54(0x40e)]!==0x44)return _0x611f2a;const _0x3e8653=_0x7675ee[_0x6cad54(0x38d)];_0x611f2a[_0x6cad54(0x34b)]=-_0xa10a6b(_0x3e8653[0x24]['_x'],_0x3e8653[0x24]['_y'],_0x3e8653[0x2d]['_x'],_0x3e8653[0x2d]['_y']),_0x611f2a[_0x6cad54(0x1b3)]=_0xa10a6b(0x0,Math[_0x6cad54(0x1eb)](_0x3e8653[0x0]['_x']-_0x3e8653[0x1e]['_x'])/_0x3e8653[0x1e]['_x'],Math['PI'],Math['abs'](_0x3e8653[0x10]['_x']-_0x3e8653[0x1e]['_x'])/_0x3e8653[0x1e]['_x']);const _0x2c867f=_0x3e8653['reduce']((_0x218d39,_0xddcc16)=>_0x218d39<_0xddcc16['_y']?_0x218d39:_0xddcc16['_y'],Infinity),_0x5c2384=_0x3e8653['reduce']((_0x53c5d9,_0x2ccc7d)=>_0x53c5d9>_0x2ccc7d['_y']?_0x53c5d9:_0x2ccc7d['_y'],-Infinity);return _0x611f2a[_0x6cad54(0x1b5)]=Math['PI']*(_0x7675ee['_imgDims'][_0x6cad54(0x311)]/(_0x5c2384-_0x2c867f)/1.4-0x1),_0x611f2a;}function extendWithFaceLandmarks(_0x2de8ba,_0x1caf1a){const _0x2d654d=_0x34daa7,{box:_0x42254a}=_0x2de8ba[_0x2d654d(0x3d3)],_0x1ac91e=_0x1caf1a['shiftBy'](_0x42254a['x'],_0x42254a['y']),_0x2e725d=_0x1ac91e[_0x2d654d(0x2cb)](),{imageDims:_0x5d0404}=_0x2de8ba[_0x2d654d(0x3d3)],_0x1d88c0=new FaceDetection(_0x2de8ba[_0x2d654d(0x3d3)]['score'],_0x2e725d[_0x2d654d(0x32f)](_0x5d0404['reverse']()),_0x5d0404),_0x3d44eb=calculateFaceAngle(_0x1caf1a),_0x3cbd1c={'landmarks':_0x1ac91e,'unshiftedLandmarks':_0x1caf1a,'alignedRect':_0x1d88c0,'angle':_0x3d44eb};return{..._0x2de8ba,..._0x3cbd1c};}var DrawFaceLandmarksOptions=class{constructor(_0x40e201={}){const _0x1d743e=_0x34daa7,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0xb1870,lineColor:_0x4d128a,pointSize:_0x479e48,pointColor:_0x56f885}=_0x40e201;this[_0x1d743e(0x1c1)]=drawLines,this['drawPoints']=drawPoints,this['lineWidth']=_0xb1870||0x1,this[_0x1d743e(0x3fd)]=_0x479e48||0x2,this[_0x1d743e(0x392)]=_0x4d128a||_0x1d743e(0x278),this[_0x1d743e(0x27a)]=_0x56f885||'rgba(255,\x200,\x20255,\x201)';}},DrawFaceLandmarks=class{constructor(_0x57a171,_0x294cfb={}){const _0x11eca6=_0x34daa7;this[_0x11eca6(0x200)]=_0x57a171,this['options']=new DrawFaceLandmarksOptions(_0x294cfb);}['draw'](_0x40f58e){const _0x1ff65c=_0x34daa7,_0x3325e6=getContext2dOrThrow(_0x40f58e),{drawLines:_0x3bfe0d,drawPoints:_0x349feb,lineWidth:_0x3137d6,lineColor:_0x2b591b,pointSize:_0x457cf4,pointColor:_0x19e757}=this['options'];_0x3bfe0d&&this[_0x1ff65c(0x200)]instanceof FaceLandmarks68&&(_0x3325e6[_0x1ff65c(0x2be)]=_0x2b591b,_0x3325e6['lineWidth']=_0x3137d6,drawContour(_0x3325e6,this['faceLandmarks']['getJawOutline']()),drawContour(_0x3325e6,this[_0x1ff65c(0x200)]['getLeftEyeBrow']()),drawContour(_0x3325e6,this[_0x1ff65c(0x200)]['getRightEyeBrow']()),drawContour(_0x3325e6,this[_0x1ff65c(0x200)][_0x1ff65c(0x2c1)]()),drawContour(_0x3325e6,this['faceLandmarks'][_0x1ff65c(0x238)](),!![]),drawContour(_0x3325e6,this[_0x1ff65c(0x200)][_0x1ff65c(0x2dd)](),!![]),drawContour(_0x3325e6,this[_0x1ff65c(0x200)][_0x1ff65c(0x1ca)](),!![]));if(_0x349feb){_0x3325e6[_0x1ff65c(0x2be)]=_0x19e757,_0x3325e6[_0x1ff65c(0x324)]=_0x19e757;const _0xfc43f1=_0x9ff8b1=>{const _0x7cac58=_0x1ff65c;_0x3325e6['beginPath'](),_0x3325e6[_0x7cac58(0x3f7)](_0x9ff8b1['x'],_0x9ff8b1['y'],_0x457cf4,0x0,0x2*Math['PI']),_0x3325e6[_0x7cac58(0x293)]();};this[_0x1ff65c(0x200)][_0x1ff65c(0x3c3)][_0x1ff65c(0x287)](_0xfc43f1);}}};function drawFaceLandmarks(_0x65d56c,_0x3dc53f){const _0x150850=_0x34daa7,_0x23e32f=Array[_0x150850(0x3c1)](_0x3dc53f)?_0x3dc53f:[_0x3dc53f];_0x23e32f[_0x150850(0x287)](_0x4f7608=>{const _0xcff2d8=_0x150850,_0x2032c6=_0x4f7608 instanceof FaceLandmarks?_0x4f7608:isWithFaceLandmarks(_0x4f7608)?_0x4f7608['landmarks']:void 0x0;if(!_0x2032c6)throw new Error(_0xcff2d8(0x39b));new DrawFaceLandmarks(_0x2032c6)['draw'](_0x65d56c);});}var version='1.7.3',tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x331d21,_0x2379aa){const _0x3af69c=extractConvParamsFactory(_0x331d21,_0x2379aa),_0x56732e=extractSeparableConvParamsFactory(_0x331d21,_0x2379aa);function _0x23c061(_0x312408,_0x8b8235,_0x6dc3e5){const _0x4c4629=_0x549b,_0x2562ff=_0x56732e(_0x312408,_0x8b8235,_0x6dc3e5+_0x4c4629(0x38e)),_0x325bac=_0x56732e(_0x8b8235,_0x8b8235,_0x6dc3e5+_0x4c4629(0x1e6)),_0x2f8871=_0x3af69c(_0x312408,_0x8b8235,0x1,_0x6dc3e5+_0x4c4629(0x1d9));return{'separable_conv0':_0x2562ff,'separable_conv1':_0x325bac,'expansion_conv':_0x2f8871};}function _0x4742d8(_0x39b925,_0x206a25){const _0x1c1d83=_0x549b,_0x229545=_0x56732e(_0x39b925,_0x39b925,_0x206a25+_0x1c1d83(0x38e)),_0x15715e=_0x56732e(_0x39b925,_0x39b925,_0x206a25+_0x1c1d83(0x1e6)),_0x41d143=_0x56732e(_0x39b925,_0x39b925,_0x206a25+_0x1c1d83(0x29b));return{'separable_conv0':_0x229545,'separable_conv1':_0x15715e,'separable_conv2':_0x41d143};}return{'extractConvParams':_0x3af69c,'extractSeparableConvParams':_0x56732e,'extractReductionBlockParams':_0x23c061,'extractMainBlockParams':_0x4742d8};}function extractParams3(_0x2f40cd,_0x2285d6){const _0x757f23=_0x34daa7,_0x5143fa=[],{extractWeights:_0x288e63,getRemainingWeights:_0x2141ab}=extractWeightsFactory(_0x2f40cd),{extractConvParams:_0x42d1e8,extractSeparableConvParams:_0x3a9666,extractReductionBlockParams:_0x33e3c5,extractMainBlockParams:_0x3096d8}=extractorsFactory2(_0x288e63,_0x5143fa),_0x2c9310=_0x42d1e8(0x3,0x20,0x3,_0x757f23(0x22b)),_0xb6e650=_0x33e3c5(0x20,0x40,'entry_flow/reduction_block_0'),_0x15eb92=_0x33e3c5(0x40,0x80,_0x757f23(0x31d)),_0x3eb873={'conv_in':_0x2c9310,'reduction_block_0':_0xb6e650,'reduction_block_1':_0x15eb92},_0x39b029={};range(_0x2285d6,0x0,0x1)[_0x757f23(0x287)](_0x4b3110=>{const _0x3a1e0d=_0x757f23;_0x39b029[_0x3a1e0d(0x333)+_0x4b3110]=_0x3096d8(0x80,_0x3a1e0d(0x34a)+_0x4b3110);});const _0x144580=_0x33e3c5(0x80,0x100,_0x757f23(0x3ca)),_0x523504=_0x3a9666(0x100,0x200,_0x757f23(0x33d)),_0x5e4b5d={'reduction_block':_0x144580,'separable_conv':_0x523504};if(_0x2141ab()[_0x757f23(0x40e)]!==0x0)throw new Error(_0x757f23(0x2bc)+_0x2141ab()[_0x757f23(0x40e)]);return{'paramMappings':_0x5143fa,'params':{'entry_flow':_0x3eb873,'middle_flow':_0x39b029,'exit_flow':_0x5e4b5d}};}function loadParamsFactory2(_0x5d4c6f,_0x39f4a3){const _0x2e48ed=extractWeightEntryFactory(_0x5d4c6f,_0x39f4a3),_0x4f9ad0=loadConvParamsFactory(_0x2e48ed),_0x402f16=loadSeparableConvParamsFactory(_0x2e48ed);function _0x3800d6(_0x31353f){const _0x4b9e12=_0x549b,_0x3ac386=_0x402f16(_0x31353f+'/separable_conv0'),_0x272fd3=_0x402f16(_0x31353f+'/separable_conv1'),_0x352caf=_0x4f9ad0(_0x31353f+_0x4b9e12(0x1d9));return{'separable_conv0':_0x3ac386,'separable_conv1':_0x272fd3,'expansion_conv':_0x352caf};}function _0x584c20(_0x2613b2){const _0x2cf80f=_0x549b,_0x1592f4=_0x402f16(_0x2613b2+_0x2cf80f(0x38e)),_0x34d742=_0x402f16(_0x2613b2+_0x2cf80f(0x1e6)),_0x9d60d6=_0x402f16(_0x2613b2+'/separable_conv2');return{'separable_conv0':_0x1592f4,'separable_conv1':_0x34d742,'separable_conv2':_0x9d60d6};}return{'extractConvParams':_0x4f9ad0,'extractSeparableConvParams':_0x402f16,'extractReductionBlockParams':_0x3800d6,'extractMainBlockParams':_0x584c20};}function extractParamsFromWeightMap3(_0xae2f5,_0x201fff){const _0x140651=_0x34daa7,_0x38a8d8=[],{extractConvParams:_0x178456,extractSeparableConvParams:_0x485022,extractReductionBlockParams:_0x3788b2,extractMainBlockParams:_0x1cbb2b}=loadParamsFactory2(_0xae2f5,_0x38a8d8),_0x1cdfbd=_0x178456(_0x140651(0x22b)),_0x57f27e=_0x3788b2(_0x140651(0x318)),_0x28ae9b=_0x3788b2('entry_flow/reduction_block_1'),_0x1b746e={'conv_in':_0x1cdfbd,'reduction_block_0':_0x57f27e,'reduction_block_1':_0x28ae9b},_0x449e2f={};range(_0x201fff,0x0,0x1)[_0x140651(0x287)](_0x180a41=>{const _0x5324a6=_0x140651;_0x449e2f[_0x5324a6(0x333)+_0x180a41]=_0x1cbb2b(_0x5324a6(0x34a)+_0x180a41);});const _0x4af10e=_0x3788b2(_0x140651(0x3ca)),_0x144efd=_0x485022(_0x140651(0x33d)),_0x381c72={'reduction_block':_0x4af10e,'separable_conv':_0x144efd};return disposeUnusedWeightTensors(_0xae2f5,_0x38a8d8),{'params':{'entry_flow':_0x1b746e,'middle_flow':_0x449e2f,'exit_flow':_0x381c72},'paramMappings':_0x38a8d8};}function conv(_0x2e166c,_0x7d8e16,_0x4c2852){const _0x22d7c2=_0x34daa7;return tf19[_0x22d7c2(0x2e3)](tf19[_0x22d7c2(0x3df)](_0x2e166c,_0x7d8e16[_0x22d7c2(0x3a2)],_0x4c2852,'same'),_0x7d8e16[_0x22d7c2(0x398)]);}function reductionBlock(_0x3dfd86,_0x4bbd90,_0x491dd7=!![]){const _0x48b4db=_0x34daa7;let _0x302357=_0x491dd7?tf19[_0x48b4db(0x35d)](_0x3dfd86):_0x3dfd86;return _0x302357=depthwiseSeparableConv(_0x302357,_0x4bbd90[_0x48b4db(0x1e9)],[0x1,0x1]),_0x302357=depthwiseSeparableConv(tf19['relu'](_0x302357),_0x4bbd90[_0x48b4db(0x403)],[0x1,0x1]),_0x302357=tf19[_0x48b4db(0x1f1)](_0x302357,[0x3,0x3],[0x2,0x2],_0x48b4db(0x32c)),_0x302357=tf19[_0x48b4db(0x2e3)](_0x302357,conv(_0x3dfd86,_0x4bbd90[_0x48b4db(0x30f)],[0x2,0x2])),_0x302357;}function mainBlock(_0x4edf43,_0xc7a06b){const _0x6c8de6=_0x34daa7;let _0x589e0c=depthwiseSeparableConv(tf19['relu'](_0x4edf43),_0xc7a06b[_0x6c8de6(0x1e9)],[0x1,0x1]);return _0x589e0c=depthwiseSeparableConv(tf19[_0x6c8de6(0x35d)](_0x589e0c),_0xc7a06b[_0x6c8de6(0x403)],[0x1,0x1]),_0x589e0c=depthwiseSeparableConv(tf19[_0x6c8de6(0x35d)](_0x589e0c),_0xc7a06b[_0x6c8de6(0x27f)],[0x1,0x1]),_0x589e0c=tf19[_0x6c8de6(0x2e3)](_0x589e0c,_0x4edf43),_0x589e0c;}var TinyXception=class extends NeuralNetwork{constructor(_0x37e581){const _0x314c17=_0x34daa7;super('TinyXception'),this[_0x314c17(0x39d)]=_0x37e581;}[_0x34daa7(0x42b)](_0x16a4bb){const _0x468a16=_0x34daa7,{params:_0x55f0fe}=this;if(!_0x55f0fe)throw new Error(_0x468a16(0x300));return tf19[_0x468a16(0x319)](()=>{const _0x795f53=_0x468a16,_0x3bbc43=tf19[_0x795f53(0x31f)](_0x16a4bb[_0x795f53(0x412)](0x70,!![]),_0x795f53(0x28e)),_0x141eb9=[122.782,117.001,104.298],_0x18aef8=normalize(_0x3bbc43,_0x141eb9)[_0x795f53(0x323)](0xff);let _0x5eca13=tf19['relu'](conv(_0x18aef8,_0x55f0fe[_0x795f53(0x356)]['conv_in'],[0x2,0x2]));return _0x5eca13=reductionBlock(_0x5eca13,_0x55f0fe[_0x795f53(0x356)][_0x795f53(0x25a)],![]),_0x5eca13=reductionBlock(_0x5eca13,_0x55f0fe['entry_flow'][_0x795f53(0x379)]),range(this['_numMainBlocks'],0x0,0x1)[_0x795f53(0x287)](_0x41fe00=>{const _0x2b1fdc=_0x795f53;_0x5eca13=mainBlock(_0x5eca13,_0x55f0fe[_0x2b1fdc(0x276)][_0x2b1fdc(0x333)+_0x41fe00]);}),_0x5eca13=reductionBlock(_0x5eca13,_0x55f0fe[_0x795f53(0x1b6)][_0x795f53(0x1ec)]),_0x5eca13=tf19['relu'](depthwiseSeparableConv(_0x5eca13,_0x55f0fe[_0x795f53(0x1b6)][_0x795f53(0x2aa)],[0x1,0x1])),_0x5eca13;});}async[_0x34daa7(0x1df)](_0xd757e6){const _0x39118e=_0x34daa7;return this[_0x39118e(0x42b)](await toNetInput(_0xd757e6));}[_0x34daa7(0x40d)](){const _0x1e2baa=_0x34daa7;return _0x1e2baa(0x266);}[_0x34daa7(0x3b5)](_0x53df96){return extractParamsFromWeightMap3(_0x53df96,this['_numMainBlocks']);}[_0x34daa7(0x1fa)](_0x4cc1ff){const _0x55f00e=_0x34daa7;return extractParams3(_0x4cc1ff,this[_0x55f00e(0x39d)]);}};function extractParams4(_0x35db15){const _0x214ad9=_0x34daa7,_0x3e3ee1=[],{extractWeights:_0x3975b4,getRemainingWeights:_0x51b1a3}=extractWeightsFactory(_0x35db15),_0x4f903c=extractFCParamsFactory(_0x3975b4,_0x3e3ee1),_0x3561e3=_0x4f903c(0x200,0x1,_0x214ad9(0x21c)),_0x4072d5=_0x4f903c(0x200,0x2,_0x214ad9(0x2ac));if(_0x51b1a3()[_0x214ad9(0x40e)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x51b1a3()[_0x214ad9(0x40e)]);return{'paramMappings':_0x3e3ee1,'params':{'fc':{'age':_0x3561e3,'gender':_0x4072d5}}};}function extractParamsFromWeightMap4(_0x35ab77){const _0x3d76a8=_0x34daa7,_0x3f5405=[],_0x47c9c1=extractWeightEntryFactory(_0x35ab77,_0x3f5405);function _0x1ab467(_0x5b0c52){const _0x1869a8=_0x549b,_0x2ffb35=_0x47c9c1(_0x5b0c52+_0x1869a8(0x1d5),0x2),_0x3284cd=_0x47c9c1(_0x5b0c52+'/bias',0x1);return{'weights':_0x2ffb35,'bias':_0x3284cd};}const _0x1c9e0a={'fc':{'age':_0x1ab467(_0x3d76a8(0x21c)),'gender':_0x1ab467(_0x3d76a8(0x2ac))}};return disposeUnusedWeightTensors(_0x35ab77,_0x3f5405),{'params':_0x1c9e0a,'paramMappings':_0x3f5405};}var Gender=(_0x89af2e=>{const _0x158d79=_0x34daa7;return _0x89af2e[_0x158d79(0x435)]='female',_0x89af2e[_0x158d79(0x3b8)]=_0x158d79(0x25e),_0x89af2e;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x47937b=new TinyXception(0x2)){const _0x5a5ed3=_0x34daa7;super(_0x5a5ed3(0x1d7)),this[_0x5a5ed3(0x3e5)]=_0x47937b;}get[_0x34daa7(0x305)](){const _0x40fac8=_0x34daa7;return this[_0x40fac8(0x3e5)];}[_0x34daa7(0x421)](_0xb08268){const _0x516278=_0x34daa7,{params:_0x4ff12a}=this;if(!_0x4ff12a)throw new Error(this[_0x516278(0x306)]+_0x516278(0x289));return tf20[_0x516278(0x319)](()=>{const _0x350894=_0x516278,_0x3e0f99=_0xb08268 instanceof NetInput?this[_0x350894(0x305)][_0x350894(0x42b)](_0xb08268):_0xb08268,_0x27d099=tf20[_0x350894(0x26b)](_0x3e0f99,[0x7,0x7],[0x2,0x2],_0x350894(0x212))[_0x350894(0x23d)](_0x3e0f99[_0x350894(0x377)][0x0],-0x1),_0x5cd552=fullyConnectedLayer(_0x27d099,_0x4ff12a['fc'][_0x350894(0x2ad)])['as1D'](),_0x5deee5=fullyConnectedLayer(_0x27d099,_0x4ff12a['fc'][_0x350894(0x1d0)]);return{'age':_0x5cd552,'gender':_0x5deee5};});}[_0x34daa7(0x42b)](_0x24b015){const _0x532347=_0x34daa7;return tf20[_0x532347(0x319)](()=>{const _0x1578f9=_0x532347,{age:_0x1ecc9d,gender:_0x288251}=this[_0x1578f9(0x421)](_0x24b015);return{'age':_0x1ecc9d,'gender':tf20['softmax'](_0x288251)};});}async[_0x34daa7(0x1df)](_0x11a03a){const _0x8c35ee=_0x34daa7;return this[_0x8c35ee(0x42b)](await toNetInput(_0x11a03a));}async[_0x34daa7(0x21e)](_0x16d738){const _0x64fd68=_0x34daa7,_0x4efb55=await toNetInput(_0x16d738),_0x584381=await this[_0x64fd68(0x42b)](_0x4efb55),_0x544cd3=tf20[_0x64fd68(0x3eb)](_0x584381[_0x64fd68(0x2ad)]),_0x1772b7=tf20[_0x64fd68(0x3eb)](_0x584381['gender']),_0x12f136=_0x544cd3[_0x64fd68(0x20a)]((_0x339a9a,_0x2f69fd)=>({'ageTensor':_0x339a9a,'genderTensor':_0x1772b7[_0x2f69fd]})),_0x175357=await Promise[_0x64fd68(0x1cb)](_0x12f136['map'](async({ageTensor:_0x351cd9,genderTensor:_0x10dd28})=>{const _0x3effad=_0x64fd68,_0x414a73=_0x351cd9[_0x3effad(0x3bf)]()[0x0],_0x46951b=_0x10dd28[_0x3effad(0x3bf)]()[0x0],_0xfc82b2=_0x46951b>0.5,_0x2ad2fd=_0xfc82b2?'male':_0x3effad(0x234),_0x4ae7c5=_0xfc82b2?_0x46951b:0x1-_0x46951b;return _0x351cd9['dispose'](),_0x10dd28[_0x3effad(0x31b)](),{'age':_0x414a73,'gender':_0x2ad2fd,'genderProbability':_0x4ae7c5};}));return _0x584381['age'][_0x64fd68(0x31b)](),_0x584381[_0x64fd68(0x1d0)][_0x64fd68(0x31b)](),_0x4efb55['isBatchInput']?_0x175357:_0x175357[0x0];}['getDefaultModelName'](){const _0x276311=_0x34daa7;return _0x276311(0x2d1);}[_0x34daa7(0x31b)](_0x24367a=!![]){const _0x1cbf62=_0x34daa7;this[_0x1cbf62(0x305)][_0x1cbf62(0x31b)](_0x24367a),super[_0x1cbf62(0x31b)](_0x24367a);}[_0x34daa7(0x209)](_0x46049d){const _0x2fa5a8=_0x34daa7,{params:_0x1c3625,paramMappings:_0x10e83d}=this[_0x2fa5a8(0x33c)](_0x46049d);this[_0x2fa5a8(0x332)]=_0x1c3625,this['_paramMappings']=_0x10e83d;}[_0x34daa7(0x33c)](_0x1238f7){return extractParams4(_0x1238f7);}['extractParamsFromWeightMap'](_0x1fa678){const {featureExtractorMap:_0x4e0ba0,classifierMap:_0x42f4cd}=seperateWeightMaps(_0x1fa678);return this['faceFeatureExtractor']['loadFromWeightMap'](_0x4e0ba0),extractParamsFromWeightMap4(_0x42f4cd);}['extractParams'](_0x3fe70a){const _0x433fc1=_0x34daa7,_0xeb782d=0x200*0x1+0x1+(0x200*0x2+0x2),_0x15bc01=_0x3fe70a[_0x433fc1(0x3c5)](0x0,_0x3fe70a[_0x433fc1(0x40e)]-_0xeb782d),_0x2cd7f4=_0x3fe70a[_0x433fc1(0x3c5)](_0x3fe70a[_0x433fc1(0x40e)]-_0xeb782d);return this[_0x433fc1(0x305)][_0x433fc1(0x242)](_0x15bc01),this[_0x433fc1(0x33c)](_0x2cd7f4);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{[_0x34daa7(0x3e0)](_0x18ef6c,_0x18c540,_0x5c14c6){const _0x403332=_0x34daa7,_0x335eea=_0x5c14c6['map'](({width:_0x1e4298,height:_0x1fc38b})=>{const _0x5aad33=_0x549b,_0x571bb8=_0x18c540/Math[_0x5aad33(0x387)](_0x1fc38b,_0x1e4298);return{'width':_0x1e4298*_0x571bb8,'height':_0x1fc38b*_0x571bb8};}),_0x1f69e1=_0x335eea['length'];return tf21[_0x403332(0x319)](()=>{const _0x2c807d=_0x403332,_0x1c4ad7=(_0xebafaf,_0x231e3a)=>tf21['stack']([tf21[_0x2c807d(0x293)]([0x44],_0xebafaf,_0x2c807d(0x28e)),tf21[_0x2c807d(0x293)]([0x44],_0x231e3a,_0x2c807d(0x28e))],0x1)['as2D'](0x1,0x88)[_0x2c807d(0x413)](),_0x156882=(_0xb46870,_0xcdf87b)=>{const {width:_0x3f53b6,height:_0x515d6d}=_0x335eea[_0xb46870];return _0xcdf87b(_0x3f53b6,_0x515d6d)?Math['abs'](_0x3f53b6-_0x515d6d)/0x2:0x0;},_0x111e4c=_0x45d3c5=>_0x156882(_0x45d3c5,(_0x19df47,_0x5d953a)=>_0x19df47<_0x5d953a),_0x53a490=_0x885d11=>_0x156882(_0x885d11,(_0x3ea987,_0x194d0e)=>_0x194d0e<_0x3ea987),_0x33868e=_0x18ef6c[_0x2c807d(0x2e4)](tf21['fill']([_0x1f69e1,0x88],_0x18c540,_0x2c807d(0x28e)))[_0x2c807d(0x39c)](tf21[_0x2c807d(0x336)](Array[_0x2c807d(0x2cf)](Array(_0x1f69e1),(_0x96ccb0,_0x23123a)=>_0x1c4ad7(_0x111e4c(_0x23123a),_0x53a490(_0x23123a)))))['div'](tf21['stack'](Array[_0x2c807d(0x2cf)](Array(_0x1f69e1),(_0x161632,_0x2db635)=>_0x1c4ad7(_0x335eea[_0x2db635]['width'],_0x335eea[_0x2db635][_0x2c807d(0x1c0)]))));return _0x33868e;});}[_0x34daa7(0x42b)](_0x177696){const _0x2315c2=_0x34daa7;return tf21[_0x2315c2(0x319)](()=>{const _0x4a706b=_0x2315c2,_0x1fe3af=this[_0x4a706b(0x421)](_0x177696);return this[_0x4a706b(0x3e0)](_0x1fe3af,_0x177696[_0x4a706b(0x217)],_0x177696[_0x4a706b(0x35e)]['map'](([_0x3b3eef,_0x13164a])=>({'height':_0x3b3eef,'width':_0x13164a})));});}async[_0x34daa7(0x1df)](_0x19f6cd){const _0x19d281=_0x34daa7;return this[_0x19d281(0x42b)](await toNetInput(_0x19f6cd));}async[_0x34daa7(0x273)](_0x5b0233){const _0x51a187=_0x34daa7,_0x263763=await toNetInput(_0x5b0233),_0x5f0ab8=tf21['tidy'](()=>tf21[_0x51a187(0x3eb)](this[_0x51a187(0x42b)](_0x263763))),_0x2c81b9=await Promise[_0x51a187(0x1cb)](_0x5f0ab8['map'](async(_0xa7c6fb,_0x257bc9)=>{const _0x5bdd8e=_0x51a187,_0x36fc49=Array[_0x5bdd8e(0x2cf)](_0xa7c6fb[_0x5bdd8e(0x3bf)]()),_0x549eb4=_0x36fc49[_0x5bdd8e(0x3a5)]((_0x174dd5,_0x51d7b6)=>isEven(_0x51d7b6)),_0x4256fe=_0x36fc49['filter']((_0x2a5acc,_0x1169dd)=>!isEven(_0x1169dd));return new FaceLandmarks68(Array(0x44)[_0x5bdd8e(0x293)](0x0)['map']((_0x9174b5,_0x13c7ea)=>new Point(_0x549eb4[_0x13c7ea],_0x4256fe[_0x13c7ea])),{'height':_0x263763[_0x5bdd8e(0x2c3)](_0x257bc9),'width':_0x263763[_0x5bdd8e(0x35f)](_0x257bc9)});}));return _0x5f0ab8['forEach'](_0x316126=>_0x316126['dispose']()),_0x263763[_0x51a187(0x424)]?_0x2c81b9:_0x2c81b9[0x0];}[_0x34daa7(0x22d)](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x31565c=new FaceFeatureExtractor()){super('FaceLandmark68Net',_0x31565c);}[_0x34daa7(0x40d)](){const _0x8c6a6c=_0x34daa7;return _0x8c6a6c(0x31a);}[_0x34daa7(0x386)](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0x1210a9){const _0x13b8a6=_0x34daa7,_0x35cfbf=[],{extractDenseBlock3Params:_0x4f4557}=loadParamsFactory(_0x1210a9,_0x35cfbf),_0x3533ff={'dense0':_0x4f4557(_0x13b8a6(0x1e8),!![]),'dense1':_0x4f4557(_0x13b8a6(0x20d)),'dense2':_0x4f4557(_0x13b8a6(0x26a))};return disposeUnusedWeightTensors(_0x1210a9,_0x35cfbf),{'params':_0x3533ff,'paramMappings':_0x35cfbf};}function extractParamsTiny(_0x1aaae2){const _0x24808e=_0x34daa7,_0x2c70b0=[],{extractWeights:_0x529e01,getRemainingWeights:_0x1212a4}=extractWeightsFactory(_0x1aaae2),{extractDenseBlock3Params:_0x581916}=extractorsFactory(_0x529e01,_0x2c70b0),_0x1bd850=_0x581916(0x3,0x20,_0x24808e(0x1e8),!![]),_0x49601b=_0x581916(0x20,0x40,_0x24808e(0x20d)),_0x220be8=_0x581916(0x40,0x80,_0x24808e(0x26a));if(_0x1212a4()[_0x24808e(0x40e)]!==0x0)throw new Error(_0x24808e(0x2bc)+_0x1212a4()['length']);return{'paramMappings':_0x2c70b0,'params':{'dense0':_0x1bd850,'dense1':_0x49601b,'dense2':_0x220be8}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){super('TinyFaceFeatureExtractor');}[_0x34daa7(0x42b)](_0x373cdf){const _0x162680=_0x34daa7,{params:_0x3dec1d}=this;if(!_0x3dec1d)throw new Error('TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference');return tf22[_0x162680(0x319)](()=>{const _0x5a1e51=_0x162680,_0x5b407a=tf22['cast'](_0x373cdf[_0x5a1e51(0x412)](0x70,!![]),'float32'),_0x286538=[122.782,117.001,104.298],_0x59b3ee=normalize(_0x5b407a,_0x286538)[_0x5a1e51(0x323)](0xff);let _0x184096=denseBlock3(_0x59b3ee,_0x3dec1d['dense0'],!![]);return _0x184096=denseBlock3(_0x184096,_0x3dec1d['dense1']),_0x184096=denseBlock3(_0x184096,_0x3dec1d[_0x5a1e51(0x26a)]),_0x184096=tf22['avgPool'](_0x184096,[0xe,0xe],[0x2,0x2],_0x5a1e51(0x212)),_0x184096;});}async[_0x34daa7(0x1df)](_0x1b8481){const _0xb4dd87=_0x34daa7;return this[_0xb4dd87(0x42b)](await toNetInput(_0x1b8481));}[_0x34daa7(0x40d)](){const _0x34f61a=_0x34daa7;return _0x34f61a(0x3a8);}['extractParamsFromWeightMap'](_0x5db552){return extractParamsFromWeightMapTiny(_0x5db552);}[_0x34daa7(0x1fa)](_0x234965){return extractParamsTiny(_0x234965);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x3a03a2=new TinyFaceFeatureExtractor()){const _0x5590e8=_0x34daa7;super(_0x5590e8(0x1ee),_0x3a03a2);}[_0x34daa7(0x40d)](){const _0x18968d=_0x34daa7;return _0x18968d(0x225);}[_0x34daa7(0x386)](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x1f71a7,_0x55a1cb){const _0x215881=_0x34daa7;return tf23['add'](tf23['mul'](_0x1f71a7,_0x55a1cb[_0x215881(0x3ec)]),_0x55a1cb['biases']);}function convLayer2(_0x48ffd4,_0x5ecec1,_0x1db3b6,_0x3e9d46,_0x3790ce=_0x34daa7(0x32c)){const _0x463b86=_0x34daa7,{filters:_0x362f06,bias:_0x5bc56d}=_0x5ecec1[_0x463b86(0x2ec)];let _0x44cec4=tf24['conv2d'](_0x48ffd4,_0x362f06,_0x1db3b6,_0x3790ce);return _0x44cec4=tf24[_0x463b86(0x2e3)](_0x44cec4,_0x5bc56d),_0x44cec4=scale(_0x44cec4,_0x5ecec1[_0x463b86(0x1e3)]),_0x3e9d46?tf24[_0x463b86(0x35d)](_0x44cec4):_0x44cec4;}function conv2(_0x3f51d8,_0x3773e0){return convLayer2(_0x3f51d8,_0x3773e0,[0x1,0x1],!![]);}function convNoRelu(_0x222485,_0x2bd135){return convLayer2(_0x222485,_0x2bd135,[0x1,0x1],![]);}function convDown(_0x30c0ee,_0x16d104){const _0x3f7de0=_0x34daa7;return convLayer2(_0x30c0ee,_0x16d104,[0x2,0x2],!![],_0x3f7de0(0x212));}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x17aa3e,_0x9e5989){function _0xd4500e(_0x4ce310,_0x55b935,_0x6fd1a4){const _0x233b82=_0x549b,_0xd4efdc=_0x17aa3e(_0x4ce310),_0x1aaa29=_0xd4efdc['length']/(_0x55b935*_0x6fd1a4*_0x6fd1a4);if(isFloat(_0x1aaa29))throw new Error('depth\x20has\x20to\x20be\x20an\x20integer:\x20'+_0x1aaa29+',\x20weights.length:\x20'+_0xd4efdc[_0x233b82(0x40e)]+_0x233b82(0x2fc)+_0x55b935+_0x233b82(0x350)+_0x6fd1a4);return tf25[_0x233b82(0x319)](()=>tf25[_0x233b82(0x30a)](tf25[_0x233b82(0x3b1)](_0xd4efdc,[_0x55b935,_0x1aaa29,_0x6fd1a4,_0x6fd1a4]),[0x2,0x3,0x1,0x0]));}function _0x518361(_0x1530d6,_0x569ed3,_0x70dd5f,_0x96a39c){const _0x979c83=_0x549b,_0x1bafd5=_0xd4500e(_0x1530d6,_0x569ed3,_0x70dd5f),_0x587b80=tf25[_0x979c83(0x41c)](_0x17aa3e(_0x569ed3));return _0x9e5989[_0x979c83(0x2d5)]({'paramPath':_0x96a39c+_0x979c83(0x25b)},{'paramPath':_0x96a39c+_0x979c83(0x3ef)}),{'filters':_0x1bafd5,'bias':_0x587b80};}function _0x236d4d(_0x9a13c9,_0xe584f7){const _0x2a9bb6=_0x549b,_0x3c7364=tf25[_0x2a9bb6(0x41c)](_0x17aa3e(_0x9a13c9)),_0x262473=tf25[_0x2a9bb6(0x41c)](_0x17aa3e(_0x9a13c9));return _0x9e5989[_0x2a9bb6(0x2d5)]({'paramPath':_0xe584f7+_0x2a9bb6(0x1d5)},{'paramPath':_0xe584f7+'/biases'}),{'weights':_0x3c7364,'biases':_0x262473};}function _0x1bbc6d(_0x1fc6be,_0x1d3938,_0x3dcce8,_0x2e0c25){const _0x1d7dc7=_0x549b,_0x191cec=_0x518361(_0x1fc6be,_0x1d3938,_0x3dcce8,_0x2e0c25+_0x1d7dc7(0x2d0)),_0x1e312c=_0x236d4d(_0x1d3938,_0x2e0c25+'/scale');return{'conv':_0x191cec,'scale':_0x1e312c};}function _0xc5121f(_0x2ed4d3,_0x4b41f0,_0x362de4,_0x2cb1b5,_0x34c919=![]){const _0x3ed087=_0x549b,_0x460b2c=_0x1bbc6d((_0x34c919?0.5:0x1)*_0x2ed4d3,_0x4b41f0,_0x362de4,_0x2cb1b5+_0x3ed087(0x1e2)),_0x3dd94f=_0x1bbc6d(_0x2ed4d3,_0x4b41f0,_0x362de4,_0x2cb1b5+_0x3ed087(0x3d7));return{'conv1':_0x460b2c,'conv2':_0x3dd94f};}return{'extractConvLayerParams':_0x1bbc6d,'extractResidualLayerParams':_0xc5121f};}function extractParams5(_0x4a044b){const _0x3c6886=_0x34daa7,{extractWeights:_0xcafaf,getRemainingWeights:_0x302605}=extractWeightsFactory(_0x4a044b),_0x24b97a=[],{extractConvLayerParams:_0x1ec1f9,extractResidualLayerParams:_0x41db27}=extractorsFactory3(_0xcafaf,_0x24b97a),_0x5a54a5=_0x1ec1f9(0x1260,0x20,0x7,_0x3c6886(0x328)),_0x226a9f=_0x41db27(0x2400,0x20,0x3,_0x3c6886(0x407)),_0x227116=_0x41db27(0x2400,0x20,0x3,_0x3c6886(0x383)),_0x1eaa62=_0x41db27(0x2400,0x20,0x3,_0x3c6886(0x340)),_0xb8ee22=_0x41db27(0x9000,0x40,0x3,_0x3c6886(0x1f8),!![]),_0x26c8af=_0x41db27(0x9000,0x40,0x3,_0x3c6886(0x309)),_0xe91ea4=_0x41db27(0x9000,0x40,0x3,_0x3c6886(0x384)),_0x24a1bb=_0x41db27(0x9000,0x40,0x3,_0x3c6886(0x2cc)),_0x528d98=_0x41db27(0x24000,0x80,0x3,'conv128_down',!![]),_0x1b1038=_0x41db27(0x24000,0x80,0x3,'conv128_1'),_0x49cd8a=_0x41db27(0x24000,0x80,0x3,'conv128_2'),_0x346eee=_0x41db27(0x90000,0x100,0x3,_0x3c6886(0x3dc),!![]),_0x4812f5=_0x41db27(0x90000,0x100,0x3,_0x3c6886(0x21a)),_0x469269=_0x41db27(0x90000,0x100,0x3,'conv256_2'),_0x3a2e26=_0x41db27(0x90000,0x100,0x3,_0x3c6886(0x3f4)),_0x11e589=tf25[_0x3c6886(0x319)](()=>tf25[_0x3c6886(0x30a)](tf25[_0x3c6886(0x3be)](_0xcafaf(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0x24b97a[_0x3c6886(0x2d5)]({'paramPath':'fc'});if(_0x302605()[_0x3c6886(0x40e)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x302605()[_0x3c6886(0x40e)]);const _0x5ebdef={'conv32_down':_0x5a54a5,'conv32_1':_0x226a9f,'conv32_2':_0x227116,'conv32_3':_0x1eaa62,'conv64_down':_0xb8ee22,'conv64_1':_0x26c8af,'conv64_2':_0xe91ea4,'conv64_3':_0x24a1bb,'conv128_down':_0x528d98,'conv128_1':_0x1b1038,'conv128_2':_0x49cd8a,'conv256_down':_0x346eee,'conv256_1':_0x4812f5,'conv256_2':_0x469269,'conv256_down_out':_0x3a2e26,'fc':_0x11e589};return{'params':_0x5ebdef,'paramMappings':_0x24b97a};}function extractorsFactory4(_0x8ffecd,_0x1b2deb){const _0xf65346=extractWeightEntryFactory(_0x8ffecd,_0x1b2deb);function _0x130e6c(_0x1ac170){const _0x4fe4b3=_0x549b,_0x1371af=_0xf65346(_0x1ac170+_0x4fe4b3(0x3de),0x1),_0x5a44bf=_0xf65346(_0x1ac170+'/scale/biases',0x1);return{'weights':_0x1371af,'biases':_0x5a44bf};}function _0x1c52cb(_0x354b30){const _0x209b7c=_0x549b,_0xf6e930=_0xf65346(_0x354b30+_0x209b7c(0x1ba),0x4),_0x465a06=_0xf65346(_0x354b30+_0x209b7c(0x2b4),0x1),_0x3c8be0=_0x130e6c(_0x354b30);return{'conv':{'filters':_0xf6e930,'bias':_0x465a06},'scale':_0x3c8be0};}function _0x3e11fc(_0x26ce86){return{'conv1':_0x1c52cb(_0x26ce86+'/conv1'),'conv2':_0x1c52cb(_0x26ce86+'/conv2')};}return{'extractConvLayerParams':_0x1c52cb,'extractResidualLayerParams':_0x3e11fc};}function extractParamsFromWeightMap5(_0x487dc6){const _0x8add2d=_0x34daa7,_0x2154a7=[],{extractConvLayerParams:_0x3b5a89,extractResidualLayerParams:_0x41a7e9}=extractorsFactory4(_0x487dc6,_0x2154a7),_0x2648f7=_0x3b5a89(_0x8add2d(0x328)),_0x413763=_0x41a7e9(_0x8add2d(0x407)),_0x4dacf6=_0x41a7e9('conv32_2'),_0x45f5e3=_0x41a7e9('conv32_3'),_0xc57f1=_0x41a7e9(_0x8add2d(0x1f8)),_0xf6a1f8=_0x41a7e9(_0x8add2d(0x309)),_0x511341=_0x41a7e9(_0x8add2d(0x384)),_0x37f120=_0x41a7e9(_0x8add2d(0x2cc)),_0x59ce91=_0x41a7e9(_0x8add2d(0x250)),_0x4efbe5=_0x41a7e9('conv128_1'),_0x26f9e4=_0x41a7e9(_0x8add2d(0x2b1)),_0x284174=_0x41a7e9(_0x8add2d(0x3dc)),_0x4c3f78=_0x41a7e9(_0x8add2d(0x21a)),_0x46c178=_0x41a7e9(_0x8add2d(0x1bd)),_0x425eb2=_0x41a7e9(_0x8add2d(0x3f4)),{fc:_0x19cb18}=_0x487dc6;_0x2154a7['push']({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x19cb18))throw new Error('expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20'+_0x19cb18);const _0x1c3035={'conv32_down':_0x2648f7,'conv32_1':_0x413763,'conv32_2':_0x4dacf6,'conv32_3':_0x45f5e3,'conv64_down':_0xc57f1,'conv64_1':_0xf6a1f8,'conv64_2':_0x511341,'conv64_3':_0x37f120,'conv128_down':_0x59ce91,'conv128_1':_0x4efbe5,'conv128_2':_0x26f9e4,'conv256_down':_0x284174,'conv256_1':_0x4c3f78,'conv256_2':_0x46c178,'conv256_down_out':_0x425eb2,'fc':_0x19cb18};return disposeUnusedWeightTensors(_0x487dc6,_0x2154a7),{'params':_0x1c3035,'paramMappings':_0x2154a7};}var tf26=__toESM(require_tfjs_esm());function residual(_0x27d663,_0x2e5bb){const _0x16c10c=_0x34daa7;let _0x40d83a=conv2(_0x27d663,_0x2e5bb[_0x16c10c(0x32e)]);return _0x40d83a=convNoRelu(_0x40d83a,_0x2e5bb['conv2']),_0x40d83a=tf26[_0x16c10c(0x2e3)](_0x40d83a,_0x27d663),_0x40d83a=tf26[_0x16c10c(0x35d)](_0x40d83a),_0x40d83a;}function residualDown(_0x2f1fb4,_0x25ab16){const _0x17f6db=_0x34daa7;let _0x24a59f=convDown(_0x2f1fb4,_0x25ab16[_0x17f6db(0x32e)]);_0x24a59f=convNoRelu(_0x24a59f,_0x25ab16[_0x17f6db(0x389)]);let _0x442bd2=tf26[_0x17f6db(0x26b)](_0x2f1fb4,0x2,0x2,'valid');const _0x404039=tf26[_0x17f6db(0x25c)](_0x442bd2[_0x17f6db(0x377)]),_0x5f25d7=_0x442bd2[_0x17f6db(0x377)][0x3]!==_0x24a59f['shape'][0x3],_0x51f653=_0x442bd2[_0x17f6db(0x377)][0x1]!==_0x24a59f[_0x17f6db(0x377)][0x1]||_0x442bd2[_0x17f6db(0x377)][0x2]!==_0x24a59f[_0x17f6db(0x377)][0x2];if(_0x51f653){const _0x45c0db=[..._0x24a59f[_0x17f6db(0x377)]];_0x45c0db[0x1]=0x1;const _0x5eb1a7=tf26[_0x17f6db(0x25c)](_0x45c0db);_0x24a59f=tf26[_0x17f6db(0x307)]([_0x24a59f,_0x5eb1a7],0x1);const _0x2c30b0=[..._0x24a59f[_0x17f6db(0x377)]];_0x2c30b0[0x2]=0x1;const _0x4ae44e=tf26[_0x17f6db(0x25c)](_0x2c30b0);_0x24a59f=tf26['concat']([_0x24a59f,_0x4ae44e],0x2);}return _0x442bd2=_0x5f25d7?tf26[_0x17f6db(0x307)]([_0x442bd2,_0x404039],0x3):_0x442bd2,_0x24a59f=tf26['add'](_0x442bd2,_0x24a59f),_0x24a59f=tf26[_0x17f6db(0x35d)](_0x24a59f),_0x24a59f;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){const _0x1e6007=_0x34daa7;super(_0x1e6007(0x2dc));}[_0x34daa7(0x42b)](_0x34f76c){const _0x15e2b3=_0x34daa7,{params:_0x3d60d9}=this;if(!_0x3d60d9)throw new Error(_0x15e2b3(0x38c));return tf27[_0x15e2b3(0x319)](()=>{const _0xfd0729=_0x15e2b3,_0x1d650b=tf27['cast'](_0x34f76c[_0xfd0729(0x412)](0x96,!![]),'float32'),_0x5aa8e9=[122.782,117.001,104.298],_0x4081e2=normalize(_0x1d650b,_0x5aa8e9)['div'](0xff);let _0x2143af=convDown(_0x4081e2,_0x3d60d9[_0xfd0729(0x328)]);_0x2143af=tf27[_0xfd0729(0x1f1)](_0x2143af,0x3,0x2,_0xfd0729(0x212)),_0x2143af=residual(_0x2143af,_0x3d60d9['conv32_1']),_0x2143af=residual(_0x2143af,_0x3d60d9['conv32_2']),_0x2143af=residual(_0x2143af,_0x3d60d9[_0xfd0729(0x340)]),_0x2143af=residualDown(_0x2143af,_0x3d60d9['conv64_down']),_0x2143af=residual(_0x2143af,_0x3d60d9['conv64_1']),_0x2143af=residual(_0x2143af,_0x3d60d9[_0xfd0729(0x384)]),_0x2143af=residual(_0x2143af,_0x3d60d9['conv64_3']),_0x2143af=residualDown(_0x2143af,_0x3d60d9[_0xfd0729(0x250)]),_0x2143af=residual(_0x2143af,_0x3d60d9['conv128_1']),_0x2143af=residual(_0x2143af,_0x3d60d9['conv128_2']),_0x2143af=residualDown(_0x2143af,_0x3d60d9[_0xfd0729(0x3dc)]),_0x2143af=residual(_0x2143af,_0x3d60d9[_0xfd0729(0x21a)]),_0x2143af=residual(_0x2143af,_0x3d60d9[_0xfd0729(0x1bd)]),_0x2143af=residualDown(_0x2143af,_0x3d60d9['conv256_down_out']);const _0x48e856=_0x2143af[_0xfd0729(0x222)]([0x1,0x2]),_0x3fdf25=tf27[_0xfd0729(0x1e4)](_0x48e856,_0x3d60d9['fc']);return _0x3fdf25;});}async[_0x34daa7(0x1df)](_0x4a7f4b){return this['forwardInput'](await toNetInput(_0x4a7f4b));}async[_0x34daa7(0x36b)](_0x1dd9c5){const _0x40af00=_0x34daa7;var _0x22315d;if((_0x22315d=_0x1dd9c5==null?void 0x0:_0x1dd9c5['shape'])==null?void 0x0:_0x22315d[_0x40af00(0x39e)](_0xb2bee9=>_0xb2bee9<=0x0))return new Float32Array(0x80);const _0x1ed7f3=await toNetInput(_0x1dd9c5),_0x250581=tf27[_0x40af00(0x319)](()=>tf27['unstack'](this[_0x40af00(0x42b)](_0x1ed7f3))),_0x5b6ad1=await Promise[_0x40af00(0x1cb)](_0x250581[_0x40af00(0x20a)](_0x32b3c7=>_0x32b3c7[_0x40af00(0x292)]()));return _0x250581['forEach'](_0x576e99=>_0x576e99['dispose']()),_0x1ed7f3[_0x40af00(0x424)]?_0x5b6ad1:_0x5b6ad1[0x0];}[_0x34daa7(0x40d)](){const _0x54a15f=_0x34daa7;return _0x54a15f(0x37d);}['extractParamsFromWeightMap'](_0x1893ac){return extractParamsFromWeightMap5(_0x1893ac);}[_0x34daa7(0x1fa)](_0x292ef0){return extractParams5(_0x292ef0);}};function createFaceRecognitionNet(_0x16a0b0){const _0x2d5c25=_0x34daa7,_0x2ef02e=new FaceRecognitionNet();return _0x2ef02e[_0x2d5c25(0x242)](_0x16a0b0),_0x2ef02e;}function extendWithFaceDescriptor(_0x2de016,_0x204ba1){const _0x1b04f0={'descriptor':_0x204ba1};return{..._0x2de016,..._0x1b04f0};}function isWithAge(_0x34c4b6){const _0x42bad2=_0x34daa7;return typeof _0x34c4b6[_0x42bad2(0x2ad)]===_0x42bad2(0x343);}function extendWithAge(_0x3feb71,_0x4cf743){const _0x27c26c={'age':_0x4cf743};return{..._0x3feb71,..._0x27c26c};}function isWithGender(_0x4f8fe2){const _0x3dd0f2=_0x34daa7;return(_0x4f8fe2[_0x3dd0f2(0x1d0)]===_0x3dd0f2(0x25e)||_0x4f8fe2[_0x3dd0f2(0x1d0)]===_0x3dd0f2(0x234))&&isValidProbablitiy(_0x4f8fe2[_0x3dd0f2(0x34c)]);}function extendWithGender(_0x4c42c9,_0x454da0,_0x36141d){const _0x577dcb={'gender':_0x454da0,'genderProbability':_0x36141d};return{..._0x4c42c9,..._0x577dcb};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x288b6a,_0x4e56b2){function _0xe3d14b(_0x49508a,_0x52c7ee){const _0x41f4ad=_0x549b,_0x2d608c=tf28[_0x41f4ad(0x3b1)](_0x288b6a(0x3*0x3*_0x49508a),[0x3,0x3,_0x49508a,0x1]),_0x2c056e=tf28[_0x41f4ad(0x41c)](_0x288b6a(_0x49508a)),_0xdf7802=tf28[_0x41f4ad(0x41c)](_0x288b6a(_0x49508a)),_0x33f200=tf28[_0x41f4ad(0x41c)](_0x288b6a(_0x49508a)),_0xe00004=tf28[_0x41f4ad(0x41c)](_0x288b6a(_0x49508a));return _0x4e56b2[_0x41f4ad(0x2d5)]({'paramPath':_0x52c7ee+'/filters'},{'paramPath':_0x52c7ee+_0x41f4ad(0x210)},{'paramPath':_0x52c7ee+_0x41f4ad(0x2f1)},{'paramPath':_0x52c7ee+_0x41f4ad(0x226)},{'paramPath':_0x52c7ee+_0x41f4ad(0x27d)}),{'filters':_0x2d608c,'batch_norm_scale':_0x2c056e,'batch_norm_offset':_0xdf7802,'batch_norm_mean':_0x33f200,'batch_norm_variance':_0xe00004};}function _0x3c31a0(_0x17a44d,_0x3ccd76,_0x1c3e56,_0x12e904,_0x17d3e4){const _0x56559d=_0x549b,_0x372715=tf28['tensor4d'](_0x288b6a(_0x17a44d*_0x3ccd76*_0x1c3e56*_0x1c3e56),[_0x1c3e56,_0x1c3e56,_0x17a44d,_0x3ccd76]),_0x119f8e=tf28[_0x56559d(0x41c)](_0x288b6a(_0x3ccd76));return _0x4e56b2['push']({'paramPath':_0x12e904+_0x56559d(0x25b)},{'paramPath':_0x12e904+'/'+(_0x17d3e4?_0x56559d(0x411):'bias')}),{'filters':_0x372715,'bias':_0x119f8e};}function _0x147f53(_0x29ffbb,_0x2d5325,_0x18dbea,_0x3b222a){const {filters:_0x4e80d2,bias:_0x339744}=_0x3c31a0(_0x29ffbb,_0x2d5325,_0x18dbea,_0x3b222a,!![]);return{'filters':_0x4e80d2,'batch_norm_offset':_0x339744};}function _0x133b32(_0x2ab554,_0x21f777,_0xca2fe4){const _0x194c11=_0x549b,_0x393a9b=_0xe3d14b(_0x2ab554,_0xca2fe4+'/depthwise_conv'),_0x45ff92=_0x147f53(_0x2ab554,_0x21f777,0x1,_0xca2fe4+_0x194c11(0x352));return{'depthwise_conv':_0x393a9b,'pointwise_conv':_0x45ff92};}function _0x1af335(){const _0x3a2a46=_0x549b,_0x5a7082=_0x147f53(0x3,0x20,0x3,_0x3a2a46(0x3ae)),_0x3a3074=_0x133b32(0x20,0x40,_0x3a2a46(0x394)),_0x37ef62=_0x133b32(0x40,0x80,_0x3a2a46(0x3db)),_0x13f064=_0x133b32(0x80,0x80,_0x3a2a46(0x1b9)),_0x1f9388=_0x133b32(0x80,0x100,'mobilenetv1/conv_4'),_0x2ae85b=_0x133b32(0x100,0x100,'mobilenetv1/conv_5'),_0x4fb6db=_0x133b32(0x100,0x200,_0x3a2a46(0x2e6)),_0x562b78=_0x133b32(0x200,0x200,_0x3a2a46(0x3fc)),_0x1deb35=_0x133b32(0x200,0x200,'mobilenetv1/conv_8'),_0x44b5b0=_0x133b32(0x200,0x200,_0x3a2a46(0x1e7)),_0x440108=_0x133b32(0x200,0x200,'mobilenetv1/conv_10'),_0x16a361=_0x133b32(0x200,0x200,_0x3a2a46(0x1dd)),_0x1929b7=_0x133b32(0x200,0x400,_0x3a2a46(0x23c)),_0x349778=_0x133b32(0x400,0x400,_0x3a2a46(0x2bb));return{'conv_0':_0x5a7082,'conv_1':_0x3a3074,'conv_2':_0x37ef62,'conv_3':_0x13f064,'conv_4':_0x1f9388,'conv_5':_0x2ae85b,'conv_6':_0x4fb6db,'conv_7':_0x562b78,'conv_8':_0x1deb35,'conv_9':_0x44b5b0,'conv_10':_0x440108,'conv_11':_0x16a361,'conv_12':_0x1929b7,'conv_13':_0x349778};}function _0x36035c(){const _0x343ef2=_0x549b,_0x197548=_0x147f53(0x400,0x100,0x1,'prediction_layer/conv_0'),_0x3f4091=_0x147f53(0x100,0x200,0x3,_0x343ef2(0x2c2)),_0x2c162e=_0x147f53(0x200,0x80,0x1,_0x343ef2(0x2b3)),_0x2f043d=_0x147f53(0x80,0x100,0x3,'prediction_layer/conv_3'),_0x3c193e=_0x147f53(0x100,0x80,0x1,_0x343ef2(0x30d)),_0x3ba24c=_0x147f53(0x80,0x100,0x3,'prediction_layer/conv_5'),_0x12c032=_0x147f53(0x100,0x40,0x1,_0x343ef2(0x20e)),_0x1645c6=_0x147f53(0x40,0x80,0x3,_0x343ef2(0x3ac)),_0x144261=_0x3c31a0(0x200,0xc,0x1,_0x343ef2(0x329)),_0x8de307=_0x3c31a0(0x200,0x9,0x1,'prediction_layer/box_predictor_0/class_predictor'),_0x4c5e8d=_0x3c31a0(0x400,0x18,0x1,_0x343ef2(0x1cd)),_0x4b03a3=_0x3c31a0(0x400,0x12,0x1,_0x343ef2(0x31c)),_0x1ad6b1=_0x3c31a0(0x200,0x18,0x1,_0x343ef2(0x335)),_0x40dafb=_0x3c31a0(0x200,0x12,0x1,_0x343ef2(0x3d6)),_0x386957=_0x3c31a0(0x100,0x18,0x1,_0x343ef2(0x3a9)),_0x1d0e45=_0x3c31a0(0x100,0x12,0x1,_0x343ef2(0x36d)),_0x4798a2=_0x3c31a0(0x100,0x18,0x1,_0x343ef2(0x346)),_0x401491=_0x3c31a0(0x100,0x12,0x1,'prediction_layer/box_predictor_4/class_predictor'),_0x4537dc=_0x3c31a0(0x80,0x18,0x1,_0x343ef2(0x41e)),_0x14fce8=_0x3c31a0(0x80,0x12,0x1,'prediction_layer/box_predictor_5/class_predictor'),_0x44c71e={'box_encoding_predictor':_0x144261,'class_predictor':_0x8de307},_0x480a18={'box_encoding_predictor':_0x4c5e8d,'class_predictor':_0x4b03a3},_0x35b91b={'box_encoding_predictor':_0x1ad6b1,'class_predictor':_0x40dafb},_0x3b17f5={'box_encoding_predictor':_0x386957,'class_predictor':_0x1d0e45},_0x42727d={'box_encoding_predictor':_0x4798a2,'class_predictor':_0x401491},_0x4e07b0={'box_encoding_predictor':_0x4537dc,'class_predictor':_0x14fce8};return{'conv_0':_0x197548,'conv_1':_0x3f4091,'conv_2':_0x2c162e,'conv_3':_0x2f043d,'conv_4':_0x3c193e,'conv_5':_0x3ba24c,'conv_6':_0x12c032,'conv_7':_0x1645c6,'box_predictor_0':_0x44c71e,'box_predictor_1':_0x480a18,'box_predictor_2':_0x35b91b,'box_predictor_3':_0x3b17f5,'box_predictor_4':_0x42727d,'box_predictor_5':_0x4e07b0};}return{'extractMobilenetV1Params':_0x1af335,'extractPredictionLayerParams':_0x36035c};}function extractParams6(_0x11596d){const _0x3c00a7=_0x34daa7,_0x20c030=[],{extractWeights:_0x4e270c,getRemainingWeights:_0x361927}=extractWeightsFactory(_0x11596d),{extractMobilenetV1Params:_0x2b9d1a,extractPredictionLayerParams:_0x44ad77}=extractorsFactory5(_0x4e270c,_0x20c030),_0x3a4502=_0x2b9d1a(),_0x2d5262=_0x44ad77(),_0x5df0bc=tf28[_0x3c00a7(0x308)](_0x4e270c(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x45ce5d={'extra_dim':_0x5df0bc};_0x20c030[_0x3c00a7(0x2d5)]({'paramPath':_0x3c00a7(0x37c)});if(_0x361927()[_0x3c00a7(0x40e)]!==0x0)throw new Error(_0x3c00a7(0x2bc)+_0x361927()[_0x3c00a7(0x40e)]);return{'params':{'mobilenetv1':_0x3a4502,'prediction_layer':_0x2d5262,'output_layer':_0x45ce5d},'paramMappings':_0x20c030};}function extractorsFactory6(_0x290590,_0x12f70c){const _0x5056fa=extractWeightEntryFactory(_0x290590,_0x12f70c);function _0x59bc9b(_0x469b20,_0x32085a,_0x5bd372){const _0x1b66eb=_0x549b,_0x7c2930=_0x5056fa(_0x469b20+_0x1b66eb(0x3e7)+_0x32085a+'_pointwise/weights',0x4,_0x5bd372+_0x1b66eb(0x25b)),_0x425f3c=_0x5056fa(_0x469b20+'/Conv2d_'+_0x32085a+_0x1b66eb(0x363),0x1,_0x5bd372+_0x1b66eb(0x2f1));return{'filters':_0x7c2930,'batch_norm_offset':_0x425f3c};}function _0x1ea60f(_0x595bd4){const _0x1efe9e=_0x549b,_0x20758d='mobilenetv1/conv_'+_0x595bd4,_0x211609=_0x1efe9e(0x1d4)+_0x595bd4+_0x1efe9e(0x2fd),_0x52687d=_0x20758d+_0x1efe9e(0x354),_0x3ac7dd=_0x20758d+'/pointwise_conv',_0xd7d5d6=_0x5056fa(_0x211609+_0x1efe9e(0x24d),0x4,_0x52687d+_0x1efe9e(0x25b)),_0x23b8af=_0x5056fa(_0x211609+_0x1efe9e(0x261),0x1,_0x52687d+_0x1efe9e(0x210)),_0x3821cd=_0x5056fa(_0x211609+_0x1efe9e(0x2d7),0x1,_0x52687d+'/batch_norm_offset'),_0x7d2c52=_0x5056fa(_0x211609+_0x1efe9e(0x1d8),0x1,_0x52687d+_0x1efe9e(0x226)),_0x368e38=_0x5056fa(_0x211609+'/BatchNorm/moving_variance',0x1,_0x52687d+_0x1efe9e(0x27d));return{'depthwise_conv':{'filters':_0xd7d5d6,'batch_norm_scale':_0x23b8af,'batch_norm_offset':_0x3821cd,'batch_norm_mean':_0x7d2c52,'batch_norm_variance':_0x368e38},'pointwise_conv':_0x59bc9b('MobilenetV1',_0x595bd4,_0x3ac7dd)};}function _0x5b12fe(){const _0x462cf9=_0x549b;return{'conv_0':_0x59bc9b(_0x462cf9(0x22f),0x0,_0x462cf9(0x3ae)),'conv_1':_0x1ea60f(0x1),'conv_2':_0x1ea60f(0x2),'conv_3':_0x1ea60f(0x3),'conv_4':_0x1ea60f(0x4),'conv_5':_0x1ea60f(0x5),'conv_6':_0x1ea60f(0x6),'conv_7':_0x1ea60f(0x7),'conv_8':_0x1ea60f(0x8),'conv_9':_0x1ea60f(0x9),'conv_10':_0x1ea60f(0xa),'conv_11':_0x1ea60f(0xb),'conv_12':_0x1ea60f(0xc),'conv_13':_0x1ea60f(0xd)};}function _0x3d5dff(_0x9b2741,_0x34f5b7){const _0x57bbb5=_0x549b,_0x18fed3=_0x5056fa(_0x9b2741+_0x57bbb5(0x1d5),0x4,_0x34f5b7+_0x57bbb5(0x25b)),_0xc05cbe=_0x5056fa(_0x9b2741+_0x57bbb5(0x206),0x1,_0x34f5b7+_0x57bbb5(0x3ef));return{'filters':_0x18fed3,'bias':_0xc05cbe};}function _0x11b9a9(_0x453d43){const _0x2e691b=_0x549b,_0xdd0763=_0x3d5dff(_0x2e691b(0x3a7)+_0x453d43+_0x2e691b(0x2d8),_0x2e691b(0x3f2)+_0x453d43+_0x2e691b(0x416)),_0x2db09d=_0x3d5dff(_0x2e691b(0x3a7)+_0x453d43+'/ClassPredictor',_0x2e691b(0x3f2)+_0x453d43+_0x2e691b(0x2a5));return{'box_encoding_predictor':_0xdd0763,'class_predictor':_0x2db09d};}function _0x1a3199(){const _0xf1c111=_0x549b;return{'conv_0':_0x59bc9b(_0xf1c111(0x3cf),0x0,_0xf1c111(0x373)),'conv_1':_0x59bc9b(_0xf1c111(0x3cf),0x1,_0xf1c111(0x2c2)),'conv_2':_0x59bc9b(_0xf1c111(0x3cf),0x2,'prediction_layer/conv_2'),'conv_3':_0x59bc9b(_0xf1c111(0x3cf),0x3,_0xf1c111(0x42d)),'conv_4':_0x59bc9b(_0xf1c111(0x3cf),0x4,_0xf1c111(0x30d)),'conv_5':_0x59bc9b(_0xf1c111(0x3cf),0x5,'prediction_layer/conv_5'),'conv_6':_0x59bc9b(_0xf1c111(0x3cf),0x6,_0xf1c111(0x20e)),'conv_7':_0x59bc9b('Prediction',0x7,_0xf1c111(0x3ac)),'box_predictor_0':_0x11b9a9(0x0),'box_predictor_1':_0x11b9a9(0x1),'box_predictor_2':_0x11b9a9(0x2),'box_predictor_3':_0x11b9a9(0x3),'box_predictor_4':_0x11b9a9(0x4),'box_predictor_5':_0x11b9a9(0x5)};}return{'extractMobilenetV1Params':_0x5b12fe,'extractPredictionLayerParams':_0x1a3199};}function extractParamsFromWeightMap6(_0x33fc62){const _0x5b9e10=_0x34daa7,_0x24671c=[],{extractMobilenetV1Params:_0x1b38e3,extractPredictionLayerParams:_0x5007d3}=extractorsFactory6(_0x33fc62,_0x24671c),_0x2c60aa=_0x33fc62[_0x5b9e10(0x29a)];_0x24671c[_0x5b9e10(0x2d5)]({'originalPath':'Output/extra_dim','paramPath':_0x5b9e10(0x37c)});if(!isTensor3D(_0x2c60aa))throw new Error(_0x5b9e10(0x3dd)+_0x2c60aa);const _0x2722ec={'mobilenetv1':_0x1b38e3(),'prediction_layer':_0x5007d3(),'output_layer':{'extra_dim':_0x2c60aa}};return disposeUnusedWeightTensors(_0x33fc62,_0x24671c),{'params':_0x2722ec,'paramMappings':_0x24671c};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x29fc1d,_0x9b0aa1,_0xb70bb4){const _0x15f65c=_0x34daa7;return tf29[_0x15f65c(0x319)](()=>{const _0x4eb624=_0x15f65c;let _0xf70427=tf29[_0x4eb624(0x3df)](_0x29fc1d,_0x9b0aa1[_0x4eb624(0x3a2)],_0xb70bb4,_0x4eb624(0x32c));return _0xf70427=tf29[_0x4eb624(0x2e3)](_0xf70427,_0x9b0aa1['batch_norm_offset']),tf29['clipByValue'](_0xf70427,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0x1c037b,_0x591997,_0x2fcbbb){const _0x5b29c1=_0x34daa7;return tf30[_0x5b29c1(0x319)](()=>{const _0x991981=_0x5b29c1;let _0x3ea204=tf30[_0x991981(0x2b7)](_0x1c037b,_0x591997[_0x991981(0x3a2)],_0x2fcbbb,_0x991981(0x32c));return _0x3ea204=tf30[_0x991981(0x1c8)](_0x3ea204,_0x591997[_0x991981(0x402)],_0x591997[_0x991981(0x271)],_0x591997[_0x991981(0x411)],_0x591997[_0x991981(0x3bb)],epsilon),tf30[_0x991981(0x2d6)](_0x3ea204,0x0,0x6);});}function getStridesForLayerIdx(_0x156336){const _0x3bd29f=_0x34daa7;return[0x2,0x4,0x6,0xc][_0x3bd29f(0x39e)](_0x3a1e76=>_0x3a1e76===_0x156336)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x566204,_0x34bcbf){const _0x3b4ef3=_0x34daa7;return tf30[_0x3b4ef3(0x319)](()=>{const _0x17bdf2=_0x3b4ef3;let _0x1e9986,_0x525645=pointwiseConvLayer(_0x566204,_0x34bcbf[_0x17bdf2(0x3a4)],[0x2,0x2]);const _0x514414=[_0x34bcbf[_0x17bdf2(0x405)],_0x34bcbf['conv_2'],_0x34bcbf[_0x17bdf2(0x248)],_0x34bcbf[_0x17bdf2(0x320)],_0x34bcbf[_0x17bdf2(0x295)],_0x34bcbf[_0x17bdf2(0x26c)],_0x34bcbf[_0x17bdf2(0x1b7)],_0x34bcbf[_0x17bdf2(0x427)],_0x34bcbf[_0x17bdf2(0x2ff)],_0x34bcbf[_0x17bdf2(0x41a)],_0x34bcbf[_0x17bdf2(0x2a3)],_0x34bcbf[_0x17bdf2(0x2a4)],_0x34bcbf[_0x17bdf2(0x3c8)]];_0x514414[_0x17bdf2(0x287)]((_0x36a719,_0x354718)=>{const _0x42fe57=_0x17bdf2,_0x56d3d5=_0x354718+0x1,_0x3a1b8d=getStridesForLayerIdx(_0x56d3d5);_0x525645=depthwiseConvLayer(_0x525645,_0x36a719['depthwise_conv'],_0x3a1b8d),_0x525645=pointwiseConvLayer(_0x525645,_0x36a719[_0x42fe57(0x2e5)],[0x1,0x1]);if(_0x56d3d5===0xb)_0x1e9986=_0x525645;});if(_0x1e9986===null)throw new Error(_0x17bdf2(0x3f8));return{'out':_0x525645,'conv11':_0x1e9986};});}function IOU(_0x3bce82,_0x2d1655,_0x56131f){const _0x5e8052=_0x34daa7,_0x5c6f6d=_0x3bce82['arraySync'](),_0x1fab8b=Math[_0x5e8052(0x227)](_0x5c6f6d[_0x2d1655][0x0],_0x5c6f6d[_0x2d1655][0x2]),_0x562e89=Math[_0x5e8052(0x227)](_0x5c6f6d[_0x2d1655][0x1],_0x5c6f6d[_0x2d1655][0x3]),_0x16474c=Math['max'](_0x5c6f6d[_0x2d1655][0x0],_0x5c6f6d[_0x2d1655][0x2]),_0x219759=Math[_0x5e8052(0x387)](_0x5c6f6d[_0x2d1655][0x1],_0x5c6f6d[_0x2d1655][0x3]),_0x22eb6b=Math[_0x5e8052(0x227)](_0x5c6f6d[_0x56131f][0x0],_0x5c6f6d[_0x56131f][0x2]),_0x1d77ed=Math[_0x5e8052(0x227)](_0x5c6f6d[_0x56131f][0x1],_0x5c6f6d[_0x56131f][0x3]),_0x3cd931=Math[_0x5e8052(0x387)](_0x5c6f6d[_0x56131f][0x0],_0x5c6f6d[_0x56131f][0x2]),_0x453468=Math[_0x5e8052(0x387)](_0x5c6f6d[_0x56131f][0x1],_0x5c6f6d[_0x56131f][0x3]),_0x39c49a=(_0x16474c-_0x1fab8b)*(_0x219759-_0x562e89),_0x13ff79=(_0x3cd931-_0x22eb6b)*(_0x453468-_0x1d77ed);if(_0x39c49a<=0x0||_0x13ff79<=0x0)return 0x0;const _0x56a5f9=Math[_0x5e8052(0x387)](_0x1fab8b,_0x22eb6b),_0x1db47f=Math['max'](_0x562e89,_0x1d77ed),_0x7d40cc=Math[_0x5e8052(0x227)](_0x16474c,_0x3cd931),_0x1cae6c=Math[_0x5e8052(0x227)](_0x219759,_0x453468),_0x49ca3e=Math[_0x5e8052(0x387)](_0x7d40cc-_0x56a5f9,0x0)*Math['max'](_0x1cae6c-_0x1db47f,0x0);return _0x49ca3e/(_0x39c49a+_0x13ff79-_0x49ca3e);}function nonMaxSuppression2(_0x153cc7,_0x53612a,_0x75e047,_0x117152,_0x219d22){const _0x3211c6=_0x34daa7,_0x2903ec=_0x153cc7[_0x3211c6(0x377)][0x0],_0x23d2fc=Math[_0x3211c6(0x227)](_0x75e047,_0x2903ec),_0x4689ce=_0x53612a[_0x3211c6(0x20a)]((_0x5be3d5,_0x101e04)=>({'score':_0x5be3d5,'boxIndex':_0x101e04}))[_0x3211c6(0x3a5)](_0x5d5f2b=>_0x5d5f2b['score']>_0x219d22)[_0x3211c6(0x1ea)]((_0x1ab57e,_0x29640d)=>_0x29640d[_0x3211c6(0x2b5)]-_0x1ab57e[_0x3211c6(0x2b5)]),_0x5432af=_0x267815=>_0x267815<=_0x117152?0x1:0x0,_0x58aafa=[];return _0x4689ce[_0x3211c6(0x287)](_0x8efa83=>{const _0x2abba0=_0x3211c6;if(_0x58aafa[_0x2abba0(0x40e)]>=_0x23d2fc)return;const _0x5b138e=_0x8efa83[_0x2abba0(0x2b5)];for(let _0x1b7ebb=_0x58aafa[_0x2abba0(0x40e)]-0x1;_0x1b7ebb>=0x0;--_0x1b7ebb){const _0x1bec44=IOU(_0x153cc7,_0x8efa83['boxIndex'],_0x58aafa[_0x1b7ebb]);if(_0x1bec44===0x0)continue;_0x8efa83[_0x2abba0(0x2b5)]*=_0x5432af(_0x1bec44);if(_0x8efa83['score']<=_0x219d22)break;}_0x5b138e===_0x8efa83[_0x2abba0(0x2b5)]&&_0x58aafa[_0x2abba0(0x2d5)](_0x8efa83[_0x2abba0(0x304)]);}),_0x58aafa;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0x15a1e4){const _0x35a4dd=_0x34daa7,_0x241890=tf31[_0x35a4dd(0x3eb)](tf31[_0x35a4dd(0x30a)](_0x15a1e4,[0x1,0x0])),_0x4e80e4=[tf31[_0x35a4dd(0x39c)](_0x241890[0x2],_0x241890[0x0]),tf31[_0x35a4dd(0x39c)](_0x241890[0x3],_0x241890[0x1])],_0x454d65=[tf31[_0x35a4dd(0x2e3)](_0x241890[0x0],tf31[_0x35a4dd(0x323)](_0x4e80e4[0x0],0x2)),tf31[_0x35a4dd(0x2e3)](_0x241890[0x1],tf31['div'](_0x4e80e4[0x1],0x2))];return{'sizes':_0x4e80e4,'centers':_0x454d65};}function decodeBoxesLayer(_0x543a90,_0x37a70c){const _0xe958d9=_0x34daa7,{sizes:_0x2f5d65,centers:_0x54afe1}=getCenterCoordinatesAndSizesLayer(_0x543a90),_0x3833da=tf31[_0xe958d9(0x3eb)](tf31['transpose'](_0x37a70c,[0x1,0x0])),_0x809a96=tf31[_0xe958d9(0x323)](tf31[_0xe958d9(0x2e4)](tf31[_0xe958d9(0x418)](tf31[_0xe958d9(0x323)](_0x3833da[0x2],0x5)),_0x2f5d65[0x0]),0x2),_0x235690=tf31[_0xe958d9(0x2e3)](tf31['mul'](tf31[_0xe958d9(0x323)](_0x3833da[0x0],0xa),_0x2f5d65[0x0]),_0x54afe1[0x0]),_0x5b6300=tf31[_0xe958d9(0x323)](tf31[_0xe958d9(0x2e4)](tf31['exp'](tf31[_0xe958d9(0x323)](_0x3833da[0x3],0x5)),_0x2f5d65[0x1]),0x2),_0x47aef4=tf31[_0xe958d9(0x2e3)](tf31['mul'](tf31['div'](_0x3833da[0x1],0xa),_0x2f5d65[0x1]),_0x54afe1[0x1]);return tf31[_0xe958d9(0x30a)](tf31[_0xe958d9(0x336)]([tf31[_0xe958d9(0x39c)](_0x235690,_0x809a96),tf31[_0xe958d9(0x39c)](_0x47aef4,_0x5b6300),tf31[_0xe958d9(0x2e3)](_0x235690,_0x809a96),tf31[_0xe958d9(0x2e3)](_0x47aef4,_0x5b6300)]),[0x1,0x0]);}function outputLayer(_0x3c7f9f,_0x13753b,_0x5837bc){const _0x38bcf3=_0x34daa7;return tf31[_0x38bcf3(0x319)](()=>{const _0x11006e=_0x38bcf3,_0x28df93=_0x3c7f9f[_0x11006e(0x377)][0x0];let _0x5f06d2=decodeBoxesLayer(tf31[_0x11006e(0x3c2)](tf31['tile'](_0x5837bc[_0x11006e(0x245)],[_0x28df93,0x1,0x1]),[-0x1,0x4]),tf31[_0x11006e(0x3c2)](_0x3c7f9f,[-0x1,0x4]));_0x5f06d2=tf31[_0x11006e(0x3c2)](_0x5f06d2,[_0x28df93,_0x5f06d2[_0x11006e(0x377)][0x0]/_0x28df93,0x4]);const _0x4a37ab=tf31[_0x11006e(0x2f6)](tf31['slice'](_0x13753b,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0x2eadb2=tf31[_0x11006e(0x3c5)](_0x4a37ab,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0x2eadb2=tf31[_0x11006e(0x3c2)](_0x2eadb2,[_0x28df93,_0x2eadb2[_0x11006e(0x377)][0x1]]);const _0x344db6=tf31[_0x11006e(0x3eb)](_0x5f06d2),_0x2e58de=tf31[_0x11006e(0x3eb)](_0x2eadb2);return{'boxes':_0x344db6,'scores':_0x2e58de};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x208efc,_0x570e2c){const _0x3259eb=_0x34daa7;return tf32[_0x3259eb(0x319)](()=>{const _0x395987=_0x3259eb,_0x17d73a=_0x208efc['shape'][0x0],_0x5d55e1=tf32[_0x395987(0x3c2)](convLayer(_0x208efc,_0x570e2c[_0x395987(0x408)]),[_0x17d73a,-0x1,0x1,0x4]),_0x5823bb=tf32[_0x395987(0x3c2)](convLayer(_0x208efc,_0x570e2c['class_predictor']),[_0x17d73a,-0x1,0x3]);return{'boxPredictionEncoding':_0x5d55e1,'classPrediction':_0x5823bb};});}function predictionLayer(_0x245117,_0x4bcc8a,_0x2c57b0){return tf33['tidy'](()=>{const _0x1ca783=_0x549b,_0x1d1efb=pointwiseConvLayer(_0x245117,_0x2c57b0[_0x1ca783(0x3a4)],[0x1,0x1]),_0xe17726=pointwiseConvLayer(_0x1d1efb,_0x2c57b0[_0x1ca783(0x405)],[0x2,0x2]),_0x83d93a=pointwiseConvLayer(_0xe17726,_0x2c57b0[_0x1ca783(0x3d8)],[0x1,0x1]),_0x3287db=pointwiseConvLayer(_0x83d93a,_0x2c57b0[_0x1ca783(0x248)],[0x2,0x2]),_0x114c74=pointwiseConvLayer(_0x3287db,_0x2c57b0[_0x1ca783(0x320)],[0x1,0x1]),_0x2ae0be=pointwiseConvLayer(_0x114c74,_0x2c57b0[_0x1ca783(0x295)],[0x2,0x2]),_0x3c5f96=pointwiseConvLayer(_0x2ae0be,_0x2c57b0['conv_6'],[0x1,0x1]),_0x20a2ee=pointwiseConvLayer(_0x3c5f96,_0x2c57b0[_0x1ca783(0x1b7)],[0x2,0x2]),_0x26ba0f=boxPredictionLayer(_0x4bcc8a,_0x2c57b0[_0x1ca783(0x3c6)]),_0x432327=boxPredictionLayer(_0x245117,_0x2c57b0[_0x1ca783(0x2e8)]),_0x1ca4cf=boxPredictionLayer(_0xe17726,_0x2c57b0[_0x1ca783(0x230)]),_0x2f4cb8=boxPredictionLayer(_0x3287db,_0x2c57b0['box_predictor_3']),_0x180315=boxPredictionLayer(_0x2ae0be,_0x2c57b0['box_predictor_4']),_0x552c5b=boxPredictionLayer(_0x20a2ee,_0x2c57b0[_0x1ca783(0x277)]),_0x3e9ab5=tf33[_0x1ca783(0x307)]([_0x26ba0f[_0x1ca783(0x2d4)],_0x432327[_0x1ca783(0x2d4)],_0x1ca4cf[_0x1ca783(0x2d4)],_0x2f4cb8[_0x1ca783(0x2d4)],_0x180315[_0x1ca783(0x2d4)],_0x552c5b['boxPredictionEncoding']],0x1),_0x2240de=tf33[_0x1ca783(0x307)]([_0x26ba0f[_0x1ca783(0x224)],_0x432327[_0x1ca783(0x224)],_0x1ca4cf[_0x1ca783(0x224)],_0x2f4cb8[_0x1ca783(0x224)],_0x180315['classPrediction'],_0x552c5b[_0x1ca783(0x224)]],0x1);return{'boxPredictions':_0x3e9ab5,'classPredictions':_0x2240de};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x297d54,maxResults:_0x15dd9a}={}){const _0x354b66=_0x34daa7;this['_name']='SsdMobilenetv1Options',this[_0x354b66(0x325)]=_0x297d54||0.5,this[_0x354b66(0x315)]=_0x15dd9a||0x64;if(typeof this[_0x354b66(0x325)]!==_0x354b66(0x343)||this['_minConfidence']<=0x0||this[_0x354b66(0x325)]>=0x1)throw new Error(this['_name']+'\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201');if(typeof this[_0x354b66(0x315)]!==_0x354b66(0x343))throw new Error(this[_0x354b66(0x306)]+'\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number');}get[_0x34daa7(0x21b)](){const _0x295256=_0x34daa7;return this[_0x295256(0x325)];}get[_0x34daa7(0x3fa)](){return this['_maxResults'];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){const _0xbcebad=_0x34daa7;super(_0xbcebad(0x37a));}['forwardInput'](_0x57fe37){const _0x45b7ec=_0x34daa7,{params:_0x10cbe6}=this;if(!_0x10cbe6)throw new Error(_0x45b7ec(0x2bd));return tf34[_0x45b7ec(0x319)](()=>{const _0x4fe8f7=_0x45b7ec,_0x47d381=tf34['cast'](_0x57fe37[_0x4fe8f7(0x412)](0x200,![]),_0x4fe8f7(0x28e)),_0x275c15=tf34[_0x4fe8f7(0x39c)](tf34[_0x4fe8f7(0x323)](_0x47d381,127.5),0x1),_0x509513=mobileNetV1(_0x275c15,_0x10cbe6[_0x4fe8f7(0x1cf)]),{boxPredictions:_0x3d8505,classPredictions:_0x190181}=predictionLayer(_0x509513[_0x4fe8f7(0x3b4)],_0x509513[_0x4fe8f7(0x30c)],_0x10cbe6[_0x4fe8f7(0x388)]);return outputLayer(_0x3d8505,_0x190181,_0x10cbe6[_0x4fe8f7(0x3ab)]);});}async[_0x34daa7(0x1df)](_0x501168){const _0x15ece7=_0x34daa7;return this[_0x15ece7(0x42b)](await toNetInput(_0x501168));}async[_0x34daa7(0x1f6)](_0x299c9f,_0x163092={}){const _0xf69d70=_0x34daa7,{maxResults:_0xcefff6,minConfidence:_0x2b049b}=new SsdMobilenetv1Options(_0x163092),_0x50c5f9=await toNetInput(_0x299c9f),{boxes:_0x1497a9,scores:_0x39e198}=this[_0xf69d70(0x42b)](_0x50c5f9),_0xa334f8=_0x1497a9[0x0],_0x491b49=_0x39e198[0x0];for(let _0x350bca=0x1;_0x350bca<_0x1497a9[_0xf69d70(0x40e)];_0x350bca++){_0x1497a9[_0x350bca][_0xf69d70(0x31b)](),_0x39e198[_0x350bca][_0xf69d70(0x31b)]();}const _0x16c2a5=Array[_0xf69d70(0x2cf)](_0x491b49[_0xf69d70(0x3bf)]()),_0x3c194c=0.5,_0x4c3d78=nonMaxSuppression2(_0xa334f8,_0x16c2a5,_0xcefff6,_0x3c194c,_0x2b049b),_0x123b3c=_0x50c5f9[_0xf69d70(0x2df)](0x0),_0x54f29f=_0x50c5f9[_0xf69d70(0x217)],_0x1985c3=_0x54f29f/_0x123b3c[_0xf69d70(0x29d)],_0x568126=_0x54f29f/_0x123b3c['height'],_0x1f6316=_0xa334f8[_0xf69d70(0x1b2)](),_0x390beb=_0x4c3d78[_0xf69d70(0x20a)](_0x2c3e85=>{const _0x2b5914=_0xf69d70,[_0x4ab75e,_0x5d1159]=[Math[_0x2b5914(0x387)](0x0,_0x1f6316[_0x2c3e85][0x0]),Math[_0x2b5914(0x227)](0x1,_0x1f6316[_0x2c3e85][0x2])][_0x2b5914(0x20a)](_0x4e2aca=>_0x4e2aca*_0x568126),[_0x21205a,_0xb4041]=[Math['max'](0x0,_0x1f6316[_0x2c3e85][0x1]),Math[_0x2b5914(0x227)](0x1,_0x1f6316[_0x2c3e85][0x3])][_0x2b5914(0x20a)](_0x50b036=>_0x50b036*_0x1985c3);return new FaceDetection(_0x16c2a5[_0x2c3e85],new Rect(_0x21205a,_0x4ab75e,_0xb4041-_0x21205a,_0x5d1159-_0x4ab75e),{'height':_0x50c5f9[_0x2b5914(0x2c3)](0x0),'width':_0x50c5f9[_0x2b5914(0x35f)](0x0)});});return _0xa334f8[_0xf69d70(0x31b)](),_0x491b49[_0xf69d70(0x31b)](),_0x390beb;}[_0x34daa7(0x40d)](){return'ssd_mobilenetv1_model';}[_0x34daa7(0x3b5)](_0x280f5b){return extractParamsFromWeightMap6(_0x280f5b);}[_0x34daa7(0x1fa)](_0x216039){return extractParams6(_0x216039);}};function createSsdMobilenetv1(_0x325808){const _0x553deb=_0x34daa7,_0x3b89d9=new SsdMobilenetv1();return _0x3b89d9[_0x553deb(0x242)](_0x325808),_0x3b89d9;}function createFaceDetectionNet(_0x53d1da){return createSsdMobilenetv1(_0x53d1da);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME=_0x34daa7(0x33e),DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x34daa7(0x3da),tf39=__toESM(require_tfjs_esm()),isNumber=_0xfbf4e2=>typeof _0xfbf4e2===_0x34daa7(0x343);function validateConfig(_0x5a7bd1){const _0x523df5=_0x34daa7;if(!_0x5a7bd1)throw new Error(_0x523df5(0x420)+_0x5a7bd1);if(typeof _0x5a7bd1[_0x523df5(0x1fe)]!==_0x523df5(0x265))throw new Error('config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20'+_0x5a7bd1[_0x523df5(0x1fe)]);if(!isNumber(_0x5a7bd1['iouThreshold'])||_0x5a7bd1['iouThreshold']<0x0||_0x5a7bd1['iouThreshold']>0x1)throw new Error('config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20'+_0x5a7bd1[_0x523df5(0x1be)]);if(!Array['isArray'](_0x5a7bd1[_0x523df5(0x1c6)])||!_0x5a7bd1[_0x523df5(0x1c6)][_0x523df5(0x40e)]||!_0x5a7bd1[_0x523df5(0x1c6)][_0x523df5(0x2c7)](_0x140d9d=>typeof _0x140d9d===_0x523df5(0x3ea)))throw new Error(_0x523df5(0x40f)+JSON[_0x523df5(0x218)](_0x5a7bd1['classes']));if(!Array[_0x523df5(0x3c1)](_0x5a7bd1['anchors'])||!_0x5a7bd1[_0x523df5(0x3c7)][_0x523df5(0x40e)]||!_0x5a7bd1[_0x523df5(0x3c7)][_0x523df5(0x20a)](_0x1d47cf=>_0x1d47cf||{})[_0x523df5(0x2c7)](_0x2cabf6=>isNumber(_0x2cabf6['x'])&&isNumber(_0x2cabf6['y'])))throw new Error(_0x523df5(0x326)+JSON[_0x523df5(0x218)](_0x5a7bd1[_0x523df5(0x3c7)]));if(_0x5a7bd1[_0x523df5(0x334)]&&(!Array[_0x523df5(0x3c1)](_0x5a7bd1[_0x523df5(0x334)])||_0x5a7bd1[_0x523df5(0x334)]['length']!==0x3||!_0x5a7bd1[_0x523df5(0x334)]['every'](isNumber)))throw new Error('config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20'+JSON[_0x523df5(0x218)](_0x5a7bd1['meanRgb']));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x49c997){const _0x165e2d=_0x34daa7;return tf35[_0x165e2d(0x319)](()=>{const _0x2e4299=_0x165e2d,_0x3a685b=tf35[_0x2e4299(0x2e4)](_0x49c997,tf35[_0x2e4299(0x3cc)](0.10000000149011612));return tf35[_0x2e4299(0x2e3)](tf35[_0x2e4299(0x35d)](tf35[_0x2e4299(0x39c)](_0x49c997,_0x3a685b)),_0x3a685b);});}function convWithBatchNorm(_0x11bb94,_0x1ea7bd){const _0x16b8b9=_0x34daa7;return tf36[_0x16b8b9(0x319)](()=>{const _0x13e0fe=_0x16b8b9;let _0x3cb75c=tf36[_0x13e0fe(0x380)](_0x11bb94,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x3cb75c=tf36[_0x13e0fe(0x3df)](_0x3cb75c,_0x1ea7bd[_0x13e0fe(0x2ec)][_0x13e0fe(0x3a2)],[0x1,0x1],_0x13e0fe(0x212)),_0x3cb75c=tf36[_0x13e0fe(0x39c)](_0x3cb75c,_0x1ea7bd['bn'][_0x13e0fe(0x39c)]),_0x3cb75c=tf36[_0x13e0fe(0x2e4)](_0x3cb75c,_0x1ea7bd['bn'][_0x13e0fe(0x23b)]),_0x3cb75c=tf36[_0x13e0fe(0x2e3)](_0x3cb75c,_0x1ea7bd[_0x13e0fe(0x2ec)]['bias']),leaky(_0x3cb75c);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x231b84,_0x124ef3){const _0xab5973=_0x34daa7;return tf37[_0xab5973(0x319)](()=>{const _0x20f202=_0xab5973;let _0xe96174=tf37[_0x20f202(0x380)](_0x231b84,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0xe96174=tf37['separableConv2d'](_0xe96174,_0x124ef3[_0x20f202(0x367)],_0x124ef3[_0x20f202(0x349)],[0x1,0x1],'valid'),_0xe96174=tf37[_0x20f202(0x2e3)](_0xe96174,_0x124ef3[_0x20f202(0x398)]),leaky(_0xe96174);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x538818,_0x240f47){const _0x5670aa=extractConvParamsFactory(_0x538818,_0x240f47);function _0x306916(_0x299ec1,_0x44babe){const _0x51e1b6=_0x549b,_0x4272b6=tf38[_0x51e1b6(0x41c)](_0x538818(_0x299ec1)),_0x665f0f=tf38[_0x51e1b6(0x41c)](_0x538818(_0x299ec1));return _0x240f47['push']({'paramPath':_0x44babe+'/sub'},{'paramPath':_0x44babe+_0x51e1b6(0x314)}),{'sub':_0x4272b6,'truediv':_0x665f0f};}function _0x270d43(_0x2bb632,_0x386346,_0x45666e){const _0x192ce4=_0x549b,_0x7b0882=_0x5670aa(_0x2bb632,_0x386346,0x3,_0x45666e+_0x192ce4(0x2d0)),_0x167faa=_0x306916(_0x386346,_0x45666e+_0x192ce4(0x22c));return{'conv':_0x7b0882,'bn':_0x167faa};}const _0x439c89=extractSeparableConvParamsFactory(_0x538818,_0x240f47);return{'extractConvParams':_0x5670aa,'extractConvWithBatchNormParams':_0x270d43,'extractSeparableConvParams':_0x439c89};}function extractParams7(_0x4dbca3,_0x3878c9,_0x5ee00a,_0x1613b6){const _0x403ded=_0x34daa7,{extractWeights:_0x60798f,getRemainingWeights:_0x2f1a82}=extractWeightsFactory(_0x4dbca3),_0x33b394=[],{extractConvParams:_0xa38839,extractConvWithBatchNormParams:_0x33e868,extractSeparableConvParams:_0x4fb360}=extractorsFactory7(_0x60798f,_0x33b394);let _0x25b0a6;if(_0x3878c9[_0x403ded(0x1fe)]){const [_0x6213ed,_0x91b7ac,_0xc0d044,_0xc3a1f5,_0x3ab5a5,_0x1150b1,_0x4e1b40,_0x1a94f7,_0x24476d]=_0x1613b6,_0x42291c=_0x3878c9[_0x403ded(0x1f2)]?_0xa38839(_0x6213ed,_0x91b7ac,0x3,_0x403ded(0x264)):_0x4fb360(_0x6213ed,_0x91b7ac,_0x403ded(0x264)),_0xd2268d=_0x4fb360(_0x91b7ac,_0xc0d044,_0x403ded(0x32e)),_0x49974f=_0x4fb360(_0xc0d044,_0xc3a1f5,_0x403ded(0x389)),_0x2ed813=_0x4fb360(_0xc3a1f5,_0x3ab5a5,'conv3'),_0x5afc9f=_0x4fb360(_0x3ab5a5,_0x1150b1,_0x403ded(0x1ff)),_0x4eba8a=_0x4fb360(_0x1150b1,_0x4e1b40,_0x403ded(0x281)),_0x4dd9c8=_0x1a94f7?_0x4fb360(_0x4e1b40,_0x1a94f7,_0x403ded(0x3f3)):void 0x0,_0x4528cb=_0x24476d?_0x4fb360(_0x1a94f7,_0x24476d,'conv7'):void 0x0,_0x147336=_0xa38839(_0x24476d||_0x1a94f7||_0x4e1b40,0x5*_0x5ee00a,0x1,_0x403ded(0x2a8));_0x25b0a6={'conv0':_0x42291c,'conv1':_0xd2268d,'conv2':_0x49974f,'conv3':_0x2ed813,'conv4':_0x5afc9f,'conv5':_0x4eba8a,'conv6':_0x4dd9c8,'conv7':_0x4528cb,'conv8':_0x147336};}else{const [_0x54d1e4,_0x497058,_0x23fd25,_0x423c96,_0xfc60d4,_0x48eb23,_0x54929e,_0x524340,_0x1802aa]=_0x1613b6,_0x2f7986=_0x33e868(_0x54d1e4,_0x497058,_0x403ded(0x264)),_0x5e7bc0=_0x33e868(_0x497058,_0x23fd25,_0x403ded(0x32e)),_0x3c3131=_0x33e868(_0x23fd25,_0x423c96,_0x403ded(0x389)),_0x2dadb3=_0x33e868(_0x423c96,_0xfc60d4,'conv3'),_0x8ac5c4=_0x33e868(_0xfc60d4,_0x48eb23,_0x403ded(0x1ff)),_0x3adda7=_0x33e868(_0x48eb23,_0x54929e,'conv5'),_0xe7d2bd=_0x33e868(_0x54929e,_0x524340,_0x403ded(0x3f3)),_0x45cfb2=_0x33e868(_0x524340,_0x1802aa,_0x403ded(0x3fe)),_0xf4903b=_0xa38839(_0x1802aa,0x5*_0x5ee00a,0x1,_0x403ded(0x2a8));_0x25b0a6={'conv0':_0x2f7986,'conv1':_0x5e7bc0,'conv2':_0x3c3131,'conv3':_0x2dadb3,'conv4':_0x8ac5c4,'conv5':_0x3adda7,'conv6':_0xe7d2bd,'conv7':_0x45cfb2,'conv8':_0xf4903b};}if(_0x2f1a82()[_0x403ded(0x40e)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x2f1a82()['length']);return{'params':_0x25b0a6,'paramMappings':_0x33b394};}function extractorsFactory8(_0x2d079b,_0x3d051c){const _0x99446b=extractWeightEntryFactory(_0x2d079b,_0x3d051c);function _0x2a580f(_0x2d27e2){const _0x1b6fc7=_0x99446b(_0x2d27e2+'/sub',0x1),_0x5a10f7=_0x99446b(_0x2d27e2+'/truediv',0x1);return{'sub':_0x1b6fc7,'truediv':_0x5a10f7};}function _0x14d763(_0x56950b){const _0x2d4072=_0x99446b(_0x56950b+'/filters',0x4),_0x31fc2e=_0x99446b(_0x56950b+'/bias',0x1);return{'filters':_0x2d4072,'bias':_0x31fc2e};}function _0x2ecd65(_0x185080){const _0x2c76f6=_0x549b,_0x28e9dd=_0x14d763(_0x185080+_0x2c76f6(0x2d0)),_0x203a17=_0x2a580f(_0x185080+_0x2c76f6(0x22c));return{'conv':_0x28e9dd,'bn':_0x203a17};}const _0x15b430=loadSeparableConvParamsFactory(_0x99446b);return{'extractConvParams':_0x14d763,'extractConvWithBatchNormParams':_0x2ecd65,'extractSeparableConvParams':_0x15b430};}function extractParamsFromWeightMap7(_0x16b66b,_0x2737a6){const _0x565e40=_0x34daa7,_0x464aab=[],{extractConvParams:_0x3da978,extractConvWithBatchNormParams:_0x5ba1e3,extractSeparableConvParams:_0x23e9d1}=extractorsFactory8(_0x16b66b,_0x464aab);let _0x5bd5ba;if(_0x2737a6[_0x565e40(0x1fe)]){const _0x4e57b3=_0x2737a6[_0x565e40(0x27e)]&&_0x2737a6[_0x565e40(0x27e)][_0x565e40(0x40e)]||0x9;_0x5bd5ba={'conv0':_0x2737a6[_0x565e40(0x1f2)]?_0x3da978(_0x565e40(0x264)):_0x23e9d1(_0x565e40(0x264)),'conv1':_0x23e9d1(_0x565e40(0x32e)),'conv2':_0x23e9d1(_0x565e40(0x389)),'conv3':_0x23e9d1(_0x565e40(0x2b9)),'conv4':_0x23e9d1(_0x565e40(0x1ff)),'conv5':_0x23e9d1(_0x565e40(0x281)),'conv6':_0x4e57b3>0x7?_0x23e9d1(_0x565e40(0x3f3)):void 0x0,'conv7':_0x4e57b3>0x8?_0x23e9d1(_0x565e40(0x3fe)):void 0x0,'conv8':_0x3da978(_0x565e40(0x2a8))};}else _0x5bd5ba={'conv0':_0x5ba1e3(_0x565e40(0x264)),'conv1':_0x5ba1e3(_0x565e40(0x32e)),'conv2':_0x5ba1e3(_0x565e40(0x389)),'conv3':_0x5ba1e3(_0x565e40(0x2b9)),'conv4':_0x5ba1e3('conv4'),'conv5':_0x5ba1e3(_0x565e40(0x281)),'conv6':_0x5ba1e3('conv6'),'conv7':_0x5ba1e3(_0x565e40(0x3fe)),'conv8':_0x3da978('conv8')};return disposeUnusedWeightTensors(_0x16b66b,_0x464aab),{'params':_0x5bd5ba,'paramMappings':_0x464aab};}var TinyYolov2Options=class{constructor({inputSize:_0xdfc332,scoreThreshold:_0x2a4298}={}){const _0x21b7f4=_0x34daa7;this[_0x21b7f4(0x306)]=_0x21b7f4(0x3b0),this[_0x21b7f4(0x401)]=_0xdfc332||0x1a0,this[_0x21b7f4(0x23a)]=_0x2a4298||0.5;if(typeof this[_0x21b7f4(0x401)]!==_0x21b7f4(0x343)||this['_inputSize']%0x20!==0x0)throw new Error(this[_0x21b7f4(0x306)]+_0x21b7f4(0x221));if(typeof this[_0x21b7f4(0x23a)]!==_0x21b7f4(0x343)||this[_0x21b7f4(0x23a)]<=0x0||this[_0x21b7f4(0x23a)]>=0x1)throw new Error(this[_0x21b7f4(0x306)]+'\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201');}get[_0x34daa7(0x217)](){const _0x482270=_0x34daa7;return this[_0x482270(0x401)];}get[_0x34daa7(0x417)](){const _0xfa8075=_0x34daa7;return this[_0xfa8075(0x23a)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x26de58){const _0x579f35=_0x34daa7;super(_0x579f35(0x327)),validateConfig(_0x26de58),this[_0x579f35(0x3b6)]=_0x26de58;}get['config'](){const _0x2cb5b5=_0x34daa7;return this[_0x2cb5b5(0x3b6)];}get[_0x34daa7(0x400)](){const _0x561b06=_0x34daa7;return this['config'][_0x561b06(0x400)]||this[_0x561b06(0x33f)][_0x561b06(0x1c6)][_0x561b06(0x40e)]>0x1;}get[_0x34daa7(0x247)](){const _0x2ee4a7=_0x34daa7;return 0x5+(this[_0x2ee4a7(0x400)]?this[_0x2ee4a7(0x33f)]['classes'][_0x2ee4a7(0x40e)]:0x0);}[_0x34daa7(0x2cd)](_0x4c375b,_0x5b4248){const _0xe7eef=_0x34daa7;let _0x5da000=convWithBatchNorm(_0x4c375b,_0x5b4248[_0xe7eef(0x264)]);return _0x5da000=tf39['maxPool'](_0x5da000,[0x2,0x2],[0x2,0x2],_0xe7eef(0x32c)),_0x5da000=convWithBatchNorm(_0x5da000,_0x5b4248[_0xe7eef(0x32e)]),_0x5da000=tf39[_0xe7eef(0x1f1)](_0x5da000,[0x2,0x2],[0x2,0x2],_0xe7eef(0x32c)),_0x5da000=convWithBatchNorm(_0x5da000,_0x5b4248[_0xe7eef(0x389)]),_0x5da000=tf39['maxPool'](_0x5da000,[0x2,0x2],[0x2,0x2],_0xe7eef(0x32c)),_0x5da000=convWithBatchNorm(_0x5da000,_0x5b4248[_0xe7eef(0x2b9)]),_0x5da000=tf39['maxPool'](_0x5da000,[0x2,0x2],[0x2,0x2],_0xe7eef(0x32c)),_0x5da000=convWithBatchNorm(_0x5da000,_0x5b4248[_0xe7eef(0x1ff)]),_0x5da000=tf39[_0xe7eef(0x1f1)](_0x5da000,[0x2,0x2],[0x2,0x2],_0xe7eef(0x32c)),_0x5da000=convWithBatchNorm(_0x5da000,_0x5b4248['conv5']),_0x5da000=tf39[_0xe7eef(0x1f1)](_0x5da000,[0x2,0x2],[0x1,0x1],_0xe7eef(0x32c)),_0x5da000=convWithBatchNorm(_0x5da000,_0x5b4248[_0xe7eef(0x3f3)]),_0x5da000=convWithBatchNorm(_0x5da000,_0x5b4248[_0xe7eef(0x3fe)]),convLayer(_0x5da000,_0x5b4248['conv8'],_0xe7eef(0x212),![]);}['runMobilenet'](_0x331764,_0x1a17ce){const _0x249c92=_0x34daa7;let _0x1b71be=this[_0x249c92(0x33f)][_0x249c92(0x1f2)]?leaky(convLayer(_0x331764,_0x1a17ce[_0x249c92(0x264)],'valid',![])):depthwiseSeparableConv2(_0x331764,_0x1a17ce[_0x249c92(0x264)]);return _0x1b71be=tf39[_0x249c92(0x1f1)](_0x1b71be,[0x2,0x2],[0x2,0x2],'same'),_0x1b71be=depthwiseSeparableConv2(_0x1b71be,_0x1a17ce[_0x249c92(0x32e)]),_0x1b71be=tf39[_0x249c92(0x1f1)](_0x1b71be,[0x2,0x2],[0x2,0x2],_0x249c92(0x32c)),_0x1b71be=depthwiseSeparableConv2(_0x1b71be,_0x1a17ce[_0x249c92(0x389)]),_0x1b71be=tf39[_0x249c92(0x1f1)](_0x1b71be,[0x2,0x2],[0x2,0x2],_0x249c92(0x32c)),_0x1b71be=depthwiseSeparableConv2(_0x1b71be,_0x1a17ce[_0x249c92(0x2b9)]),_0x1b71be=tf39[_0x249c92(0x1f1)](_0x1b71be,[0x2,0x2],[0x2,0x2],'same'),_0x1b71be=depthwiseSeparableConv2(_0x1b71be,_0x1a17ce[_0x249c92(0x1ff)]),_0x1b71be=tf39[_0x249c92(0x1f1)](_0x1b71be,[0x2,0x2],[0x2,0x2],_0x249c92(0x32c)),_0x1b71be=depthwiseSeparableConv2(_0x1b71be,_0x1a17ce['conv5']),_0x1b71be=tf39[_0x249c92(0x1f1)](_0x1b71be,[0x2,0x2],[0x1,0x1],_0x249c92(0x32c)),_0x1b71be=_0x1a17ce['conv6']?depthwiseSeparableConv2(_0x1b71be,_0x1a17ce['conv6']):_0x1b71be,_0x1b71be=_0x1a17ce[_0x249c92(0x3fe)]?depthwiseSeparableConv2(_0x1b71be,_0x1a17ce[_0x249c92(0x3fe)]):_0x1b71be,convLayer(_0x1b71be,_0x1a17ce['conv8'],_0x249c92(0x212),![]);}[_0x34daa7(0x42b)](_0x50313a,_0x9b8d6d){const _0x56a673=_0x34daa7,{params:_0x1c66a5}=this;if(!_0x1c66a5)throw new Error(_0x56a673(0x3c9));return tf39[_0x56a673(0x319)](()=>{const _0x2af636=_0x56a673;let _0x475bba=tf39[_0x2af636(0x31f)](_0x50313a[_0x2af636(0x412)](_0x9b8d6d,![]),_0x2af636(0x28e));return _0x475bba=this[_0x2af636(0x33f)]['meanRgb']?normalize(_0x475bba,this[_0x2af636(0x33f)][_0x2af636(0x334)]):_0x475bba,_0x475bba=_0x475bba[_0x2af636(0x323)](0xff),this[_0x2af636(0x33f)][_0x2af636(0x1fe)]?this['runMobilenet'](_0x475bba,_0x1c66a5):this[_0x2af636(0x2cd)](_0x475bba,_0x1c66a5);});}async['forward'](_0x386283,_0xa9fef9){const _0x4d6d6d=_0x34daa7;return this[_0x4d6d6d(0x42b)](await toNetInput(_0x386283),_0xa9fef9);}async[_0x34daa7(0x3ed)](_0x216f0b,_0x41bc57={}){const _0x128e93=_0x34daa7,{inputSize:_0x18dfee,scoreThreshold:_0x59c81f}=new TinyYolov2Options(_0x41bc57),_0x6a8c8c=await toNetInput(_0x216f0b),_0x27627a=await this[_0x128e93(0x42b)](_0x6a8c8c,_0x18dfee),_0x14fce4=tf39[_0x128e93(0x319)](()=>tf39[_0x128e93(0x3eb)](_0x27627a)[0x0]['expandDims']()),_0x278392={'width':_0x6a8c8c[_0x128e93(0x35f)](0x0),'height':_0x6a8c8c[_0x128e93(0x2c3)](0x0)},_0x25b313=await this[_0x128e93(0x3d9)](_0x14fce4,_0x6a8c8c[_0x128e93(0x2df)](0x0),_0x59c81f);_0x27627a[_0x128e93(0x31b)](),_0x14fce4[_0x128e93(0x31b)]();const _0xab1de9=_0x25b313[_0x128e93(0x20a)](_0x150ddd=>_0x150ddd[_0x128e93(0x381)]),_0x3a5a6d=_0x25b313[_0x128e93(0x20a)](_0x241f4d=>_0x241f4d[_0x128e93(0x2b5)]),_0x24784a=_0x25b313[_0x128e93(0x20a)](_0x68d0c6=>_0x68d0c6[_0x128e93(0x370)]),_0x504616=_0x25b313[_0x128e93(0x20a)](_0x58ad9d=>this[_0x128e93(0x33f)][_0x128e93(0x1c6)][_0x58ad9d[_0x128e93(0x406)]]),_0x2c2ced=nonMaxSuppression(_0xab1de9[_0x128e93(0x20a)](_0x7e81e4=>_0x7e81e4[_0x128e93(0x32f)](_0x18dfee)),_0x3a5a6d,this[_0x128e93(0x33f)][_0x128e93(0x1be)],!![]),_0x6b8a78=_0x2c2ced[_0x128e93(0x20a)](_0x5e07fc=>new ObjectDetection(_0x3a5a6d[_0x5e07fc],_0x24784a[_0x5e07fc],_0x504616[_0x5e07fc],_0xab1de9[_0x5e07fc],_0x278392));return _0x6b8a78;}[_0x34daa7(0x40d)](){return'';}['extractParamsFromWeightMap'](_0x13f131){return extractParamsFromWeightMap7(_0x13f131,this['config']);}[_0x34daa7(0x1fa)](_0x5f15b2){const _0x64d231=_0x34daa7,_0x40b156=this[_0x64d231(0x33f)]['filterSizes']||_TinyYolov2Base[_0x64d231(0x2a2)],_0x3bc05f=_0x40b156?_0x40b156['length']:void 0x0;if(_0x3bc05f!==0x7&&_0x3bc05f!==0x8&&_0x3bc05f!==0x9)throw new Error(_0x64d231(0x371)+_0x3bc05f+'\x20filterSizes\x20in\x20config');return extractParams7(_0x5f15b2,this['config'],this[_0x64d231(0x247)],_0x40b156);}async[_0x34daa7(0x3d9)](_0xdc1d0,_0x524739,_0x1e9c80){const _0x391018=_0x34daa7,{width:_0x1174ba,height:_0x32bc54}=_0x524739,_0x12d9ac=Math['max'](_0x1174ba,_0x32bc54),_0x1f265e=_0x12d9ac/_0x1174ba,_0x31bb52=_0x12d9ac/_0x32bc54,_0x5d5fe6=_0xdc1d0[_0x391018(0x377)][0x1],_0x4e3ac7=this[_0x391018(0x33f)]['anchors'][_0x391018(0x40e)],[_0x268ec8,_0x451ca6,_0x58e7f4]=tf39[_0x391018(0x319)](()=>{const _0x95e538=_0x391018,_0x3aad60=_0xdc1d0[_0x95e538(0x3c2)]([_0x5d5fe6,_0x5d5fe6,_0x4e3ac7,this[_0x95e538(0x247)]]),_0x318210=_0x3aad60[_0x95e538(0x3c5)]([0x0,0x0,0x0,0x0],[_0x5d5fe6,_0x5d5fe6,_0x4e3ac7,0x4]),_0x14d57c=_0x3aad60[_0x95e538(0x3c5)]([0x0,0x0,0x0,0x4],[_0x5d5fe6,_0x5d5fe6,_0x4e3ac7,0x1]),_0x2d7769=this[_0x95e538(0x400)]?tf39[_0x95e538(0x359)](_0x3aad60[_0x95e538(0x3c5)]([0x0,0x0,0x0,0x5],[_0x5d5fe6,_0x5d5fe6,_0x4e3ac7,this['config'][_0x95e538(0x1c6)][_0x95e538(0x40e)]]),0x3):tf39[_0x95e538(0x3cc)](0x0);return[_0x318210,_0x14d57c,_0x2d7769];}),_0x59804e=[],_0x5bb7cb=await _0x451ca6[_0x391018(0x3a6)](),_0x3f5cd4=await _0x268ec8[_0x391018(0x3a6)]();for(let _0x577885=0x0;_0x577885<_0x5d5fe6;_0x577885++){for(let _0x1b23f8=0x0;_0x1b23f8<_0x5d5fe6;_0x1b23f8++){for(let _0x56aa3a=0x0;_0x56aa3a<_0x4e3ac7;_0x56aa3a++){const _0x3a2ca3=sigmoid(_0x5bb7cb[_0x577885][_0x1b23f8][_0x56aa3a][0x0]);if(!_0x1e9c80||_0x3a2ca3>_0x1e9c80){const _0x21b2b0=(_0x1b23f8+sigmoid(_0x3f5cd4[_0x577885][_0x1b23f8][_0x56aa3a][0x0]))/_0x5d5fe6*_0x1f265e,_0x39300c=(_0x577885+sigmoid(_0x3f5cd4[_0x577885][_0x1b23f8][_0x56aa3a][0x1]))/_0x5d5fe6*_0x31bb52,_0x1201a5=Math[_0x391018(0x418)](_0x3f5cd4[_0x577885][_0x1b23f8][_0x56aa3a][0x2])*this[_0x391018(0x33f)][_0x391018(0x3c7)][_0x56aa3a]['x']/_0x5d5fe6*_0x1f265e,_0x2ea373=Math[_0x391018(0x418)](_0x3f5cd4[_0x577885][_0x1b23f8][_0x56aa3a][0x3])*this[_0x391018(0x33f)]['anchors'][_0x56aa3a]['y']/_0x5d5fe6*_0x31bb52,_0x53f652=_0x21b2b0-_0x1201a5/0x2,_0x356457=_0x39300c-_0x2ea373/0x2,_0x2ef49b={'row':_0x577885,'col':_0x1b23f8,'anchor':_0x56aa3a},{classScore:_0x195746,label:_0x548619}=this[_0x391018(0x400)]?await this[_0x391018(0x2d3)](_0x58e7f4,_0x2ef49b):{'classScore':0x1,'label':0x0};_0x59804e[_0x391018(0x2d5)]({'box':new BoundingBox(_0x53f652,_0x356457,_0x53f652+_0x1201a5,_0x356457+_0x2ea373),'score':_0x3a2ca3,'classScore':_0x3a2ca3*_0x195746,'label':_0x548619,..._0x2ef49b});}}}}return _0x268ec8[_0x391018(0x31b)](),_0x451ca6[_0x391018(0x31b)](),_0x58e7f4['dispose'](),_0x59804e;}async[_0x34daa7(0x2d3)](_0x3beddc,_0x3e1073){const _0x436a02=_0x34daa7,{row:_0x9ad7eb,col:_0x187d78,anchor:_0x47bb8c}=_0x3e1073,_0x4874ef=await _0x3beddc['array']();return Array(this[_0x436a02(0x33f)][_0x436a02(0x1c6)][_0x436a02(0x40e)])[_0x436a02(0x293)](0x0)['map']((_0x1541df,_0x3cfc9f)=>_0x4874ef[_0x9ad7eb][_0x187d78][_0x47bb8c][_0x3cfc9f])[_0x436a02(0x20a)]((_0x4c7d03,_0x316b37)=>({'classScore':_0x4c7d03,'label':_0x316b37}))[_0x436a02(0x1f3)]((_0x271678,_0x5b43ca)=>_0x271678['classScore']>_0x5b43ca['classScore']?_0x271678:_0x5b43ca);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base['DEFAULT_FILTER_SIZES']=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x1de07d=!![]){const _0x3990cb=_0x34daa7,_0x26f0cd={'withSeparableConvs':_0x1de07d,'iouThreshold':IOU_THRESHOLD,'classes':[_0x3990cb(0x313)],..._0x1de07d?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x26f0cd);}get['withSeparableConvs'](){const _0x3fbfb7=_0x34daa7;return this['config'][_0x3fbfb7(0x1fe)];}get[_0x34daa7(0x3c7)](){const _0x2a0bc5=_0x34daa7;return this[_0x2a0bc5(0x33f)]['anchors'];}async[_0x34daa7(0x1f6)](_0x73e8f3,_0x45871e){const _0x2e807d=_0x34daa7,_0x869a1e=await this[_0x2e807d(0x3ed)](_0x73e8f3,_0x45871e);return _0x869a1e['map'](_0x1f100c=>new FaceDetection(_0x1f100c[_0x2e807d(0x2b5)],_0x1f100c[_0x2e807d(0x232)],{'width':_0x1f100c[_0x2e807d(0x3e1)],'height':_0x1f100c[_0x2e807d(0x369)]}));}[_0x34daa7(0x40d)](){const _0x17b58f=_0x34daa7;return this[_0x17b58f(0x1fe)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x34daa7(0x3b5)](_0x5627b9){const _0x381059=_0x34daa7;return super[_0x381059(0x3b5)](_0x5627b9);}};function createTinyYolov2(_0x55854b,_0x1a7d52=!![]){const _0x1f46ef=_0x34daa7,_0x1691c6=new TinyYolov2(_0x1a7d52);return _0x1691c6[_0x1f46ef(0x242)](_0x55854b),_0x1691c6;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){super(...arguments),this['_name']='TinyFaceDetectorOptions';}},ComposableTask=class{async['then'](_0x4d4d79){return _0x4d4d79(await this['run']());}async[_0x34daa7(0x434)](){throw new Error('ComposableTask\x20-\x20run\x20is\x20not\x20implemented');}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x53b4ae,_0x433c2e,_0x5f5ce5,_0x4a7b3f,_0x4d3f55=({alignedRect:_0x2df1f7})=>_0x2df1f7){const _0x51153c=_0x34daa7,_0x5e360f=_0x53b4ae[_0x51153c(0x20a)](_0x30b716=>isWithFaceLandmarks(_0x30b716)?_0x4d3f55(_0x30b716):_0x30b716[_0x51153c(0x3d3)]),_0x5f2170=_0x4a7b3f||(_0x433c2e instanceof tf40['Tensor']?await extractFaceTensors(_0x433c2e,_0x5e360f):await extractFaces(_0x433c2e,_0x5e360f)),_0x50cf1f=await _0x5f5ce5(_0x5f2170);return _0x5f2170[_0x51153c(0x287)](_0x5bd1d5=>_0x5bd1d5 instanceof tf40['Tensor']&&_0x5bd1d5[_0x51153c(0x31b)]()),_0x50cf1f;}async function extractSingleFaceAndComputeResult(_0x3a27b8,_0x41cc8c,_0x576498,_0x534521,_0x30bae0){return extractAllFacesAndComputeResults([_0x3a27b8],_0x41cc8c,async _0xaa4204=>_0x576498(_0xaa4204[0x0]),_0x534521,_0x30bae0);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0xec722=_0x34daa7,_0x2bf65e={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':[_0xec722(0x313)],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x2bf65e);}get['anchors'](){const _0x482324=_0x34daa7;return this[_0x482324(0x33f)]['anchors'];}async[_0x34daa7(0x1f6)](_0x188dc3,_0xbf3274){const _0x178dbc=_0x34daa7,_0x44081b=await this[_0x178dbc(0x3ed)](_0x188dc3,_0xbf3274);return _0x44081b['map'](_0x1155cf=>new FaceDetection(_0x1155cf[_0x178dbc(0x2b5)],_0x1155cf[_0x178dbc(0x232)],{'width':_0x1155cf['imageWidth'],'height':_0x1155cf[_0x178dbc(0x369)]}));}['getDefaultModelName'](){const _0x271725=_0x34daa7;return _0x271725(0x360);}['extractParamsFromWeightMap'](_0x7e2bf6){return super['extractParamsFromWeightMap'](_0x7e2bf6);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x362d34,_0x28e206)=>nets[_0x34daa7(0x1db)][_0x34daa7(0x1f6)](_0x362d34,_0x28e206),tinyFaceDetector=(_0x5bdd4c,_0x578d92)=>nets[_0x34daa7(0x362)][_0x34daa7(0x1f6)](_0x5bdd4c,_0x578d92),tinyYolov2=(_0x41bcf9,_0x227686)=>nets['tinyYolov2']['locateFaces'](_0x41bcf9,_0x227686),detectFaceLandmarks=_0x55da28=>nets['faceLandmark68Net']['detectLandmarks'](_0x55da28),detectFaceLandmarksTiny=_0x1f097f=>nets['faceLandmark68TinyNet'][_0x34daa7(0x273)](_0x1f097f),computeFaceDescriptor=_0x2f4b3b=>nets[_0x34daa7(0x26f)]['computeFaceDescriptor'](_0x2f4b3b),recognizeFaceExpressions=_0x207737=>nets['faceExpressionNet']['predictExpressions'](_0x207737),predictAgeAndGender=_0x319097=>nets[_0x34daa7(0x436)]['predictAgeAndGender'](_0x319097),loadSsdMobilenetv1Model=_0x3434fa=>nets[_0x34daa7(0x1db)]['load'](_0x3434fa),loadTinyFaceDetectorModel=_0x50ba63=>nets[_0x34daa7(0x362)]['load'](_0x50ba63),loadTinyYolov2Model=_0x1dd938=>nets[_0x34daa7(0x270)][_0x34daa7(0x237)](_0x1dd938),loadFaceLandmarkModel=_0x43edfc=>nets['faceLandmark68Net'][_0x34daa7(0x237)](_0x43edfc),loadFaceLandmarkTinyModel=_0x39f617=>nets[_0x34daa7(0x27b)][_0x34daa7(0x237)](_0x39f617),loadFaceRecognitionModel=_0xd0967a=>nets[_0x34daa7(0x26f)]['load'](_0xd0967a),loadFaceExpressionModel=_0x44add4=>nets[_0x34daa7(0x2a6)][_0x34daa7(0x237)](_0x44add4),loadAgeGenderModel=_0x28c978=>nets['ageGenderNet']['load'](_0x28c978),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x499765,_0x322fca,_0x467f96){const _0x45ad08=_0x34daa7;super(),this['parentTask']=_0x499765,this[_0x45ad08(0x215)]=_0x322fca,this[_0x45ad08(0x42a)]=_0x467f96;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x34daa7(0x434)](){const _0x1083e4=_0x34daa7,_0xef23d1=await this['parentTask'],_0x3d3260=await extractAllFacesAndComputeResults(_0xef23d1,this[_0x1083e4(0x215)],async _0x4a2e07=>Promise[_0x1083e4(0x1cb)](_0x4a2e07[_0x1083e4(0x20a)](_0x54eb69=>nets[_0x1083e4(0x2a6)][_0x1083e4(0x429)](_0x54eb69))),this['extractedFaces']);return _0xef23d1[_0x1083e4(0x20a)]((_0x54b673,_0x2d73c0)=>extendWithFaceExpressions(_0x54b673,_0x3d3260[_0x2d73c0]));}['withAgeAndGender'](){const _0x4916d6=_0x34daa7;return new PredictAllAgeAndGenderTask(this,this[_0x4916d6(0x215)]);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x34daa7(0x434)](){const _0x4043c5=_0x34daa7,_0x13a612=await this[_0x4043c5(0x34e)];if(!_0x13a612)return void 0x0;const _0x2cad5d=await extractSingleFaceAndComputeResult(_0x13a612,this[_0x4043c5(0x215)],_0x5e0c9c=>nets[_0x4043c5(0x2a6)][_0x4043c5(0x429)](_0x5e0c9c),this[_0x4043c5(0x42a)]);return extendWithFaceExpressions(_0x13a612,_0x2cad5d);}[_0x34daa7(0x331)](){const _0x1ab584=_0x34daa7;return new PredictSingleAgeAndGenderTask(this,this[_0x1ab584(0x215)]);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{['withAgeAndGender'](){const _0x3c18a7=_0x34daa7;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x3c18a7(0x215)]);}[_0x34daa7(0x312)](){const _0x4e69fe=_0x34daa7;return new ComputeAllFaceDescriptorsTask(this,this[_0x4e69fe(0x215)]);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x34daa7(0x331)](){const _0x452d7c=_0x34daa7;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x452d7c(0x215)]);}[_0x34daa7(0x339)](){const _0x171333=_0x34daa7;return new ComputeSingleFaceDescriptorTask(this,this[_0x171333(0x215)]);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x49381d,_0x5edf05,_0x21cec8){const _0x46df92=_0x34daa7;super(),this[_0x46df92(0x34e)]=_0x49381d,this[_0x46df92(0x215)]=_0x5edf05,this[_0x46df92(0x42a)]=_0x21cec8;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async['run'](){const _0x45ef91=_0x34daa7,_0x23a8de=await this[_0x45ef91(0x34e)],_0x16a401=await extractAllFacesAndComputeResults(_0x23a8de,this[_0x45ef91(0x215)],async _0x243745=>Promise[_0x45ef91(0x1cb)](_0x243745[_0x45ef91(0x20a)](_0x3b26a0=>nets[_0x45ef91(0x436)][_0x45ef91(0x21e)](_0x3b26a0))),this[_0x45ef91(0x42a)]);return _0x23a8de[_0x45ef91(0x20a)]((_0x120a1b,_0x37de42)=>{const {age:_0x43ea1f,gender:_0x49140f,genderProbability:_0x4a407c}=_0x16a401[_0x37de42];return extendWithAge(extendWithGender(_0x120a1b,_0x49140f,_0x4a407c),_0x43ea1f);});}['withFaceExpressions'](){const _0x71be98=_0x34daa7;return new PredictAllFaceExpressionsTask(this,this[_0x71be98(0x215)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x34daa7(0x434)](){const _0x2ff36e=_0x34daa7,_0x598df6=await this[_0x2ff36e(0x34e)];if(!_0x598df6)return void 0x0;const {age:_0x55c97a,gender:_0x4413e3,genderProbability:_0x39d615}=await extractSingleFaceAndComputeResult(_0x598df6,this['input'],_0x43a0d0=>nets[_0x2ff36e(0x436)]['predictAgeAndGender'](_0x43a0d0),this['extractedFaces']);return extendWithAge(extendWithGender(_0x598df6,_0x4413e3,_0x39d615),_0x55c97a);}[_0x34daa7(0x337)](){const _0x75195=_0x34daa7;return new PredictSingleFaceExpressionsTask(this,this[_0x75195(0x215)]);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{[_0x34daa7(0x337)](){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x34daa7(0x312)](){const _0x489887=_0x34daa7;return new ComputeAllFaceDescriptorsTask(this,this[_0x489887(0x215)]);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{[_0x34daa7(0x337)](){const _0x471b7d=_0x34daa7;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x471b7d(0x215)]);}[_0x34daa7(0x339)](){const _0x4a8f91=_0x34daa7;return new ComputeSingleFaceDescriptorTask(this,this[_0x4a8f91(0x215)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0x1d4601,_0x1e9880){const _0x1122a5=_0x34daa7;super(),this[_0x1122a5(0x34e)]=_0x1d4601,this['input']=_0x1e9880;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x34daa7(0x434)](){const _0x435a08=_0x34daa7,_0x1167e3=await this[_0x435a08(0x34e)],_0x3b79b4=await extractAllFacesAndComputeResults(_0x1167e3,this[_0x435a08(0x215)],_0x4cd2ed=>Promise[_0x435a08(0x1cb)](_0x4cd2ed[_0x435a08(0x20a)](_0x58d36b=>nets[_0x435a08(0x26f)][_0x435a08(0x36b)](_0x58d36b))),null,_0x11d827=>_0x11d827[_0x435a08(0x40c)]['align'](null,{'useDlibAlignment':!![]}));return _0x3b79b4['map']((_0x1820a6,_0x5a2034)=>extendWithFaceDescriptor(_0x1167e3[_0x5a2034],_0x1820a6));}[_0x34daa7(0x337)](){const _0x465051=_0x34daa7;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x465051(0x215)]);}['withAgeAndGender'](){const _0x6351aa=_0x34daa7;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x6351aa(0x215)]);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x34daa7(0x434)](){const _0x4eec04=_0x34daa7,_0x1e9f61=await this['parentTask'];if(!_0x1e9f61)return void 0x0;const _0x653d2e=await extractSingleFaceAndComputeResult(_0x1e9f61,this[_0x4eec04(0x215)],_0x12e775=>nets[_0x4eec04(0x26f)][_0x4eec04(0x36b)](_0x12e775),null,_0x2be266=>_0x2be266['landmarks'][_0x4eec04(0x2cb)](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x1e9f61,_0x653d2e);}[_0x34daa7(0x337)](){const _0x416ac6=_0x34daa7;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x416ac6(0x215)]);}[_0x34daa7(0x331)](){const _0x2144e1=_0x34daa7;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x2144e1(0x215)]);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0x5aff35,_0x4ec361,_0x1c548f){super(),this['parentTask']=_0x5aff35,this['input']=_0x4ec361,this['useTinyLandmarkNet']=_0x1c548f;}get[_0x34daa7(0x203)](){const _0x6b3567=_0x34daa7;return this[_0x6b3567(0x1d1)]?nets['faceLandmark68TinyNet']:nets[_0x6b3567(0x233)];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async['run'](){const _0x4871e7=_0x34daa7,_0x17c0f0=await this[_0x4871e7(0x34e)],_0x1fea81=_0x17c0f0[_0x4871e7(0x20a)](_0x2f56ad=>_0x2f56ad[_0x4871e7(0x3d3)]),_0x4590af=this['input']instanceof tf41['Tensor']?await extractFaceTensors(this[_0x4871e7(0x215)],_0x1fea81):await extractFaces(this['input'],_0x1fea81),_0x470f48=await Promise[_0x4871e7(0x1cb)](_0x4590af[_0x4871e7(0x20a)](_0x51efcb=>this['landmarkNet'][_0x4871e7(0x273)](_0x51efcb)));_0x4590af['forEach'](_0x209275=>_0x209275 instanceof tf41[_0x4871e7(0x2ae)]&&_0x209275['dispose']());const _0x1c83aa=_0x17c0f0['filter']((_0x2bed7e,_0x2373f1)=>_0x470f48[_0x2373f1])[_0x4871e7(0x20a)]((_0x35f270,_0x235e06)=>extendWithFaceLandmarks(_0x35f270,_0x470f48[_0x235e06]));return _0x1c83aa;}[_0x34daa7(0x337)](){const _0x516ba=_0x34daa7;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x516ba(0x215)]);}[_0x34daa7(0x331)](){const _0x3a3c7c=_0x34daa7;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x3a3c7c(0x215)]);}['withFaceDescriptors'](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x34daa7(0x434)](){const _0x1bf6bf=_0x34daa7,_0x33bbc0=await this['parentTask'];if(!_0x33bbc0)return void 0x0;const {detection:_0x3c908d}=_0x33bbc0,_0x5b3418=this['input']instanceof tf41['Tensor']?await extractFaceTensors(this['input'],[_0x3c908d]):await extractFaces(this[_0x1bf6bf(0x215)],[_0x3c908d]),_0x21f0aa=await this['landmarkNet'][_0x1bf6bf(0x273)](_0x5b3418[0x0]);return _0x5b3418['forEach'](_0x2d8e7f=>_0x2d8e7f instanceof tf41[_0x1bf6bf(0x2ae)]&&_0x2d8e7f[_0x1bf6bf(0x31b)]()),extendWithFaceLandmarks(_0x33bbc0,_0x21f0aa);}[_0x34daa7(0x337)](){const _0x3c42cb=_0x34daa7;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x3c42cb(0x215)]);}['withAgeAndGender'](){const _0x386746=_0x34daa7;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x386746(0x215)]);}[_0x34daa7(0x339)](){const _0x4371a5=_0x34daa7;return new ComputeSingleFaceDescriptorTask(this,this[_0x4371a5(0x215)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x32bf08,_0x1c39a8=new SsdMobilenetv1Options()){const _0x298913=_0x34daa7;super(),this[_0x298913(0x215)]=_0x32bf08,this[_0x298913(0x3d2)]=_0x1c39a8;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async[_0x34daa7(0x434)](){const _0x2dc252=_0x34daa7,{input:_0x53fb1e,options:_0x36fafe}=this;let _0x101c5e;if(_0x36fafe instanceof TinyFaceDetectorOptions)_0x101c5e=nets[_0x2dc252(0x362)][_0x2dc252(0x1f6)](_0x53fb1e,_0x36fafe);else{if(_0x36fafe instanceof SsdMobilenetv1Options)_0x101c5e=nets[_0x2dc252(0x1db)][_0x2dc252(0x1f6)](_0x53fb1e,_0x36fafe);else{if(_0x36fafe instanceof TinyYolov2Options)_0x101c5e=nets[_0x2dc252(0x270)][_0x2dc252(0x1f6)](_0x53fb1e,_0x36fafe);else throw new Error(_0x2dc252(0x20f));}}return _0x101c5e;}[_0x34daa7(0x269)](){return new Promise((_0x57651e,_0x2e4830)=>{const _0x8a3baa=_0x549b;this[_0x8a3baa(0x434)]()[_0x8a3baa(0x208)](_0x42675e=>_0x57651e(_0x42675e[_0x8a3baa(0x20a)](_0xb4bef9=>extendWithFaceDetection({},_0xb4bef9))))[_0x8a3baa(0x268)](_0x2b5bec=>_0x2e4830(_0x2b5bec));});}['withFaceLandmarks'](_0x5498bb=![]){const _0x25ce1b=_0x34daa7;return new DetectAllFaceLandmarksTask(this[_0x25ce1b(0x269)](),this[_0x25ce1b(0x215)],_0x5498bb);}[_0x34daa7(0x337)](){const _0x333f9b=_0x34daa7;return new PredictAllFaceExpressionsTask(this[_0x333f9b(0x269)](),this[_0x333f9b(0x215)]);}['withAgeAndGender'](){const _0x30a93f=_0x34daa7;return new PredictAllAgeAndGenderTask(this[_0x30a93f(0x269)](),this[_0x30a93f(0x215)]);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x34daa7(0x434)](){const _0x3f2462=_0x34daa7,_0x18d754=await new DetectAllFacesTask(this['input'],this[_0x3f2462(0x3d2)]);let _0x33e4d7=_0x18d754[0x0];return _0x18d754[_0x3f2462(0x287)](_0x58d70d=>{const _0x3fa612=_0x3f2462;if(_0x58d70d[_0x3fa612(0x2b5)]>_0x33e4d7[_0x3fa612(0x2b5)])_0x33e4d7=_0x58d70d;}),_0x33e4d7;}[_0x34daa7(0x20c)](){return new Promise(async _0x1103d0=>{const _0x2bdad9=_0x549b,_0x35c322=await this[_0x2bdad9(0x434)]();_0x1103d0(_0x35c322?extendWithFaceDetection({},_0x35c322):void 0x0);});}[_0x34daa7(0x267)](_0x1e526d=![]){const _0x9c6b8d=_0x34daa7;return new DetectSingleFaceLandmarksTask(this['runAndExtendWithFaceDetection'](),this[_0x9c6b8d(0x215)],_0x1e526d);}[_0x34daa7(0x337)](){const _0x3206a0=_0x34daa7;return new PredictSingleFaceExpressionsTask(this[_0x3206a0(0x20c)](),this[_0x3206a0(0x215)]);}[_0x34daa7(0x331)](){return new PredictSingleAgeAndGenderTask(this['runAndExtendWithFaceDetection'](),this['input']);}};function detectSingleFace(_0x479f6c,_0x22bf11=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x479f6c,_0x22bf11);}function detectAllFaces(_0x144ca9,_0x3d325a=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x144ca9,_0x3d325a);}async function allFacesSsdMobilenetv1(_0x428046,_0xafecb8){const _0x448b98=_0x34daa7;return detectAllFaces(_0x428046,new SsdMobilenetv1Options(_0xafecb8?{'minConfidence':_0xafecb8}:{}))[_0x448b98(0x267)]()[_0x448b98(0x312)]();}async function allFacesTinyYolov2(_0x44df5a,_0x148058={}){const _0x389459=_0x34daa7;return detectAllFaces(_0x44df5a,new TinyYolov2Options(_0x148058))[_0x389459(0x267)]()['withFaceDescriptors']();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x35409c,_0x50cbfc){const _0x3456d4=_0x34daa7;if(_0x35409c[_0x3456d4(0x40e)]!==_0x50cbfc[_0x3456d4(0x40e)])throw new Error(_0x3456d4(0x37e));const _0x5e37ff=Array[_0x3456d4(0x2cf)](_0x35409c),_0x57962b=Array[_0x3456d4(0x2cf)](_0x50cbfc);return Math['sqrt'](_0x5e37ff[_0x3456d4(0x20a)]((_0x4e7fd8,_0x1e20d6)=>_0x4e7fd8-_0x57962b[_0x1e20d6])[_0x3456d4(0x1f3)]((_0x2a7d4a,_0x2bb633)=>_0x2a7d4a+_0x2bb633**0x2,0x0));}var FaceMatcher=class{constructor(_0x2ec66b,_0x18bb4e=0.6){const _0x30cf9d=_0x34daa7;this['_distanceThreshold']=_0x18bb4e;const _0x141b26=Array[_0x30cf9d(0x3c1)](_0x2ec66b)?_0x2ec66b:[_0x2ec66b];if(!_0x141b26['length'])throw new Error(_0x30cf9d(0x28c));let _0x1bb237=0x1;const _0x800b19=()=>_0x30cf9d(0x35b)+_0x1bb237++;this[_0x30cf9d(0x28d)]=_0x141b26[_0x30cf9d(0x20a)](_0x4434a2=>{const _0x5c58e2=_0x30cf9d;if(_0x4434a2 instanceof LabeledFaceDescriptors)return _0x4434a2;if(_0x4434a2 instanceof Float32Array)return new LabeledFaceDescriptors(_0x800b19(),[_0x4434a2]);if(_0x4434a2[_0x5c58e2(0x3b9)]&&_0x4434a2[_0x5c58e2(0x3b9)]instanceof Float32Array)return new LabeledFaceDescriptors(_0x800b19(),[_0x4434a2[_0x5c58e2(0x3b9)]]);throw new Error(_0x5c58e2(0x32d));});}get['labeledDescriptors'](){const _0x52b446=_0x34daa7;return this[_0x52b446(0x28d)];}get[_0x34daa7(0x25d)](){const _0x32f0d1=_0x34daa7;return this[_0x32f0d1(0x24f)];}['computeMeanDistance'](_0x3ca4da,_0x284633){const _0x4026d6=_0x34daa7;return _0x284633[_0x4026d6(0x20a)](_0x1df59a=>euclideanDistance(_0x1df59a,_0x3ca4da))[_0x4026d6(0x1f3)]((_0x53f27e,_0x4e1dcf)=>_0x53f27e+_0x4e1dcf,0x0)/(_0x284633[_0x4026d6(0x40e)]||0x1);}[_0x34daa7(0x29e)](_0x212306){const _0x22d48c=_0x34daa7;return this[_0x22d48c(0x285)][_0x22d48c(0x20a)](({descriptors:_0x2a1fa2,label:_0x2863e8})=>new FaceMatch(_0x2863e8,this['computeMeanDistance'](_0x212306,_0x2a1fa2)))[_0x22d48c(0x1f3)]((_0x160c6d,_0x59a4c3)=>_0x160c6d[_0x22d48c(0x39a)]<_0x59a4c3['distance']?_0x160c6d:_0x59a4c3);}[_0x34daa7(0x2b2)](_0x364ec1){const _0x23ec5a=_0x34daa7,_0x212037=this[_0x23ec5a(0x29e)](_0x364ec1);return _0x212037[_0x23ec5a(0x39a)]<this[_0x23ec5a(0x24f)]?_0x212037:new FaceMatch(_0x23ec5a(0x294),_0x212037[_0x23ec5a(0x39a)]);}['toJSON'](){const _0x50bb69=_0x34daa7;return{'distanceThreshold':this['_distanceThreshold'],'labeledDescriptors':this[_0x50bb69(0x28d)][_0x50bb69(0x20a)](_0x3a4ec7=>_0x3a4ec7[_0x50bb69(0x3cb)]())};}static[_0x34daa7(0x28b)](_0x11f7d6){const _0x129ea1=_0x34daa7,_0xe18b20=_0x11f7d6['labeledDescriptors'][_0x129ea1(0x20a)](_0x4d2b60=>LabeledFaceDescriptors[_0x129ea1(0x28b)](_0x4d2b60));return new FaceMatcher(_0xe18b20,_0x11f7d6[_0x129ea1(0x25d)]);}};function createTinyFaceDetector(_0x3c39c9){const _0x5ca942=new TinyFaceDetector();return _0x5ca942['extractWeights'](_0x3c39c9),_0x5ca942;}function resizeResults(_0x13bf75,_0x55918c){const _0xecb4a9=_0x34daa7,{width:_0xe54596,height:_0x3ca60d}=new Dimensions(_0x55918c[_0xecb4a9(0x29d)],_0x55918c['height']);if(_0xe54596<=0x0||_0x3ca60d<=0x0)throw new Error(_0xecb4a9(0x2f0)+JSON[_0xecb4a9(0x218)]({'width':_0xe54596,'height':_0x3ca60d}));if(Array[_0xecb4a9(0x3c1)](_0x13bf75))return _0x13bf75['map'](_0x119f79=>resizeResults(_0x119f79,{'width':_0xe54596,'height':_0x3ca60d}));if(isWithFaceLandmarks(_0x13bf75)){const _0x14bf96=_0x13bf75[_0xecb4a9(0x3d3)]['forSize'](_0xe54596,_0x3ca60d),_0x1c189c=_0x13bf75[_0xecb4a9(0x1c4)][_0xecb4a9(0x3f1)](_0x14bf96[_0xecb4a9(0x381)]['width'],_0x14bf96[_0xecb4a9(0x381)]['height']);return extendWithFaceLandmarks(extendWithFaceDetection(_0x13bf75,_0x14bf96),_0x1c189c);}if(isWithFaceDetection(_0x13bf75))return extendWithFaceDetection(_0x13bf75,_0x13bf75['detection'][_0xecb4a9(0x3f1)](_0xe54596,_0x3ca60d));if(_0x13bf75 instanceof FaceLandmarks||_0x13bf75 instanceof FaceDetection)return _0x13bf75[_0xecb4a9(0x3f1)](_0xe54596,_0x3ca60d);return _0x13bf75;}var version2=version;0x0&&(module['exports']={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});