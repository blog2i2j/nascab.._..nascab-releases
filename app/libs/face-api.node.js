'use strict';const _0x223da0=_0x21d7;(function(_0x164369,_0x305e1d){const _0xc0fafd=_0x21d7,_0x24a147=_0x164369();while(!![]){try{const _0x5a587b=-parseInt(_0xc0fafd(0x7a))/0x1+-parseInt(_0xc0fafd(0xbf))/0x2+parseInt(_0xc0fafd(0x1b7))/0x3+parseInt(_0xc0fafd(0x144))/0x4+parseInt(_0xc0fafd(0x2a3))/0x5*(-parseInt(_0xc0fafd(0x11d))/0x6)+parseInt(_0xc0fafd(0xdb))/0x7+parseInt(_0xc0fafd(0x222))/0x8;if(_0x5a587b===_0x305e1d)break;else _0x24a147['push'](_0x24a147['shift']());}catch(_0x4e170b){_0x24a147['push'](_0x24a147['shift']());}}}(_0x475f,0x32332));var __create=Object['create'],__defProp=Object[_0x223da0(0x2e3)],__getOwnPropDesc=Object[_0x223da0(0x1f5)],__getOwnPropNames=Object['getOwnPropertyNames'],__getProtoOf=Object[_0x223da0(0x96)],__hasOwnProp=Object[_0x223da0(0x20a)]['hasOwnProperty'],__commonJS=(_0x5a9a10,_0x16bd88)=>function _0x3cfaf1(){const _0x72be2a=_0x223da0;return _0x16bd88||(0x0,_0x5a9a10[__getOwnPropNames(_0x5a9a10)[0x0]])((_0x16bd88={'exports':{}})['exports'],_0x16bd88),_0x16bd88[_0x72be2a(0x28c)];},__export=(_0x45175a,_0x4a7e71)=>{for(var _0x3ab776 in _0x4a7e71)__defProp(_0x45175a,_0x3ab776,{'get':_0x4a7e71[_0x3ab776],'enumerable':!![]});},__copyProps=(_0x5674c5,_0x3c13e8,_0x53ad18,_0x169077)=>{const _0xc55496=_0x223da0;if(_0x3c13e8&&typeof _0x3c13e8==='object'||typeof _0x3c13e8==='function'){for(let _0x10c693 of __getOwnPropNames(_0x3c13e8))if(!__hasOwnProp[_0xc55496(0x134)](_0x5674c5,_0x10c693)&&_0x10c693!==_0x53ad18)__defProp(_0x5674c5,_0x10c693,{'get':()=>_0x3c13e8[_0x10c693],'enumerable':!(_0x169077=__getOwnPropDesc(_0x3c13e8,_0x10c693))||_0x169077[_0xc55496(0xad)]});}return _0x5674c5;},__toESM=(_0x51ad89,_0x36a3a2,_0x30a3af)=>(_0x30a3af=_0x51ad89!=null?__create(__getProtoOf(_0x51ad89)):{},__copyProps(_0x36a3a2||!_0x51ad89||!_0x51ad89[_0x223da0(0x202)]?__defProp(_0x30a3af,_0x223da0(0x2b3),{'value':_0x51ad89,'enumerable':!![]}):_0x30a3af,_0x51ad89)),__toCommonJS=_0x3a9790=>__copyProps(__defProp({},_0x223da0(0x202),{'value':!![]}),_0x3a9790),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x29563c,_0x562b78){'use strict';const _0x16603e=_0x223da0;var _0x12a05a=Object[_0x16603e(0x2e3)],_0x20cb58=Object[_0x16603e(0x1f5)],_0x95232b=Object[_0x16603e(0x2cd)],_0x61f76b=Object[_0x16603e(0x20a)]['hasOwnProperty'],_0x2e3b2d=(_0x7abffa,_0x2c7815,_0x1f8555,_0x177a28)=>{const _0x5a0748=_0x16603e;if(_0x2c7815&&typeof _0x2c7815==='object'||typeof _0x2c7815===_0x5a0748(0x24b)){for(let _0x206ee0 of _0x95232b(_0x2c7815))if(!_0x61f76b[_0x5a0748(0x134)](_0x7abffa,_0x206ee0)&&_0x206ee0!==_0x1f8555)_0x12a05a(_0x7abffa,_0x206ee0,{'get':()=>_0x2c7815[_0x206ee0],'enumerable':!(_0x177a28=_0x20cb58(_0x2c7815,_0x206ee0))||_0x177a28[_0x5a0748(0xad)]});}return _0x7abffa;},_0x59401b=(_0x4760f6,_0x5d0d89,_0x10723b)=>(_0x2e3b2d(_0x4760f6,_0x5d0d89,_0x16603e(0x2b3)),_0x10723b&&_0x2e3b2d(_0x10723b,_0x5d0d89,_0x16603e(0x2b3))),_0x58a30b=_0x15f0bd=>_0x2e3b2d(_0x12a05a({},'__esModule',{'value':!![]}),_0x15f0bd),_0x3ba556={};_0x562b78['exports']=_0x58a30b(_0x3ba556),_0x59401b(_0x3ba556,require(_0x16603e(0x20e)),_0x562b78[_0x16603e(0x28c)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module[_0x223da0(0x28c)]=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x32399d,_0x12c901,_0xdee123=![]){const _0x20947=_0x223da0;_0x32399d[_0x20947(0x11e)](),_0x12c901['slice'](0x1)[_0x20947(0x19b)](({x:_0x232399,y:_0x446493},_0x26c5b4)=>{const _0x1d374c=_0x20947,_0x9595fa=_0x12c901[_0x26c5b4];_0x32399d[_0x1d374c(0x1bf)](_0x9595fa['x'],_0x9595fa['y']),_0x32399d['lineTo'](_0x232399,_0x446493);});if(_0xdee123){const _0x3b6fbb=_0x12c901[_0x12c901[_0x20947(0x1b5)]-0x1],_0x3241ba=_0x12c901[0x0];if(!_0x3b6fbb||!_0x3241ba)return;_0x32399d[_0x20947(0x1bf)](_0x3b6fbb['x'],_0x3b6fbb['y']),_0x32399d[_0x20947(0x18d)](_0x3241ba['x'],_0x3241ba['y']);}_0x32399d['stroke']();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x26db1a,_0x263c3c){const _0x1ba388=_0x223da0;if(!isValidNumber(_0x26db1a)||!isValidNumber(_0x263c3c))throw new Error(_0x1ba388(0x261)+JSON[_0x1ba388(0xa1)]({'width':_0x26db1a,'height':_0x263c3c}));this['_width']=_0x26db1a,this[_0x1ba388(0xf4)]=_0x263c3c;}get[_0x223da0(0x2ee)](){const _0x3e2871=_0x223da0;return this[_0x3e2871(0x293)];}get[_0x223da0(0x193)](){const _0x4e4cf5=_0x223da0;return this[_0x4e4cf5(0xf4)];}[_0x223da0(0x1ad)](){const _0x93e7ab=_0x223da0;return new Dimensions(0x1/this[_0x93e7ab(0x2ee)],0x1/this['height']);}};function isTensor(_0x1b3365,_0x4cb580){const _0x18b4f2=_0x223da0;return _0x1b3365 instanceof tf[_0x18b4f2(0x16c)]&&_0x1b3365[_0x18b4f2(0x2a9)][_0x18b4f2(0x1b5)]===_0x4cb580;}function isTensor1D(_0x3ece83){return isTensor(_0x3ece83,0x1);}function isTensor2D(_0x3cbbd1){return isTensor(_0x3cbbd1,0x2);}function isTensor3D(_0x5dd80d){return isTensor(_0x5dd80d,0x3);}function isTensor4D(_0x5f36f3){return isTensor(_0x5f36f3,0x4);}function isFloat(_0x261dfe){return _0x261dfe%0x1!==0x0;}function isEven(_0x455a40){return _0x455a40%0x2===0x0;}function _0x475f(){const _0x424421=[',\x20from\x20url:\x20','tiny_face_detector_model','fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment','ssd_mobilenetv1_model','tiny_yolov2_model','tensor','classPrediction','NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20','assertIsValidBox','weightsLoaderFactory','_pointwise/weights','TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','forward','rgba(255,\x20255,\x20255,\x201)','isArray','assertIsValidLabeledBox','push','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','tensor3d','_distanceThreshold','FaceExpressionNet','boolean',',\x20for\x20url:\x20','scale','Prediction/BoxPredictor_','random','toSquare','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','alignMinBbox','faceLandmark68TinyNet','iouThreshold','landmarkNet','getDefaultModelName','_numMainBlocks','toJSON','Tensor','/box_encoding_predictor','\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','padAtBorders','runMobilenet','softmax','detectLandmarks','scoreThreshold',',\x20filterSize:\x20','resizeResults\x20-\x20invalid\x20dimensions:\x20','param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20','conv32_2','boxPredictionEncoding','getEnv','/truediv','right','ssdMobilenetv1','/depthwise_filter','getRightEye','face_recognition_model','src','conv','\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032','/ClassPredictor','withFaceExpressions','unstack','conv0','TinyYolov2Options','pitch','conv_2','config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20',',\x20numFilters:\x20','prediction_layer/conv_7','lineTo','/pointwise_conv','positions','tinyYolov2','matchDescriptor','/separable_conv0','height','node','browser','ImageData','replace',',\x20for\x20path\x20','FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference','box_predictor_1','forEach','blob','sqrt','reshape','batchSize','backgroundColor','getParamFromPath',',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height','config','then','landmarks','Canvas','getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','mobilenetv1/conv_10','Image','\x20-\x20load\x20model\x20before\x20inference','conv128_2','_imageDims','reverse','onerror','/batch_norm_mean','depthwise_filter','BOTTOM_RIGHT','tiny_xception_model','prediction_layer/conv_0','imageHeight','length','anchorPosition','817413xLQxyG','fetch','conv256_down_out','prediction_layer/box_predictor_0/class_predictor','conv64_3','descriptor','minConfidence','prediction_layer/box_predictor_4/class_predictor','moveTo','loadFromDisk','getContext','anchor','sub','config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20','getImageData','descriptors','getNose','tiny_yolov2_separable_conv_model','_positions','conv5','computeMeanDistance','filters','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options','isLoaded','extractPredictedClass','videoWidth','createElement','getInput','prediction_layer/conv_4','rgba(255,\x200,\x20255,\x201)','biases','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string','probability','/BatchNorm/beta','\x20tf.Tensor4D\x20with\x20batchSize\x20','box_predictor_0','video','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','mobilenetv1/conv_9','mobilenetv1/conv_4','inputDimensions','fc/age','relativeBox','conv_3','prediction_layer/conv_1',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','fromJSON','getJawOutline','/batch_norm_variance','conv256_down','/separable_conv2','buffer','conv6','mobilenetv1/conv_6','join','split','object','run','separable_conv0','getLeftEyeBrow','getOwnPropertyDescriptor','loadWeights','isFirstLayerConv2d','options','draw','image','topLeft','box_predictor_3','conv8','cast','/batch_norm_scale','topRight','getLeftEye','__esModule','surprised','add','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','conv_7','face_feature_extractor_tiny_model','isNodejs','truediv','prototype','AgeGenderNet','traversePropertyPath','conv32_3','@tensorflow/tfjs-node','extractBoxes','batch_norm_offset','getFrozenParams','_label','filter','male','bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','measureHeight','withSeparableConvs','prediction_layer/conv_2','getParamList','entry_flow','muted','dense2','maxPool','createCanvasElement','locateFaces','as4D','angry','1224056uVhUKN','string','dispose','distance','mobilenetv1/conv_3','prediction_layer/box_predictor_5/class_predictor','valid','separableConv2d','readAsDataURL','expressions','/filters','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','classes','arc','bias','input','startsWith','boxIndex','reassignParamFromPath','/sub','floor','sad','_name','loadFromUri','arraySync','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','statusText','toNetInput\x20-','mobilenetv1/conv_','faceFeatureExtractor','prediction_layer/box_predictor_2/class_predictor','conv2d','_treatAsBatchInput','prediction_layer/conv_5','faceExpressionNet','div','imageTensors','_className','alignedRect','type','expression','function','fearful','extractParams','conv32_1','CanvasRenderingContext2D','isNaN','undefined','fontStyle','shift','meanRgb','Prediction','tinyFaceDetector','tensor2d','age','conv64_down','sort','clipAtImageBorders','min','mobilenetv1/conv_13','FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input','/BatchNorm/gamma',',\x20weights.length:\x20','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','every','computeFaceDescriptor','conv_1','conv_4','rgba(0,\x20255,\x20255,\x201)','drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof','boxColor','conv_in','isRect','mobilenetv1/conv_11','createImageElement','/bias','/depthwise_conv','catch','withClassScores','currentTarget','tensor4d','_inputDimensions','conv4','px\x20','loadClassifierParams',')\x20and\x20(','extractWeights','gender','error','img','_classScore','reshapedInputDimensions','_batchSize','runTinyYolov2','createVideoElement','reduction_block','relativePositions','clipByValue','slice','HTMLCanvasElement','_descriptors','conv1','lineWidth','variable','extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported','face_landmark_68_model','exports','dense0','getClassifierChannelsOut','area','extractClassifierParams','/conv1','readyState','_width','/batch_norm_offset','/scale/weights','score','fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20','fillStyle',')\x20must\x20be\x20positive\x20numbers','toBatchTensor\x20-\x20at\x20batchIdx\x20','\x20-\x20expected\x20property\x20label\x20(','unknown','getElementById','prediction_layer','conv64_2','HTMLImageElement','middle_flow','conv_9','65025oBrwja','disgusted','left','anchors','1.7.3','unshiftedLandmarks','shape','shiftBy','maxResults','useTinyLandmarkNet','rescale','createObjectURL','data','array','drawPoints','box_encoding_predictor','default','_inputSize','\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id','faceRecognitionNet','output_layer/extra_dim','conv7','withFaceLandmarks','_score','mul','separable_conv','measureWidth','getRightEyeBrow','slice3d','female','canvases','map','_imgDims','prediction_layer/box_predictor_','isDisposed','mobilenetv1/conv_8','predictAgeAndGender','reduce','top','Output/extra_dim','entry_flow/conv_in','getMouth','getOwnPropertyNames','resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas','/Conv2d_','resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null','extractedFaces','pointwise_filter','yaw','HTMLVideoElement','conv_5','TinyYolov2','/biases','tensor1d','getRefPointsForAlignment','prediction_layer/box_predictor_5/box_encoding_predictor',']\x20to\x20be\x20a\x20Tensor','/conv2','relu','parse','fontColor','pad','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','drawImage','defineProperty','fromPixels','conv128_down','_depthwise','pointwise_conv','some','/depthwise_weights','TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20','batchNorm','versions','className','width','conv_0','mobilenetv1','TinyFaceDetectorOptions','Variable','stack','/conv/bias','asSortedArray','ageGenderNet','entry_flow/reduction_block_1','weights\x20remaing\x20after\x20extract:\x20','rgba(0,\x200,\x200,\x200.5)','entry_flow/reduction_block_0','runAndExtendWithFaceDetection','getTrainableParams','atan2','173956ZkXZOH','mobilenetv1/conv_5','/conv3','round','params','concat','forSize','drawLines','oncanplay','float32','_box','prediction_layer/conv_6','Video','SsdMobilenetv1Options','/pointwise_filter','face_expression_model','_imageTensors','endsWith','removeEventListener','FaceLandmark68Net','addEventListener','extractParamsFromWeightMap','align','getInputHeight',')\x20and\x20height\x20(','_maxResults',')\x20to\x20be\x20a\x20number','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','getPrototypeOf','calibrate','conv_8','conv11','withFaceDescriptors','status','as3D','getInputDimensions','tile','conv64_1','postProcess','stringify','all','box_predictor_5','canvas','rgba(0,\x200,\x20255,\x201)','expandDims','conv256_2','out','getClassifierChannelsIn','_distance','box','number','enumerable','happy','\x20-\x20expected\x20properties\x20score\x20(','conv256_1','_labeledDescriptors','FaceLandmark68TinyNet','runNet','matMul','load','exp','readFile','resizeBilinear','image/','fill','config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20','Box.constructor','url','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','762626fpdGEz','arrayBuffer','depthwise_conv','same','exit_flow','originalPath','drawLabelOptions','lineColor','max','toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input','\x20at\x20input\x20index\x20','isBatchInput','/conv','bottom','prediction_layer/conv_3','main_block_','distanceThreshold','.json','batch_norm_scale','expected\x20weightMap[','conv_10','detection','/class_predictor','\x20-\x20invalid\x20box:\x20','face','extra_dim','face_landmark_68_tiny_model','_shift','668108NAoEoQ','tidy','getReshapedInputDimensions','SsdMobilenetv1','boxEncodingSize','batch_norm_variance','conv_12','classScore','imageWidth','/weights','as2D','_canvases',')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]','runAndExtendWithFaceDetections','prediction_layer/box_predictor_3/class_predictor','mobilenetv1/conv_0','parentTask','conv32_down','from','reduction_block_0','getInputWidth','/expansion_conv','\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20','/scale','depth\x20has\x20to\x20be\x20an\x20integer:\x20','_height','FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>','log','dataSync','\x20-\x20width\x20(','_config','sigmoid','withAgeAndGender','dense1','predictExpressions','nextObj','TinyXception','text','filterSizes','transpose','separable_conv1','/bn','strokeStyle','middle_flow/main_block_','assertIsValidPredictedBox','depthwiseConv2d','dense3','BOTTOM_LEFT','faceLandmark68Net','withFaceDescriptor','pop','neutral','/conv0','scalar','conv128_1','monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','detect','zeros','MobilenetV1','labeledDescriptors','fillRect','label','expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20','forwardInput','faceLandmarks','freeze','12dXIRtz','beginPath','toString','getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet','json','findBestMatch','/scale/biases','prediction_layer/box_predictor_2/box_encoding_predictor','complete','fc/gender','https://','mobilenetv1/conv_7','TOP_RIGHT','magnitude','conv3','exit_flow/separable_conv','loadFromWeightMap','_params','batch_norm_mean','http://','toPixels','/separable_conv1','conv2','call','_paramMappings','toBatchTensor','weights','abs','_faceFeatureExtractor','inputSize','_minConfidence','prediction_layer/box_predictor_3/box_encoding_predictor','prediction_layer/box_predictor_4/box_encoding_predictor','FaceRecognitionNet','avgPool','mobilenetv1/conv_2','FaceFeatureExtractor','TOP_LEFT','_scoreThreshold','1063900bKTIGg','MobilenetV1/Conv2d_','invalid\x20config:\x20','imageDims','D,\x20instead\x20have\x20'];_0x475f=function(){return _0x424421;};return _0x475f();}function round(_0x337d2c,_0x336d52=0x2){const _0x1c2537=_0x223da0,_0x1557c6=0xa**_0x336d52;return Math[_0x1c2537(0x236)](_0x337d2c*_0x1557c6)/_0x1557c6;}function isDimensions(_0x48f7c3){const _0x2e4616=_0x223da0;return _0x48f7c3&&_0x48f7c3['width']&&_0x48f7c3[_0x2e4616(0x193)];}function computeReshapedDimensions({width:_0x299fb5,height:_0x366c1e},_0x4349cd){const _0x3d11ee=_0x223da0,_0x1700fe=_0x4349cd/Math['max'](_0x366c1e,_0x299fb5);return new Dimensions(Math[_0x3d11ee(0x7d)](_0x299fb5*_0x1700fe),Math['round'](_0x366c1e*_0x1700fe));}function getCenterPoint(_0x11f95e){const _0x4a8208=_0x223da0;return _0x11f95e['reduce']((_0x2f3cd9,_0x564871)=>_0x2f3cd9['add'](_0x564871),new Point(0x0,0x0))[_0x4a8208(0x245)](new Point(_0x11f95e[_0x4a8208(0x1b5)],_0x11f95e['length']));}function range(_0x301afd,_0x465245,_0x4d548f){const _0x212bf5=_0x223da0;return Array(_0x301afd)[_0x212bf5(0xba)](0x0)[_0x212bf5(0x2c2)]((_0x157d8c,_0x34524)=>_0x465245+_0x34524*_0x4d548f);}function isValidNumber(_0x2d9b4c){const _0x44bead=_0x223da0;return!!_0x2d9b4c&&_0x2d9b4c!==Infinity&&_0x2d9b4c!==-Infinity&&!Number[_0x44bead(0x250)](_0x2d9b4c)||_0x2d9b4c===0x0;}function isValidProbablitiy(_0x13a92a){return isValidNumber(_0x13a92a)&&_0x13a92a>=0x0&&_0x13a92a<=0x1;}var Point=class{constructor(_0x2604e6,_0x2c09cd){this['_x']=_0x2604e6,this['_y']=_0x2c09cd;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}[_0x223da0(0x204)](_0x5dcc67){return new Point(this['x']+_0x5dcc67['x'],this['y']+_0x5dcc67['y']);}['sub'](_0x5cb773){return new Point(this['x']-_0x5cb773['x'],this['y']-_0x5cb773['y']);}['mul'](_0x38aa53){return new Point(this['x']*_0x38aa53['x'],this['y']*_0x38aa53['y']);}['div'](_0x323906){return new Point(this['x']/_0x323906['x'],this['y']/_0x323906['y']);}[_0x223da0(0x138)](){const _0x542422=_0x223da0;return new Point(Math[_0x542422(0x138)](this['x']),Math[_0x542422(0x138)](this['y']));}[_0x223da0(0x12a)](){const _0x536288=_0x223da0;return Math[_0x536288(0x19d)](this['x']**0x2+this['y']**0x2);}['floor'](){const _0x1af9c4=_0x223da0;return new Point(Math[_0x1af9c4(0x236)](this['x']),Math[_0x1af9c4(0x236)](this['y']));}},Box=class{static[_0x223da0(0x26a)](_0x472108){const _0x17ba9a=_0x223da0;return!!_0x472108&&[_0x472108['x'],_0x472108['y'],_0x472108[_0x17ba9a(0x2ee)],_0x472108[_0x17ba9a(0x193)]][_0x17ba9a(0x262)](isValidNumber);}static[_0x223da0(0x151)](_0x8acc74,_0x22214d,_0x32f61e=![]){const _0x374b46=_0x223da0;if(!Box[_0x374b46(0x26a)](_0x8acc74))throw new Error(_0x22214d+_0x374b46(0xd6)+JSON[_0x374b46(0xa1)](_0x8acc74)+_0x374b46(0x1a2));if(!_0x32f61e&&(_0x8acc74[_0x374b46(0x2ee)]<0x0||_0x8acc74[_0x374b46(0x193)]<0x0))throw new Error(_0x22214d+_0x374b46(0xf8)+_0x8acc74[_0x374b46(0x2ee)]+_0x374b46(0x92)+_0x8acc74[_0x374b46(0x193)]+_0x374b46(0x299));}constructor(_0x349e69,_0x5934d9=!![]){const _0xdaf55e=_0x223da0,_0x2b6fca=_0x349e69||{},_0x3d4692=[_0x2b6fca[_0xdaf55e(0x2a5)],_0x2b6fca[_0xdaf55e(0x2c9)],_0x2b6fca[_0xdaf55e(0x17b)],_0x2b6fca[_0xdaf55e(0xcc)]][_0xdaf55e(0x262)](isValidNumber),_0xf69558=[_0x2b6fca['x'],_0x2b6fca['y'],_0x2b6fca[_0xdaf55e(0x2ee)],_0x2b6fca[_0xdaf55e(0x193)]][_0xdaf55e(0x262)](isValidNumber);if(!_0xf69558&&!_0x3d4692)throw new Error(_0xdaf55e(0x1cd)+JSON[_0xdaf55e(0xa1)](_0x2b6fca));const [_0x573c1f,_0x476c2b,_0x1513f1,_0x5bcc9a]=_0xf69558?[_0x2b6fca['x'],_0x2b6fca['y'],_0x2b6fca[_0xdaf55e(0x2ee)],_0x2b6fca[_0xdaf55e(0x193)]]:[_0x2b6fca[_0xdaf55e(0x2a5)],_0x2b6fca[_0xdaf55e(0x2c9)],_0x2b6fca[_0xdaf55e(0x17b)]-_0x2b6fca['left'],_0x2b6fca[_0xdaf55e(0xcc)]-_0x2b6fca[_0xdaf55e(0x2c9)]];Box[_0xdaf55e(0x151)]({'x':_0x573c1f,'y':_0x476c2b,'width':_0x1513f1,'height':_0x5bcc9a},_0xdaf55e(0xbc),_0x5934d9),this['_x']=_0x573c1f,this['_y']=_0x476c2b,this[_0xdaf55e(0x293)]=_0x1513f1,this['_height']=_0x5bcc9a;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get[_0x223da0(0x2ee)](){const _0x3f0ac4=_0x223da0;return this[_0x3f0ac4(0x293)];}get[_0x223da0(0x193)](){return this['_height'];}get[_0x223da0(0x2a5)](){return this['x'];}get[_0x223da0(0x2c9)](){return this['y'];}get[_0x223da0(0x17b)](){return this['x']+this['width'];}get[_0x223da0(0xcc)](){const _0x4bc583=_0x223da0;return this['y']+this[_0x4bc583(0x193)];}get['area'](){const _0x3c24e8=_0x223da0;return this[_0x3c24e8(0x2ee)]*this['height'];}get[_0x223da0(0x1fb)](){const _0x323d2f=_0x223da0;return new Point(this['left'],this[_0x323d2f(0x2c9)]);}get[_0x223da0(0x200)](){const _0x4df36a=_0x223da0;return new Point(this[_0x4df36a(0x17b)],this[_0x4df36a(0x2c9)]);}get['bottomLeft'](){const _0x32d71d=_0x223da0;return new Point(this[_0x32d71d(0x2a5)],this[_0x32d71d(0xcc)]);}get['bottomRight'](){const _0x18c906=_0x223da0;return new Point(this[_0x18c906(0x17b)],this['bottom']);}['round'](){const _0x28a2a1=_0x223da0,[_0x269aad,_0x31817a,_0x1fd9c9,_0x5a5a69]=[this['x'],this['y'],this[_0x28a2a1(0x2ee)],this[_0x28a2a1(0x193)]][_0x28a2a1(0x2c2)](_0x4a7a4a=>Math[_0x28a2a1(0x7d)](_0x4a7a4a));return new Box({'x':_0x269aad,'y':_0x31817a,'width':_0x1fd9c9,'height':_0x5a5a69});}[_0x223da0(0x236)](){const _0x105e2e=_0x223da0,[_0x40a22e,_0x4316bb,_0xcd7577,_0x16e196]=[this['x'],this['y'],this['width'],this[_0x105e2e(0x193)]][_0x105e2e(0x2c2)](_0x5b8d12=>Math['floor'](_0x5b8d12));return new Box({'x':_0x40a22e,'y':_0x4316bb,'width':_0xcd7577,'height':_0x16e196});}['toSquare'](){const _0x4646e0=_0x223da0;let {x:_0x4eca7e,y:_0x4aaa59,width:_0x19626f,height:_0x18aba9}=this;const _0x432ad9=Math[_0x4646e0(0x138)](_0x19626f-_0x18aba9);return _0x19626f<_0x18aba9&&(_0x4eca7e-=_0x432ad9/0x2,_0x19626f+=_0x432ad9),_0x18aba9<_0x19626f&&(_0x4aaa59-=_0x432ad9/0x2,_0x18aba9+=_0x432ad9),new Box({'x':_0x4eca7e,'y':_0x4aaa59,'width':_0x19626f,'height':_0x18aba9});}[_0x223da0(0x2ad)](_0x37698f){const _0x9562e2=_0x223da0,_0x75d581=isDimensions(_0x37698f)?_0x37698f[_0x9562e2(0x2ee)]:_0x37698f,_0x29459c=isDimensions(_0x37698f)?_0x37698f[_0x9562e2(0x193)]:_0x37698f;return new Box({'x':this['x']*_0x75d581,'y':this['y']*_0x29459c,'width':this[_0x9562e2(0x2ee)]*_0x75d581,'height':this[_0x9562e2(0x193)]*_0x29459c});}[_0x223da0(0x2e0)](_0x11fa07,_0x3d1072){const _0x4593c4=_0x223da0,[_0x59eeb0,_0x368c55,_0x45e463,_0xed8453]=[this['x']-_0x11fa07/0x2,this['y']-_0x3d1072/0x2,this['width']+_0x11fa07,this[_0x4593c4(0x193)]+_0x3d1072];return new Box({'x':_0x59eeb0,'y':_0x368c55,'width':_0x45e463,'height':_0xed8453});}[_0x223da0(0x25b)](_0x5338bc,_0x46bfe6){const _0x29856b=_0x223da0,{x:_0x36c483,y:_0xf0ce25,right:_0x3abf44,bottom:_0x19a23d}=this,_0x5cd89c=Math[_0x29856b(0xc7)](_0x36c483,0x0),_0x489656=Math[_0x29856b(0xc7)](_0xf0ce25,0x0),_0xe732cf=_0x3abf44-_0x5cd89c,_0x28e24a=_0x19a23d-_0x489656,_0x196494=Math[_0x29856b(0x25c)](_0xe732cf,_0x5338bc-_0x5cd89c),_0x1bfa8b=Math[_0x29856b(0x25c)](_0x28e24a,_0x46bfe6-_0x489656);return new Box({'x':_0x5cd89c,'y':_0x489656,'width':_0x196494,'height':_0x1bfa8b})[_0x29856b(0x236)]();}[_0x223da0(0x253)](_0x11d674,_0x468993){const {width:_0x1b0f84,height:_0x3b91d0}=this,_0x3fcdd3=this['x']+_0x11d674,_0x1bd2a7=this['y']+_0x468993;return new Box({'x':_0x3fcdd3,'y':_0x1bd2a7,'width':_0x1b0f84,'height':_0x3b91d0});}[_0x223da0(0x16f)](_0x48986d,_0x394a04){const _0x49a0dd=_0x223da0,_0x3b0192=this[_0x49a0dd(0x2ee)]+0x1,_0x20adcc=this[_0x49a0dd(0x193)]+0x1,_0x5ce804=0x1,_0x401315=0x1;let _0x488713=_0x3b0192,_0x27714a=_0x20adcc,_0x4d9b0f=this['left'],_0x36f2bf=this['top'],_0x44bc56=this[_0x49a0dd(0x17b)],_0x32000d=this[_0x49a0dd(0xcc)];return _0x44bc56>_0x394a04&&(_0x488713=-_0x44bc56+_0x394a04+_0x3b0192,_0x44bc56=_0x394a04),_0x32000d>_0x48986d&&(_0x27714a=-_0x32000d+_0x48986d+_0x20adcc,_0x32000d=_0x48986d),_0x4d9b0f<0x1&&(_0x27714a=0x2-_0x4d9b0f,_0x4d9b0f=0x1),_0x36f2bf<0x1&&(_0x27714a=0x2-_0x36f2bf,_0x36f2bf=0x1),{'dy':_0x401315,'edy':_0x27714a,'dx':_0x5ce804,'edx':_0x488713,'y':_0x36f2bf,'ey':_0x32000d,'x':_0x4d9b0f,'ex':_0x44bc56,'w':_0x3b0192,'h':_0x20adcc};}[_0x223da0(0x97)](_0x2bf30b){const _0x56cb6d=_0x223da0;return new Box({'left':this[_0x56cb6d(0x2a5)]+_0x2bf30b[_0x56cb6d(0x2a5)]*this[_0x56cb6d(0x2ee)],'top':this[_0x56cb6d(0x2c9)]+_0x2bf30b[_0x56cb6d(0x2c9)]*this['height'],'right':this[_0x56cb6d(0x17b)]+_0x2bf30b[_0x56cb6d(0x17b)]*this[_0x56cb6d(0x2ee)],'bottom':this[_0x56cb6d(0xcc)]+_0x2bf30b[_0x56cb6d(0xcc)]*this[_0x56cb6d(0x193)]})[_0x56cb6d(0x163)]()[_0x56cb6d(0x7d)]();}},BoundingBox=class extends Box{constructor(_0xc4d613,_0x1e692b,_0x46a6a8,_0x195480,_0x11869f=![]){super({'left':_0xc4d613,'top':_0x1e692b,'right':_0x46a6a8,'bottom':_0x195480},_0x11869f);}},ObjectDetection=class{constructor(_0x4e4806,_0x2f6952,_0x451fd5,_0x5abe3d,_0x36d8d1){const _0x297985=_0x223da0;this[_0x297985(0x1ac)]=new Dimensions(_0x36d8d1['width'],_0x36d8d1[_0x297985(0x193)]),this['_score']=_0x4e4806,this[_0x297985(0x27c)]=_0x2f6952,this[_0x297985(0x247)]=_0x451fd5,this['_box']=new Box(_0x5abe3d)[_0x297985(0x2ad)](this[_0x297985(0x1ac)]);}get[_0x223da0(0x296)](){const _0x1e6439=_0x223da0;return this[_0x1e6439(0x2ba)];}get[_0x223da0(0xe2)](){return this['_classScore'];}get[_0x223da0(0x2ed)](){return this['_className'];}get['box'](){const _0x44c340=_0x223da0;return this[_0x44c340(0x84)];}get[_0x223da0(0x147)](){return this['_imageDims'];}get[_0x223da0(0xe3)](){const _0x37ab69=_0x223da0;return this[_0x37ab69(0x147)]['width'];}get[_0x223da0(0x1b4)](){const _0xa5d89=_0x223da0;return this[_0xa5d89(0x147)][_0xa5d89(0x193)];}get['relativeBox'](){const _0x198de1=_0x223da0;return new Box(this['_box'])[_0x198de1(0x2ad)](this[_0x198de1(0x147)]['reverse']());}['forSize'](_0x39a2a3,_0x3643af){const _0x6d2c8b=_0x223da0;return new ObjectDetection(this['score'],this['classScore'],this[_0x6d2c8b(0x2ed)],this['relativeBox'],{'width':_0x39a2a3,'height':_0x3643af});}},FaceDetection=class extends ObjectDetection{constructor(_0x42d87e,_0x55c7be,_0x234179){super(_0x42d87e,_0x42d87e,'',_0x55c7be,_0x234179);}[_0x223da0(0x80)](_0x590a8e,_0x36024c){const _0x25616c=_0x223da0,{score:_0x134604,relativeBox:_0x2411a6,imageDims:_0x3dbd22}=super[_0x25616c(0x80)](_0x590a8e,_0x36024c);return new FaceDetection(_0x134604,_0x2411a6,_0x3dbd22);}};function iou(_0xb708aa,_0x186cc2,_0x1d0514=!![]){const _0x3e4938=_0x223da0,_0x4a1e6b=Math[_0x3e4938(0xc7)](0x0,Math[_0x3e4938(0x25c)](_0xb708aa[_0x3e4938(0x17b)],_0x186cc2['right'])-Math[_0x3e4938(0xc7)](_0xb708aa[_0x3e4938(0x2a5)],_0x186cc2[_0x3e4938(0x2a5)])),_0x488dff=Math[_0x3e4938(0xc7)](0x0,Math[_0x3e4938(0x25c)](_0xb708aa[_0x3e4938(0xcc)],_0x186cc2['bottom'])-Math[_0x3e4938(0xc7)](_0xb708aa[_0x3e4938(0x2c9)],_0x186cc2[_0x3e4938(0x2c9)])),_0x415a3c=_0x4a1e6b*_0x488dff;return _0x1d0514?_0x415a3c/(_0xb708aa[_0x3e4938(0x28f)]+_0x186cc2[_0x3e4938(0x28f)]-_0x415a3c):_0x415a3c/Math[_0x3e4938(0x25c)](_0xb708aa['area'],_0x186cc2[_0x3e4938(0x28f)]);}function minBbox(_0x27ae33){const _0xf50f43=_0x223da0,_0x3594cc=_0x27ae33[_0xf50f43(0x2c2)](_0x10c2a9=>_0x10c2a9['x']),_0x40e921=_0x27ae33[_0xf50f43(0x2c2)](_0x3c3f35=>_0x3c3f35['y']),_0x51bd96=_0x3594cc[_0xf50f43(0x2c8)]((_0x4c74a6,_0x3bb75c)=>_0x3bb75c<_0x4c74a6?_0x3bb75c:_0x4c74a6,Infinity),_0x549325=_0x40e921[_0xf50f43(0x2c8)]((_0xf0c3e6,_0x57e1bb)=>_0x57e1bb<_0xf0c3e6?_0x57e1bb:_0xf0c3e6,Infinity),_0x1a94d3=_0x3594cc[_0xf50f43(0x2c8)]((_0x1206a7,_0x19517f)=>_0x1206a7<_0x19517f?_0x19517f:_0x1206a7,0x0),_0x59ab97=_0x40e921[_0xf50f43(0x2c8)]((_0x2abc56,_0x3a614d)=>_0x2abc56<_0x3a614d?_0x3a614d:_0x2abc56,0x0);return new BoundingBox(_0x51bd96,_0x549325,_0x1a94d3,_0x59ab97);}function nonMaxSuppression(_0x316359,_0x2624d9,_0xf4a0fc,_0x4ced5f=!![]){const _0x51ce28=_0x223da0;let _0x18c723=_0x2624d9[_0x51ce28(0x2c2)]((_0x4f77d3,_0x5de8a5)=>({'score':_0x4f77d3,'boxIndex':_0x5de8a5}))[_0x51ce28(0x25a)]((_0xd54cb7,_0x2d9fad)=>_0xd54cb7[_0x51ce28(0x296)]-_0x2d9fad[_0x51ce28(0x296)])['map'](_0x442458=>_0x442458[_0x51ce28(0x233)]);const _0x4cc245=[];while(_0x18c723[_0x51ce28(0x1b5)]>0x0){const _0x161e40=_0x18c723[_0x51ce28(0x10d)]();_0x4cc245[_0x51ce28(0x159)](_0x161e40);const _0x6caab7=_0x18c723,_0x3dc1eb=[];for(let _0x3f550c=0x0;_0x3f550c<_0x6caab7[_0x51ce28(0x1b5)];_0x3f550c++){const _0x500a16=_0x6caab7[_0x3f550c],_0x25c54c=_0x316359[_0x161e40],_0x3802e9=_0x316359[_0x500a16];_0x3dc1eb[_0x51ce28(0x159)](iou(_0x25c54c,_0x3802e9,_0x4ced5f));}_0x18c723=_0x18c723[_0x51ce28(0x213)]((_0xd9c63a,_0x35564b)=>_0x3dc1eb[_0x35564b]<=_0xf4a0fc);}return _0x4cc245;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x10e9ef,_0x21bd5c){const _0x570e52=_0x223da0;return tf2[_0x570e52(0xdc)](()=>{const _0x575fe2=_0x570e52,[_0xb8f1bd,_0x3b69b1,_0x482649]=_0x21bd5c,_0x40012f=tf2[_0x575fe2(0xba)]([..._0x10e9ef[_0x575fe2(0x2a9)][_0x575fe2(0x284)](0x0,0x3),0x1],_0xb8f1bd,_0x575fe2(0x83)),_0x5c5065=tf2['fill']([..._0x10e9ef[_0x575fe2(0x2a9)][_0x575fe2(0x284)](0x0,0x3),0x1],_0x3b69b1,_0x575fe2(0x83)),_0xcb0e38=tf2['fill']([..._0x10e9ef[_0x575fe2(0x2a9)][_0x575fe2(0x284)](0x0,0x3),0x1],_0x482649,_0x575fe2(0x83)),_0x3c49a4=tf2[_0x575fe2(0x7f)]([_0x40012f,_0x5c5065,_0xcb0e38],0x3);return tf2[_0x575fe2(0x1c3)](_0x10e9ef,_0x3c49a4);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x8c1d55,_0x1c12c4=![]){const _0x3d3572=_0x223da0;return tf3[_0x3d3572(0xdc)](()=>{const _0x228cd4=_0x3d3572,[_0x192e1f,_0x5380bb]=_0x8c1d55[_0x228cd4(0x2a9)][_0x228cd4(0x284)](0x1);if(_0x192e1f===_0x5380bb)return _0x8c1d55;const _0x2b5540=Math[_0x228cd4(0x138)](_0x192e1f-_0x5380bb),_0x4d7c56=Math[_0x228cd4(0x7d)](_0x2b5540*(_0x1c12c4?0.5:0x1)),_0x5c085b=_0x192e1f>_0x5380bb?0x2:0x1,_0x1184e3=_0x4c9982=>{const _0x5cb4a6=_0x228cd4,_0xf40682=_0x8c1d55[_0x5cb4a6(0x2a9)]['slice']();return _0xf40682[_0x5c085b]=_0x4c9982,tf3['fill'](_0xf40682,0x0,'float32');},_0x3b1e97=_0x1184e3(_0x4d7c56),_0x42224e=_0x2b5540-_0x3b1e97[_0x228cd4(0x2a9)][_0x5c085b],_0xbee8a4=_0x1c12c4&&_0x42224e?_0x1184e3(_0x42224e):null,_0x1e70a7=[_0xbee8a4,_0x8c1d55,_0x3b1e97][_0x228cd4(0x213)](_0x388378=>!!_0x388378)[_0x228cd4(0x2c2)](_0x3d7f42=>tf3['cast'](_0x3d7f42,_0x228cd4(0x83)));return tf3[_0x228cd4(0x7f)](_0x1e70a7,_0x5c085b);});}function shuffleArray(_0x5d304f){const _0x71bf5d=_0x223da0,_0x539956=_0x5d304f[_0x71bf5d(0x284)]();for(let _0x58de0f=_0x539956[_0x71bf5d(0x1b5)]-0x1;_0x58de0f>0x0;_0x58de0f--){const _0x2bcea8=Math[_0x71bf5d(0x236)](Math[_0x71bf5d(0x162)]()*(_0x58de0f+0x1)),_0x3cef9d=_0x539956[_0x58de0f];_0x539956[_0x58de0f]=_0x539956[_0x2bcea8],_0x539956[_0x2bcea8]=_0x3cef9d;}return _0x539956;}function sigmoid(_0x3dea43){return 0x1/(0x1+Math['exp'](-_0x3dea43));}function inverseSigmoid(_0x52baa8){const _0x1e8c2a=_0x223da0;return Math[_0x1e8c2a(0xf6)](_0x52baa8/(0x1-_0x52baa8));}var Rect=class extends Box{constructor(_0x163305,_0x1f441c,_0x4e6602,_0x3e25c8,_0x363bba=![]){super({'x':_0x163305,'y':_0x1f441c,'width':_0x4e6602,'height':_0x3e25c8},_0x363bba);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x85ab5,_0xf228f4,_0x319a0f=new Point(0x0,0x0)){const _0x32e5ec=_0x223da0,{width:_0x3f1bfe,height:_0x4cd45c}=_0xf228f4;this[_0x32e5ec(0x2c3)]=new Dimensions(_0x3f1bfe,_0x4cd45c),this[_0x32e5ec(0xda)]=_0x319a0f,this[_0x32e5ec(0x1c9)]=_0x85ab5['map'](_0x47aa57=>_0x47aa57[_0x32e5ec(0x2bb)](new Point(_0x3f1bfe,_0x4cd45c))[_0x32e5ec(0x204)](_0x319a0f));}get[_0x223da0(0x253)](){const _0x329b58=_0x223da0;return new Point(this[_0x329b58(0xda)]['x'],this[_0x329b58(0xda)]['y']);}get[_0x223da0(0xe3)](){const _0x9d70c5=_0x223da0;return this[_0x9d70c5(0x2c3)][_0x9d70c5(0x2ee)];}get[_0x223da0(0x1b4)](){const _0x308729=_0x223da0;return this[_0x308729(0x2c3)][_0x308729(0x193)];}get['positions'](){const _0x5d8e3d=_0x223da0;return this[_0x5d8e3d(0x1c9)];}get[_0x223da0(0x282)](){const _0x3353c1=_0x223da0;return this[_0x3353c1(0x1c9)][_0x3353c1(0x2c2)](_0x464cdb=>_0x464cdb[_0x3353c1(0x1c3)](this[_0x3353c1(0xda)])[_0x3353c1(0x245)](new Point(this[_0x3353c1(0xe3)],this['imageHeight'])));}[_0x223da0(0x80)](_0x5d16ae,_0x59e379){const _0x3fa59b=_0x223da0;return new this['constructor'](this[_0x3fa59b(0x282)],{'width':_0x5d16ae,'height':_0x59e379});}['shiftBy'](_0x25c12e,_0x4455a3){const _0x27c4cc=_0x223da0;return new this['constructor'](this['relativePositions'],this[_0x27c4cc(0x2c3)],new Point(_0x25c12e,_0x4455a3));}['shiftByPoint'](_0x3dc95d){const _0x2966ae=_0x223da0;return this[_0x2966ae(0x2aa)](_0x3dc95d['x'],_0x3dc95d['y']);}[_0x223da0(0x90)](_0x250b06,_0x48a108={}){const _0x434177=_0x223da0;if(_0x250b06){const _0xf17d2f=_0x250b06 instanceof FaceDetection?_0x250b06[_0x434177(0xab)]['floor']():new Box(_0x250b06);return this['shiftBy'](_0xf17d2f['x'],_0xf17d2f['y'])[_0x434177(0x90)](null,_0x48a108);}const {useDlibAlignment:_0x297f2a,minBoxPadding:_0x166938}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x48a108};if(_0x297f2a)return this['alignDlib']();return this[_0x434177(0x165)](_0x166938);}['alignDlib'](){const _0x29a2fb=_0x223da0,_0x16908e=this['getRefPointsForAlignment'](),[_0x301479,_0x56be43,_0x339a6d]=_0x16908e,_0x216106=_0x6ca6a0=>_0x339a6d['sub'](_0x6ca6a0)['magnitude'](),_0x5a845=(_0x216106(_0x301479)+_0x216106(_0x56be43))/0x2,_0x4e5907=Math[_0x29a2fb(0x236)](_0x5a845/relScale),_0x475645=getCenterPoint(_0x16908e),_0x47c408=Math[_0x29a2fb(0x236)](Math[_0x29a2fb(0xc7)](0x0,_0x475645['x']-relX*_0x4e5907)),_0x4d2864=Math[_0x29a2fb(0x236)](Math['max'](0x0,_0x475645['y']-relY*_0x4e5907));return new Rect(_0x47c408,_0x4d2864,Math[_0x29a2fb(0x25c)](_0x4e5907,this[_0x29a2fb(0xe3)]+_0x47c408),Math[_0x29a2fb(0x25c)](_0x4e5907,this[_0x29a2fb(0x1b4)]+_0x4d2864));}[_0x223da0(0x165)](_0x101516){const _0x4eabf4=_0x223da0,_0x3aeafb=minBbox(this[_0x4eabf4(0x18f)]);return _0x3aeafb[_0x4eabf4(0x2e0)](_0x3aeafb[_0x4eabf4(0x2ee)]*_0x101516,_0x3aeafb['height']*_0x101516);}[_0x223da0(0x2d9)](){throw new Error('getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class');}},FaceLandmarks5=class extends FaceLandmarks{[_0x223da0(0x2d9)](){const _0x525c28=_0x223da0,_0x3d9b30=this[_0x525c28(0x18f)];return[_0x3d9b30[0x0],_0x3d9b30[0x1],getCenterPoint([_0x3d9b30[0x3],_0x3d9b30[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{['getJawOutline'](){const _0x119aad=_0x223da0;return this[_0x119aad(0x18f)]['slice'](0x0,0x11);}[_0x223da0(0x1f4)](){const _0x3e6a4b=_0x223da0;return this[_0x3e6a4b(0x18f)][_0x3e6a4b(0x284)](0x11,0x16);}[_0x223da0(0x2be)](){const _0x1d6a4e=_0x223da0;return this[_0x1d6a4e(0x18f)][_0x1d6a4e(0x284)](0x16,0x1b);}[_0x223da0(0x1c7)](){const _0x1192aa=_0x223da0;return this[_0x1192aa(0x18f)][_0x1192aa(0x284)](0x1b,0x24);}['getLeftEye'](){const _0x2e098e=_0x223da0;return this['positions'][_0x2e098e(0x284)](0x24,0x2a);}[_0x223da0(0x17e)](){const _0x4c2b22=_0x223da0;return this[_0x4c2b22(0x18f)][_0x4c2b22(0x284)](0x2a,0x30);}['getMouth'](){const _0xebe6df=_0x223da0;return this[_0xebe6df(0x18f)][_0xebe6df(0x284)](0x30,0x44);}['getRefPointsForAlignment'](){const _0x129116=_0x223da0;return[this[_0x129116(0x201)](),this[_0x129116(0x17e)](),this['getMouth']()][_0x129116(0x2c2)](getCenterPoint);}},FaceMatch=class{constructor(_0x10ccb2,_0x445ebb){const _0x28b619=_0x223da0;this['_label']=_0x10ccb2,this[_0x28b619(0xaa)]=_0x445ebb;}get[_0x223da0(0x118)](){const _0x5dcc4b=_0x223da0;return this[_0x5dcc4b(0x212)];}get[_0x223da0(0x225)](){return this['_distance'];}['toString'](_0x529d42=!![]){const _0x109b17=_0x223da0;return''+this['label']+(_0x529d42?'\x20('+round(this[_0x109b17(0x225)])+')':'');}},LabeledBox=class extends Box{constructor(_0x357b2c,_0xd37780){const _0x467d59=_0x223da0;super(_0x357b2c),this[_0x467d59(0x212)]=_0xd37780;}static[_0x223da0(0x158)](_0x42d7f1,_0x432a92){const _0x179cc1=_0x223da0;Box['assertIsValidBox'](_0x42d7f1,_0x432a92);if(!isValidNumber(_0x42d7f1['label']))throw new Error(_0x432a92+_0x179cc1(0x29b)+_0x42d7f1[_0x179cc1(0x118)]+_0x179cc1(0x94));}get[_0x223da0(0x118)](){const _0x241150=_0x223da0;return this[_0x241150(0x212)];}},LabeledFaceDescriptors=class{constructor(_0x54411a,_0x35a1bb){const _0x215b90=_0x223da0;if(!(typeof _0x54411a==='string'))throw new Error(_0x215b90(0x1d8));if(!Array[_0x215b90(0x157)](_0x35a1bb)||_0x35a1bb['some'](_0x15b724=>!(_0x15b724 instanceof Float32Array)))throw new Error('LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array');this[_0x215b90(0x212)]=_0x54411a,this[_0x215b90(0x286)]=_0x35a1bb;}get[_0x223da0(0x118)](){const _0x24bf60=_0x223da0;return this[_0x24bf60(0x212)];}get['descriptors'](){const _0x107c8a=_0x223da0;return this[_0x107c8a(0x286)];}[_0x223da0(0x16b)](){const _0x548915=_0x223da0;return{'label':this[_0x548915(0x118)],'descriptors':this[_0x548915(0x1c6)][_0x548915(0x2c2)](_0x35afb4=>Array[_0x548915(0xed)](_0x35afb4))};}static['fromJSON'](_0xab8732){const _0x4e1a97=_0x223da0,_0x17b587=_0xab8732[_0x4e1a97(0x1c6)][_0x4e1a97(0x2c2)](_0x337418=>new Float32Array(_0x337418));return new LabeledFaceDescriptors(_0xab8732[_0x4e1a97(0x118)],_0x17b587);}},PredictedBox=class extends LabeledBox{constructor(_0x339406,_0xd7a178,_0x58e7b6,_0x21b27d){const _0x4d3015=_0x223da0;super(_0x339406,_0xd7a178),this['_score']=_0x58e7b6,this[_0x4d3015(0x27c)]=_0x21b27d;}static[_0x223da0(0x107)](_0x1fb759,_0x582ffe){const _0x4afb49=_0x223da0;LabeledBox[_0x4afb49(0x158)](_0x1fb759,_0x582ffe);if(!isValidProbablitiy(_0x1fb759[_0x4afb49(0x296)])||!isValidProbablitiy(_0x1fb759[_0x4afb49(0xe2)]))throw new Error(_0x582ffe+_0x4afb49(0xaf)+_0x1fb759[_0x4afb49(0x296)]+_0x4afb49(0x277)+_0x1fb759[_0x4afb49(0xe2)]+_0x4afb49(0xe7));}get[_0x223da0(0x296)](){return this['_score'];}get[_0x223da0(0xe2)](){return this['_classScore'];}};function isWithFaceDetection(_0x44a4b0){const _0x5f5a10=_0x223da0;return _0x44a4b0[_0x5f5a10(0xd4)]instanceof FaceDetection;}function extendWithFaceDetection(_0xa60942,_0x1d208a){const _0x347dc6={'detection':_0x1d208a};return{..._0xa60942,..._0x347dc6};}function createBrowserEnv(){const _0xe349=_0x223da0,_0xf885dc=window[_0xe349(0x1b8)];if(!_0xf885dc)throw new Error(_0xe349(0x14b));const _0xb5ccd=()=>{throw new Error('readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment');};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document[_0xe349(0x1d3)](_0xe349(0xa4)),'createImageElement':()=>document[_0xe349(0x1d3)](_0xe349(0x27b)),'createVideoElement':()=>document[_0xe349(0x1d3)](_0xe349(0x1dd)),'fetch':_0xf885dc,'readFile':_0xb5ccd};}function isNodejs(){const _0x2c7cbe=_0x223da0;return typeof global===_0x2c7cbe(0x1f1)&&typeof process!==_0x2c7cbe(0x251)&&process[_0x2c7cbe(0x2ec)]!=null&&process[_0x2c7cbe(0x2ec)][_0x2c7cbe(0x194)]!=null;}function createFileSystem(_0x2526ca){const _0x19d8ad=_0x223da0;let _0x46c554='';if(!_0x2526ca&&isNodejs())try{_0x2526ca=require('fs');}catch(_0x585c4c){console[_0x19d8ad(0xf6)](_0x19d8ad(0x27a),_0x585c4c),_0x46c554=_0x585c4c[_0x19d8ad(0x11f)]();}const _0x511cc6=_0x2526ca?_0x59c0e7=>new Promise((_0x33518e,_0x26a88f)=>{const _0x4ca412=_0x19d8ad;_0x2526ca[_0x4ca412(0xb7)](_0x59c0e7,(_0x57c455,_0xf7ea13)=>_0x57c455?_0x26a88f(_0x57c455):_0x33518e(_0xf7ea13));}):()=>{throw new Error('readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20'+_0x46c554);};return{'readFile':_0x511cc6};}function createNodejsEnv(){const _0x736692=_0x223da0,_0x47aa7d=global[_0x736692(0x1a6)]||global[_0x736692(0x285)],_0x53f895=global[_0x736692(0x1a9)]||global[_0x736692(0x2a0)],_0x4a514b=global[_0x736692(0x86)]||global['HTMLVideoElement'],_0xe4be29=()=>{if(_0x47aa7d)return new _0x47aa7d();throw new Error('createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment');},_0x32f3ca=()=>{if(_0x53f895)return new _0x53f895();throw new Error('createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment');},_0x49cd9e=()=>{if(_0x4a514b)return new _0x4a514b();throw new Error('createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment');},_0x5cd6fa=global[_0x736692(0x1b8)],_0x27ce03=createFileSystem();return{'Canvas':_0x47aa7d||class{},'CanvasRenderingContext2D':global[_0x736692(0x24f)]||class{},'Image':_0x53f895||class{},'ImageData':global['ImageData']||class{},'Video':global[_0x736692(0x2d4)]||class{},'createCanvasElement':_0xe4be29,'createImageElement':_0x32f3ca,'createVideoElement':_0x49cd9e,'fetch':_0x5cd6fa,..._0x27ce03};}function isBrowser(){const _0x3c0028=_0x223da0;return typeof window==='object'&&typeof document!==_0x3c0028(0x251)&&typeof HTMLImageElement!==_0x3c0028(0x251)&&typeof HTMLCanvasElement!==_0x3c0028(0x251)&&typeof HTMLVideoElement!==_0x3c0028(0x251)&&typeof ImageData!==_0x3c0028(0x251)&&typeof CanvasRenderingContext2D!==_0x3c0028(0x251);}var environment;function getEnv(){const _0x1384c7=_0x223da0;if(!environment)throw new Error(_0x1384c7(0x1a7));return environment;}function setEnv(_0x3ca6f7){environment=_0x3ca6f7;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x8f8f42){const _0x32c7a3=_0x223da0;!environment&&initialize();if(!environment)throw new Error(_0x32c7a3(0x112));const {Canvas:Canvas=environment[_0x32c7a3(0x1a6)],Image:Image=environment[_0x32c7a3(0x1a9)]}=_0x8f8f42;environment[_0x32c7a3(0x1a6)]=Canvas,environment[_0x32c7a3(0x1a9)]=Image,environment[_0x32c7a3(0x21e)]=_0x8f8f42['createCanvasElement']||(()=>new Canvas()),environment[_0x32c7a3(0x26c)]=_0x8f8f42[_0x32c7a3(0x26c)]||(()=>new Image()),environment[_0x32c7a3(0x196)]=_0x8f8f42[_0x32c7a3(0x196)]||environment[_0x32c7a3(0x196)],environment[_0x32c7a3(0x86)]=_0x8f8f42[_0x32c7a3(0x86)]||environment['Video'],environment[_0x32c7a3(0x1b8)]=_0x8f8f42[_0x32c7a3(0x1b8)]||environment['fetch'],environment[_0x32c7a3(0xb7)]=_0x8f8f42[_0x32c7a3(0xb7)]||environment[_0x32c7a3(0xb7)];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x4ba7a3){const _0x176987=_0x223da0;if(!env[_0x176987(0x208)]()&&typeof _0x4ba7a3==='string')return document[_0x176987(0x29d)](_0x4ba7a3);return _0x4ba7a3;}function getContext2dOrThrow(_0x59a1de){const _0x489b48=_0x223da0,{Canvas:_0x4fea10,CanvasRenderingContext2D:_0x146e7b}=env[_0x489b48(0x179)]();if(_0x59a1de instanceof _0x146e7b)return _0x59a1de;const _0xf4a98=resolveInput(_0x59a1de);if(!(_0xf4a98 instanceof _0x4fea10))throw new Error(_0x489b48(0x2ce));const _0x58eafd=_0xf4a98[_0x489b48(0x1c1)]('2d');if(!_0x58eafd)throw new Error(_0x489b48(0x2d0));return _0x58eafd;}var AnchorPosition=(_0x732c8b=>{const _0x1d94d4=_0x223da0;return _0x732c8b[_0x1d94d4(0x142)]=_0x1d94d4(0x142),_0x732c8b[_0x1d94d4(0x129)]='TOP_RIGHT',_0x732c8b[_0x1d94d4(0x10a)]=_0x1d94d4(0x10a),_0x732c8b[_0x1d94d4(0x1b1)]='BOTTOM_RIGHT',_0x732c8b;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x2d449b={}){const _0x3f5cb9=_0x223da0,{anchorPosition:_0x528ed2,backgroundColor:_0xffb81e,fontColor:_0x41db86,fontSize:_0x274612,fontStyle:_0x3abf7a,padding:_0x50c220}=_0x2d449b;this[_0x3f5cb9(0x1b6)]=_0x528ed2||'TOP_LEFT',this[_0x3f5cb9(0x1a0)]=_0xffb81e||_0x3f5cb9(0x2f9),this[_0x3f5cb9(0x2df)]=_0x41db86||_0x3f5cb9(0x156),this['fontSize']=_0x274612||0xe,this[_0x3f5cb9(0x252)]=_0x3abf7a||'Georgia',this['padding']=_0x50c220||0x4;}},DrawTextField=class{constructor(_0x59d42a,_0x105c1f,_0x34caa7={}){const _0x5ee1ef=_0x223da0;this[_0x5ee1ef(0x100)]=typeof _0x59d42a===_0x5ee1ef(0x223)?[_0x59d42a]:_0x59d42a instanceof DrawTextField?_0x59d42a[_0x5ee1ef(0x100)]:_0x59d42a,this[_0x5ee1ef(0x1c2)]=_0x105c1f,this['options']=new DrawTextFieldOptions(_0x34caa7);}['measureWidth'](_0x1d7d03){const _0x3f9318=_0x223da0,{padding:_0x1687fd}=this[_0x3f9318(0x1f8)];return this['text'][_0x3f9318(0x2c2)](_0x13052c=>_0x1d7d03['measureText'](_0x13052c)[_0x3f9318(0x2ee)])[_0x3f9318(0x2c8)]((_0x3aee77,_0x4e068e)=>_0x3aee77<_0x4e068e?_0x4e068e:_0x3aee77,0x0)+0x2*_0x1687fd;}[_0x223da0(0x216)](){const _0x59a448=_0x223da0,{fontSize:_0x2dcce5,padding:_0x378379}=this[_0x59a448(0x1f8)];return this[_0x59a448(0x100)][_0x59a448(0x1b5)]*_0x2dcce5+0x2*_0x378379;}['getUpperLeft'](_0x1964ef,_0x5b31ae){const _0x26ba38=_0x223da0,{anchorPosition:_0x5bdbaa}=this[_0x26ba38(0x1f8)],_0xc8124f=_0x5bdbaa===_0x26ba38(0x1b1)||_0x5bdbaa===_0x26ba38(0x129),_0x2e09bf=_0x5bdbaa===_0x26ba38(0x10a)||_0x5bdbaa==='BOTTOM_RIGHT',_0x3ae11b=this['measureWidth'](_0x1964ef),_0x1f8b98=this[_0x26ba38(0x216)](),_0x11f97e=_0xc8124f?this[_0x26ba38(0x1c2)]['x']-_0x3ae11b:this[_0x26ba38(0x1c2)]['x'],_0x2b6e23=_0x2e09bf?this[_0x26ba38(0x1c2)]['y']-_0x1f8b98:this[_0x26ba38(0x1c2)]['y'];if(_0x5b31ae){const {width:_0x2b9dce,height:_0x4ada59}=_0x5b31ae,_0x2a4cef=Math[_0x26ba38(0xc7)](Math['min'](_0x11f97e,_0x2b9dce-_0x3ae11b),0x0),_0x28ef44=Math['max'](Math['min'](_0x2b6e23,_0x4ada59-_0x1f8b98),0x0);return{'x':_0x2a4cef,'y':_0x28ef44};}return{'x':_0x11f97e,'y':_0x2b6e23};}[_0x223da0(0x1f9)](_0x5888f6){const _0x22ec30=_0x223da0,_0x1094c9=resolveInput(_0x5888f6),_0x3304fe=getContext2dOrThrow(_0x1094c9),{backgroundColor:_0x5a3c1f,fontColor:_0x530e7b,fontSize:_0x4cd145,fontStyle:_0x235dc9,padding:_0x26921f}=this['options'];_0x3304fe['font']=_0x4cd145+_0x22ec30(0x275)+_0x235dc9;const _0x1d106c=this[_0x22ec30(0x2bd)](_0x3304fe),_0x5b1744=this[_0x22ec30(0x216)]();_0x3304fe[_0x22ec30(0x298)]=_0x5a3c1f;const _0x268bc7=this['getUpperLeft'](_0x3304fe,_0x1094c9);_0x3304fe[_0x22ec30(0x117)](_0x268bc7['x'],_0x268bc7['y'],_0x1d106c,_0x5b1744),_0x3304fe[_0x22ec30(0x298)]=_0x530e7b,this['text'][_0x22ec30(0x19b)]((_0x44f8bd,_0x27cd74)=>{const _0x59bb3d=_0x26921f+_0x268bc7['x'],_0x2ee086=_0x26921f+_0x268bc7['y']+(_0x27cd74+0x1)*_0x4cd145;_0x3304fe['fillText'](_0x44f8bd,_0x59bb3d,_0x2ee086);});}},DrawBoxOptions=class{constructor(_0xdbe0d={}){const _0xa895a1=_0x223da0,{boxColor:_0x46a669,lineWidth:_0x4d0123,label:_0x50df6e,drawLabelOptions:_0x19964c}=_0xdbe0d;this['boxColor']=_0x46a669||_0xa895a1(0xa5),this[_0xa895a1(0x288)]=_0x4d0123||0x2,this['label']=_0x50df6e;const _0x20161e={'anchorPosition':_0xa895a1(0x10a),'backgroundColor':this[_0xa895a1(0x268)]};this[_0xa895a1(0xc5)]=new DrawTextFieldOptions({..._0x20161e,..._0x19964c});}},DrawBox=class{constructor(_0x23a5f7,_0xc160cd={}){const _0x4057ac=_0x223da0;this['box']=new Box(_0x23a5f7),this[_0x4057ac(0x1f8)]=new DrawBoxOptions(_0xc160cd);}['draw'](_0x316db8){const _0x27f63d=_0x223da0,_0x23e2e1=getContext2dOrThrow(_0x316db8),{boxColor:_0x5047b0,lineWidth:_0x3c9c28}=this[_0x27f63d(0x1f8)],{x:_0x1435a0,y:_0x184259,width:_0x2415e7,height:_0x538d3c}=this['box'];_0x23e2e1['strokeStyle']=_0x5047b0,_0x23e2e1['lineWidth']=_0x3c9c28,_0x23e2e1['strokeRect'](_0x1435a0,_0x184259,_0x2415e7,_0x538d3c);const {label:_0xb32b78}=this[_0x27f63d(0x1f8)];_0xb32b78&&new DrawTextField([_0xb32b78],{'x':_0x1435a0-_0x3c9c28/0x2,'y':_0x184259},this[_0x27f63d(0x1f8)][_0x27f63d(0xc5)])['draw'](_0x316db8);}};function drawDetections(_0xb73539,_0x3eb4d3){const _0x5408d9=_0x223da0,_0x1ea703=Array[_0x5408d9(0x157)](_0x3eb4d3)?_0x3eb4d3:[_0x3eb4d3];_0x1ea703[_0x5408d9(0x19b)](_0x27a98b=>{const _0x4bcc72=_0x5408d9,_0x4e24c4=_0x27a98b instanceof FaceDetection?_0x27a98b[_0x4bcc72(0x296)]:isWithFaceDetection(_0x27a98b)?_0x27a98b[_0x4bcc72(0xd4)][_0x4bcc72(0x296)]:void 0x0,_0x2c8b0a=_0x27a98b instanceof FaceDetection?_0x27a98b[_0x4bcc72(0xab)]:isWithFaceDetection(_0x27a98b)?_0x27a98b[_0x4bcc72(0xd4)][_0x4bcc72(0xab)]:new Box(_0x27a98b),_0x197d15=_0x4e24c4?''+round(_0x4e24c4):void 0x0;new DrawBox(_0x2c8b0a,{'label':_0x197d15})[_0x4bcc72(0x1f9)](_0xb73539);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x98abd2){const _0x43c880=_0x223da0,{Image:_0x35bd74,Video:_0x48c944}=env[_0x43c880(0x179)]();return _0x98abd2 instanceof _0x35bd74&&_0x98abd2[_0x43c880(0x125)]||_0x98abd2 instanceof _0x48c944&&_0x98abd2[_0x43c880(0x292)]>=0x3;}function awaitMediaLoaded(_0x411464){return new Promise((_0x4b3f87,_0x1e1bc3)=>{const _0x4e2321=_0x21d7;if(_0x411464 instanceof env[_0x4e2321(0x179)]()[_0x4e2321(0x1a6)]||isMediaLoaded(_0x411464))_0x4b3f87(null);function _0x47f8cd(_0xe3f306){const _0x437c38=_0x4e2321;if(!_0xe3f306[_0x437c38(0x271)])return;_0xe3f306[_0x437c38(0x271)][_0x437c38(0x8c)]('load',_0x114b1a),_0xe3f306[_0x437c38(0x271)][_0x437c38(0x8c)](_0x437c38(0x27a),_0x47f8cd),_0x1e1bc3(_0xe3f306);}function _0x114b1a(_0x160912){const _0x3a8c82=_0x4e2321;if(!_0x160912[_0x3a8c82(0x271)])return;_0x160912[_0x3a8c82(0x271)][_0x3a8c82(0x8c)](_0x3a8c82(0xb5),_0x114b1a),_0x160912[_0x3a8c82(0x271)][_0x3a8c82(0x8c)](_0x3a8c82(0x27a),_0x47f8cd),_0x4b3f87(_0x160912);}_0x411464[_0x4e2321(0x8e)](_0x4e2321(0xb5),_0x114b1a),_0x411464['addEventListener'](_0x4e2321(0x27a),_0x47f8cd);});}function _0x21d7(_0x4abd60,_0x352fa6){const _0x475fac=_0x475f();return _0x21d7=function(_0x21d778,_0x64c99b){_0x21d778=_0x21d778-0x77;let _0x2e7e6a=_0x475fac[_0x21d778];return _0x2e7e6a;},_0x21d7(_0x4abd60,_0x352fa6);}function bufferToImage(_0x2917fb){return new Promise((_0x1bed51,_0x1c939b)=>{const _0x3d985b=_0x21d7;if(!(_0x2917fb instanceof Blob))_0x1c939b(new Error('bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob'));const _0x205ba4=new FileReader();_0x205ba4['onload']=()=>{const _0x35ec54=_0x21d7;if(typeof _0x205ba4['result']!==_0x35ec54(0x223))_0x1c939b(new Error('bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload'));const _0x2e1cdc=env[_0x35ec54(0x179)]()[_0x35ec54(0x26c)]();_0x2e1cdc['onload']=()=>_0x1bed51(_0x2e1cdc),_0x2e1cdc['onerror']=_0x1c939b,_0x2e1cdc[_0x35ec54(0x180)]=_0x205ba4['result'];},_0x205ba4[_0x3d985b(0x1ae)]=_0x1c939b,_0x205ba4[_0x3d985b(0x22a)](_0x2917fb);});}function getMediaDimensions(_0x4e7715){const _0x2cf0fe=_0x223da0,{Image:_0x5e0f63,Video:_0x2cee45}=env[_0x2cf0fe(0x179)]();if(_0x4e7715 instanceof _0x5e0f63)return new Dimensions(_0x4e7715['naturalWidth'],_0x4e7715['naturalHeight']);if(_0x4e7715 instanceof _0x2cee45)return new Dimensions(_0x4e7715[_0x2cf0fe(0x1d2)],_0x4e7715['videoHeight']);return new Dimensions(_0x4e7715[_0x2cf0fe(0x2ee)],_0x4e7715[_0x2cf0fe(0x193)]);}function createCanvas({width:_0x573ee3,height:_0x4747b3}){const _0x396d38=_0x223da0,{createCanvasElement:_0x582384}=env['getEnv'](),_0x465cce=_0x582384();return _0x465cce['width']=_0x573ee3,_0x465cce[_0x396d38(0x193)]=_0x4747b3,_0x465cce;}function createCanvasFromMedia(_0x5e12bb,_0x1a09fc){const _0x4418d2=_0x223da0,{ImageData:_0x4014e8}=env[_0x4418d2(0x179)]();if(!(_0x5e12bb instanceof _0x4014e8)&&!isMediaLoaded(_0x5e12bb))throw new Error(_0x4418d2(0x2e1));const {width:_0x153a6f,height:_0x56333a}=_0x1a09fc||getMediaDimensions(_0x5e12bb),_0x435807=createCanvas({'width':_0x153a6f,'height':_0x56333a});return _0x5e12bb instanceof _0x4014e8?getContext2dOrThrow(_0x435807)['putImageData'](_0x5e12bb,0x0,0x0):getContext2dOrThrow(_0x435807)[_0x4418d2(0x2e2)](_0x5e12bb,0x0,0x0,_0x153a6f,_0x56333a),_0x435807;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x3b2110,_0x468850){const _0x3b453f=_0x223da0,_0x347173=_0x468850||env[_0x3b453f(0x179)]()['createCanvasElement'](),[_0xc2a6f3,_0x9ea3fe,_0x40a2ff]=_0x3b2110[_0x3b453f(0x2a9)][_0x3b453f(0x284)](isTensor4D(_0x3b2110)?0x1:0x0),_0x122630=tf4[_0x3b453f(0xdc)](()=>_0x3b2110[_0x3b453f(0x9c)](_0xc2a6f3,_0x9ea3fe,_0x40a2ff)['toInt']());return await tf4[_0x3b453f(0x195)][_0x3b453f(0x131)](_0x122630,_0x347173),_0x122630[_0x3b453f(0x224)](),_0x347173;}function isMediaElement(_0x107afd){const _0x2b0030=_0x223da0,{Image:_0x2e7119,Canvas:_0xbde02c,Video:_0x4c9b4d}=env[_0x2b0030(0x179)]();return _0x107afd instanceof _0x2e7119||_0x107afd instanceof _0xbde02c||_0x107afd instanceof _0x4c9b4d;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x45d461,_0x5d2482,_0x4e5594=![]){const _0x11b264=_0x223da0,{Image:_0x577711,Canvas:_0x1c7fb6}=env[_0x11b264(0x179)]();if(!(_0x45d461 instanceof _0x577711||_0x45d461 instanceof _0x1c7fb6))throw new Error('imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement');if(_0x5d2482<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x12acd5=getMediaDimensions(_0x45d461),_0x3d3af1=_0x5d2482/Math[_0x11b264(0xc7)](_0x12acd5['height'],_0x12acd5[_0x11b264(0x2ee)]),_0x3d4fcb=_0x3d3af1*_0x12acd5[_0x11b264(0x2ee)],_0x40afda=_0x3d3af1*_0x12acd5['height'],_0x54531b=createCanvas({'width':_0x5d2482,'height':_0x5d2482}),_0x3329c9=_0x45d461 instanceof _0x1c7fb6?_0x45d461:createCanvasFromMedia(_0x45d461),_0x2dbfb6=Math[_0x11b264(0x138)](_0x3d4fcb-_0x40afda)/0x2,_0x3e2a55=_0x4e5594&&_0x3d4fcb<_0x40afda?_0x2dbfb6:0x0,_0x2474de=_0x4e5594&&_0x40afda<_0x3d4fcb?_0x2dbfb6:0x0;if(_0x3329c9[_0x11b264(0x2ee)]>0x0&&_0x3329c9[_0x11b264(0x193)]>0x0)getContext2dOrThrow(_0x54531b)['drawImage'](_0x3329c9,_0x3e2a55,_0x2474de,_0x3d4fcb,_0x40afda);return _0x54531b;}var NetInput=class{constructor(_0x153de,_0x292e1f=![]){const _0x221b44=_0x223da0;this[_0x221b44(0x8a)]=[],this[_0x221b44(0xe6)]=[],this[_0x221b44(0x242)]=![],this[_0x221b44(0x273)]=[],this[_0x221b44(0x2b4)]=0x0;if(!Array[_0x221b44(0x157)](_0x153de))throw new Error('NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20'+_0x153de);this[_0x221b44(0x242)]=_0x292e1f,this['_batchSize']=_0x153de[_0x221b44(0x1b5)],_0x153de[_0x221b44(0x19b)]((_0x5b6af5,_0x3f3a22)=>{const _0x510ae6=_0x221b44;if(isTensor3D(_0x5b6af5)){this[_0x510ae6(0x8a)][_0x3f3a22]=_0x5b6af5,this[_0x510ae6(0x273)][_0x3f3a22]=_0x5b6af5[_0x510ae6(0x2a9)];return;}if(isTensor4D(_0x5b6af5)){const _0x3c7881=_0x5b6af5[_0x510ae6(0x2a9)][0x0];if(_0x3c7881!==0x1)throw new Error(_0x510ae6(0x150)+_0x3c7881+'\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array');this[_0x510ae6(0x8a)][_0x3f3a22]=_0x5b6af5,this[_0x510ae6(0x273)][_0x3f3a22]=_0x5b6af5[_0x510ae6(0x2a9)]['slice'](0x1);return;}const _0x29a23f=_0x5b6af5 instanceof env[_0x510ae6(0x179)]()[_0x510ae6(0x1a6)]?_0x5b6af5:createCanvasFromMedia(_0x5b6af5);this[_0x510ae6(0xe6)][_0x3f3a22]=_0x29a23f,this['_inputDimensions'][_0x3f3a22]=[_0x29a23f[_0x510ae6(0x193)],_0x29a23f[_0x510ae6(0x2ee)],0x3];});}get[_0x223da0(0x246)](){const _0x36356c=_0x223da0;return this[_0x36356c(0x8a)];}get[_0x223da0(0x2c1)](){const _0xffefcc=_0x223da0;return this[_0xffefcc(0xe6)];}get[_0x223da0(0xca)](){const _0x5ad5ab=_0x223da0;return this[_0x5ad5ab(0x19f)]>0x1||this['_treatAsBatchInput'];}get[_0x223da0(0x19f)](){const _0x529e31=_0x223da0;return this[_0x529e31(0x27e)];}get['inputDimensions'](){const _0x4d73b7=_0x223da0;return this[_0x4d73b7(0x273)];}get['inputSize'](){return this['_inputSize'];}get[_0x223da0(0x27d)](){const _0x5a8ef6=_0x223da0;return range(this[_0x5a8ef6(0x19f)],0x0,0x1)[_0x5a8ef6(0x2c2)]((_0x15f331,_0x2237b8)=>this['getReshapedInputDimensions'](_0x2237b8));}[_0x223da0(0x1d4)](_0x5c5f19){const _0x8e1b17=_0x223da0;return this[_0x8e1b17(0x2c1)][_0x5c5f19]||this[_0x8e1b17(0x246)][_0x5c5f19];}[_0x223da0(0x9d)](_0x53cfb9){const _0x253cb5=_0x223da0;return this[_0x253cb5(0x273)][_0x53cfb9];}[_0x223da0(0x91)](_0x3df530){return this['_inputDimensions'][_0x3df530][0x0];}[_0x223da0(0xef)](_0x3fd7d8){const _0x2d4505=_0x223da0;return this[_0x2d4505(0x273)][_0x3fd7d8][0x1];}[_0x223da0(0xdd)](_0x49506a){const _0x439996=_0x223da0;if(typeof this[_0x439996(0x13a)]!==_0x439996(0xac))throw new Error(_0x439996(0x120));const _0x3969a1=this[_0x439996(0xef)](_0x49506a),_0x1a91b4=this[_0x439996(0x91)](_0x49506a);return computeReshapedDimensions({'width':_0x3969a1,'height':_0x1a91b4},this[_0x439996(0x13a)]);}[_0x223da0(0x136)](_0x1b9b54,_0x147832=!![]){const _0x214b1c=_0x223da0;return this[_0x214b1c(0x2b4)]=_0x1b9b54,tf5[_0x214b1c(0xdc)](()=>{const _0x2fea42=_0x214b1c,_0x2c7c42=range(this[_0x2fea42(0x19f)],0x0,0x1)['map'](_0x23890c=>{const _0x22acf3=_0x2fea42,_0x494d96=this[_0x22acf3(0x1d4)](_0x23890c);if(_0x494d96 instanceof tf5[_0x22acf3(0x16c)]){let _0x2742a6=isTensor4D(_0x494d96)?_0x494d96:tf5[_0x22acf3(0xa6)](_0x494d96);return _0x2742a6=padToSquare(_0x2742a6,_0x147832),(_0x2742a6[_0x22acf3(0x2a9)][0x1]!==_0x1b9b54||_0x2742a6[_0x22acf3(0x2a9)][0x2]!==_0x1b9b54)&&(_0x2742a6=tf5[_0x22acf3(0x1fa)][_0x22acf3(0xb8)](_0x2742a6,[_0x1b9b54,_0x1b9b54],![],![])),_0x2742a6[_0x22acf3(0x9c)](_0x1b9b54,_0x1b9b54,0x3);}if(_0x494d96 instanceof env['getEnv']()[_0x22acf3(0x1a6)])return tf5[_0x22acf3(0x195)][_0x22acf3(0x2e4)](imageToSquare(_0x494d96,_0x1b9b54,_0x147832));throw new Error(_0x22acf3(0x29a)+_0x23890c+_0x22acf3(0x1e6)+_0x494d96);}),_0x217d95=tf5['stack'](_0x2c7c42[_0x2fea42(0x2c2)](_0x4b4898=>tf5['cast'](_0x4b4898,_0x2fea42(0x83))))[_0x2fea42(0x220)](this['batchSize'],_0x1b9b54,_0x1b9b54,0x3);return _0x217d95;});}};async function toNetInput(_0x5b0530){const _0x1e4ed4=_0x223da0;if(_0x5b0530 instanceof NetInput)return _0x5b0530;const _0x2d6664=Array[_0x1e4ed4(0x157)](_0x5b0530)?_0x5b0530:[_0x5b0530];if(!_0x2d6664[_0x1e4ed4(0x1b5)])throw new Error(_0x1e4ed4(0xc8));const _0x4c14ef=_0x501b80=>Array[_0x1e4ed4(0x157)](_0x5b0530)?_0x1e4ed4(0xc9)+_0x501b80+':':'',_0x123ad9=_0x2d6664[_0x1e4ed4(0x2c2)](resolveInput);return _0x123ad9[_0x1e4ed4(0x19b)]((_0x21f3b1,_0x2c7164)=>{const _0x343f82=_0x1e4ed4;if(!isMediaElement(_0x21f3b1)&&!isTensor3D(_0x21f3b1)&&!isTensor4D(_0x21f3b1)){if(typeof _0x2d6664[_0x2c7164]===_0x343f82(0x223))throw new Error('toNetInput\x20-'+_0x4c14ef(_0x2c7164)+_0x343f82(0xf1)+_0x2d6664[_0x2c7164]);throw new Error('toNetInput\x20-'+_0x4c14ef(_0x2c7164)+_0x343f82(0x2b5));}if(isTensor4D(_0x21f3b1)){const _0x5ea452=_0x21f3b1['shape'][0x0];if(_0x5ea452!==0x1)throw new Error(_0x343f82(0x23d)+_0x4c14ef(_0x2c7164)+_0x343f82(0x1db)+_0x5ea452+_0x343f82(0x164));}}),await Promise[_0x1e4ed4(0xa2)](_0x123ad9[_0x1e4ed4(0x2c2)](_0x155fb4=>isMediaElement(_0x155fb4)&&awaitMediaLoaded(_0x155fb4))),new NetInput(_0x123ad9,Array[_0x1e4ed4(0x157)](_0x5b0530));}async function extractFaces(_0x25c4a6,_0x4f9577){const _0x4b9d6c=_0x223da0,{Canvas:_0x543931}=env[_0x4b9d6c(0x179)]();let _0x569423=_0x25c4a6;if(!(_0x25c4a6 instanceof _0x543931)){const _0x5337ab=await toNetInput(_0x25c4a6);if(_0x5337ab['batchSize']>0x1)throw new Error(_0x4b9d6c(0x1de));const _0x54e642=_0x5337ab[_0x4b9d6c(0x1d4)](0x0);_0x569423=_0x54e642 instanceof _0x543931?_0x54e642:await imageTensorToCanvas(_0x54e642);}const _0x8ce646=getContext2dOrThrow(_0x569423),_0xc4cd5b=_0x4f9577[_0x4b9d6c(0x2c2)](_0x31ae79=>_0x31ae79 instanceof FaceDetection?_0x31ae79[_0x4b9d6c(0x80)](_0x569423['width'],_0x569423[_0x4b9d6c(0x193)])[_0x4b9d6c(0xab)][_0x4b9d6c(0x236)]():_0x31ae79)['map'](_0x390fde=>_0x390fde[_0x4b9d6c(0x25b)](_0x569423[_0x4b9d6c(0x2ee)],_0x569423[_0x4b9d6c(0x193)]));return _0xc4cd5b[_0x4b9d6c(0x2c2)](({x:_0x1602c6,y:_0x315a6e,width:_0x53e174,height:_0x5e3f94})=>{const _0x117160=_0x4b9d6c,_0x2d3d8b=createCanvas({'width':_0x53e174,'height':_0x5e3f94});if(_0x53e174>0x0&&_0x5e3f94>0x0)getContext2dOrThrow(_0x2d3d8b)['putImageData'](_0x8ce646[_0x117160(0x1c5)](_0x1602c6,_0x315a6e,_0x53e174,_0x5e3f94),0x0,0x0);return _0x2d3d8b;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x475a08,_0x185e39){const _0x2b931e=_0x223da0;if(!isTensor3D(_0x475a08)&&!isTensor4D(_0x475a08))throw new Error('extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D');if(isTensor4D(_0x475a08)&&_0x475a08[_0x2b931e(0x2a9)][0x0]>0x1)throw new Error(_0x2b931e(0x28a));return tf6['tidy'](()=>{const _0x3d3c2f=_0x2b931e,[_0x5ce934,_0xf763aa,_0x2c48ff]=_0x475a08['shape']['slice'](isTensor4D(_0x475a08)?0x1:0x0),_0x25ff62=_0x185e39[_0x3d3c2f(0x2c2)](_0x43af81=>_0x43af81 instanceof FaceDetection?_0x43af81[_0x3d3c2f(0x80)](_0xf763aa,_0x5ce934)[_0x3d3c2f(0xab)]:_0x43af81)[_0x3d3c2f(0x2c2)](_0x137d61=>_0x137d61[_0x3d3c2f(0x25b)](_0xf763aa,_0x5ce934)),_0x4a2562=_0x25ff62['filter'](_0xc507b3=>_0xc507b3[_0x3d3c2f(0x2ee)]>0x0&&_0xc507b3['height']>0x0)['map'](({x:_0x1e6ba2,y:_0x54236b,width:_0x330ce6,height:_0x4e3f9d})=>tf6[_0x3d3c2f(0x2bf)](_0x475a08[_0x3d3c2f(0x9c)](_0x5ce934,_0xf763aa,_0x2c48ff),[_0x54236b,_0x1e6ba2,0x0],[_0x4e3f9d,_0x330ce6,_0x2c48ff]));return _0x4a2562;});}async function fetchOrThrow(_0x32b1aa,_0x1a6a11){const _0x425289=_0x223da0,{fetch:_0x3b9e77}=env['getEnv'](),_0xd68a37=await _0x3b9e77(_0x32b1aa,_0x1a6a11);if(!(_0xd68a37[_0x425289(0x9b)]<0x190))throw new Error('failed\x20to\x20fetch:\x20('+_0xd68a37[_0x425289(0x9b)]+')\x20'+_0xd68a37[_0x425289(0x23c)]+_0x425289(0x149)+_0xd68a37[_0x425289(0xbd)]);return _0xd68a37;}async function fetchImage(_0x3ac094){const _0x5a99ed=_0x223da0,_0x32f29d=await fetchOrThrow(_0x3ac094),_0x2cf87c=await _0x32f29d['blob']();if(!_0x2cf87c[_0x5a99ed(0x249)][_0x5a99ed(0x232)](_0x5a99ed(0xb9)))throw new Error('fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20'+_0x2cf87c[_0x5a99ed(0x249)]+_0x5a99ed(0x15f)+_0x32f29d[_0x5a99ed(0xbd)]);return bufferToImage(_0x2cf87c);}async function fetchJson(_0x4b1399){const _0x1deec2=_0x223da0;return(await fetchOrThrow(_0x4b1399))[_0x1deec2(0x121)]();}async function fetchNetWeights(_0x319834){const _0x562f42=_0x223da0;return new Float32Array(await(await fetchOrThrow(_0x319834))[_0x562f42(0xc0)]());}function bufferToVideo(_0x388cd8){return new Promise((_0x310e33,_0x4bcf9e)=>{const _0x284923=_0x21d7;if(!(_0x388cd8 instanceof Blob))_0x4bcf9e(new Error(_0x284923(0x215)));const _0xc9e5d5=env[_0x284923(0x179)]()[_0x284923(0x280)]();_0xc9e5d5[_0x284923(0x82)]=()=>_0x310e33(_0xc9e5d5),_0xc9e5d5[_0x284923(0x1ae)]=_0x4bcf9e,_0xc9e5d5['playsInline']=!![],_0xc9e5d5[_0x284923(0x21b)]=!![],_0xc9e5d5['src']=URL[_0x284923(0x2ae)](_0x388cd8),_0xc9e5d5['play']();});}async function fetchVideo(_0x35538c){const _0x96a4c1=_0x223da0,_0x41dab3=await fetchOrThrow(_0x35538c),_0x5e9c4a=await _0x41dab3[_0x96a4c1(0x19c)]();if(!_0x5e9c4a[_0x96a4c1(0x249)][_0x96a4c1(0x232)]('video/'))throw new Error(_0x96a4c1(0x297)+_0x5e9c4a[_0x96a4c1(0x249)]+',\x20for\x20url:\x20'+_0x41dab3['url']);return bufferToVideo(_0x5e9c4a);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x2a2d96,_0x5089ff){const _0xe25d0e=_0x223da0,_0x31e197=_0x5089ff+'-weights_manifest.json';if(!_0x2a2d96)return{'modelBaseUri':'','manifestUri':_0x31e197};if(_0x2a2d96==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x31e197};const _0x38b27c=_0x2a2d96[_0xe25d0e(0x232)](_0xe25d0e(0x130))?'http://':_0x2a2d96[_0xe25d0e(0x232)](_0xe25d0e(0x127))?'https://':'';_0x2a2d96=_0x2a2d96[_0xe25d0e(0x197)](_0x38b27c,'');const _0xdd48f4=_0x2a2d96[_0xe25d0e(0x1f0)]('/')[_0xe25d0e(0x213)](_0x6675d7=>_0x6675d7),_0xe83dfe=_0x2a2d96[_0xe25d0e(0x8b)](_0xe25d0e(0xd0))?_0xdd48f4[_0xdd48f4['length']-0x1]:_0x31e197;let _0x1308b1=_0x38b27c+(_0x2a2d96[_0xe25d0e(0x8b)](_0xe25d0e(0xd0))?_0xdd48f4[_0xe25d0e(0x284)](0x0,_0xdd48f4[_0xe25d0e(0x1b5)]-0x1):_0xdd48f4)[_0xe25d0e(0x1ef)]('/');return _0x1308b1=_0x2a2d96['startsWith']('/')?'/'+_0x1308b1:_0x1308b1,{'modelBaseUri':_0x1308b1,'manifestUri':_0x1308b1==='/'?'/'+_0xe83dfe:_0x1308b1+'/'+_0xe83dfe};}async function loadWeightMap(_0x3d189d,_0x15d837){const _0x578cb5=_0x223da0,{manifestUri:_0x1fe38f,modelBaseUri:_0x52adb1}=getModelUris(_0x3d189d,_0x15d837),_0x37a074=await fetchJson(_0x1fe38f);return tf7['io'][_0x578cb5(0x1f6)](_0x37a074,_0x52adb1);}function matchDimensions(_0x33b97d,_0x3baa56,_0x10e87b=![]){const _0x1474c3=_0x223da0,{width:_0x1a7db1,height:_0x4e8874}=_0x10e87b?getMediaDimensions(_0x3baa56):_0x3baa56;return _0x33b97d[_0x1474c3(0x2ee)]=_0x1a7db1,_0x33b97d[_0x1474c3(0x193)]=_0x4e8874,{'width':_0x1a7db1,'height':_0x4e8874};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x5b308f){const _0x1c4bb=_0x223da0;this[_0x1c4bb(0x12e)]=void 0x0,this[_0x1c4bb(0x135)]=[],this[_0x1c4bb(0x238)]=_0x5b308f;}get[_0x223da0(0x7e)](){const _0x98fabf=_0x223da0;return this[_0x98fabf(0x12e)];}get['paramMappings'](){const _0x1ff38b=_0x223da0;return this[_0x1ff38b(0x135)];}get[_0x223da0(0x1d0)](){return!!this['params'];}[_0x223da0(0x1a1)](_0x400754){const _0x30130a=_0x223da0,{obj:_0x3e67b8,objProp:_0x50ad15}=this[_0x30130a(0x20c)](_0x400754);return _0x3e67b8[_0x50ad15];}[_0x223da0(0x234)](_0x4fbf92,_0x77440){const _0x3f4f19=_0x223da0,{obj:_0x2e1abf,objProp:_0x4253ee}=this[_0x3f4f19(0x20c)](_0x4fbf92);_0x2e1abf[_0x4253ee][_0x3f4f19(0x224)](),_0x2e1abf[_0x4253ee]=_0x77440;}[_0x223da0(0x219)](){const _0x194a76=_0x223da0;return this[_0x194a76(0x135)][_0x194a76(0x2c2)](({paramPath:_0x1f85d7})=>({'path':_0x1f85d7,'tensor':this['getParamFromPath'](_0x1f85d7)}));}[_0x223da0(0x78)](){const _0x206f07=_0x223da0;return this[_0x206f07(0x219)]()[_0x206f07(0x213)](_0x291df6=>_0x291df6['tensor']instanceof tf8[_0x206f07(0x2f2)]);}[_0x223da0(0x211)](){const _0x4d1e46=_0x223da0;return this[_0x4d1e46(0x219)]()['filter'](_0x3a66f6=>!(_0x3a66f6[_0x4d1e46(0x14e)]instanceof tf8['Variable']));}[_0x223da0(0x289)](){const _0x39fa91=_0x223da0;this[_0x39fa91(0x211)]()[_0x39fa91(0x19b)](({path:_0x262f8b,tensor:_0x2439a0})=>{const _0x427dcc=_0x39fa91;this[_0x427dcc(0x234)](_0x262f8b,_0x2439a0[_0x427dcc(0x289)]());});}[_0x223da0(0x11c)](){const _0x309b61=_0x223da0;this[_0x309b61(0x78)]()[_0x309b61(0x19b)](({path:_0xc2b42b,tensor:_0x5609ae})=>{const _0x50dcf5=_0x309b61,_0x55138f=tf8['tensor'](_0x5609ae[_0x50dcf5(0xf7)]());_0x5609ae['dispose'](),this[_0x50dcf5(0x234)](_0xc2b42b,_0x55138f);});}[_0x223da0(0x224)](_0x2c56ff=!![]){const _0x2ec3c4=_0x223da0;this[_0x2ec3c4(0x219)]()[_0x2ec3c4(0x19b)](_0x22a18a=>{const _0x5123c0=_0x2ec3c4;if(_0x2c56ff&&_0x22a18a['tensor'][_0x5123c0(0x2c5)])throw new Error(_0x5123c0(0x176)+_0x22a18a['path']);_0x22a18a['tensor']['dispose']();}),this[_0x2ec3c4(0x12e)]=void 0x0;}['serializeParams'](){const _0xfd4836=_0x223da0;return new Float32Array(this[_0xfd4836(0x219)]()[_0xfd4836(0x2c2)](({tensor:_0x2a3cc8})=>Array[_0xfd4836(0xed)](_0x2a3cc8[_0xfd4836(0xf7)]()))[_0xfd4836(0x2c8)]((_0x530a87,_0x57cc74)=>_0x530a87['concat'](_0x57cc74)));}async[_0x223da0(0xb5)](_0x1a455f){const _0x4b6207=_0x223da0;if(_0x1a455f instanceof Float32Array){this[_0x4b6207(0x278)](_0x1a455f);return;}await this[_0x4b6207(0x239)](_0x1a455f);}async['loadFromUri'](_0x33c9f3){const _0x3b0d0d=_0x223da0;if(_0x33c9f3&&typeof _0x33c9f3!==_0x3b0d0d(0x223))throw new Error(this[_0x3b0d0d(0x238)]+'.loadFromUri\x20-\x20expected\x20model\x20uri');const _0x1c4e22=await loadWeightMap(_0x33c9f3,this['getDefaultModelName']());this['loadFromWeightMap'](_0x1c4e22);}async[_0x223da0(0x1c0)](_0x3e691e){const _0x3da830=_0x223da0;if(_0x3e691e&&typeof _0x3e691e!=='string')throw new Error(this['_name']+_0x3da830(0x23b));const {readFile:_0x110eba}=env[_0x3da830(0x179)](),{manifestUri:_0x470526,modelBaseUri:_0x228420}=getModelUris(_0x3e691e,this['getDefaultModelName']()),_0x4419c3=_0x89f963=>Promise['all'](_0x89f963['map'](_0x23cb28=>_0x110eba(_0x23cb28)[_0x3da830(0x1a4)](_0x29ccc7=>_0x29ccc7[_0x3da830(0x1ec)]))),_0x167676=tf8['io'][_0x3da830(0x152)](_0x4419c3),_0x4a8e11=JSON[_0x3da830(0x2de)]((await _0x110eba(_0x470526))[_0x3da830(0x11f)]()),_0x23529e=await _0x167676(_0x4a8e11,_0x228420);this[_0x3da830(0x12d)](_0x23529e);}['loadFromWeightMap'](_0x2d2404){const _0x160b18=_0x223da0,{paramMappings:_0x4dd655,params:_0x5065d6}=this[_0x160b18(0x8f)](_0x2d2404);this['_paramMappings']=_0x4dd655,this[_0x160b18(0x12e)]=_0x5065d6;}[_0x223da0(0x278)](_0x147f7e){const _0x393cd8=_0x223da0,{paramMappings:_0x1c832f,params:_0x28706a}=this[_0x393cd8(0x24d)](_0x147f7e);this[_0x393cd8(0x135)]=_0x1c832f,this['_params']=_0x28706a;}[_0x223da0(0x20c)](_0x4b916b){const _0x50366c=_0x223da0;if(!this['params'])throw new Error('traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params');const _0x512066=_0x4b916b[_0x50366c(0x1f0)]('/')[_0x50366c(0x2c8)]((_0x375b4f,_0x541617)=>{const _0x2b2f06=_0x50366c;if(!_0x375b4f[_0x2b2f06(0xfe)]['hasOwnProperty'](_0x541617))throw new Error(_0x2b2f06(0xbe)+_0x541617+_0x2b2f06(0x198)+_0x4b916b);return{'obj':_0x375b4f[_0x2b2f06(0xfe)],'objProp':_0x541617,'nextObj':_0x375b4f[_0x2b2f06(0xfe)][_0x541617]};},{'nextObj':this[_0x50366c(0x7e)]}),{obj:_0x1f2ecf,objProp:_0x18dd33}=_0x512066;if(!_0x1f2ecf||!_0x18dd33||!(_0x1f2ecf[_0x18dd33]instanceof tf8[_0x50366c(0x16c)]))throw new Error('traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20'+_0x4b916b);return{'obj':_0x1f2ecf,'objProp':_0x18dd33};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0x52afb0,_0x116806,_0x599ff8){const _0x17f3df=_0x223da0;return tf9[_0x17f3df(0xdc)](()=>{const _0x3b7351=_0x17f3df;let _0x5cc470=tf9[_0x3b7351(0x229)](_0x52afb0,_0x116806[_0x3b7351(0x1b0)],_0x116806[_0x3b7351(0x2d2)],_0x599ff8,_0x3b7351(0xc2));return _0x5cc470=tf9['add'](_0x5cc470,_0x116806[_0x3b7351(0x230)]),_0x5cc470;});}function denseBlock3(_0x14d6d2,_0x2a0b7a,_0x355017=![]){const _0x1e565b=_0x223da0;return tf10[_0x1e565b(0xdc)](()=>{const _0x517bf8=_0x1e565b,_0x26b585=tf10['relu'](_0x355017?tf10[_0x517bf8(0x204)](tf10[_0x517bf8(0x241)](_0x14d6d2,_0x2a0b7a[_0x517bf8(0x186)]['filters'],[0x2,0x2],_0x517bf8(0xc2)),_0x2a0b7a[_0x517bf8(0x186)]['bias']):depthwiseSeparableConv(_0x14d6d2,_0x2a0b7a[_0x517bf8(0x186)],[0x2,0x2])),_0x58f20f=depthwiseSeparableConv(_0x26b585,_0x2a0b7a[_0x517bf8(0x287)],[0x1,0x1]),_0x55ade1=tf10[_0x517bf8(0x2dd)](tf10[_0x517bf8(0x204)](_0x26b585,_0x58f20f)),_0x16792f=depthwiseSeparableConv(_0x55ade1,_0x2a0b7a[_0x517bf8(0x133)],[0x1,0x1]);return tf10['relu'](tf10['add'](_0x26b585,tf10[_0x517bf8(0x204)](_0x58f20f,_0x16792f)));});}function denseBlock4(_0x1a0566,_0x4f286f,_0x3eb85e=![],_0x4686b0=!![]){const _0x5a470e=_0x223da0;return tf10[_0x5a470e(0xdc)](()=>{const _0x5c9821=_0x5a470e,_0x385f44=tf10[_0x5c9821(0x2dd)](_0x3eb85e?tf10['add'](tf10[_0x5c9821(0x241)](_0x1a0566,_0x4f286f[_0x5c9821(0x186)][_0x5c9821(0x1cc)],_0x4686b0?[0x2,0x2]:[0x1,0x1],_0x5c9821(0xc2)),_0x4f286f['conv0'][_0x5c9821(0x230)]):depthwiseSeparableConv(_0x1a0566,_0x4f286f[_0x5c9821(0x186)],_0x4686b0?[0x2,0x2]:[0x1,0x1])),_0x524d3b=depthwiseSeparableConv(_0x385f44,_0x4f286f[_0x5c9821(0x287)],[0x1,0x1]),_0x1d37c0=tf10[_0x5c9821(0x2dd)](tf10[_0x5c9821(0x204)](_0x385f44,_0x524d3b)),_0x3b11a5=depthwiseSeparableConv(_0x1d37c0,_0x4f286f[_0x5c9821(0x133)],[0x1,0x1]),_0x248264=tf10['relu'](tf10[_0x5c9821(0x204)](_0x385f44,tf10['add'](_0x524d3b,_0x3b11a5))),_0x5110ff=depthwiseSeparableConv(_0x248264,_0x4f286f['conv3'],[0x1,0x1]);return tf10[_0x5c9821(0x2dd)](tf10[_0x5c9821(0x204)](_0x385f44,tf10[_0x5c9821(0x204)](_0x524d3b,tf10['add'](_0x3b11a5,_0x5110ff))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x578735,_0x219155,_0x5b8a61=_0x223da0(0xc2),_0x3a79bd=![]){const _0xc886df=_0x223da0;return tf11[_0xc886df(0xdc)](()=>{const _0x41a3fd=_0xc886df,_0x2e3509=tf11[_0x41a3fd(0x204)](tf11[_0x41a3fd(0x241)](_0x578735,_0x219155['filters'],[0x1,0x1],_0x5b8a61),_0x219155[_0x41a3fd(0x230)]);return _0x3a79bd?tf11[_0x41a3fd(0x2dd)](_0x2e3509):_0x2e3509;});}function disposeUnusedWeightTensors(_0x399014,_0x58fef4){const _0x13e6a4=_0x223da0;Object['keys'](_0x399014)[_0x13e6a4(0x19b)](_0x2f7f11=>{const _0xde46c8=_0x13e6a4;!_0x58fef4[_0xde46c8(0x2e8)](_0x3b3724=>_0x3b3724[_0xde46c8(0xc4)]===_0x2f7f11)&&_0x399014[_0x2f7f11][_0xde46c8(0x224)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x7a1571,_0xbea789){return(_0x2d6d72,_0x18218f,_0x9c017b,_0x1ed4d2)=>{const _0x96f410=_0x21d7,_0x70d709=tf12['tensor4d'](_0x7a1571(_0x2d6d72*_0x18218f*_0x9c017b*_0x9c017b),[_0x9c017b,_0x9c017b,_0x2d6d72,_0x18218f]),_0x1a67c8=tf12[_0x96f410(0x2d8)](_0x7a1571(_0x18218f));return _0xbea789[_0x96f410(0x159)]({'paramPath':_0x1ed4d2+_0x96f410(0x22c)},{'paramPath':_0x1ed4d2+_0x96f410(0x26d)}),{'filters':_0x70d709,'bias':_0x1a67c8};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x1cc3c3,_0x5209b5){return(_0x584c40,_0x1c7655,_0x1a22a2)=>{const _0x15c4f3=_0x21d7,_0x1a9086=tf13['tensor2d'](_0x1cc3c3(_0x584c40*_0x1c7655),[_0x584c40,_0x1c7655]),_0x41f051=tf13['tensor1d'](_0x1cc3c3(_0x1c7655));return _0x5209b5['push']({'paramPath':_0x1a22a2+'/weights'},{'paramPath':_0x1a22a2+_0x15c4f3(0x26d)}),{'weights':_0x1a9086,'bias':_0x41f051};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x4f917e,_0x2dbbd3,_0x58821a){const _0x2379b6=_0x223da0;this[_0x2379b6(0x1b0)]=_0x4f917e,this[_0x2379b6(0x2d2)]=_0x2dbbd3,this[_0x2379b6(0x230)]=_0x58821a;}};function extractSeparableConvParamsFactory(_0x4119f9,_0x43a391){return(_0x32bd29,_0x516fc7,_0x24dab4)=>{const _0x474066=_0x21d7,_0x4157b6=tf14[_0x474066(0x272)](_0x4119f9(0x3*0x3*_0x32bd29),[0x3,0x3,_0x32bd29,0x1]),_0x361845=tf14[_0x474066(0x272)](_0x4119f9(_0x32bd29*_0x516fc7),[0x1,0x1,_0x32bd29,_0x516fc7]),_0x34b28d=tf14[_0x474066(0x2d8)](_0x4119f9(_0x516fc7));return _0x43a391['push']({'paramPath':_0x24dab4+_0x474066(0x17d)},{'paramPath':_0x24dab4+_0x474066(0x88)},{'paramPath':_0x24dab4+'/bias'}),new SeparableConvParams(_0x4157b6,_0x361845,_0x34b28d);};}function loadSeparableConvParamsFactory(_0xefbaf3){return _0x23fe2c=>{const _0x502a59=_0x21d7,_0x57e79b=_0xefbaf3(_0x23fe2c+_0x502a59(0x17d),0x4),_0x898e94=_0xefbaf3(_0x23fe2c+_0x502a59(0x88),0x4),_0x367325=_0xefbaf3(_0x23fe2c+_0x502a59(0x26d),0x1);return new SeparableConvParams(_0x57e79b,_0x898e94,_0x367325);};}function extractWeightEntryFactory(_0x57d1b6,_0x2c7a8b){return(_0x490374,_0x57365e,_0x1849a9)=>{const _0x1b2843=_0x21d7,_0x10974b=_0x57d1b6[_0x490374];if(!isTensor(_0x10974b,_0x57365e))throw new Error(_0x1b2843(0xd2)+_0x490374+_0x1b2843(0x2db)+_0x57365e+_0x1b2843(0x148)+_0x10974b);return _0x2c7a8b[_0x1b2843(0x159)]({'originalPath':_0x490374,'paramPath':_0x1849a9||_0x490374}),_0x10974b;};}function extractWeightsFactory(_0x4f85b2){let _0x215107=_0x4f85b2;function _0x2e716f(_0x9e5511){const _0x1b39be=_0x21d7,_0x4ad881=_0x215107[_0x1b39be(0x284)](0x0,_0x9e5511);return _0x215107=_0x215107['slice'](_0x9e5511),_0x4ad881;}function _0x5b3d1b(){return _0x215107;}return{'extractWeights':_0x2e716f,'getRemainingWeights':_0x5b3d1b};}function extractorsFactory(_0x2a15f7,_0x1f6e32){const _0x1d01f8=extractConvParamsFactory(_0x2a15f7,_0x1f6e32),_0x514417=extractSeparableConvParamsFactory(_0x2a15f7,_0x1f6e32);function _0x4959bf(_0x52b2fd,_0x11408d,_0x43cedc,_0x2f4584=![]){const _0x11bd0b=_0x21d7,_0x506958=_0x2f4584?_0x1d01f8(_0x52b2fd,_0x11408d,0x3,_0x43cedc+_0x11bd0b(0x10f)):_0x514417(_0x52b2fd,_0x11408d,_0x43cedc+_0x11bd0b(0x10f)),_0x509fa3=_0x514417(_0x11408d,_0x11408d,_0x43cedc+_0x11bd0b(0x291)),_0xf42e67=_0x514417(_0x11408d,_0x11408d,_0x43cedc+_0x11bd0b(0x2dc));return{'conv0':_0x506958,'conv1':_0x509fa3,'conv2':_0xf42e67};}function _0x36dff0(_0xbc5523,_0x56cc22,_0x584851,_0x5c824a=![]){const {conv0:_0x4b869a,conv1:_0x5db1f6,conv2:_0x195017}=_0x4959bf(_0xbc5523,_0x56cc22,_0x584851,_0x5c824a),_0x5d6383=_0x514417(_0x56cc22,_0x56cc22,_0x584851+'/conv3');return{'conv0':_0x4b869a,'conv1':_0x5db1f6,'conv2':_0x195017,'conv3':_0x5d6383};}return{'extractDenseBlock3Params':_0x4959bf,'extractDenseBlock4Params':_0x36dff0};}function extractParams(_0x4f5bc0){const _0x3f2d0f=_0x223da0,_0x56988d=[],{extractWeights:_0x50fd7b,getRemainingWeights:_0x62f4e4}=extractWeightsFactory(_0x4f5bc0),{extractDenseBlock4Params:_0x1a77b8}=extractorsFactory(_0x50fd7b,_0x56988d),_0x14b481=_0x1a77b8(0x3,0x20,'dense0',!![]),_0x49b225=_0x1a77b8(0x20,0x40,_0x3f2d0f(0xfc)),_0x4d3221=_0x1a77b8(0x40,0x80,_0x3f2d0f(0x21c)),_0x21deae=_0x1a77b8(0x80,0x100,_0x3f2d0f(0x109));if(_0x62f4e4()[_0x3f2d0f(0x1b5)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x62f4e4()[_0x3f2d0f(0x1b5)]);return{'paramMappings':_0x56988d,'params':{'dense0':_0x14b481,'dense1':_0x49b225,'dense2':_0x4d3221,'dense3':_0x21deae}};}function loadConvParamsFactory(_0x1c2ded){return _0x42433c=>{const _0x4dcbc6=_0x21d7,_0x563709=_0x1c2ded(_0x42433c+_0x4dcbc6(0x22c),0x4),_0x3a3b7d=_0x1c2ded(_0x42433c+'/bias',0x1);return{'filters':_0x563709,'bias':_0x3a3b7d};};}function loadParamsFactory(_0x27305f,_0xfaf218){const _0x455464=extractWeightEntryFactory(_0x27305f,_0xfaf218),_0x441ef5=loadConvParamsFactory(_0x455464),_0x3cfd14=loadSeparableConvParamsFactory(_0x455464);function _0x184ea1(_0x509d95,_0x5e7248=![]){const _0x1b3669=_0x21d7,_0x5dd89b=_0x5e7248?_0x441ef5(_0x509d95+_0x1b3669(0x10f)):_0x3cfd14(_0x509d95+_0x1b3669(0x10f)),_0x5a589d=_0x3cfd14(_0x509d95+_0x1b3669(0x291)),_0x4ebafb=_0x3cfd14(_0x509d95+'/conv2');return{'conv0':_0x5dd89b,'conv1':_0x5a589d,'conv2':_0x4ebafb};}function _0x573e24(_0x464a7e,_0x273c4f=![]){const _0x4159f3=_0x21d7,_0x40e1fa=_0x273c4f?_0x441ef5(_0x464a7e+'/conv0'):_0x3cfd14(_0x464a7e+'/conv0'),_0x5b0999=_0x3cfd14(_0x464a7e+'/conv1'),_0x2eab45=_0x3cfd14(_0x464a7e+'/conv2'),_0x5c6840=_0x3cfd14(_0x464a7e+_0x4159f3(0x7c));return{'conv0':_0x40e1fa,'conv1':_0x5b0999,'conv2':_0x2eab45,'conv3':_0x5c6840};}return{'extractDenseBlock3Params':_0x184ea1,'extractDenseBlock4Params':_0x573e24};}function extractParamsFromWeightMap(_0x2459ee){const _0x5a197d=_0x223da0,_0x8d9490=[],{extractDenseBlock4Params:_0x5df3a7}=loadParamsFactory(_0x2459ee,_0x8d9490),_0x267f0f={'dense0':_0x5df3a7(_0x5a197d(0x28d),!![]),'dense1':_0x5df3a7('dense1'),'dense2':_0x5df3a7('dense2'),'dense3':_0x5df3a7(_0x5a197d(0x109))};return disposeUnusedWeightTensors(_0x2459ee,_0x8d9490),{'params':_0x267f0f,'paramMappings':_0x8d9490};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x19a41f=_0x223da0;super(_0x19a41f(0x141));}['forwardInput'](_0x1317a6){const _0x2e6b5b=_0x223da0,{params:_0x207281}=this;if(!_0x207281)throw new Error(_0x2e6b5b(0x22d));return tf15[_0x2e6b5b(0xdc)](()=>{const _0x2bafe8=_0x2e6b5b,_0x5e9aba=tf15[_0x2bafe8(0x1fe)](_0x1317a6[_0x2bafe8(0x136)](0x70,!![]),_0x2bafe8(0x83)),_0x38c16d=[122.782,117.001,104.298],_0x5b4a9d=normalize(_0x5e9aba,_0x38c16d)[_0x2bafe8(0x245)](0xff);let _0x333c0d=denseBlock4(_0x5b4a9d,_0x207281['dense0'],!![]);return _0x333c0d=denseBlock4(_0x333c0d,_0x207281[_0x2bafe8(0xfc)]),_0x333c0d=denseBlock4(_0x333c0d,_0x207281[_0x2bafe8(0x21c)]),_0x333c0d=denseBlock4(_0x333c0d,_0x207281[_0x2bafe8(0x109)]),_0x333c0d=tf15[_0x2bafe8(0x13f)](_0x333c0d,[0x7,0x7],[0x2,0x2],'valid'),_0x333c0d;});}async[_0x223da0(0x155)](_0x44d2e0){return this['forwardInput'](await toNetInput(_0x44d2e0));}[_0x223da0(0x169)](){return'face_feature_extractor_model';}[_0x223da0(0x8f)](_0x24ad73){return extractParamsFromWeightMap(_0x24ad73);}[_0x223da0(0x24d)](_0x3a4d62){return extractParams(_0x3a4d62);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x3cd378,_0x239761){const _0x52f132=_0x223da0;return tf16[_0x52f132(0xdc)](()=>tf16[_0x52f132(0x204)](tf16[_0x52f132(0xb4)](_0x3cd378,_0x239761['weights']),_0x239761[_0x52f132(0x230)]));}function extractParams2(_0xc2c9df,_0x5da0a6,_0x2284c0){const _0x238126=_0x223da0,_0x36d6e1=[],{extractWeights:_0x106258,getRemainingWeights:_0x42a14e}=extractWeightsFactory(_0xc2c9df),_0x183ac1=extractFCParamsFactory(_0x106258,_0x36d6e1),_0x3a294c=_0x183ac1(_0x5da0a6,_0x2284c0,'fc');if(_0x42a14e()['length']!==0x0)throw new Error(_0x238126(0x2f8)+_0x42a14e()[_0x238126(0x1b5)]);return{'paramMappings':_0x36d6e1,'params':{'fc':_0x3a294c}};}function extractParamsFromWeightMap2(_0x25b798){const _0x50f0eb=[],_0x45c63d=extractWeightEntryFactory(_0x25b798,_0x50f0eb);function _0x470ef2(_0x230c98){const _0x3eaa22=_0x21d7,_0x40317f=_0x45c63d(_0x230c98+_0x3eaa22(0xe4),0x2),_0x21354a=_0x45c63d(_0x230c98+_0x3eaa22(0x26d),0x1);return{'weights':_0x40317f,'bias':_0x21354a};}const _0x3681f1={'fc':_0x470ef2('fc')};return disposeUnusedWeightTensors(_0x25b798,_0x50f0eb),{'params':_0x3681f1,'paramMappings':_0x50f0eb};}function seperateWeightMaps(_0x562e1f){const _0x44ee81=_0x223da0,_0x128c96={},_0x15c49a={};return Object['keys'](_0x562e1f)[_0x44ee81(0x19b)](_0x3ffb70=>{const _0x318bd5=_0x3ffb70['startsWith']('fc')?_0x15c49a:_0x128c96;_0x318bd5[_0x3ffb70]=_0x562e1f[_0x3ffb70];}),{'featureExtractorMap':_0x128c96,'classifierMap':_0x15c49a};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x188415,_0x51d4e8){const _0x11dac7=_0x223da0;super(_0x188415),this[_0x11dac7(0x139)]=_0x51d4e8;}get[_0x223da0(0x23f)](){const _0x390621=_0x223da0;return this[_0x390621(0x139)];}[_0x223da0(0xb3)](_0x47b9d8){const _0x25fc25=_0x223da0,{params:_0x51a1d8}=this;if(!_0x51a1d8)throw new Error(this[_0x25fc25(0x238)]+_0x25fc25(0x1aa));return tf17['tidy'](()=>{const _0x17bf26=_0x25fc25,_0x5c67e6=_0x47b9d8 instanceof NetInput?this[_0x17bf26(0x23f)][_0x17bf26(0x11a)](_0x47b9d8):_0x47b9d8;return fullyConnectedLayer(_0x5c67e6[_0x17bf26(0xe5)](_0x5c67e6[_0x17bf26(0x2a9)][0x0],-0x1),_0x51a1d8['fc']);});}[_0x223da0(0x224)](_0x508a72=!![]){const _0x3f5c1c=_0x223da0;this['faceFeatureExtractor'][_0x3f5c1c(0x224)](_0x508a72),super[_0x3f5c1c(0x224)](_0x508a72);}[_0x223da0(0x276)](_0x14d683){const _0x34a8b8=_0x223da0,{params:_0x5f148f,paramMappings:_0x3e435c}=this[_0x34a8b8(0x290)](_0x14d683);this[_0x34a8b8(0x12e)]=_0x5f148f,this[_0x34a8b8(0x135)]=_0x3e435c;}[_0x223da0(0x290)](_0x9e043c){const _0x44bcb0=_0x223da0;return extractParams2(_0x9e043c,this['getClassifierChannelsIn'](),this[_0x44bcb0(0x28e)]());}[_0x223da0(0x8f)](_0x3cf95e){const _0x47b1cc=_0x223da0,{featureExtractorMap:_0x23e61f,classifierMap:_0x2d4e99}=seperateWeightMaps(_0x3cf95e);return this[_0x47b1cc(0x23f)][_0x47b1cc(0x12d)](_0x23e61f),extractParamsFromWeightMap2(_0x2d4e99);}[_0x223da0(0x24d)](_0x14fb66){const _0x17e845=_0x223da0,_0x4c72f7=this[_0x17e845(0xa9)](),_0xfa8e84=this[_0x17e845(0x28e)](),_0x448e48=_0xfa8e84*_0x4c72f7+_0xfa8e84,_0x14c12e=_0x14fb66[_0x17e845(0x284)](0x0,_0x14fb66[_0x17e845(0x1b5)]-_0x448e48),_0x38862c=_0x14fb66[_0x17e845(0x284)](_0x14fb66['length']-_0x448e48);return this['faceFeatureExtractor']['extractWeights'](_0x14c12e),this[_0x17e845(0x290)](_0x38862c);}},FACE_EXPRESSION_LABELS=[_0x223da0(0x10e),'happy',_0x223da0(0x237),_0x223da0(0x221),_0x223da0(0x24c),_0x223da0(0x2a4),_0x223da0(0x203)],FaceExpressions=class{constructor(_0x4067b8){const _0x1d7766=_0x223da0;this[_0x1d7766(0x10e)]=0x0,this[_0x1d7766(0xae)]=0x0,this[_0x1d7766(0x237)]=0x0,this[_0x1d7766(0x221)]=0x0,this[_0x1d7766(0x24c)]=0x0,this[_0x1d7766(0x2a4)]=0x0,this[_0x1d7766(0x203)]=0x0;if(_0x4067b8[_0x1d7766(0x1b5)]!==0x7)throw new Error(_0x1d7766(0x15a)+_0x4067b8[_0x1d7766(0x1b5)]);FACE_EXPRESSION_LABELS[_0x1d7766(0x19b)]((_0x54d06f,_0x47dd55)=>{this[_0x54d06f]=_0x4067b8[_0x47dd55];});}[_0x223da0(0x2f5)](){const _0x5a37dd=_0x223da0;return FACE_EXPRESSION_LABELS[_0x5a37dd(0x2c2)](_0x120e4e=>({'expression':_0x120e4e,'probability':this[_0x120e4e]}))['sort']((_0x5359a9,_0x40960c)=>_0x40960c[_0x5a37dd(0x1d9)]-_0x5359a9[_0x5a37dd(0x1d9)]);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x40fc65=new FaceFeatureExtractor()){const _0x4ee3e3=_0x223da0;super(_0x4ee3e3(0x15d),_0x40fc65);}['forwardInput'](_0x9250b6){const _0x367c0c=_0x223da0;return tf18[_0x367c0c(0xdc)](()=>tf18[_0x367c0c(0x171)](this[_0x367c0c(0xb3)](_0x9250b6)));}async[_0x223da0(0x155)](_0x18676e){const _0x5076c5=_0x223da0;return this[_0x5076c5(0x11a)](await toNetInput(_0x18676e));}async[_0x223da0(0xfd)](_0x5e6c45){const _0x5b4041=_0x223da0,_0x35466c=await toNetInput(_0x5e6c45),_0x41f259=await this[_0x5b4041(0x11a)](_0x35466c),_0x481b62=await Promise['all'](tf18['unstack'](_0x41f259)[_0x5b4041(0x2c2)](async _0x45e9ff=>{const _0x2e6d6a=_0x5b4041,_0x3d623d=_0x45e9ff[_0x2e6d6a(0xf7)]();return _0x45e9ff[_0x2e6d6a(0x224)](),_0x3d623d;}));_0x41f259[_0x5b4041(0x224)]();const _0x3be402=_0x481b62['map'](_0x115fc5=>new FaceExpressions(_0x115fc5));return _0x35466c['isBatchInput']?_0x3be402:_0x3be402[0x0];}[_0x223da0(0x169)](){const _0x495648=_0x223da0;return _0x495648(0x89);}[_0x223da0(0xa9)](){return 0x100;}[_0x223da0(0x28e)](){return 0x7;}};function isWithFaceExpressions(_0x41d2ed){const _0x3c6458=_0x223da0;return _0x41d2ed[_0x3c6458(0x22b)]instanceof FaceExpressions;}function extendWithFaceExpressions(_0x5dd579,_0x16f2bc){const _0x2a2184={'expressions':_0x16f2bc};return{..._0x5dd579,..._0x2a2184};}function drawFaceExpressions(_0x5949d2,_0x27f727,_0x3afea9=0.1,_0x322f57){const _0x1edcb5=_0x223da0,_0x398034=Array[_0x1edcb5(0x157)](_0x27f727)?_0x27f727:[_0x27f727];_0x398034[_0x1edcb5(0x19b)](_0x46c15c=>{const _0x5ab35e=_0x1edcb5,_0x1d0722=_0x46c15c instanceof FaceExpressions?_0x46c15c:isWithFaceExpressions(_0x46c15c)?_0x46c15c[_0x5ab35e(0x22b)]:void 0x0;if(!_0x1d0722)throw new Error(_0x5ab35e(0x267));const _0x5f384a=_0x1d0722[_0x5ab35e(0x2f5)](),_0xaaedcb=_0x5f384a[_0x5ab35e(0x213)](_0x29f1b6=>_0x29f1b6['probability']>_0x3afea9),_0x4350c1=isWithFaceDetection(_0x46c15c)?_0x46c15c['detection'][_0x5ab35e(0xab)]['bottomLeft']:_0x322f57||new Point(0x0,0x0),_0x454874=new DrawTextField(_0xaaedcb[_0x5ab35e(0x2c2)](_0x39c4ae=>_0x39c4ae[_0x5ab35e(0x24a)]+'\x20('+round(_0x39c4ae['probability'])+')'),_0x4350c1);_0x454874[_0x5ab35e(0x1f9)](_0x5949d2);});}function isWithFaceLandmarks(_0xb17c54){const _0x16b565=_0x223da0;return isWithFaceDetection(_0xb17c54)&&_0xb17c54[_0x16b565(0x1a5)]instanceof FaceLandmarks&&_0xb17c54[_0x16b565(0x2a8)]instanceof FaceLandmarks&&_0xb17c54[_0x16b565(0x248)]instanceof FaceDetection;}function calculateFaceAngle(_0x8beefd){const _0x23fc07=_0x223da0,_0xd0ca64=(_0xcaa654,_0x35797a,_0x5335ae,_0x4b6999)=>Math[_0x23fc07(0x79)](_0x4b6999-_0x35797a,_0x5335ae-_0xcaa654)%Math['PI'],_0x43afb4=_0x3587d9=>_0x3587d9*0xb4/Math['PI'],_0x2a9e62={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x8beefd||!_0x8beefd['_positions']||_0x8beefd[_0x23fc07(0x1c9)][_0x23fc07(0x1b5)]!==0x44)return _0x2a9e62;const _0x4430f1=_0x8beefd[_0x23fc07(0x1c9)];_0x2a9e62['roll']=-_0xd0ca64(_0x4430f1[0x24]['_x'],_0x4430f1[0x24]['_y'],_0x4430f1[0x2d]['_x'],_0x4430f1[0x2d]['_y']),_0x2a9e62[_0x23fc07(0x188)]=_0xd0ca64(0x0,Math[_0x23fc07(0x138)](_0x4430f1[0x0]['_x']-_0x4430f1[0x1e]['_x'])/_0x4430f1[0x1e]['_x'],Math['PI'],Math[_0x23fc07(0x138)](_0x4430f1[0x10]['_x']-_0x4430f1[0x1e]['_x'])/_0x4430f1[0x1e]['_x']);const _0x29d268=_0x4430f1['reduce']((_0x28d45e,_0x102acc)=>_0x28d45e<_0x102acc['_y']?_0x28d45e:_0x102acc['_y'],Infinity),_0x286c91=_0x4430f1[_0x23fc07(0x2c8)]((_0x1d9662,_0x12058b)=>_0x1d9662>_0x12058b['_y']?_0x1d9662:_0x12058b['_y'],-Infinity);return _0x2a9e62[_0x23fc07(0x2d3)]=Math['PI']*(_0x8beefd[_0x23fc07(0x2c3)]['_height']/(_0x286c91-_0x29d268)/1.4-0x1),_0x2a9e62;}function extendWithFaceLandmarks(_0x541c6f,_0x4ad8dd){const _0x2a556c=_0x223da0,{box:_0x43dc00}=_0x541c6f[_0x2a556c(0xd4)],_0x525994=_0x4ad8dd[_0x2a556c(0x2aa)](_0x43dc00['x'],_0x43dc00['y']),_0x283476=_0x525994['align'](),{imageDims:_0x2e4458}=_0x541c6f[_0x2a556c(0xd4)],_0x4288df=new FaceDetection(_0x541c6f['detection'][_0x2a556c(0x296)],_0x283476[_0x2a556c(0x2ad)](_0x2e4458[_0x2a556c(0x1ad)]()),_0x2e4458),_0x373c80=calculateFaceAngle(_0x4ad8dd),_0x3845f5={'landmarks':_0x525994,'unshiftedLandmarks':_0x4ad8dd,'alignedRect':_0x4288df,'angle':_0x373c80};return{..._0x541c6f,..._0x3845f5};}var DrawFaceLandmarksOptions=class{constructor(_0x286d4b={}){const _0x130be3=_0x223da0,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0x546785,lineColor:_0x3f2bbc,pointSize:_0x9ba074,pointColor:_0x3d127b}=_0x286d4b;this[_0x130be3(0x81)]=drawLines,this[_0x130be3(0x2b1)]=drawPoints,this['lineWidth']=_0x546785||0x1,this['pointSize']=_0x9ba074||0x2,this[_0x130be3(0xc6)]=_0x3f2bbc||_0x130be3(0x266),this['pointColor']=_0x3d127b||_0x130be3(0x1d6);}},DrawFaceLandmarks=class{constructor(_0x24aafc,_0x3ba825={}){const _0x4cc70d=_0x223da0;this[_0x4cc70d(0x11b)]=_0x24aafc,this['options']=new DrawFaceLandmarksOptions(_0x3ba825);}[_0x223da0(0x1f9)](_0x45ae75){const _0x276bc5=_0x223da0,_0x534bd7=getContext2dOrThrow(_0x45ae75),{drawLines:_0x58d2bc,drawPoints:_0x4488f0,lineWidth:_0xb670fc,lineColor:_0x5626e2,pointSize:_0x5a9176,pointColor:_0x182d61}=this[_0x276bc5(0x1f8)];_0x58d2bc&&this[_0x276bc5(0x11b)]instanceof FaceLandmarks68&&(_0x534bd7[_0x276bc5(0x105)]=_0x5626e2,_0x534bd7[_0x276bc5(0x288)]=_0xb670fc,drawContour(_0x534bd7,this[_0x276bc5(0x11b)][_0x276bc5(0x1e8)]()),drawContour(_0x534bd7,this[_0x276bc5(0x11b)]['getLeftEyeBrow']()),drawContour(_0x534bd7,this[_0x276bc5(0x11b)]['getRightEyeBrow']()),drawContour(_0x534bd7,this[_0x276bc5(0x11b)][_0x276bc5(0x1c7)]()),drawContour(_0x534bd7,this[_0x276bc5(0x11b)][_0x276bc5(0x201)](),!![]),drawContour(_0x534bd7,this[_0x276bc5(0x11b)][_0x276bc5(0x17e)](),!![]),drawContour(_0x534bd7,this[_0x276bc5(0x11b)][_0x276bc5(0x2cc)](),!![]));if(_0x4488f0){_0x534bd7[_0x276bc5(0x105)]=_0x182d61,_0x534bd7[_0x276bc5(0x298)]=_0x182d61;const _0x4d4a93=_0x4e2139=>{const _0x35be9a=_0x276bc5;_0x534bd7[_0x35be9a(0x11e)](),_0x534bd7[_0x35be9a(0x22f)](_0x4e2139['x'],_0x4e2139['y'],_0x5a9176,0x0,0x2*Math['PI']),_0x534bd7[_0x35be9a(0xba)]();};this[_0x276bc5(0x11b)][_0x276bc5(0x18f)]['forEach'](_0x4d4a93);}}};function drawFaceLandmarks(_0x29cd73,_0x166414){const _0x265166=_0x223da0,_0x5bb63d=Array['isArray'](_0x166414)?_0x166414:[_0x166414];_0x5bb63d[_0x265166(0x19b)](_0x4d0954=>{const _0x263e60=_0x265166,_0x5ec1f0=_0x4d0954 instanceof FaceLandmarks?_0x4d0954:isWithFaceLandmarks(_0x4d0954)?_0x4d0954[_0x263e60(0x1a5)]:void 0x0;if(!_0x5ec1f0)throw new Error('drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof');new DrawFaceLandmarks(_0x5ec1f0)['draw'](_0x29cd73);});}var version=_0x223da0(0x2a7),tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x4a7c96,_0x37711c){const _0x211bab=extractConvParamsFactory(_0x4a7c96,_0x37711c),_0x1932f3=extractSeparableConvParamsFactory(_0x4a7c96,_0x37711c);function _0x5aa6eb(_0xfafb4c,_0x3bad12,_0x1501d2){const _0x114e84=_0x21d7,_0x42c10f=_0x1932f3(_0xfafb4c,_0x3bad12,_0x1501d2+_0x114e84(0x192)),_0x1842ea=_0x1932f3(_0x3bad12,_0x3bad12,_0x1501d2+_0x114e84(0x132)),_0x5480cd=_0x211bab(_0xfafb4c,_0x3bad12,0x1,_0x1501d2+_0x114e84(0xf0));return{'separable_conv0':_0x42c10f,'separable_conv1':_0x1842ea,'expansion_conv':_0x5480cd};}function _0x9945a5(_0x2cc79d,_0xa9ee0c){const _0x2e2459=_0x21d7,_0x310e02=_0x1932f3(_0x2cc79d,_0x2cc79d,_0xa9ee0c+_0x2e2459(0x192)),_0x515876=_0x1932f3(_0x2cc79d,_0x2cc79d,_0xa9ee0c+'/separable_conv1'),_0x211c22=_0x1932f3(_0x2cc79d,_0x2cc79d,_0xa9ee0c+_0x2e2459(0x1eb));return{'separable_conv0':_0x310e02,'separable_conv1':_0x515876,'separable_conv2':_0x211c22};}return{'extractConvParams':_0x211bab,'extractSeparableConvParams':_0x1932f3,'extractReductionBlockParams':_0x5aa6eb,'extractMainBlockParams':_0x9945a5};}function extractParams3(_0x307ad7,_0x3f99f0){const _0x46fecf=_0x223da0,_0x2f08c4=[],{extractWeights:_0x4c9d55,getRemainingWeights:_0x3e0e00}=extractWeightsFactory(_0x307ad7),{extractConvParams:_0xe57b7e,extractSeparableConvParams:_0x1020fd,extractReductionBlockParams:_0x6654f2,extractMainBlockParams:_0x427e8b}=extractorsFactory2(_0x4c9d55,_0x2f08c4),_0x58d9fc=_0xe57b7e(0x3,0x20,0x3,_0x46fecf(0x2cb)),_0x892e9b=_0x6654f2(0x20,0x40,_0x46fecf(0x2fa)),_0x333f1d=_0x6654f2(0x40,0x80,_0x46fecf(0x2f7)),_0x3dfea7={'conv_in':_0x58d9fc,'reduction_block_0':_0x892e9b,'reduction_block_1':_0x333f1d},_0x30d5cf={};range(_0x3f99f0,0x0,0x1)[_0x46fecf(0x19b)](_0x181183=>{const _0x5deb04=_0x46fecf;_0x30d5cf[_0x5deb04(0xce)+_0x181183]=_0x427e8b(0x80,'middle_flow/main_block_'+_0x181183);});const _0x22853c=_0x6654f2(0x80,0x100,'exit_flow/reduction_block'),_0x2cb57d=_0x1020fd(0x100,0x200,_0x46fecf(0x12c)),_0x5d1e4c={'reduction_block':_0x22853c,'separable_conv':_0x2cb57d};if(_0x3e0e00()[_0x46fecf(0x1b5)]!==0x0)throw new Error(_0x46fecf(0x2f8)+_0x3e0e00()[_0x46fecf(0x1b5)]);return{'paramMappings':_0x2f08c4,'params':{'entry_flow':_0x3dfea7,'middle_flow':_0x30d5cf,'exit_flow':_0x5d1e4c}};}function loadParamsFactory2(_0x53ab61,_0x5b428c){const _0x3d3d4f=extractWeightEntryFactory(_0x53ab61,_0x5b428c),_0x247302=loadConvParamsFactory(_0x3d3d4f),_0x44346e=loadSeparableConvParamsFactory(_0x3d3d4f);function _0x5626b0(_0x1fc064){const _0x3f79fb=_0x21d7,_0x5a6242=_0x44346e(_0x1fc064+_0x3f79fb(0x192)),_0x5dc749=_0x44346e(_0x1fc064+'/separable_conv1'),_0x2594ff=_0x247302(_0x1fc064+_0x3f79fb(0xf0));return{'separable_conv0':_0x5a6242,'separable_conv1':_0x5dc749,'expansion_conv':_0x2594ff};}function _0x5aaf63(_0x17ad3e){const _0x548c14=_0x21d7,_0x8e82f9=_0x44346e(_0x17ad3e+_0x548c14(0x192)),_0x19ed64=_0x44346e(_0x17ad3e+_0x548c14(0x132)),_0x13d3a2=_0x44346e(_0x17ad3e+'/separable_conv2');return{'separable_conv0':_0x8e82f9,'separable_conv1':_0x19ed64,'separable_conv2':_0x13d3a2};}return{'extractConvParams':_0x247302,'extractSeparableConvParams':_0x44346e,'extractReductionBlockParams':_0x5626b0,'extractMainBlockParams':_0x5aaf63};}function extractParamsFromWeightMap3(_0x546628,_0x4879e7){const _0x22fdc8=_0x223da0,_0x4628c7=[],{extractConvParams:_0x1ed6ef,extractSeparableConvParams:_0x41496d,extractReductionBlockParams:_0x24c687,extractMainBlockParams:_0x2325cc}=loadParamsFactory2(_0x546628,_0x4628c7),_0x1d093f=_0x1ed6ef(_0x22fdc8(0x2cb)),_0x3e411b=_0x24c687(_0x22fdc8(0x2fa)),_0x50d2c8=_0x24c687(_0x22fdc8(0x2f7)),_0x537a6b={'conv_in':_0x1d093f,'reduction_block_0':_0x3e411b,'reduction_block_1':_0x50d2c8},_0x1f4ea2={};range(_0x4879e7,0x0,0x1)[_0x22fdc8(0x19b)](_0x63cd07=>{const _0x371b63=_0x22fdc8;_0x1f4ea2[_0x371b63(0xce)+_0x63cd07]=_0x2325cc(_0x371b63(0x106)+_0x63cd07);});const _0x3a3902=_0x24c687('exit_flow/reduction_block'),_0xee4186=_0x41496d(_0x22fdc8(0x12c)),_0x2fefde={'reduction_block':_0x3a3902,'separable_conv':_0xee4186};return disposeUnusedWeightTensors(_0x546628,_0x4628c7),{'params':{'entry_flow':_0x537a6b,'middle_flow':_0x1f4ea2,'exit_flow':_0x2fefde},'paramMappings':_0x4628c7};}function conv(_0x379f8e,_0x2b9889,_0x41348c){const _0x4fed80=_0x223da0;return tf19[_0x4fed80(0x204)](tf19['conv2d'](_0x379f8e,_0x2b9889[_0x4fed80(0x1cc)],_0x41348c,_0x4fed80(0xc2)),_0x2b9889[_0x4fed80(0x230)]);}function reductionBlock(_0x5421aa,_0x3e6751,_0x37c905=!![]){const _0x3a55da=_0x223da0;let _0x3789e7=_0x37c905?tf19['relu'](_0x5421aa):_0x5421aa;return _0x3789e7=depthwiseSeparableConv(_0x3789e7,_0x3e6751[_0x3a55da(0x1f3)],[0x1,0x1]),_0x3789e7=depthwiseSeparableConv(tf19['relu'](_0x3789e7),_0x3e6751[_0x3a55da(0x103)],[0x1,0x1]),_0x3789e7=tf19[_0x3a55da(0x21d)](_0x3789e7,[0x3,0x3],[0x2,0x2],_0x3a55da(0xc2)),_0x3789e7=tf19[_0x3a55da(0x204)](_0x3789e7,conv(_0x5421aa,_0x3e6751['expansion_conv'],[0x2,0x2])),_0x3789e7;}function mainBlock(_0x14590c,_0x5bdeb3){const _0x49105b=_0x223da0;let _0x3d2e24=depthwiseSeparableConv(tf19[_0x49105b(0x2dd)](_0x14590c),_0x5bdeb3[_0x49105b(0x1f3)],[0x1,0x1]);return _0x3d2e24=depthwiseSeparableConv(tf19['relu'](_0x3d2e24),_0x5bdeb3[_0x49105b(0x103)],[0x1,0x1]),_0x3d2e24=depthwiseSeparableConv(tf19[_0x49105b(0x2dd)](_0x3d2e24),_0x5bdeb3['separable_conv2'],[0x1,0x1]),_0x3d2e24=tf19[_0x49105b(0x204)](_0x3d2e24,_0x14590c),_0x3d2e24;}var TinyXception=class extends NeuralNetwork{constructor(_0x18fec6){const _0x386a97=_0x223da0;super(_0x386a97(0xff)),this[_0x386a97(0x16a)]=_0x18fec6;}[_0x223da0(0x11a)](_0xbeaaab){const _0x5b70b9=_0x223da0,{params:_0x3fd5b3}=this;if(!_0x3fd5b3)throw new Error('TinyXception\x20-\x20load\x20model\x20before\x20inference');return tf19[_0x5b70b9(0xdc)](()=>{const _0x1c70de=_0x5b70b9,_0x709ab6=tf19['cast'](_0xbeaaab[_0x1c70de(0x136)](0x70,!![]),'float32'),_0x499073=[122.782,117.001,104.298],_0x21a4a2=normalize(_0x709ab6,_0x499073)[_0x1c70de(0x245)](0xff);let _0x1a028d=tf19[_0x1c70de(0x2dd)](conv(_0x21a4a2,_0x3fd5b3[_0x1c70de(0x21a)][_0x1c70de(0x269)],[0x2,0x2]));return _0x1a028d=reductionBlock(_0x1a028d,_0x3fd5b3[_0x1c70de(0x21a)][_0x1c70de(0xee)],![]),_0x1a028d=reductionBlock(_0x1a028d,_0x3fd5b3[_0x1c70de(0x21a)]['reduction_block_1']),range(this[_0x1c70de(0x16a)],0x0,0x1)[_0x1c70de(0x19b)](_0x1a650c=>{const _0x312403=_0x1c70de;_0x1a028d=mainBlock(_0x1a028d,_0x3fd5b3[_0x312403(0x2a1)]['main_block_'+_0x1a650c]);}),_0x1a028d=reductionBlock(_0x1a028d,_0x3fd5b3[_0x1c70de(0xc3)][_0x1c70de(0x281)]),_0x1a028d=tf19['relu'](depthwiseSeparableConv(_0x1a028d,_0x3fd5b3[_0x1c70de(0xc3)][_0x1c70de(0x2bc)],[0x1,0x1])),_0x1a028d;});}async['forward'](_0x54856d){const _0x24f7c5=_0x223da0;return this[_0x24f7c5(0x11a)](await toNetInput(_0x54856d));}[_0x223da0(0x169)](){const _0x1bb9ce=_0x223da0;return _0x1bb9ce(0x1b2);}[_0x223da0(0x8f)](_0x1ed362){const _0x5d9b7d=_0x223da0;return extractParamsFromWeightMap3(_0x1ed362,this[_0x5d9b7d(0x16a)]);}['extractParams'](_0x54414e){const _0x4ff160=_0x223da0;return extractParams3(_0x54414e,this[_0x4ff160(0x16a)]);}};function extractParams4(_0x4683ce){const _0x197c6b=_0x223da0,_0x40a3e4=[],{extractWeights:_0x315087,getRemainingWeights:_0xf7b60e}=extractWeightsFactory(_0x4683ce),_0x1b3a2c=extractFCParamsFactory(_0x315087,_0x40a3e4),_0x46df41=_0x1b3a2c(0x200,0x1,_0x197c6b(0x1e2)),_0xd9b15c=_0x1b3a2c(0x200,0x2,_0x197c6b(0x126));if(_0xf7b60e()['length']!==0x0)throw new Error(_0x197c6b(0x2f8)+_0xf7b60e()[_0x197c6b(0x1b5)]);return{'paramMappings':_0x40a3e4,'params':{'fc':{'age':_0x46df41,'gender':_0xd9b15c}}};}function extractParamsFromWeightMap4(_0x18d617){const _0x26bd4e=_0x223da0,_0x22d3d2=[],_0x45ae13=extractWeightEntryFactory(_0x18d617,_0x22d3d2);function _0x51b9a3(_0x3ca22d){const _0x4e5a9=_0x21d7,_0xe18ccf=_0x45ae13(_0x3ca22d+_0x4e5a9(0xe4),0x2),_0x2996a3=_0x45ae13(_0x3ca22d+_0x4e5a9(0x26d),0x1);return{'weights':_0xe18ccf,'bias':_0x2996a3};}const _0x147442={'fc':{'age':_0x51b9a3(_0x26bd4e(0x1e2)),'gender':_0x51b9a3('fc/gender')}};return disposeUnusedWeightTensors(_0x18d617,_0x22d3d2),{'params':_0x147442,'paramMappings':_0x22d3d2};}var Gender=(_0x536eec=>{const _0x494cc1=_0x223da0;return _0x536eec['FEMALE']=_0x494cc1(0x2c0),_0x536eec['MALE']='male',_0x536eec;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x493f3f=new TinyXception(0x2)){const _0x1259e2=_0x223da0;super(_0x1259e2(0x20b)),this['_faceFeatureExtractor']=_0x493f3f;}get[_0x223da0(0x23f)](){const _0x1d3965=_0x223da0;return this[_0x1d3965(0x139)];}[_0x223da0(0xb3)](_0x45064f){const _0x2be17d=_0x223da0,{params:_0x5cf9ee}=this;if(!_0x5cf9ee)throw new Error(this[_0x2be17d(0x238)]+_0x2be17d(0x1aa));return tf20[_0x2be17d(0xdc)](()=>{const _0xde7675=_0x2be17d,_0x11e8af=_0x45064f instanceof NetInput?this['faceFeatureExtractor']['forwardInput'](_0x45064f):_0x45064f,_0x20f993=tf20['avgPool'](_0x11e8af,[0x7,0x7],[0x2,0x2],_0xde7675(0x228))[_0xde7675(0xe5)](_0x11e8af[_0xde7675(0x2a9)][0x0],-0x1),_0x503b0d=fullyConnectedLayer(_0x20f993,_0x5cf9ee['fc']['age'])['as1D'](),_0x226614=fullyConnectedLayer(_0x20f993,_0x5cf9ee['fc']['gender']);return{'age':_0x503b0d,'gender':_0x226614};});}[_0x223da0(0x11a)](_0x7a4054){const _0x4f0b74=_0x223da0;return tf20[_0x4f0b74(0xdc)](()=>{const _0x19af4a=_0x4f0b74,{age:_0x335036,gender:_0x154d20}=this['runNet'](_0x7a4054);return{'age':_0x335036,'gender':tf20[_0x19af4a(0x171)](_0x154d20)};});}async['forward'](_0x59f9e5){return this['forwardInput'](await toNetInput(_0x59f9e5));}async[_0x223da0(0x2c7)](_0x350882){const _0x41f1e3=_0x223da0,_0x5a54bf=await toNetInput(_0x350882),_0x5a36e9=await this[_0x41f1e3(0x11a)](_0x5a54bf),_0x517b93=tf20[_0x41f1e3(0x185)](_0x5a36e9[_0x41f1e3(0x258)]),_0x5e8e0a=tf20[_0x41f1e3(0x185)](_0x5a36e9[_0x41f1e3(0x279)]),_0x364736=_0x517b93[_0x41f1e3(0x2c2)]((_0x12c275,_0x3b8927)=>({'ageTensor':_0x12c275,'genderTensor':_0x5e8e0a[_0x3b8927]})),_0x36a9c1=await Promise['all'](_0x364736['map'](async({ageTensor:_0x2412b8,genderTensor:_0x44c544})=>{const _0xc96cf4=_0x41f1e3,_0x4034df=_0x2412b8['dataSync']()[0x0],_0xacc8e5=_0x44c544[_0xc96cf4(0xf7)]()[0x0],_0x1f1190=_0xacc8e5>0.5,_0x1df7c1=_0x1f1190?'male':'female',_0x33539a=_0x1f1190?_0xacc8e5:0x1-_0xacc8e5;return _0x2412b8[_0xc96cf4(0x224)](),_0x44c544[_0xc96cf4(0x224)](),{'age':_0x4034df,'gender':_0x1df7c1,'genderProbability':_0x33539a};}));return _0x5a36e9[_0x41f1e3(0x258)]['dispose'](),_0x5a36e9['gender'][_0x41f1e3(0x224)](),_0x5a54bf['isBatchInput']?_0x36a9c1:_0x36a9c1[0x0];}[_0x223da0(0x169)](){return'age_gender_model';}[_0x223da0(0x224)](_0x4c4714=!![]){const _0x1d4ba2=_0x223da0;this[_0x1d4ba2(0x23f)][_0x1d4ba2(0x224)](_0x4c4714),super[_0x1d4ba2(0x224)](_0x4c4714);}['loadClassifierParams'](_0x5baa88){const _0x282d75=_0x223da0,{params:_0x577ab7,paramMappings:_0x496423}=this[_0x282d75(0x290)](_0x5baa88);this[_0x282d75(0x12e)]=_0x577ab7,this[_0x282d75(0x135)]=_0x496423;}[_0x223da0(0x290)](_0x35b52d){return extractParams4(_0x35b52d);}[_0x223da0(0x8f)](_0x48e431){const _0x4b052a=_0x223da0,{featureExtractorMap:_0x48f137,classifierMap:_0x5f02c3}=seperateWeightMaps(_0x48e431);return this[_0x4b052a(0x23f)][_0x4b052a(0x12d)](_0x48f137),extractParamsFromWeightMap4(_0x5f02c3);}[_0x223da0(0x24d)](_0x312ead){const _0x1d4ba8=_0x223da0,_0x298187=0x200*0x1+0x1+(0x200*0x2+0x2),_0x11e30f=_0x312ead['slice'](0x0,_0x312ead[_0x1d4ba8(0x1b5)]-_0x298187),_0x4eedcc=_0x312ead['slice'](_0x312ead[_0x1d4ba8(0x1b5)]-_0x298187);return this['faceFeatureExtractor'][_0x1d4ba8(0x278)](_0x11e30f),this['extractClassifierParams'](_0x4eedcc);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{[_0x223da0(0xa0)](_0x2fd9c2,_0x426386,_0x4fc66c){const _0x382098=_0x223da0,_0x4a6add=_0x4fc66c[_0x382098(0x2c2)](({width:_0x2711ef,height:_0x56f2e5})=>{const _0x12439a=_0x426386/Math['max'](_0x56f2e5,_0x2711ef);return{'width':_0x2711ef*_0x12439a,'height':_0x56f2e5*_0x12439a};}),_0xea5c84=_0x4a6add[_0x382098(0x1b5)];return tf21['tidy'](()=>{const _0x4e4d5c=_0x382098,_0x2083f8=(_0x4563d3,_0x1aa1e6)=>tf21[_0x4e4d5c(0x2f3)]([tf21[_0x4e4d5c(0xba)]([0x44],_0x4563d3,_0x4e4d5c(0x83)),tf21[_0x4e4d5c(0xba)]([0x44],_0x1aa1e6,'float32')],0x1)[_0x4e4d5c(0xe5)](0x1,0x88)['as1D'](),_0x19b0f1=(_0x816ad8,_0x4cabd0)=>{const _0x2da67d=_0x4e4d5c,{width:_0xe8b797,height:_0x45f832}=_0x4a6add[_0x816ad8];return _0x4cabd0(_0xe8b797,_0x45f832)?Math[_0x2da67d(0x138)](_0xe8b797-_0x45f832)/0x2:0x0;},_0x99cb24=_0xa072c0=>_0x19b0f1(_0xa072c0,(_0x339a74,_0x59f199)=>_0x339a74<_0x59f199),_0x20ae89=_0x72bf09=>_0x19b0f1(_0x72bf09,(_0x30e66a,_0x569aeb)=>_0x569aeb<_0x30e66a),_0x220185=_0x2fd9c2[_0x4e4d5c(0x2bb)](tf21[_0x4e4d5c(0xba)]([_0xea5c84,0x88],_0x426386,_0x4e4d5c(0x83)))['sub'](tf21[_0x4e4d5c(0x2f3)](Array[_0x4e4d5c(0xed)](Array(_0xea5c84),(_0x49b45a,_0x5a7f03)=>_0x2083f8(_0x99cb24(_0x5a7f03),_0x20ae89(_0x5a7f03)))))[_0x4e4d5c(0x245)](tf21[_0x4e4d5c(0x2f3)](Array[_0x4e4d5c(0xed)](Array(_0xea5c84),(_0x56c441,_0x749220)=>_0x2083f8(_0x4a6add[_0x749220]['width'],_0x4a6add[_0x749220][_0x4e4d5c(0x193)]))));return _0x220185;});}[_0x223da0(0x11a)](_0x42f0db){const _0x26a4c0=_0x223da0;return tf21[_0x26a4c0(0xdc)](()=>{const _0xe67077=_0x26a4c0,_0x2b7989=this['runNet'](_0x42f0db);return this[_0xe67077(0xa0)](_0x2b7989,_0x42f0db[_0xe67077(0x13a)],_0x42f0db[_0xe67077(0x1e1)][_0xe67077(0x2c2)](([_0x5c0c03,_0x848f8b])=>({'height':_0x5c0c03,'width':_0x848f8b})));});}async['forward'](_0x425790){const _0x30434b=_0x223da0;return this[_0x30434b(0x11a)](await toNetInput(_0x425790));}async['detectLandmarks'](_0x56d420){const _0x45d9a3=_0x223da0,_0x5744d1=await toNetInput(_0x56d420),_0x2ef65a=tf21[_0x45d9a3(0xdc)](()=>tf21['unstack'](this[_0x45d9a3(0x11a)](_0x5744d1))),_0x2c42db=await Promise[_0x45d9a3(0xa2)](_0x2ef65a[_0x45d9a3(0x2c2)](async(_0x5bb544,_0x4512b6)=>{const _0xb1d380=_0x45d9a3,_0x21e45d=Array[_0xb1d380(0xed)](_0x5bb544[_0xb1d380(0xf7)]()),_0x1eb14d=_0x21e45d[_0xb1d380(0x213)]((_0x9e1fd6,_0x25752b)=>isEven(_0x25752b)),_0x5dd9cd=_0x21e45d[_0xb1d380(0x213)]((_0x23dec0,_0x29cfc9)=>!isEven(_0x29cfc9));return new FaceLandmarks68(Array(0x44)[_0xb1d380(0xba)](0x0)[_0xb1d380(0x2c2)]((_0x576d59,_0x23dbb8)=>new Point(_0x1eb14d[_0x23dbb8],_0x5dd9cd[_0x23dbb8])),{'height':_0x5744d1['getInputHeight'](_0x4512b6),'width':_0x5744d1[_0xb1d380(0xef)](_0x4512b6)});}));return _0x2ef65a[_0x45d9a3(0x19b)](_0x3e371a=>_0x3e371a['dispose']()),_0x5744d1[_0x45d9a3(0xca)]?_0x2c42db:_0x2c42db[0x0];}[_0x223da0(0x28e)](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x17baa3=new FaceFeatureExtractor()){const _0x41ce32=_0x223da0;super(_0x41ce32(0x8d),_0x17baa3);}['getDefaultModelName'](){const _0x5a5082=_0x223da0;return _0x5a5082(0x28b);}['getClassifierChannelsIn'](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0x399ba9){const _0x133eab=_0x223da0,_0x484831=[],{extractDenseBlock3Params:_0x21b977}=loadParamsFactory(_0x399ba9,_0x484831),_0x114fcc={'dense0':_0x21b977('dense0',!![]),'dense1':_0x21b977(_0x133eab(0xfc)),'dense2':_0x21b977(_0x133eab(0x21c))};return disposeUnusedWeightTensors(_0x399ba9,_0x484831),{'params':_0x114fcc,'paramMappings':_0x484831};}function extractParamsTiny(_0x5ba83d){const _0x9f1396=_0x223da0,_0x5bedab=[],{extractWeights:_0x4f2f84,getRemainingWeights:_0x368267}=extractWeightsFactory(_0x5ba83d),{extractDenseBlock3Params:_0x2b8af4}=extractorsFactory(_0x4f2f84,_0x5bedab),_0x23c84f=_0x2b8af4(0x3,0x20,'dense0',!![]),_0x525d92=_0x2b8af4(0x20,0x40,_0x9f1396(0xfc)),_0x1fd413=_0x2b8af4(0x40,0x80,_0x9f1396(0x21c));if(_0x368267()[_0x9f1396(0x1b5)]!==0x0)throw new Error(_0x9f1396(0x2f8)+_0x368267()[_0x9f1396(0x1b5)]);return{'paramMappings':_0x5bedab,'params':{'dense0':_0x23c84f,'dense1':_0x525d92,'dense2':_0x1fd413}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){super('TinyFaceFeatureExtractor');}[_0x223da0(0x11a)](_0x14858b){const _0x335457=_0x223da0,{params:_0x2253f9}=this;if(!_0x2253f9)throw new Error(_0x335457(0x154));return tf22['tidy'](()=>{const _0x30e895=_0x335457,_0x6ee3c6=tf22['cast'](_0x14858b[_0x30e895(0x136)](0x70,!![]),_0x30e895(0x83)),_0x125698=[122.782,117.001,104.298],_0x141328=normalize(_0x6ee3c6,_0x125698)[_0x30e895(0x245)](0xff);let _0x3078cf=denseBlock3(_0x141328,_0x2253f9[_0x30e895(0x28d)],!![]);return _0x3078cf=denseBlock3(_0x3078cf,_0x2253f9[_0x30e895(0xfc)]),_0x3078cf=denseBlock3(_0x3078cf,_0x2253f9['dense2']),_0x3078cf=tf22['avgPool'](_0x3078cf,[0xe,0xe],[0x2,0x2],_0x30e895(0x228)),_0x3078cf;});}async[_0x223da0(0x155)](_0x166513){return this['forwardInput'](await toNetInput(_0x166513));}['getDefaultModelName'](){const _0x448c25=_0x223da0;return _0x448c25(0x207);}[_0x223da0(0x8f)](_0x1336c9){return extractParamsFromWeightMapTiny(_0x1336c9);}[_0x223da0(0x24d)](_0x2f5dfd){return extractParamsTiny(_0x2f5dfd);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x40cbd0=new TinyFaceFeatureExtractor()){const _0x3da226=_0x223da0;super(_0x3da226(0xb2),_0x40cbd0);}[_0x223da0(0x169)](){const _0xbaedaa=_0x223da0;return _0xbaedaa(0xd9);}[_0x223da0(0xa9)](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x3e50db,_0x5a7832){const _0x29573d=_0x223da0;return tf23['add'](tf23[_0x29573d(0x2bb)](_0x3e50db,_0x5a7832[_0x29573d(0x137)]),_0x5a7832[_0x29573d(0x1d7)]);}function convLayer2(_0x3134f5,_0x2ea3b8,_0x2a8331,_0x197e75,_0x552f76='same'){const _0x4f8d41=_0x223da0,{filters:_0xce23e5,bias:_0x4bb401}=_0x2ea3b8[_0x4f8d41(0x181)];let _0x39230c=tf24[_0x4f8d41(0x241)](_0x3134f5,_0xce23e5,_0x2a8331,_0x552f76);return _0x39230c=tf24['add'](_0x39230c,_0x4bb401),_0x39230c=scale(_0x39230c,_0x2ea3b8[_0x4f8d41(0x160)]),_0x197e75?tf24[_0x4f8d41(0x2dd)](_0x39230c):_0x39230c;}function conv2(_0x12c5b6,_0x5f3066){return convLayer2(_0x12c5b6,_0x5f3066,[0x1,0x1],!![]);}function convNoRelu(_0x38d250,_0x2abf77){return convLayer2(_0x38d250,_0x2abf77,[0x1,0x1],![]);}function convDown(_0x293c39,_0x26b5a3){return convLayer2(_0x293c39,_0x26b5a3,[0x2,0x2],!![],'valid');}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x244b0d,_0x2c6662){function _0x33aeff(_0x1dae25,_0x64dd8c,_0x52c8d1){const _0x5061f7=_0x21d7,_0x242098=_0x244b0d(_0x1dae25),_0x47da15=_0x242098[_0x5061f7(0x1b5)]/(_0x64dd8c*_0x52c8d1*_0x52c8d1);if(isFloat(_0x47da15))throw new Error(_0x5061f7(0xf3)+_0x47da15+_0x5061f7(0x260)+_0x242098[_0x5061f7(0x1b5)]+_0x5061f7(0x18b)+_0x64dd8c+_0x5061f7(0x174)+_0x52c8d1);return tf25[_0x5061f7(0xdc)](()=>tf25[_0x5061f7(0x102)](tf25[_0x5061f7(0x272)](_0x242098,[_0x64dd8c,_0x47da15,_0x52c8d1,_0x52c8d1]),[0x2,0x3,0x1,0x0]));}function _0x1ce814(_0x51eccb,_0x1eeb97,_0x3618c0,_0xf50951){const _0x443038=_0x21d7,_0x45a24a=_0x33aeff(_0x51eccb,_0x1eeb97,_0x3618c0),_0xaa0ad7=tf25[_0x443038(0x2d8)](_0x244b0d(_0x1eeb97));return _0x2c6662[_0x443038(0x159)]({'paramPath':_0xf50951+_0x443038(0x22c)},{'paramPath':_0xf50951+_0x443038(0x26d)}),{'filters':_0x45a24a,'bias':_0xaa0ad7};}function _0x553ddd(_0x4fddca,_0x1ee346){const _0x2bfefb=_0x21d7,_0x182255=tf25['tensor1d'](_0x244b0d(_0x4fddca)),_0x40c9f7=tf25[_0x2bfefb(0x2d8)](_0x244b0d(_0x4fddca));return _0x2c6662[_0x2bfefb(0x159)]({'paramPath':_0x1ee346+'/weights'},{'paramPath':_0x1ee346+_0x2bfefb(0x2d7)}),{'weights':_0x182255,'biases':_0x40c9f7};}function _0x2563c7(_0x639b6,_0x35a8b9,_0x10df6,_0x579a08){const _0x4ff5f8=_0x21d7,_0xc35c18=_0x1ce814(_0x639b6,_0x35a8b9,_0x10df6,_0x579a08+_0x4ff5f8(0xcb)),_0x318f22=_0x553ddd(_0x35a8b9,_0x579a08+_0x4ff5f8(0xf2));return{'conv':_0xc35c18,'scale':_0x318f22};}function _0x31dd51(_0x6976bd,_0x51762e,_0xc2ecfa,_0x4bcdcd,_0x3c6160=![]){const _0x575100=_0x21d7,_0x4fdb6c=_0x2563c7((_0x3c6160?0.5:0x1)*_0x6976bd,_0x51762e,_0xc2ecfa,_0x4bcdcd+_0x575100(0x291)),_0x5b0bcb=_0x2563c7(_0x6976bd,_0x51762e,_0xc2ecfa,_0x4bcdcd+_0x575100(0x2dc));return{'conv1':_0x4fdb6c,'conv2':_0x5b0bcb};}return{'extractConvLayerParams':_0x2563c7,'extractResidualLayerParams':_0x31dd51};}function extractParams5(_0x2503b8){const _0x274a2b=_0x223da0,{extractWeights:_0x517131,getRemainingWeights:_0x435ee3}=extractWeightsFactory(_0x2503b8),_0xebc1c2=[],{extractConvLayerParams:_0x566dd6,extractResidualLayerParams:_0x174e83}=extractorsFactory3(_0x517131,_0xebc1c2),_0x3c60e8=_0x566dd6(0x1260,0x20,0x7,_0x274a2b(0xec)),_0x48c5ec=_0x174e83(0x2400,0x20,0x3,_0x274a2b(0x24e)),_0x344a89=_0x174e83(0x2400,0x20,0x3,_0x274a2b(0x177)),_0x5ecb15=_0x174e83(0x2400,0x20,0x3,'conv32_3'),_0x2e6565=_0x174e83(0x9000,0x40,0x3,_0x274a2b(0x259),!![]),_0x2ddbce=_0x174e83(0x9000,0x40,0x3,_0x274a2b(0x9f)),_0x35da7f=_0x174e83(0x9000,0x40,0x3,'conv64_2'),_0x4a2e73=_0x174e83(0x9000,0x40,0x3,_0x274a2b(0x1bb)),_0x26ce58=_0x174e83(0x24000,0x80,0x3,_0x274a2b(0x2e5),!![]),_0x578146=_0x174e83(0x24000,0x80,0x3,_0x274a2b(0x111)),_0x4af05d=_0x174e83(0x24000,0x80,0x3,_0x274a2b(0x1ab)),_0x313f8a=_0x174e83(0x90000,0x100,0x3,_0x274a2b(0x1ea),!![]),_0x2924c4=_0x174e83(0x90000,0x100,0x3,_0x274a2b(0xb0)),_0x49207e=_0x174e83(0x90000,0x100,0x3,_0x274a2b(0xa7)),_0x2edfd3=_0x174e83(0x90000,0x100,0x3,_0x274a2b(0x1b9)),_0x226c1d=tf25[_0x274a2b(0xdc)](()=>tf25[_0x274a2b(0x102)](tf25[_0x274a2b(0x257)](_0x517131(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0xebc1c2[_0x274a2b(0x159)]({'paramPath':'fc'});if(_0x435ee3()[_0x274a2b(0x1b5)]!==0x0)throw new Error(_0x274a2b(0x2f8)+_0x435ee3()['length']);const _0x171b39={'conv32_down':_0x3c60e8,'conv32_1':_0x48c5ec,'conv32_2':_0x344a89,'conv32_3':_0x5ecb15,'conv64_down':_0x2e6565,'conv64_1':_0x2ddbce,'conv64_2':_0x35da7f,'conv64_3':_0x4a2e73,'conv128_down':_0x26ce58,'conv128_1':_0x578146,'conv128_2':_0x4af05d,'conv256_down':_0x313f8a,'conv256_1':_0x2924c4,'conv256_2':_0x49207e,'conv256_down_out':_0x2edfd3,'fc':_0x226c1d};return{'params':_0x171b39,'paramMappings':_0xebc1c2};}function extractorsFactory4(_0x3a8f74,_0x258eef){const _0x1415bb=extractWeightEntryFactory(_0x3a8f74,_0x258eef);function _0x59e572(_0x59e595){const _0x2d6cd3=_0x21d7,_0x2381f8=_0x1415bb(_0x59e595+_0x2d6cd3(0x295),0x1),_0x311f0f=_0x1415bb(_0x59e595+_0x2d6cd3(0x123),0x1);return{'weights':_0x2381f8,'biases':_0x311f0f};}function _0x5f2d5c(_0x12e953){const _0x70c22e=_0x21d7,_0x3ea475=_0x1415bb(_0x12e953+'/conv/filters',0x4),_0x2640ea=_0x1415bb(_0x12e953+_0x70c22e(0x2f4),0x1),_0x40a9b1=_0x59e572(_0x12e953);return{'conv':{'filters':_0x3ea475,'bias':_0x2640ea},'scale':_0x40a9b1};}function _0x4566a8(_0x5bb365){const _0x2adf48=_0x21d7;return{'conv1':_0x5f2d5c(_0x5bb365+_0x2adf48(0x291)),'conv2':_0x5f2d5c(_0x5bb365+_0x2adf48(0x2dc))};}return{'extractConvLayerParams':_0x5f2d5c,'extractResidualLayerParams':_0x4566a8};}function extractParamsFromWeightMap5(_0x3297eb){const _0x30f433=_0x223da0,_0x216f62=[],{extractConvLayerParams:_0x939b44,extractResidualLayerParams:_0x1900a3}=extractorsFactory4(_0x3297eb,_0x216f62),_0x579707=_0x939b44(_0x30f433(0xec)),_0x111fb8=_0x1900a3(_0x30f433(0x24e)),_0x442a9a=_0x1900a3(_0x30f433(0x177)),_0xb5e8fb=_0x1900a3(_0x30f433(0x20d)),_0xafa635=_0x1900a3(_0x30f433(0x259)),_0x3d1b3b=_0x1900a3(_0x30f433(0x9f)),_0x23cf51=_0x1900a3(_0x30f433(0x29f)),_0x2a4070=_0x1900a3(_0x30f433(0x1bb)),_0x250a37=_0x1900a3(_0x30f433(0x2e5)),_0x5e83f0=_0x1900a3(_0x30f433(0x111)),_0x48242f=_0x1900a3(_0x30f433(0x1ab)),_0x2c359c=_0x1900a3(_0x30f433(0x1ea)),_0x54f5c0=_0x1900a3(_0x30f433(0xb0)),_0x46afce=_0x1900a3(_0x30f433(0xa7)),_0x508505=_0x1900a3(_0x30f433(0x1b9)),{fc:_0x54eeab}=_0x3297eb;_0x216f62[_0x30f433(0x159)]({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x54eeab))throw new Error('expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20'+_0x54eeab);const _0x4f305d={'conv32_down':_0x579707,'conv32_1':_0x111fb8,'conv32_2':_0x442a9a,'conv32_3':_0xb5e8fb,'conv64_down':_0xafa635,'conv64_1':_0x3d1b3b,'conv64_2':_0x23cf51,'conv64_3':_0x2a4070,'conv128_down':_0x250a37,'conv128_1':_0x5e83f0,'conv128_2':_0x48242f,'conv256_down':_0x2c359c,'conv256_1':_0x54f5c0,'conv256_2':_0x46afce,'conv256_down_out':_0x508505,'fc':_0x54eeab};return disposeUnusedWeightTensors(_0x3297eb,_0x216f62),{'params':_0x4f305d,'paramMappings':_0x216f62};}var tf26=__toESM(require_tfjs_esm());function residual(_0x3a2688,_0x5a9e10){const _0x390f07=_0x223da0;let _0x28315e=conv2(_0x3a2688,_0x5a9e10[_0x390f07(0x287)]);return _0x28315e=convNoRelu(_0x28315e,_0x5a9e10[_0x390f07(0x133)]),_0x28315e=tf26[_0x390f07(0x204)](_0x28315e,_0x3a2688),_0x28315e=tf26[_0x390f07(0x2dd)](_0x28315e),_0x28315e;}function residualDown(_0x5584f5,_0x5b123b){const _0x284bcc=_0x223da0;let _0x3de281=convDown(_0x5584f5,_0x5b123b[_0x284bcc(0x287)]);_0x3de281=convNoRelu(_0x3de281,_0x5b123b[_0x284bcc(0x133)]);let _0x260268=tf26[_0x284bcc(0x13f)](_0x5584f5,0x2,0x2,_0x284bcc(0x228));const _0x119f3c=tf26[_0x284bcc(0x114)](_0x260268['shape']),_0x10b628=_0x260268['shape'][0x3]!==_0x3de281[_0x284bcc(0x2a9)][0x3],_0x3e8bd1=_0x260268[_0x284bcc(0x2a9)][0x1]!==_0x3de281[_0x284bcc(0x2a9)][0x1]||_0x260268[_0x284bcc(0x2a9)][0x2]!==_0x3de281[_0x284bcc(0x2a9)][0x2];if(_0x3e8bd1){const _0x2a022a=[..._0x3de281[_0x284bcc(0x2a9)]];_0x2a022a[0x1]=0x1;const _0x253703=tf26[_0x284bcc(0x114)](_0x2a022a);_0x3de281=tf26['concat']([_0x3de281,_0x253703],0x1);const _0x417ae5=[..._0x3de281[_0x284bcc(0x2a9)]];_0x417ae5[0x2]=0x1;const _0x478633=tf26[_0x284bcc(0x114)](_0x417ae5);_0x3de281=tf26[_0x284bcc(0x7f)]([_0x3de281,_0x478633],0x2);}return _0x260268=_0x10b628?tf26[_0x284bcc(0x7f)]([_0x260268,_0x119f3c],0x3):_0x260268,_0x3de281=tf26['add'](_0x260268,_0x3de281),_0x3de281=tf26[_0x284bcc(0x2dd)](_0x3de281),_0x3de281;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){const _0x33e3a5=_0x223da0;super(_0x33e3a5(0x13e));}['forwardInput'](_0xda92b1){const _0x4fb961=_0x223da0,{params:_0x2534e1}=this;if(!_0x2534e1)throw new Error(_0x4fb961(0x199));return tf27['tidy'](()=>{const _0x3eaa09=_0x4fb961,_0x4a878f=tf27['cast'](_0xda92b1[_0x3eaa09(0x136)](0x96,!![]),_0x3eaa09(0x83)),_0x1348c3=[122.782,117.001,104.298],_0x5313f6=normalize(_0x4a878f,_0x1348c3)[_0x3eaa09(0x245)](0xff);let _0x46b92e=convDown(_0x5313f6,_0x2534e1[_0x3eaa09(0xec)]);_0x46b92e=tf27[_0x3eaa09(0x21d)](_0x46b92e,0x3,0x2,'valid'),_0x46b92e=residual(_0x46b92e,_0x2534e1[_0x3eaa09(0x24e)]),_0x46b92e=residual(_0x46b92e,_0x2534e1[_0x3eaa09(0x177)]),_0x46b92e=residual(_0x46b92e,_0x2534e1[_0x3eaa09(0x20d)]),_0x46b92e=residualDown(_0x46b92e,_0x2534e1[_0x3eaa09(0x259)]),_0x46b92e=residual(_0x46b92e,_0x2534e1['conv64_1']),_0x46b92e=residual(_0x46b92e,_0x2534e1[_0x3eaa09(0x29f)]),_0x46b92e=residual(_0x46b92e,_0x2534e1[_0x3eaa09(0x1bb)]),_0x46b92e=residualDown(_0x46b92e,_0x2534e1[_0x3eaa09(0x2e5)]),_0x46b92e=residual(_0x46b92e,_0x2534e1[_0x3eaa09(0x111)]),_0x46b92e=residual(_0x46b92e,_0x2534e1[_0x3eaa09(0x1ab)]),_0x46b92e=residualDown(_0x46b92e,_0x2534e1[_0x3eaa09(0x1ea)]),_0x46b92e=residual(_0x46b92e,_0x2534e1[_0x3eaa09(0xb0)]),_0x46b92e=residual(_0x46b92e,_0x2534e1['conv256_2']),_0x46b92e=residualDown(_0x46b92e,_0x2534e1['conv256_down_out']);const _0x2b4861=_0x46b92e['mean']([0x1,0x2]),_0x5d2359=tf27[_0x3eaa09(0xb4)](_0x2b4861,_0x2534e1['fc']);return _0x5d2359;});}async['forward'](_0x54d27){const _0x2f0f4e=_0x223da0;return this[_0x2f0f4e(0x11a)](await toNetInput(_0x54d27));}async[_0x223da0(0x263)](_0x5c3670){const _0x5d256a=_0x223da0;var _0x13f753;if((_0x13f753=_0x5c3670==null?void 0x0:_0x5c3670[_0x5d256a(0x2a9)])==null?void 0x0:_0x13f753['some'](_0x2e6285=>_0x2e6285<=0x0))return new Float32Array(0x80);const _0x37104d=await toNetInput(_0x5c3670),_0x2f4b11=tf27[_0x5d256a(0xdc)](()=>tf27[_0x5d256a(0x185)](this[_0x5d256a(0x11a)](_0x37104d))),_0xb62471=await Promise[_0x5d256a(0xa2)](_0x2f4b11['map'](_0x3b9907=>_0x3b9907[_0x5d256a(0x2af)]()));return _0x2f4b11[_0x5d256a(0x19b)](_0x59a5fd=>_0x59a5fd['dispose']()),_0x37104d[_0x5d256a(0xca)]?_0xb62471:_0xb62471[0x0];}[_0x223da0(0x169)](){const _0x6f9421=_0x223da0;return _0x6f9421(0x17f);}[_0x223da0(0x8f)](_0x4cce31){return extractParamsFromWeightMap5(_0x4cce31);}[_0x223da0(0x24d)](_0x55305b){return extractParams5(_0x55305b);}};function createFaceRecognitionNet(_0x24521d){const _0x3b6094=_0x223da0,_0x1ffaf2=new FaceRecognitionNet();return _0x1ffaf2[_0x3b6094(0x278)](_0x24521d),_0x1ffaf2;}function extendWithFaceDescriptor(_0x2d136d,_0x798824){const _0x1ed833={'descriptor':_0x798824};return{..._0x2d136d,..._0x1ed833};}function isWithAge(_0x5cdfea){const _0x5ef760=_0x223da0;return typeof _0x5cdfea[_0x5ef760(0x258)]==='number';}function extendWithAge(_0x5c457e,_0xf947bc){const _0x211dcf={'age':_0xf947bc};return{..._0x5c457e,..._0x211dcf};}function isWithGender(_0x77119f){const _0x5aa460=_0x223da0;return(_0x77119f[_0x5aa460(0x279)]===_0x5aa460(0x214)||_0x77119f[_0x5aa460(0x279)]===_0x5aa460(0x2c0))&&isValidProbablitiy(_0x77119f['genderProbability']);}function extendWithGender(_0x496ef7,_0x265aea,_0x6a02f2){const _0x17ea9d={'gender':_0x265aea,'genderProbability':_0x6a02f2};return{..._0x496ef7,..._0x17ea9d};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x757a3f,_0x25a7c6){function _0xb16962(_0x50784b,_0x3ee3c4){const _0x19bbc2=_0x21d7,_0x1f59cf=tf28['tensor4d'](_0x757a3f(0x3*0x3*_0x50784b),[0x3,0x3,_0x50784b,0x1]),_0x50bbf6=tf28['tensor1d'](_0x757a3f(_0x50784b)),_0x5c9917=tf28[_0x19bbc2(0x2d8)](_0x757a3f(_0x50784b)),_0x147cf7=tf28[_0x19bbc2(0x2d8)](_0x757a3f(_0x50784b)),_0x55ccc7=tf28[_0x19bbc2(0x2d8)](_0x757a3f(_0x50784b));return _0x25a7c6['push']({'paramPath':_0x3ee3c4+_0x19bbc2(0x22c)},{'paramPath':_0x3ee3c4+_0x19bbc2(0x1ff)},{'paramPath':_0x3ee3c4+'/batch_norm_offset'},{'paramPath':_0x3ee3c4+_0x19bbc2(0x1af)},{'paramPath':_0x3ee3c4+_0x19bbc2(0x1e9)}),{'filters':_0x1f59cf,'batch_norm_scale':_0x50bbf6,'batch_norm_offset':_0x5c9917,'batch_norm_mean':_0x147cf7,'batch_norm_variance':_0x55ccc7};}function _0x50c4a6(_0x415a63,_0x32e7e3,_0x1d09e2,_0x137108,_0x4f78b5){const _0xa2973=_0x21d7,_0x321909=tf28['tensor4d'](_0x757a3f(_0x415a63*_0x32e7e3*_0x1d09e2*_0x1d09e2),[_0x1d09e2,_0x1d09e2,_0x415a63,_0x32e7e3]),_0x253b88=tf28[_0xa2973(0x2d8)](_0x757a3f(_0x32e7e3));return _0x25a7c6[_0xa2973(0x159)]({'paramPath':_0x137108+_0xa2973(0x22c)},{'paramPath':_0x137108+'/'+(_0x4f78b5?_0xa2973(0x210):'bias')}),{'filters':_0x321909,'bias':_0x253b88};}function _0x25731a(_0x55b472,_0x5ac510,_0x48baea,_0x58db6d){const {filters:_0x65c627,bias:_0x2d5a96}=_0x50c4a6(_0x55b472,_0x5ac510,_0x48baea,_0x58db6d,!![]);return{'filters':_0x65c627,'batch_norm_offset':_0x2d5a96};}function _0x5e5c0a(_0x5cf0bb,_0x648c96,_0x82a79c){const _0x4d040f=_0x21d7,_0x4aada9=_0xb16962(_0x5cf0bb,_0x82a79c+_0x4d040f(0x26e)),_0x1df5a4=_0x25731a(_0x5cf0bb,_0x648c96,0x1,_0x82a79c+'/pointwise_conv');return{'depthwise_conv':_0x4aada9,'pointwise_conv':_0x1df5a4};}function _0x121299(){const _0x235278=_0x21d7,_0x556643=_0x25731a(0x3,0x20,0x3,_0x235278(0xea)),_0x5278cb=_0x5e5c0a(0x20,0x40,'mobilenetv1/conv_1'),_0x51158b=_0x5e5c0a(0x40,0x80,_0x235278(0x140)),_0x155439=_0x5e5c0a(0x80,0x80,_0x235278(0x226)),_0x1918d5=_0x5e5c0a(0x80,0x100,_0x235278(0x1e0)),_0xe48287=_0x5e5c0a(0x100,0x100,_0x235278(0x7b)),_0xf69194=_0x5e5c0a(0x100,0x200,_0x235278(0x1ee)),_0x488523=_0x5e5c0a(0x200,0x200,_0x235278(0x128)),_0x1bb207=_0x5e5c0a(0x200,0x200,_0x235278(0x2c6)),_0x276457=_0x5e5c0a(0x200,0x200,_0x235278(0x1df)),_0x3c5aa2=_0x5e5c0a(0x200,0x200,_0x235278(0x1a8)),_0x5222da=_0x5e5c0a(0x200,0x200,_0x235278(0x26b)),_0x5e1ce2=_0x5e5c0a(0x200,0x400,'mobilenetv1/conv_12'),_0x2f9a4c=_0x5e5c0a(0x400,0x400,_0x235278(0x25d));return{'conv_0':_0x556643,'conv_1':_0x5278cb,'conv_2':_0x51158b,'conv_3':_0x155439,'conv_4':_0x1918d5,'conv_5':_0xe48287,'conv_6':_0xf69194,'conv_7':_0x488523,'conv_8':_0x1bb207,'conv_9':_0x276457,'conv_10':_0x3c5aa2,'conv_11':_0x5222da,'conv_12':_0x5e1ce2,'conv_13':_0x2f9a4c};}function _0x2859f1(){const _0x186399=_0x21d7,_0x271ab9=_0x25731a(0x400,0x100,0x1,_0x186399(0x1b3)),_0x401c7a=_0x25731a(0x100,0x200,0x3,_0x186399(0x1e5)),_0x1f4fc9=_0x25731a(0x200,0x80,0x1,_0x186399(0x218)),_0x190b82=_0x25731a(0x80,0x100,0x3,_0x186399(0xcd)),_0x3c450d=_0x25731a(0x100,0x80,0x1,_0x186399(0x1d5)),_0x5e299a=_0x25731a(0x80,0x100,0x3,_0x186399(0x243)),_0x499f74=_0x25731a(0x100,0x40,0x1,_0x186399(0x85)),_0x331bfa=_0x25731a(0x40,0x80,0x3,_0x186399(0x18c)),_0x1f00b2=_0x50c4a6(0x200,0xc,0x1,'prediction_layer/box_predictor_0/box_encoding_predictor'),_0x192a28=_0x50c4a6(0x200,0x9,0x1,_0x186399(0x1ba)),_0x16706a=_0x50c4a6(0x400,0x18,0x1,'prediction_layer/box_predictor_1/box_encoding_predictor'),_0x477e9f=_0x50c4a6(0x400,0x12,0x1,'prediction_layer/box_predictor_1/class_predictor'),_0x38c4fe=_0x50c4a6(0x200,0x18,0x1,_0x186399(0x124)),_0x5c289c=_0x50c4a6(0x200,0x12,0x1,_0x186399(0x240)),_0x2d0ab4=_0x50c4a6(0x100,0x18,0x1,_0x186399(0x13c)),_0x4cda2c=_0x50c4a6(0x100,0x12,0x1,_0x186399(0xe9)),_0x488442=_0x50c4a6(0x100,0x18,0x1,_0x186399(0x13d)),_0x209809=_0x50c4a6(0x100,0x12,0x1,_0x186399(0x1be)),_0x1e7d6c=_0x50c4a6(0x80,0x18,0x1,_0x186399(0x2da)),_0x3666ba=_0x50c4a6(0x80,0x12,0x1,_0x186399(0x227)),_0x20b4e1={'box_encoding_predictor':_0x1f00b2,'class_predictor':_0x192a28},_0x4c6891={'box_encoding_predictor':_0x16706a,'class_predictor':_0x477e9f},_0x1acd0d={'box_encoding_predictor':_0x38c4fe,'class_predictor':_0x5c289c},_0x29f60e={'box_encoding_predictor':_0x2d0ab4,'class_predictor':_0x4cda2c},_0x3e828f={'box_encoding_predictor':_0x488442,'class_predictor':_0x209809},_0x18b811={'box_encoding_predictor':_0x1e7d6c,'class_predictor':_0x3666ba};return{'conv_0':_0x271ab9,'conv_1':_0x401c7a,'conv_2':_0x1f4fc9,'conv_3':_0x190b82,'conv_4':_0x3c450d,'conv_5':_0x5e299a,'conv_6':_0x499f74,'conv_7':_0x331bfa,'box_predictor_0':_0x20b4e1,'box_predictor_1':_0x4c6891,'box_predictor_2':_0x1acd0d,'box_predictor_3':_0x29f60e,'box_predictor_4':_0x3e828f,'box_predictor_5':_0x18b811};}return{'extractMobilenetV1Params':_0x121299,'extractPredictionLayerParams':_0x2859f1};}function extractParams6(_0x48453b){const _0x3e26d8=_0x223da0,_0x5892d2=[],{extractWeights:_0x1aca62,getRemainingWeights:_0x1697dd}=extractWeightsFactory(_0x48453b),{extractMobilenetV1Params:_0x313485,extractPredictionLayerParams:_0x99750b}=extractorsFactory5(_0x1aca62,_0x5892d2),_0x3bfe93=_0x313485(),_0x4ce768=_0x99750b(),_0x1a81c1=tf28[_0x3e26d8(0x15b)](_0x1aca62(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x1e8f98={'extra_dim':_0x1a81c1};_0x5892d2[_0x3e26d8(0x159)]({'paramPath':_0x3e26d8(0x2b7)});if(_0x1697dd()[_0x3e26d8(0x1b5)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x1697dd()[_0x3e26d8(0x1b5)]);return{'params':{'mobilenetv1':_0x3bfe93,'prediction_layer':_0x4ce768,'output_layer':_0x1e8f98},'paramMappings':_0x5892d2};}function extractorsFactory6(_0x32d89f,_0x492563){const _0x58bfcb=extractWeightEntryFactory(_0x32d89f,_0x492563);function _0x2c139a(_0x3f044a,_0x52eac0,_0x364476){const _0x3bcd3d=_0x21d7,_0x15c028=_0x58bfcb(_0x3f044a+'/Conv2d_'+_0x52eac0+_0x3bcd3d(0x153),0x4,_0x364476+'/filters'),_0x5a94e4=_0x58bfcb(_0x3f044a+_0x3bcd3d(0x2cf)+_0x52eac0+'_pointwise/convolution_bn_offset',0x1,_0x364476+_0x3bcd3d(0x294));return{'filters':_0x15c028,'batch_norm_offset':_0x5a94e4};}function _0x23bc10(_0x10e889){const _0x2bdbe0=_0x21d7,_0xe781fd=_0x2bdbe0(0x23e)+_0x10e889,_0x38513c=_0x2bdbe0(0x145)+_0x10e889+_0x2bdbe0(0x2e6),_0x36fb4c=_0xe781fd+_0x2bdbe0(0x26e),_0x5441ef=_0xe781fd+_0x2bdbe0(0x18e),_0x1a6bac=_0x58bfcb(_0x38513c+_0x2bdbe0(0x2e9),0x4,_0x36fb4c+_0x2bdbe0(0x22c)),_0x2bc882=_0x58bfcb(_0x38513c+_0x2bdbe0(0x25f),0x1,_0x36fb4c+_0x2bdbe0(0x1ff)),_0xe5e09c=_0x58bfcb(_0x38513c+_0x2bdbe0(0x1da),0x1,_0x36fb4c+'/batch_norm_offset'),_0x163eaf=_0x58bfcb(_0x38513c+'/BatchNorm/moving_mean',0x1,_0x36fb4c+_0x2bdbe0(0x1af)),_0x59a6c1=_0x58bfcb(_0x38513c+'/BatchNorm/moving_variance',0x1,_0x36fb4c+_0x2bdbe0(0x1e9));return{'depthwise_conv':{'filters':_0x1a6bac,'batch_norm_scale':_0x2bc882,'batch_norm_offset':_0xe5e09c,'batch_norm_mean':_0x163eaf,'batch_norm_variance':_0x59a6c1},'pointwise_conv':_0x2c139a(_0x2bdbe0(0x115),_0x10e889,_0x5441ef)};}function _0x218288(){const _0x358fc5=_0x21d7;return{'conv_0':_0x2c139a(_0x358fc5(0x115),0x0,'mobilenetv1/conv_0'),'conv_1':_0x23bc10(0x1),'conv_2':_0x23bc10(0x2),'conv_3':_0x23bc10(0x3),'conv_4':_0x23bc10(0x4),'conv_5':_0x23bc10(0x5),'conv_6':_0x23bc10(0x6),'conv_7':_0x23bc10(0x7),'conv_8':_0x23bc10(0x8),'conv_9':_0x23bc10(0x9),'conv_10':_0x23bc10(0xa),'conv_11':_0x23bc10(0xb),'conv_12':_0x23bc10(0xc),'conv_13':_0x23bc10(0xd)};}function _0x27cdea(_0x152a9d,_0x4b6a99){const _0x54ce14=_0x21d7,_0x51a051=_0x58bfcb(_0x152a9d+_0x54ce14(0xe4),0x4,_0x4b6a99+'/filters'),_0x1ffad5=_0x58bfcb(_0x152a9d+_0x54ce14(0x2d7),0x1,_0x4b6a99+_0x54ce14(0x26d));return{'filters':_0x51a051,'bias':_0x1ffad5};}function _0x3b05af(_0x2c0860){const _0x158c8f=_0x21d7,_0x47170b=_0x27cdea(_0x158c8f(0x161)+_0x2c0860+'/BoxEncodingPredictor',_0x158c8f(0x2c4)+_0x2c0860+_0x158c8f(0x16d)),_0x2d6842=_0x27cdea(_0x158c8f(0x161)+_0x2c0860+_0x158c8f(0x183),_0x158c8f(0x2c4)+_0x2c0860+_0x158c8f(0xd5));return{'box_encoding_predictor':_0x47170b,'class_predictor':_0x2d6842};}function _0x3e933d(){const _0x228ad3=_0x21d7;return{'conv_0':_0x2c139a(_0x228ad3(0x255),0x0,_0x228ad3(0x1b3)),'conv_1':_0x2c139a('Prediction',0x1,_0x228ad3(0x1e5)),'conv_2':_0x2c139a('Prediction',0x2,_0x228ad3(0x218)),'conv_3':_0x2c139a(_0x228ad3(0x255),0x3,'prediction_layer/conv_3'),'conv_4':_0x2c139a('Prediction',0x4,'prediction_layer/conv_4'),'conv_5':_0x2c139a('Prediction',0x5,'prediction_layer/conv_5'),'conv_6':_0x2c139a('Prediction',0x6,'prediction_layer/conv_6'),'conv_7':_0x2c139a(_0x228ad3(0x255),0x7,_0x228ad3(0x18c)),'box_predictor_0':_0x3b05af(0x0),'box_predictor_1':_0x3b05af(0x1),'box_predictor_2':_0x3b05af(0x2),'box_predictor_3':_0x3b05af(0x3),'box_predictor_4':_0x3b05af(0x4),'box_predictor_5':_0x3b05af(0x5)};}return{'extractMobilenetV1Params':_0x218288,'extractPredictionLayerParams':_0x3e933d};}function extractParamsFromWeightMap6(_0x475ffd){const _0x457434=_0x223da0,_0x14b643=[],{extractMobilenetV1Params:_0x50aa3b,extractPredictionLayerParams:_0xd60906}=extractorsFactory6(_0x475ffd,_0x14b643),_0x5ee3a5=_0x475ffd[_0x457434(0x2ca)];_0x14b643[_0x457434(0x159)]({'originalPath':_0x457434(0x2ca),'paramPath':_0x457434(0x2b7)});if(!isTensor3D(_0x5ee3a5))throw new Error(_0x457434(0x119)+_0x5ee3a5);const _0x268931={'mobilenetv1':_0x50aa3b(),'prediction_layer':_0xd60906(),'output_layer':{'extra_dim':_0x5ee3a5}};return disposeUnusedWeightTensors(_0x475ffd,_0x14b643),{'params':_0x268931,'paramMappings':_0x14b643};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x69cb4d,_0x578feb,_0x33c931){const _0x1ec3d0=_0x223da0;return tf29[_0x1ec3d0(0xdc)](()=>{const _0x137fb2=_0x1ec3d0;let _0x3bb7ab=tf29[_0x137fb2(0x241)](_0x69cb4d,_0x578feb[_0x137fb2(0x1cc)],_0x33c931,_0x137fb2(0xc2));return _0x3bb7ab=tf29[_0x137fb2(0x204)](_0x3bb7ab,_0x578feb[_0x137fb2(0x210)]),tf29['clipByValue'](_0x3bb7ab,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0x2ac81d,_0x546558,_0x159326){const _0xa5238f=_0x223da0;return tf30[_0xa5238f(0xdc)](()=>{const _0x51c020=_0xa5238f;let _0x2ba89e=tf30[_0x51c020(0x108)](_0x2ac81d,_0x546558[_0x51c020(0x1cc)],_0x159326,_0x51c020(0xc2));return _0x2ba89e=tf30[_0x51c020(0x2eb)](_0x2ba89e,_0x546558[_0x51c020(0x12f)],_0x546558[_0x51c020(0xe0)],_0x546558['batch_norm_offset'],_0x546558[_0x51c020(0xd1)],epsilon),tf30[_0x51c020(0x283)](_0x2ba89e,0x0,0x6);});}function getStridesForLayerIdx(_0x5f1242){const _0x163fc1=_0x223da0;return[0x2,0x4,0x6,0xc][_0x163fc1(0x2e8)](_0x3308b3=>_0x3308b3===_0x5f1242)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x3b71f0,_0x542985){const _0x4d9dd4=_0x223da0;return tf30[_0x4d9dd4(0xdc)](()=>{const _0x36eb5c=_0x4d9dd4;let _0x5532ac,_0x4e061e=pointwiseConvLayer(_0x3b71f0,_0x542985[_0x36eb5c(0x2ef)],[0x2,0x2]);const _0x1b422d=[_0x542985[_0x36eb5c(0x264)],_0x542985[_0x36eb5c(0x189)],_0x542985['conv_3'],_0x542985[_0x36eb5c(0x265)],_0x542985['conv_5'],_0x542985['conv_6'],_0x542985['conv_7'],_0x542985[_0x36eb5c(0x98)],_0x542985[_0x36eb5c(0x2a2)],_0x542985[_0x36eb5c(0xd3)],_0x542985['conv_11'],_0x542985[_0x36eb5c(0xe1)],_0x542985['conv_13']];_0x1b422d['forEach']((_0x23eb43,_0x4669fe)=>{const _0x11f860=_0x36eb5c,_0x14fd09=_0x4669fe+0x1,_0x310d74=getStridesForLayerIdx(_0x14fd09);_0x4e061e=depthwiseConvLayer(_0x4e061e,_0x23eb43[_0x11f860(0xc1)],_0x310d74),_0x4e061e=pointwiseConvLayer(_0x4e061e,_0x23eb43[_0x11f860(0x2e7)],[0x1,0x1]);if(_0x14fd09===0xb)_0x5532ac=_0x4e061e;});if(_0x5532ac===null)throw new Error('mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null');return{'out':_0x4e061e,'conv11':_0x5532ac};});}function IOU(_0xa7ae3c,_0x3e4005,_0x2725bc){const _0x46ffbd=_0x223da0,_0x4a3b6b=_0xa7ae3c[_0x46ffbd(0x23a)](),_0x70e5ab=Math[_0x46ffbd(0x25c)](_0x4a3b6b[_0x3e4005][0x0],_0x4a3b6b[_0x3e4005][0x2]),_0xaeaa27=Math[_0x46ffbd(0x25c)](_0x4a3b6b[_0x3e4005][0x1],_0x4a3b6b[_0x3e4005][0x3]),_0xe1dbc7=Math['max'](_0x4a3b6b[_0x3e4005][0x0],_0x4a3b6b[_0x3e4005][0x2]),_0x1d21f0=Math['max'](_0x4a3b6b[_0x3e4005][0x1],_0x4a3b6b[_0x3e4005][0x3]),_0x3e316f=Math[_0x46ffbd(0x25c)](_0x4a3b6b[_0x2725bc][0x0],_0x4a3b6b[_0x2725bc][0x2]),_0x31a984=Math['min'](_0x4a3b6b[_0x2725bc][0x1],_0x4a3b6b[_0x2725bc][0x3]),_0x40032e=Math['max'](_0x4a3b6b[_0x2725bc][0x0],_0x4a3b6b[_0x2725bc][0x2]),_0x1bc17e=Math[_0x46ffbd(0xc7)](_0x4a3b6b[_0x2725bc][0x1],_0x4a3b6b[_0x2725bc][0x3]),_0x3131c8=(_0xe1dbc7-_0x70e5ab)*(_0x1d21f0-_0xaeaa27),_0x3cf332=(_0x40032e-_0x3e316f)*(_0x1bc17e-_0x31a984);if(_0x3131c8<=0x0||_0x3cf332<=0x0)return 0x0;const _0x3f8142=Math[_0x46ffbd(0xc7)](_0x70e5ab,_0x3e316f),_0x2c754f=Math[_0x46ffbd(0xc7)](_0xaeaa27,_0x31a984),_0x3b3110=Math[_0x46ffbd(0x25c)](_0xe1dbc7,_0x40032e),_0x8f1f3d=Math['min'](_0x1d21f0,_0x1bc17e),_0x34fee5=Math['max'](_0x3b3110-_0x3f8142,0x0)*Math[_0x46ffbd(0xc7)](_0x8f1f3d-_0x2c754f,0x0);return _0x34fee5/(_0x3131c8+_0x3cf332-_0x34fee5);}function nonMaxSuppression2(_0x22d511,_0x283e02,_0x1bc7fb,_0x2ffb68,_0x2337f5){const _0x594eec=_0x223da0,_0x318169=_0x22d511[_0x594eec(0x2a9)][0x0],_0x2bc30e=Math[_0x594eec(0x25c)](_0x1bc7fb,_0x318169),_0xcfacf6=_0x283e02[_0x594eec(0x2c2)]((_0x589a73,_0x1a69d5)=>({'score':_0x589a73,'boxIndex':_0x1a69d5}))['filter'](_0xda0b89=>_0xda0b89[_0x594eec(0x296)]>_0x2337f5)[_0x594eec(0x25a)]((_0x516959,_0x5d7e5c)=>_0x5d7e5c[_0x594eec(0x296)]-_0x516959[_0x594eec(0x296)]),_0x133549=_0x2caa80=>_0x2caa80<=_0x2ffb68?0x1:0x0,_0x467f54=[];return _0xcfacf6['forEach'](_0x1a710c=>{const _0x592664=_0x594eec;if(_0x467f54['length']>=_0x2bc30e)return;const _0x4a776e=_0x1a710c[_0x592664(0x296)];for(let _0x2db99e=_0x467f54[_0x592664(0x1b5)]-0x1;_0x2db99e>=0x0;--_0x2db99e){const _0x28bc9b=IOU(_0x22d511,_0x1a710c[_0x592664(0x233)],_0x467f54[_0x2db99e]);if(_0x28bc9b===0x0)continue;_0x1a710c['score']*=_0x133549(_0x28bc9b);if(_0x1a710c[_0x592664(0x296)]<=_0x2337f5)break;}_0x4a776e===_0x1a710c[_0x592664(0x296)]&&_0x467f54[_0x592664(0x159)](_0x1a710c[_0x592664(0x233)]);}),_0x467f54;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0x334ab6){const _0x3dd766=_0x223da0,_0x400242=tf31[_0x3dd766(0x185)](tf31[_0x3dd766(0x102)](_0x334ab6,[0x1,0x0])),_0x855204=[tf31[_0x3dd766(0x1c3)](_0x400242[0x2],_0x400242[0x0]),tf31[_0x3dd766(0x1c3)](_0x400242[0x3],_0x400242[0x1])],_0x41c0cb=[tf31[_0x3dd766(0x204)](_0x400242[0x0],tf31[_0x3dd766(0x245)](_0x855204[0x0],0x2)),tf31[_0x3dd766(0x204)](_0x400242[0x1],tf31[_0x3dd766(0x245)](_0x855204[0x1],0x2))];return{'sizes':_0x855204,'centers':_0x41c0cb};}function decodeBoxesLayer(_0x5d36ae,_0x430594){const _0x4e837b=_0x223da0,{sizes:_0x22a6e7,centers:_0xa59e42}=getCenterCoordinatesAndSizesLayer(_0x5d36ae),_0x4772f3=tf31[_0x4e837b(0x185)](tf31['transpose'](_0x430594,[0x1,0x0])),_0x48059c=tf31[_0x4e837b(0x245)](tf31[_0x4e837b(0x2bb)](tf31[_0x4e837b(0xb6)](tf31['div'](_0x4772f3[0x2],0x5)),_0x22a6e7[0x0]),0x2),_0xba4f85=tf31[_0x4e837b(0x204)](tf31[_0x4e837b(0x2bb)](tf31['div'](_0x4772f3[0x0],0xa),_0x22a6e7[0x0]),_0xa59e42[0x0]),_0x3e159f=tf31[_0x4e837b(0x245)](tf31[_0x4e837b(0x2bb)](tf31['exp'](tf31[_0x4e837b(0x245)](_0x4772f3[0x3],0x5)),_0x22a6e7[0x1]),0x2),_0x4ad337=tf31['add'](tf31[_0x4e837b(0x2bb)](tf31[_0x4e837b(0x245)](_0x4772f3[0x1],0xa),_0x22a6e7[0x1]),_0xa59e42[0x1]);return tf31[_0x4e837b(0x102)](tf31['stack']([tf31[_0x4e837b(0x1c3)](_0xba4f85,_0x48059c),tf31['sub'](_0x4ad337,_0x3e159f),tf31[_0x4e837b(0x204)](_0xba4f85,_0x48059c),tf31[_0x4e837b(0x204)](_0x4ad337,_0x3e159f)]),[0x1,0x0]);}function outputLayer(_0x4878dc,_0x5ae106,_0x3768e6){const _0xc57966=_0x223da0;return tf31[_0xc57966(0xdc)](()=>{const _0x5e61ac=_0xc57966,_0x260973=_0x4878dc[_0x5e61ac(0x2a9)][0x0];let _0xaadff0=decodeBoxesLayer(tf31[_0x5e61ac(0x19e)](tf31[_0x5e61ac(0x9e)](_0x3768e6[_0x5e61ac(0xd8)],[_0x260973,0x1,0x1]),[-0x1,0x4]),tf31[_0x5e61ac(0x19e)](_0x4878dc,[-0x1,0x4]));_0xaadff0=tf31['reshape'](_0xaadff0,[_0x260973,_0xaadff0[_0x5e61ac(0x2a9)][0x0]/_0x260973,0x4]);const _0x300ce4=tf31[_0x5e61ac(0xfa)](tf31[_0x5e61ac(0x284)](_0x5ae106,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0x31613d=tf31[_0x5e61ac(0x284)](_0x300ce4,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0x31613d=tf31[_0x5e61ac(0x19e)](_0x31613d,[_0x260973,_0x31613d[_0x5e61ac(0x2a9)][0x1]]);const _0x382075=tf31['unstack'](_0xaadff0),_0x464633=tf31[_0x5e61ac(0x185)](_0x31613d);return{'boxes':_0x382075,'scores':_0x464633};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x4b1886,_0x2553a8){return tf32['tidy'](()=>{const _0x17ae4c=_0x21d7,_0x25890e=_0x4b1886['shape'][0x0],_0xe96f=tf32[_0x17ae4c(0x19e)](convLayer(_0x4b1886,_0x2553a8[_0x17ae4c(0x2b2)]),[_0x25890e,-0x1,0x1,0x4]),_0xb355fd=tf32[_0x17ae4c(0x19e)](convLayer(_0x4b1886,_0x2553a8['class_predictor']),[_0x25890e,-0x1,0x3]);return{'boxPredictionEncoding':_0xe96f,'classPrediction':_0xb355fd};});}function predictionLayer(_0x5b9919,_0x5bc521,_0x15da24){return tf33['tidy'](()=>{const _0x48289a=_0x21d7,_0x50de28=pointwiseConvLayer(_0x5b9919,_0x15da24[_0x48289a(0x2ef)],[0x1,0x1]),_0x57f5d1=pointwiseConvLayer(_0x50de28,_0x15da24['conv_1'],[0x2,0x2]),_0x1396fe=pointwiseConvLayer(_0x57f5d1,_0x15da24[_0x48289a(0x189)],[0x1,0x1]),_0x468e5d=pointwiseConvLayer(_0x1396fe,_0x15da24[_0x48289a(0x1e4)],[0x2,0x2]),_0x90eb4e=pointwiseConvLayer(_0x468e5d,_0x15da24['conv_4'],[0x1,0x1]),_0x56f36a=pointwiseConvLayer(_0x90eb4e,_0x15da24[_0x48289a(0x2d5)],[0x2,0x2]),_0x52a18a=pointwiseConvLayer(_0x56f36a,_0x15da24['conv_6'],[0x1,0x1]),_0x582d92=pointwiseConvLayer(_0x52a18a,_0x15da24[_0x48289a(0x206)],[0x2,0x2]),_0x47b3eb=boxPredictionLayer(_0x5bc521,_0x15da24[_0x48289a(0x1dc)]),_0x32f63b=boxPredictionLayer(_0x5b9919,_0x15da24[_0x48289a(0x19a)]),_0x168ceb=boxPredictionLayer(_0x57f5d1,_0x15da24['box_predictor_2']),_0x10526b=boxPredictionLayer(_0x468e5d,_0x15da24[_0x48289a(0x1fc)]),_0x730986=boxPredictionLayer(_0x56f36a,_0x15da24['box_predictor_4']),_0x29e531=boxPredictionLayer(_0x582d92,_0x15da24[_0x48289a(0xa3)]),_0x513e7a=tf33[_0x48289a(0x7f)]([_0x47b3eb['boxPredictionEncoding'],_0x32f63b[_0x48289a(0x178)],_0x168ceb[_0x48289a(0x178)],_0x10526b['boxPredictionEncoding'],_0x730986[_0x48289a(0x178)],_0x29e531[_0x48289a(0x178)]],0x1),_0x417de1=tf33['concat']([_0x47b3eb[_0x48289a(0x14f)],_0x32f63b['classPrediction'],_0x168ceb[_0x48289a(0x14f)],_0x10526b[_0x48289a(0x14f)],_0x730986[_0x48289a(0x14f)],_0x29e531[_0x48289a(0x14f)]],0x1);return{'boxPredictions':_0x513e7a,'classPredictions':_0x417de1};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x590dd7,maxResults:_0x52c151}={}){const _0x185675=_0x223da0;this[_0x185675(0x238)]=_0x185675(0x87),this[_0x185675(0x13b)]=_0x590dd7||0.5,this[_0x185675(0x93)]=_0x52c151||0x64;if(typeof this['_minConfidence']!==_0x185675(0xac)||this[_0x185675(0x13b)]<=0x0||this['_minConfidence']>=0x1)throw new Error(this[_0x185675(0x238)]+_0x185675(0x205));if(typeof this[_0x185675(0x93)]!==_0x185675(0xac))throw new Error(this[_0x185675(0x238)]+'\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number');}get[_0x223da0(0x1bd)](){const _0x304ff0=_0x223da0;return this[_0x304ff0(0x13b)];}get[_0x223da0(0x2ab)](){return this['_maxResults'];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){const _0x3d283f=_0x223da0;super(_0x3d283f(0xde));}[_0x223da0(0x11a)](_0x2fc34a){const {params:_0x87a375}=this;if(!_0x87a375)throw new Error('SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference');return tf34['tidy'](()=>{const _0x3a3870=_0x21d7,_0x64512f=tf34[_0x3a3870(0x1fe)](_0x2fc34a[_0x3a3870(0x136)](0x200,![]),_0x3a3870(0x83)),_0x21afc8=tf34[_0x3a3870(0x1c3)](tf34[_0x3a3870(0x245)](_0x64512f,127.5),0x1),_0x59efa9=mobileNetV1(_0x21afc8,_0x87a375[_0x3a3870(0x2f0)]),{boxPredictions:_0x130ced,classPredictions:_0xc5776}=predictionLayer(_0x59efa9[_0x3a3870(0xa8)],_0x59efa9[_0x3a3870(0x99)],_0x87a375[_0x3a3870(0x29e)]);return outputLayer(_0x130ced,_0xc5776,_0x87a375['output_layer']);});}async[_0x223da0(0x155)](_0xbfd128){const _0x4eb2b9=_0x223da0;return this[_0x4eb2b9(0x11a)](await toNetInput(_0xbfd128));}async['locateFaces'](_0x1be459,_0x34c704={}){const _0x1513d2=_0x223da0,{maxResults:_0x10fec1,minConfidence:_0x3920ef}=new SsdMobilenetv1Options(_0x34c704),_0x18e6dd=await toNetInput(_0x1be459),{boxes:_0x2b5a97,scores:_0x9c37b4}=this['forwardInput'](_0x18e6dd),_0x4bd72b=_0x2b5a97[0x0],_0x38f541=_0x9c37b4[0x0];for(let _0x9f2621=0x1;_0x9f2621<_0x2b5a97[_0x1513d2(0x1b5)];_0x9f2621++){_0x2b5a97[_0x9f2621]['dispose'](),_0x9c37b4[_0x9f2621]['dispose']();}const _0x42a4cd=Array[_0x1513d2(0xed)](_0x38f541[_0x1513d2(0xf7)]()),_0x373f8f=0.5,_0x390ab7=nonMaxSuppression2(_0x4bd72b,_0x42a4cd,_0x10fec1,_0x373f8f,_0x3920ef),_0x9e4443=_0x18e6dd[_0x1513d2(0xdd)](0x0),_0xeff2f7=_0x18e6dd[_0x1513d2(0x13a)],_0x499ea8=_0xeff2f7/_0x9e4443[_0x1513d2(0x2ee)],_0xa9384c=_0xeff2f7/_0x9e4443['height'],_0x325fa8=_0x4bd72b[_0x1513d2(0x23a)](),_0x3d99d3=_0x390ab7['map'](_0x5330d2=>{const _0x8da81a=_0x1513d2,[_0x4d0b00,_0x14a36f]=[Math[_0x8da81a(0xc7)](0x0,_0x325fa8[_0x5330d2][0x0]),Math[_0x8da81a(0x25c)](0x1,_0x325fa8[_0x5330d2][0x2])]['map'](_0x16d9cf=>_0x16d9cf*_0xa9384c),[_0x384faf,_0x31cfe3]=[Math[_0x8da81a(0xc7)](0x0,_0x325fa8[_0x5330d2][0x1]),Math[_0x8da81a(0x25c)](0x1,_0x325fa8[_0x5330d2][0x3])]['map'](_0x208946=>_0x208946*_0x499ea8);return new FaceDetection(_0x42a4cd[_0x5330d2],new Rect(_0x384faf,_0x4d0b00,_0x31cfe3-_0x384faf,_0x14a36f-_0x4d0b00),{'height':_0x18e6dd[_0x8da81a(0x91)](0x0),'width':_0x18e6dd[_0x8da81a(0xef)](0x0)});});return _0x4bd72b['dispose'](),_0x38f541[_0x1513d2(0x224)](),_0x3d99d3;}[_0x223da0(0x169)](){const _0x35656a=_0x223da0;return _0x35656a(0x14c);}['extractParamsFromWeightMap'](_0x120324){return extractParamsFromWeightMap6(_0x120324);}[_0x223da0(0x24d)](_0x5a654c){return extractParams6(_0x5a654c);}};function createSsdMobilenetv1(_0x248488){const _0x5e5a9e=_0x223da0,_0x2e48b7=new SsdMobilenetv1();return _0x2e48b7[_0x5e5a9e(0x278)](_0x248488),_0x2e48b7;}function createFaceDetectionNet(_0x17be4b){return createSsdMobilenetv1(_0x17be4b);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME=_0x223da0(0x14d),DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x223da0(0x1c8),tf39=__toESM(require_tfjs_esm()),isNumber=_0x36bd71=>typeof _0x36bd71==='number';function validateConfig(_0x306d2d){const _0x253925=_0x223da0;if(!_0x306d2d)throw new Error(_0x253925(0x146)+_0x306d2d);if(typeof _0x306d2d[_0x253925(0x217)]!==_0x253925(0x15e))throw new Error(_0x253925(0x95)+_0x306d2d[_0x253925(0x217)]);if(!isNumber(_0x306d2d[_0x253925(0x167)])||_0x306d2d['iouThreshold']<0x0||_0x306d2d['iouThreshold']>0x1)throw new Error(_0x253925(0x1c4)+_0x306d2d[_0x253925(0x167)]);if(!Array[_0x253925(0x157)](_0x306d2d[_0x253925(0x22e)])||!_0x306d2d[_0x253925(0x22e)]['length']||!_0x306d2d[_0x253925(0x22e)][_0x253925(0x262)](_0x2d8859=>typeof _0x2d8859==='string'))throw new Error(_0x253925(0x18a)+JSON[_0x253925(0xa1)](_0x306d2d[_0x253925(0x22e)]));if(!Array[_0x253925(0x157)](_0x306d2d[_0x253925(0x2a6)])||!_0x306d2d[_0x253925(0x2a6)][_0x253925(0x1b5)]||!_0x306d2d['anchors']['map'](_0xe603b0=>_0xe603b0||{})[_0x253925(0x262)](_0x4a4055=>isNumber(_0x4a4055['x'])&&isNumber(_0x4a4055['y'])))throw new Error(_0x253925(0xbb)+JSON['stringify'](_0x306d2d[_0x253925(0x2a6)]));if(_0x306d2d[_0x253925(0x254)]&&(!Array['isArray'](_0x306d2d['meanRgb'])||_0x306d2d[_0x253925(0x254)]['length']!==0x3||!_0x306d2d[_0x253925(0x254)]['every'](isNumber)))throw new Error(_0x253925(0x1ce)+JSON[_0x253925(0xa1)](_0x306d2d[_0x253925(0x254)]));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x30d1ac){const _0x4a0aff=_0x223da0;return tf35[_0x4a0aff(0xdc)](()=>{const _0x3d69c6=_0x4a0aff,_0x47b21d=tf35[_0x3d69c6(0x2bb)](_0x30d1ac,tf35[_0x3d69c6(0x110)](0.10000000149011612));return tf35[_0x3d69c6(0x204)](tf35[_0x3d69c6(0x2dd)](tf35[_0x3d69c6(0x1c3)](_0x30d1ac,_0x47b21d)),_0x47b21d);});}function convWithBatchNorm(_0xa93b30,_0x1028bb){const _0x5616e5=_0x223da0;return tf36[_0x5616e5(0xdc)](()=>{const _0x52a14b=_0x5616e5;let _0x1e342d=tf36[_0x52a14b(0x2e0)](_0xa93b30,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x1e342d=tf36[_0x52a14b(0x241)](_0x1e342d,_0x1028bb[_0x52a14b(0x181)]['filters'],[0x1,0x1],'valid'),_0x1e342d=tf36[_0x52a14b(0x1c3)](_0x1e342d,_0x1028bb['bn'][_0x52a14b(0x1c3)]),_0x1e342d=tf36[_0x52a14b(0x2bb)](_0x1e342d,_0x1028bb['bn'][_0x52a14b(0x209)]),_0x1e342d=tf36[_0x52a14b(0x204)](_0x1e342d,_0x1028bb[_0x52a14b(0x181)][_0x52a14b(0x230)]),leaky(_0x1e342d);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x3bcca1,_0x1b9e13){const _0x2ccded=_0x223da0;return tf37[_0x2ccded(0xdc)](()=>{const _0x18c02a=_0x2ccded;let _0x1a44a7=tf37[_0x18c02a(0x2e0)](_0x3bcca1,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x1a44a7=tf37[_0x18c02a(0x229)](_0x1a44a7,_0x1b9e13[_0x18c02a(0x1b0)],_0x1b9e13[_0x18c02a(0x2d2)],[0x1,0x1],'valid'),_0x1a44a7=tf37[_0x18c02a(0x204)](_0x1a44a7,_0x1b9e13[_0x18c02a(0x230)]),leaky(_0x1a44a7);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x2603d2,_0x16370f){const _0x5e515c=extractConvParamsFactory(_0x2603d2,_0x16370f);function _0x2d2386(_0xe34f0b,_0x3b5a65){const _0x3cf785=_0x21d7,_0xcddf25=tf38[_0x3cf785(0x2d8)](_0x2603d2(_0xe34f0b)),_0x20ff86=tf38['tensor1d'](_0x2603d2(_0xe34f0b));return _0x16370f['push']({'paramPath':_0x3b5a65+_0x3cf785(0x235)},{'paramPath':_0x3b5a65+'/truediv'}),{'sub':_0xcddf25,'truediv':_0x20ff86};}function _0x3b59b8(_0x5391ff,_0x25cfd8,_0xa64882){const _0xa31767=_0x21d7,_0x17052d=_0x5e515c(_0x5391ff,_0x25cfd8,0x3,_0xa64882+'/conv'),_0x24687e=_0x2d2386(_0x25cfd8,_0xa64882+_0xa31767(0x104));return{'conv':_0x17052d,'bn':_0x24687e};}const _0x59470a=extractSeparableConvParamsFactory(_0x2603d2,_0x16370f);return{'extractConvParams':_0x5e515c,'extractConvWithBatchNormParams':_0x3b59b8,'extractSeparableConvParams':_0x59470a};}function extractParams7(_0x2f5197,_0x38d302,_0x28a61a,_0x292921){const _0x57c639=_0x223da0,{extractWeights:_0x422c35,getRemainingWeights:_0x151187}=extractWeightsFactory(_0x2f5197),_0x27f943=[],{extractConvParams:_0x19000a,extractConvWithBatchNormParams:_0x341a7d,extractSeparableConvParams:_0x5b4aa8}=extractorsFactory7(_0x422c35,_0x27f943);let _0x487248;if(_0x38d302['withSeparableConvs']){const [_0x259413,_0x3205ae,_0x3f719e,_0x5a7bb5,_0x1a4c9d,_0x59b4e9,_0x126428,_0x2dbd17,_0x943b46]=_0x292921,_0x3e8de0=_0x38d302[_0x57c639(0x1f7)]?_0x19000a(_0x259413,_0x3205ae,0x3,_0x57c639(0x186)):_0x5b4aa8(_0x259413,_0x3205ae,_0x57c639(0x186)),_0x1e616f=_0x5b4aa8(_0x3205ae,_0x3f719e,_0x57c639(0x287)),_0x2dd03d=_0x5b4aa8(_0x3f719e,_0x5a7bb5,_0x57c639(0x133)),_0x2a7794=_0x5b4aa8(_0x5a7bb5,_0x1a4c9d,_0x57c639(0x12b)),_0x2bf2c9=_0x5b4aa8(_0x1a4c9d,_0x59b4e9,_0x57c639(0x274)),_0x4a8497=_0x5b4aa8(_0x59b4e9,_0x126428,'conv5'),_0x5f3fde=_0x2dbd17?_0x5b4aa8(_0x126428,_0x2dbd17,_0x57c639(0x1ed)):void 0x0,_0x5e8bc1=_0x943b46?_0x5b4aa8(_0x2dbd17,_0x943b46,_0x57c639(0x2b8)):void 0x0,_0x5d7c25=_0x19000a(_0x943b46||_0x2dbd17||_0x126428,0x5*_0x28a61a,0x1,_0x57c639(0x1fd));_0x487248={'conv0':_0x3e8de0,'conv1':_0x1e616f,'conv2':_0x2dd03d,'conv3':_0x2a7794,'conv4':_0x2bf2c9,'conv5':_0x4a8497,'conv6':_0x5f3fde,'conv7':_0x5e8bc1,'conv8':_0x5d7c25};}else{const [_0x364628,_0x5e04d4,_0x3df274,_0x300ad3,_0x332b50,_0x43b862,_0x13b21e,_0x2c9ac2,_0x161433]=_0x292921,_0x55edbe=_0x341a7d(_0x364628,_0x5e04d4,_0x57c639(0x186)),_0x283c24=_0x341a7d(_0x5e04d4,_0x3df274,'conv1'),_0xfc2cec=_0x341a7d(_0x3df274,_0x300ad3,_0x57c639(0x133)),_0x2cf763=_0x341a7d(_0x300ad3,_0x332b50,_0x57c639(0x12b)),_0x31e280=_0x341a7d(_0x332b50,_0x43b862,'conv4'),_0x5c98fc=_0x341a7d(_0x43b862,_0x13b21e,_0x57c639(0x1ca)),_0x334596=_0x341a7d(_0x13b21e,_0x2c9ac2,_0x57c639(0x1ed)),_0x371f64=_0x341a7d(_0x2c9ac2,_0x161433,'conv7'),_0xdb4cf=_0x19000a(_0x161433,0x5*_0x28a61a,0x1,'conv8');_0x487248={'conv0':_0x55edbe,'conv1':_0x283c24,'conv2':_0xfc2cec,'conv3':_0x2cf763,'conv4':_0x31e280,'conv5':_0x5c98fc,'conv6':_0x334596,'conv7':_0x371f64,'conv8':_0xdb4cf};}if(_0x151187()[_0x57c639(0x1b5)]!==0x0)throw new Error(_0x57c639(0x2f8)+_0x151187()['length']);return{'params':_0x487248,'paramMappings':_0x27f943};}function extractorsFactory8(_0x148676,_0x51413b){const _0x531af3=extractWeightEntryFactory(_0x148676,_0x51413b);function _0x1b5dfe(_0x342404){const _0x2b2a7b=_0x21d7,_0xa23e0=_0x531af3(_0x342404+_0x2b2a7b(0x235),0x1),_0x28291c=_0x531af3(_0x342404+_0x2b2a7b(0x17a),0x1);return{'sub':_0xa23e0,'truediv':_0x28291c};}function _0xa7a51b(_0x5e8ea2){const _0x3a6ea1=_0x21d7,_0x561d11=_0x531af3(_0x5e8ea2+_0x3a6ea1(0x22c),0x4),_0x396e83=_0x531af3(_0x5e8ea2+_0x3a6ea1(0x26d),0x1);return{'filters':_0x561d11,'bias':_0x396e83};}function _0x294fc1(_0x58f6fc){const _0x4f87c0=_0x21d7,_0x8bfce7=_0xa7a51b(_0x58f6fc+_0x4f87c0(0xcb)),_0x28b73b=_0x1b5dfe(_0x58f6fc+_0x4f87c0(0x104));return{'conv':_0x8bfce7,'bn':_0x28b73b};}const _0x3c912b=loadSeparableConvParamsFactory(_0x531af3);return{'extractConvParams':_0xa7a51b,'extractConvWithBatchNormParams':_0x294fc1,'extractSeparableConvParams':_0x3c912b};}function extractParamsFromWeightMap7(_0x221245,_0x1cbd93){const _0x5cb5b5=_0x223da0,_0x13e564=[],{extractConvParams:_0x4c926b,extractConvWithBatchNormParams:_0x13df1d,extractSeparableConvParams:_0x1a2633}=extractorsFactory8(_0x221245,_0x13e564);let _0x768e90;if(_0x1cbd93[_0x5cb5b5(0x217)]){const _0xbe4a04=_0x1cbd93['filterSizes']&&_0x1cbd93['filterSizes'][_0x5cb5b5(0x1b5)]||0x9;_0x768e90={'conv0':_0x1cbd93[_0x5cb5b5(0x1f7)]?_0x4c926b('conv0'):_0x1a2633('conv0'),'conv1':_0x1a2633(_0x5cb5b5(0x287)),'conv2':_0x1a2633(_0x5cb5b5(0x133)),'conv3':_0x1a2633('conv3'),'conv4':_0x1a2633(_0x5cb5b5(0x274)),'conv5':_0x1a2633('conv5'),'conv6':_0xbe4a04>0x7?_0x1a2633('conv6'):void 0x0,'conv7':_0xbe4a04>0x8?_0x1a2633(_0x5cb5b5(0x2b8)):void 0x0,'conv8':_0x4c926b(_0x5cb5b5(0x1fd))};}else _0x768e90={'conv0':_0x13df1d(_0x5cb5b5(0x186)),'conv1':_0x13df1d(_0x5cb5b5(0x287)),'conv2':_0x13df1d(_0x5cb5b5(0x133)),'conv3':_0x13df1d(_0x5cb5b5(0x12b)),'conv4':_0x13df1d(_0x5cb5b5(0x274)),'conv5':_0x13df1d('conv5'),'conv6':_0x13df1d(_0x5cb5b5(0x1ed)),'conv7':_0x13df1d('conv7'),'conv8':_0x4c926b('conv8')};return disposeUnusedWeightTensors(_0x221245,_0x13e564),{'params':_0x768e90,'paramMappings':_0x13e564};}var TinyYolov2Options=class{constructor({inputSize:_0x3ca764,scoreThreshold:_0x2d1738}={}){const _0x277955=_0x223da0;this['_name']=_0x277955(0x187),this[_0x277955(0x2b4)]=_0x3ca764||0x1a0,this[_0x277955(0x143)]=_0x2d1738||0.5;if(typeof this[_0x277955(0x2b4)]!==_0x277955(0xac)||this[_0x277955(0x2b4)]%0x20!==0x0)throw new Error(this['_name']+_0x277955(0x182));if(typeof this[_0x277955(0x143)]!==_0x277955(0xac)||this['_scoreThreshold']<=0x0||this[_0x277955(0x143)]>=0x1)throw new Error(this['_name']+_0x277955(0x16e));}get[_0x223da0(0x13a)](){const _0x26fbbc=_0x223da0;return this[_0x26fbbc(0x2b4)];}get[_0x223da0(0x173)](){const _0x1ca119=_0x223da0;return this[_0x1ca119(0x143)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x39adc6){const _0x57fa9b=_0x223da0;super(_0x57fa9b(0x2d6)),validateConfig(_0x39adc6),this[_0x57fa9b(0xf9)]=_0x39adc6;}get['config'](){const _0x2a9704=_0x223da0;return this[_0x2a9704(0xf9)];}get[_0x223da0(0x270)](){const _0x3eb976=_0x223da0;return this[_0x3eb976(0x1a3)][_0x3eb976(0x270)]||this['config']['classes'][_0x3eb976(0x1b5)]>0x1;}get[_0x223da0(0xdf)](){const _0x5ce74d=_0x223da0;return 0x5+(this[_0x5ce74d(0x270)]?this[_0x5ce74d(0x1a3)][_0x5ce74d(0x22e)]['length']:0x0);}[_0x223da0(0x27f)](_0xe6975e,_0x11eaed){const _0x461642=_0x223da0;let _0x5cdf77=convWithBatchNorm(_0xe6975e,_0x11eaed[_0x461642(0x186)]);return _0x5cdf77=tf39[_0x461642(0x21d)](_0x5cdf77,[0x2,0x2],[0x2,0x2],_0x461642(0xc2)),_0x5cdf77=convWithBatchNorm(_0x5cdf77,_0x11eaed[_0x461642(0x287)]),_0x5cdf77=tf39[_0x461642(0x21d)](_0x5cdf77,[0x2,0x2],[0x2,0x2],_0x461642(0xc2)),_0x5cdf77=convWithBatchNorm(_0x5cdf77,_0x11eaed[_0x461642(0x133)]),_0x5cdf77=tf39['maxPool'](_0x5cdf77,[0x2,0x2],[0x2,0x2],_0x461642(0xc2)),_0x5cdf77=convWithBatchNorm(_0x5cdf77,_0x11eaed[_0x461642(0x12b)]),_0x5cdf77=tf39[_0x461642(0x21d)](_0x5cdf77,[0x2,0x2],[0x2,0x2],_0x461642(0xc2)),_0x5cdf77=convWithBatchNorm(_0x5cdf77,_0x11eaed[_0x461642(0x274)]),_0x5cdf77=tf39[_0x461642(0x21d)](_0x5cdf77,[0x2,0x2],[0x2,0x2],_0x461642(0xc2)),_0x5cdf77=convWithBatchNorm(_0x5cdf77,_0x11eaed['conv5']),_0x5cdf77=tf39[_0x461642(0x21d)](_0x5cdf77,[0x2,0x2],[0x1,0x1],_0x461642(0xc2)),_0x5cdf77=convWithBatchNorm(_0x5cdf77,_0x11eaed[_0x461642(0x1ed)]),_0x5cdf77=convWithBatchNorm(_0x5cdf77,_0x11eaed[_0x461642(0x2b8)]),convLayer(_0x5cdf77,_0x11eaed[_0x461642(0x1fd)],_0x461642(0x228),![]);}[_0x223da0(0x170)](_0x3edcdb,_0x556ff4){const _0x2d6bf5=_0x223da0;let _0x326b3c=this[_0x2d6bf5(0x1a3)][_0x2d6bf5(0x1f7)]?leaky(convLayer(_0x3edcdb,_0x556ff4['conv0'],_0x2d6bf5(0x228),![])):depthwiseSeparableConv2(_0x3edcdb,_0x556ff4[_0x2d6bf5(0x186)]);return _0x326b3c=tf39[_0x2d6bf5(0x21d)](_0x326b3c,[0x2,0x2],[0x2,0x2],_0x2d6bf5(0xc2)),_0x326b3c=depthwiseSeparableConv2(_0x326b3c,_0x556ff4[_0x2d6bf5(0x287)]),_0x326b3c=tf39[_0x2d6bf5(0x21d)](_0x326b3c,[0x2,0x2],[0x2,0x2],_0x2d6bf5(0xc2)),_0x326b3c=depthwiseSeparableConv2(_0x326b3c,_0x556ff4[_0x2d6bf5(0x133)]),_0x326b3c=tf39[_0x2d6bf5(0x21d)](_0x326b3c,[0x2,0x2],[0x2,0x2],_0x2d6bf5(0xc2)),_0x326b3c=depthwiseSeparableConv2(_0x326b3c,_0x556ff4[_0x2d6bf5(0x12b)]),_0x326b3c=tf39[_0x2d6bf5(0x21d)](_0x326b3c,[0x2,0x2],[0x2,0x2],_0x2d6bf5(0xc2)),_0x326b3c=depthwiseSeparableConv2(_0x326b3c,_0x556ff4[_0x2d6bf5(0x274)]),_0x326b3c=tf39['maxPool'](_0x326b3c,[0x2,0x2],[0x2,0x2],_0x2d6bf5(0xc2)),_0x326b3c=depthwiseSeparableConv2(_0x326b3c,_0x556ff4['conv5']),_0x326b3c=tf39[_0x2d6bf5(0x21d)](_0x326b3c,[0x2,0x2],[0x1,0x1],_0x2d6bf5(0xc2)),_0x326b3c=_0x556ff4[_0x2d6bf5(0x1ed)]?depthwiseSeparableConv2(_0x326b3c,_0x556ff4[_0x2d6bf5(0x1ed)]):_0x326b3c,_0x326b3c=_0x556ff4['conv7']?depthwiseSeparableConv2(_0x326b3c,_0x556ff4[_0x2d6bf5(0x2b8)]):_0x326b3c,convLayer(_0x326b3c,_0x556ff4[_0x2d6bf5(0x1fd)],_0x2d6bf5(0x228),![]);}[_0x223da0(0x11a)](_0x4bdaa0,_0x231295){const {params:_0x345b38}=this;if(!_0x345b38)throw new Error('TinyYolov2\x20-\x20load\x20model\x20before\x20inference');return tf39['tidy'](()=>{const _0x567937=_0x21d7;let _0x164c22=tf39['cast'](_0x4bdaa0[_0x567937(0x136)](_0x231295,![]),_0x567937(0x83));return _0x164c22=this['config'][_0x567937(0x254)]?normalize(_0x164c22,this[_0x567937(0x1a3)][_0x567937(0x254)]):_0x164c22,_0x164c22=_0x164c22['div'](0xff),this[_0x567937(0x1a3)][_0x567937(0x217)]?this[_0x567937(0x170)](_0x164c22,_0x345b38):this['runTinyYolov2'](_0x164c22,_0x345b38);});}async[_0x223da0(0x155)](_0x23f9a5,_0x2323e9){const _0x3876f5=_0x223da0;return this[_0x3876f5(0x11a)](await toNetInput(_0x23f9a5),_0x2323e9);}async[_0x223da0(0x113)](_0x2d9d4f,_0x4a971f={}){const _0x446dc8=_0x223da0,{inputSize:_0x3d8e3e,scoreThreshold:_0x2f054c}=new TinyYolov2Options(_0x4a971f),_0x3b52a4=await toNetInput(_0x2d9d4f),_0x4efce9=await this[_0x446dc8(0x11a)](_0x3b52a4,_0x3d8e3e),_0x32f144=tf39[_0x446dc8(0xdc)](()=>tf39['unstack'](_0x4efce9)[0x0][_0x446dc8(0xa6)]()),_0x55b522={'width':_0x3b52a4[_0x446dc8(0xef)](0x0),'height':_0x3b52a4[_0x446dc8(0x91)](0x0)},_0x57aac4=await this['extractBoxes'](_0x32f144,_0x3b52a4[_0x446dc8(0xdd)](0x0),_0x2f054c);_0x4efce9[_0x446dc8(0x224)](),_0x32f144[_0x446dc8(0x224)]();const _0x3c4b32=_0x57aac4[_0x446dc8(0x2c2)](_0x58a767=>_0x58a767[_0x446dc8(0xab)]),_0x3d2581=_0x57aac4[_0x446dc8(0x2c2)](_0xe6de1a=>_0xe6de1a[_0x446dc8(0x296)]),_0x443673=_0x57aac4[_0x446dc8(0x2c2)](_0x34acc5=>_0x34acc5[_0x446dc8(0xe2)]),_0x452c0d=_0x57aac4[_0x446dc8(0x2c2)](_0x2c7cb3=>this[_0x446dc8(0x1a3)][_0x446dc8(0x22e)][_0x2c7cb3[_0x446dc8(0x118)]]),_0x22b1fe=nonMaxSuppression(_0x3c4b32[_0x446dc8(0x2c2)](_0x30ad44=>_0x30ad44[_0x446dc8(0x2ad)](_0x3d8e3e)),_0x3d2581,this['config']['iouThreshold'],!![]),_0x4626e0=_0x22b1fe[_0x446dc8(0x2c2)](_0x22f68a=>new ObjectDetection(_0x3d2581[_0x22f68a],_0x443673[_0x22f68a],_0x452c0d[_0x22f68a],_0x3c4b32[_0x22f68a],_0x55b522));return _0x4626e0;}[_0x223da0(0x169)](){return'';}[_0x223da0(0x8f)](_0x3974e6){const _0x38bf3d=_0x223da0;return extractParamsFromWeightMap7(_0x3974e6,this[_0x38bf3d(0x1a3)]);}[_0x223da0(0x24d)](_0x196c0e){const _0x3be71e=_0x223da0,_0x2ace8f=this[_0x3be71e(0x1a3)][_0x3be71e(0x101)]||_TinyYolov2Base['DEFAULT_FILTER_SIZES'],_0x3fab20=_0x2ace8f?_0x2ace8f[_0x3be71e(0x1b5)]:void 0x0;if(_0x3fab20!==0x7&&_0x3fab20!==0x8&&_0x3fab20!==0x9)throw new Error(_0x3be71e(0x2ea)+_0x3fab20+'\x20filterSizes\x20in\x20config');return extractParams7(_0x196c0e,this[_0x3be71e(0x1a3)],this[_0x3be71e(0xdf)],_0x2ace8f);}async[_0x223da0(0x20f)](_0x165d07,_0x2178c9,_0x639483){const _0x392d95=_0x223da0,{width:_0x240553,height:_0x42f062}=_0x2178c9,_0x7faff5=Math[_0x392d95(0xc7)](_0x240553,_0x42f062),_0x5b6df7=_0x7faff5/_0x240553,_0x599fca=_0x7faff5/_0x42f062,_0x11ca49=_0x165d07[_0x392d95(0x2a9)][0x1],_0x569789=this['config'][_0x392d95(0x2a6)][_0x392d95(0x1b5)],[_0x43dd90,_0x1f500e,_0xf1d38c]=tf39[_0x392d95(0xdc)](()=>{const _0x21c60e=_0x392d95,_0x47c5a6=_0x165d07[_0x21c60e(0x19e)]([_0x11ca49,_0x11ca49,_0x569789,this[_0x21c60e(0xdf)]]),_0x56f685=_0x47c5a6[_0x21c60e(0x284)]([0x0,0x0,0x0,0x0],[_0x11ca49,_0x11ca49,_0x569789,0x4]),_0x2a39ee=_0x47c5a6[_0x21c60e(0x284)]([0x0,0x0,0x0,0x4],[_0x11ca49,_0x11ca49,_0x569789,0x1]),_0x238d8d=this[_0x21c60e(0x270)]?tf39[_0x21c60e(0x171)](_0x47c5a6[_0x21c60e(0x284)]([0x0,0x0,0x0,0x5],[_0x11ca49,_0x11ca49,_0x569789,this[_0x21c60e(0x1a3)][_0x21c60e(0x22e)][_0x21c60e(0x1b5)]]),0x3):tf39[_0x21c60e(0x110)](0x0);return[_0x56f685,_0x2a39ee,_0x238d8d];}),_0x3477e6=[],_0x5e26ca=await _0x1f500e[_0x392d95(0x2b0)](),_0x448e45=await _0x43dd90[_0x392d95(0x2b0)]();for(let _0x5b1c50=0x0;_0x5b1c50<_0x11ca49;_0x5b1c50++){for(let _0x4b3135=0x0;_0x4b3135<_0x11ca49;_0x4b3135++){for(let _0x3f4323=0x0;_0x3f4323<_0x569789;_0x3f4323++){const _0x452aff=sigmoid(_0x5e26ca[_0x5b1c50][_0x4b3135][_0x3f4323][0x0]);if(!_0x639483||_0x452aff>_0x639483){const _0x38e660=(_0x4b3135+sigmoid(_0x448e45[_0x5b1c50][_0x4b3135][_0x3f4323][0x0]))/_0x11ca49*_0x5b6df7,_0x10de3e=(_0x5b1c50+sigmoid(_0x448e45[_0x5b1c50][_0x4b3135][_0x3f4323][0x1]))/_0x11ca49*_0x599fca,_0x26e362=Math['exp'](_0x448e45[_0x5b1c50][_0x4b3135][_0x3f4323][0x2])*this[_0x392d95(0x1a3)][_0x392d95(0x2a6)][_0x3f4323]['x']/_0x11ca49*_0x5b6df7,_0x504331=Math[_0x392d95(0xb6)](_0x448e45[_0x5b1c50][_0x4b3135][_0x3f4323][0x3])*this[_0x392d95(0x1a3)][_0x392d95(0x2a6)][_0x3f4323]['y']/_0x11ca49*_0x599fca,_0x4300f8=_0x38e660-_0x26e362/0x2,_0x36c8e8=_0x10de3e-_0x504331/0x2,_0x554937={'row':_0x5b1c50,'col':_0x4b3135,'anchor':_0x3f4323},{classScore:_0x350b4c,label:_0x2fe6d3}=this[_0x392d95(0x270)]?await this['extractPredictedClass'](_0xf1d38c,_0x554937):{'classScore':0x1,'label':0x0};_0x3477e6[_0x392d95(0x159)]({'box':new BoundingBox(_0x4300f8,_0x36c8e8,_0x4300f8+_0x26e362,_0x36c8e8+_0x504331),'score':_0x452aff,'classScore':_0x452aff*_0x350b4c,'label':_0x2fe6d3,..._0x554937});}}}}return _0x43dd90['dispose'](),_0x1f500e[_0x392d95(0x224)](),_0xf1d38c[_0x392d95(0x224)](),_0x3477e6;}async[_0x223da0(0x1d1)](_0x81822f,_0xe751dd){const _0xff3dd2=_0x223da0,{row:_0x832965,col:_0x3e7663,anchor:_0x150f62}=_0xe751dd,_0x2b0737=await _0x81822f[_0xff3dd2(0x2b0)]();return Array(this[_0xff3dd2(0x1a3)][_0xff3dd2(0x22e)][_0xff3dd2(0x1b5)])[_0xff3dd2(0xba)](0x0)['map']((_0x6405e7,_0x129113)=>_0x2b0737[_0x832965][_0x3e7663][_0x150f62][_0x129113])[_0xff3dd2(0x2c2)]((_0x2d7fe7,_0x24a41d)=>({'classScore':_0x2d7fe7,'label':_0x24a41d}))[_0xff3dd2(0x2c8)]((_0x5e17e3,_0x242416)=>_0x5e17e3[_0xff3dd2(0xe2)]>_0x242416[_0xff3dd2(0xe2)]?_0x5e17e3:_0x242416);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base['DEFAULT_FILTER_SIZES']=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x37c274=!![]){const _0x39c496={'withSeparableConvs':_0x37c274,'iouThreshold':IOU_THRESHOLD,'classes':['face'],..._0x37c274?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x39c496);}get['withSeparableConvs'](){const _0x3b576d=_0x223da0;return this[_0x3b576d(0x1a3)][_0x3b576d(0x217)];}get['anchors'](){const _0x5c41e4=_0x223da0;return this[_0x5c41e4(0x1a3)][_0x5c41e4(0x2a6)];}async['locateFaces'](_0x5098d8,_0x410357){const _0x39bddb=_0x223da0,_0x3919c1=await this[_0x39bddb(0x113)](_0x5098d8,_0x410357);return _0x3919c1[_0x39bddb(0x2c2)](_0x5eab6d=>new FaceDetection(_0x5eab6d[_0x39bddb(0x296)],_0x5eab6d[_0x39bddb(0x1e3)],{'width':_0x5eab6d[_0x39bddb(0xe3)],'height':_0x5eab6d['imageHeight']}));}[_0x223da0(0x169)](){return this['withSeparableConvs']?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x223da0(0x8f)](_0x19625e){return super['extractParamsFromWeightMap'](_0x19625e);}};function createTinyYolov2(_0xfeec31,_0x440025=!![]){const _0x6cef88=new TinyYolov2(_0x440025);return _0x6cef88['extractWeights'](_0xfeec31),_0x6cef88;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){const _0x5c7be7=_0x223da0;super(...arguments),this['_name']=_0x5c7be7(0x2f1);}},ComposableTask=class{async[_0x223da0(0x1a4)](_0x1e2bf5){const _0x544453=_0x223da0;return _0x1e2bf5(await this[_0x544453(0x1f2)]());}async[_0x223da0(0x1f2)](){throw new Error('ComposableTask\x20-\x20run\x20is\x20not\x20implemented');}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x1b914e,_0x441dfe,_0x2f854e,_0x449677,_0x425b48=({alignedRect:_0x31696c})=>_0x31696c){const _0x40e36d=_0x223da0,_0x375192=_0x1b914e['map'](_0xc7d225=>isWithFaceLandmarks(_0xc7d225)?_0x425b48(_0xc7d225):_0xc7d225['detection']),_0x1dc86a=_0x449677||(_0x441dfe instanceof tf40['Tensor']?await extractFaceTensors(_0x441dfe,_0x375192):await extractFaces(_0x441dfe,_0x375192)),_0x15ae6c=await _0x2f854e(_0x1dc86a);return _0x1dc86a[_0x40e36d(0x19b)](_0x14a2fa=>_0x14a2fa instanceof tf40[_0x40e36d(0x16c)]&&_0x14a2fa[_0x40e36d(0x224)]()),_0x15ae6c;}async function extractSingleFaceAndComputeResult(_0x32a8ce,_0x245e72,_0x3b3747,_0x2c33f2,_0x577d35){return extractAllFacesAndComputeResults([_0x32a8ce],_0x245e72,async _0x1466c5=>_0x3b3747(_0x1466c5[0x0]),_0x2c33f2,_0x577d35);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x46aa10=_0x223da0,_0x315801={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':[_0x46aa10(0xd7)],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x315801);}get[_0x223da0(0x2a6)](){const _0x2fb33e=_0x223da0;return this[_0x2fb33e(0x1a3)][_0x2fb33e(0x2a6)];}async[_0x223da0(0x21f)](_0x450a49,_0x58e50b){const _0xbc4218=_0x223da0,_0x2ef735=await this[_0xbc4218(0x113)](_0x450a49,_0x58e50b);return _0x2ef735[_0xbc4218(0x2c2)](_0x47100b=>new FaceDetection(_0x47100b[_0xbc4218(0x296)],_0x47100b[_0xbc4218(0x1e3)],{'width':_0x47100b[_0xbc4218(0xe3)],'height':_0x47100b[_0xbc4218(0x1b4)]}));}[_0x223da0(0x169)](){const _0x1861b1=_0x223da0;return _0x1861b1(0x14a);}['extractParamsFromWeightMap'](_0x4e0836){const _0xa70046=_0x223da0;return super[_0xa70046(0x8f)](_0x4e0836);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x745e5,_0x23ee0d)=>nets[_0x223da0(0x17c)]['locateFaces'](_0x745e5,_0x23ee0d),tinyFaceDetector=(_0x1408e0,_0x4d3137)=>nets['tinyFaceDetector'][_0x223da0(0x21f)](_0x1408e0,_0x4d3137),tinyYolov2=(_0x287fc5,_0x3b5c79)=>nets[_0x223da0(0x190)][_0x223da0(0x21f)](_0x287fc5,_0x3b5c79),detectFaceLandmarks=_0x2fdee1=>nets[_0x223da0(0x10b)][_0x223da0(0x172)](_0x2fdee1),detectFaceLandmarksTiny=_0x50f5ab=>nets[_0x223da0(0x166)]['detectLandmarks'](_0x50f5ab),computeFaceDescriptor=_0x3d9aec=>nets['faceRecognitionNet'][_0x223da0(0x263)](_0x3d9aec),recognizeFaceExpressions=_0x12a4eb=>nets[_0x223da0(0x244)]['predictExpressions'](_0x12a4eb),predictAgeAndGender=_0x18bf48=>nets['ageGenderNet'][_0x223da0(0x2c7)](_0x18bf48),loadSsdMobilenetv1Model=_0x152a9e=>nets['ssdMobilenetv1'][_0x223da0(0xb5)](_0x152a9e),loadTinyFaceDetectorModel=_0x3bc9c1=>nets['tinyFaceDetector'][_0x223da0(0xb5)](_0x3bc9c1),loadTinyYolov2Model=_0x2d7507=>nets[_0x223da0(0x190)][_0x223da0(0xb5)](_0x2d7507),loadFaceLandmarkModel=_0x11e9a4=>nets[_0x223da0(0x10b)]['load'](_0x11e9a4),loadFaceLandmarkTinyModel=_0x15a64e=>nets[_0x223da0(0x166)]['load'](_0x15a64e),loadFaceRecognitionModel=_0x6efc73=>nets['faceRecognitionNet'][_0x223da0(0xb5)](_0x6efc73),loadFaceExpressionModel=_0x5c4160=>nets[_0x223da0(0x244)][_0x223da0(0xb5)](_0x5c4160),loadAgeGenderModel=_0x637f8a=>nets[_0x223da0(0x2f6)][_0x223da0(0xb5)](_0x637f8a),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x34056e,_0x32780e,_0x418745){const _0x2c8950=_0x223da0;super(),this[_0x2c8950(0xeb)]=_0x34056e,this['input']=_0x32780e,this[_0x2c8950(0x2d1)]=_0x418745;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x223da0(0x1f2)](){const _0x2c72da=_0x223da0,_0x1d1e26=await this['parentTask'],_0x50c613=await extractAllFacesAndComputeResults(_0x1d1e26,this[_0x2c72da(0x231)],async _0x122db6=>Promise[_0x2c72da(0xa2)](_0x122db6[_0x2c72da(0x2c2)](_0xb9717e=>nets['faceExpressionNet'][_0x2c72da(0xfd)](_0xb9717e))),this[_0x2c72da(0x2d1)]);return _0x1d1e26[_0x2c72da(0x2c2)]((_0x170469,_0x5b59c6)=>extendWithFaceExpressions(_0x170469,_0x50c613[_0x5b59c6]));}[_0x223da0(0xfb)](){const _0x1458bf=_0x223da0;return new PredictAllAgeAndGenderTask(this,this[_0x1458bf(0x231)]);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x223da0(0x1f2)](){const _0x333b7c=_0x223da0,_0x46c2e7=await this[_0x333b7c(0xeb)];if(!_0x46c2e7)return void 0x0;const _0x4c77ae=await extractSingleFaceAndComputeResult(_0x46c2e7,this[_0x333b7c(0x231)],_0x5ed794=>nets['faceExpressionNet'][_0x333b7c(0xfd)](_0x5ed794),this[_0x333b7c(0x2d1)]);return extendWithFaceExpressions(_0x46c2e7,_0x4c77ae);}[_0x223da0(0xfb)](){return new PredictSingleAgeAndGenderTask(this,this['input']);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{[_0x223da0(0xfb)](){const _0x2fef13=_0x223da0;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x2fef13(0x231)]);}['withFaceDescriptors'](){const _0x160235=_0x223da0;return new ComputeAllFaceDescriptorsTask(this,this[_0x160235(0x231)]);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x223da0(0xfb)](){const _0xef6b52=_0x223da0;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0xef6b52(0x231)]);}['withFaceDescriptor'](){const _0x2d6a81=_0x223da0;return new ComputeSingleFaceDescriptorTask(this,this[_0x2d6a81(0x231)]);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x1850a8,_0xbe818a,_0x4c0808){const _0x4647ec=_0x223da0;super(),this[_0x4647ec(0xeb)]=_0x1850a8,this[_0x4647ec(0x231)]=_0xbe818a,this[_0x4647ec(0x2d1)]=_0x4c0808;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x223da0(0x1f2)](){const _0x23f449=_0x223da0,_0x5c71a9=await this[_0x23f449(0xeb)],_0x348594=await extractAllFacesAndComputeResults(_0x5c71a9,this[_0x23f449(0x231)],async _0x5de597=>Promise[_0x23f449(0xa2)](_0x5de597['map'](_0x5c61f0=>nets['ageGenderNet'][_0x23f449(0x2c7)](_0x5c61f0))),this['extractedFaces']);return _0x5c71a9[_0x23f449(0x2c2)]((_0x43be7c,_0x2fcf53)=>{const {age:_0xf4df21,gender:_0x2da871,genderProbability:_0x514759}=_0x348594[_0x2fcf53];return extendWithAge(extendWithGender(_0x43be7c,_0x2da871,_0x514759),_0xf4df21);});}[_0x223da0(0x184)](){const _0x86df5c=_0x223da0;return new PredictAllFaceExpressionsTask(this,this[_0x86df5c(0x231)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async['run'](){const _0x5859a6=_0x223da0,_0x2aac74=await this[_0x5859a6(0xeb)];if(!_0x2aac74)return void 0x0;const {age:_0x441762,gender:_0x1dd97b,genderProbability:_0x1bb7ca}=await extractSingleFaceAndComputeResult(_0x2aac74,this[_0x5859a6(0x231)],_0xe9f0c3=>nets[_0x5859a6(0x2f6)][_0x5859a6(0x2c7)](_0xe9f0c3),this[_0x5859a6(0x2d1)]);return extendWithAge(extendWithGender(_0x2aac74,_0x1dd97b,_0x1bb7ca),_0x441762);}[_0x223da0(0x184)](){const _0x152eba=_0x223da0;return new PredictSingleFaceExpressionsTask(this,this[_0x152eba(0x231)]);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{[_0x223da0(0x184)](){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x223da0(0x9a)](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{['withFaceExpressions'](){const _0x5a5021=_0x223da0;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x5a5021(0x231)]);}[_0x223da0(0x10c)](){const _0x19913a=_0x223da0;return new ComputeSingleFaceDescriptorTask(this,this[_0x19913a(0x231)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0x5439c6,_0x506dba){const _0x19b7a9=_0x223da0;super(),this[_0x19b7a9(0xeb)]=_0x5439c6,this[_0x19b7a9(0x231)]=_0x506dba;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async['run'](){const _0x3cd7f5=_0x223da0,_0x33aea2=await this[_0x3cd7f5(0xeb)],_0x43de6c=await extractAllFacesAndComputeResults(_0x33aea2,this['input'],_0x2e7d9b=>Promise['all'](_0x2e7d9b[_0x3cd7f5(0x2c2)](_0x3d873a=>nets['faceRecognitionNet'][_0x3cd7f5(0x263)](_0x3d873a))),null,_0x48e624=>_0x48e624['landmarks'][_0x3cd7f5(0x90)](null,{'useDlibAlignment':!![]}));return _0x43de6c[_0x3cd7f5(0x2c2)]((_0x1488a4,_0x3915a2)=>extendWithFaceDescriptor(_0x33aea2[_0x3915a2],_0x1488a4));}['withFaceExpressions'](){const _0x5dcb7d=_0x223da0;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x5dcb7d(0x231)]);}[_0x223da0(0xfb)](){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this['input']);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x223da0(0x1f2)](){const _0x31339d=_0x223da0,_0x880b3a=await this[_0x31339d(0xeb)];if(!_0x880b3a)return void 0x0;const _0x3cc251=await extractSingleFaceAndComputeResult(_0x880b3a,this[_0x31339d(0x231)],_0x187c51=>nets[_0x31339d(0x2b6)][_0x31339d(0x263)](_0x187c51),null,_0x1bce71=>_0x1bce71[_0x31339d(0x1a5)][_0x31339d(0x90)](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x880b3a,_0x3cc251);}[_0x223da0(0x184)](){const _0xd25ae=_0x223da0;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0xd25ae(0x231)]);}[_0x223da0(0xfb)](){const _0x5f4ed8=_0x223da0;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x5f4ed8(0x231)]);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0x15f049,_0x2d7942,_0x28ea67){const _0x31c694=_0x223da0;super(),this[_0x31c694(0xeb)]=_0x15f049,this[_0x31c694(0x231)]=_0x2d7942,this['useTinyLandmarkNet']=_0x28ea67;}get[_0x223da0(0x168)](){const _0xe2c38a=_0x223da0;return this[_0xe2c38a(0x2ac)]?nets['faceLandmark68TinyNet']:nets[_0xe2c38a(0x10b)];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async['run'](){const _0x471ff3=_0x223da0,_0x60a0d=await this[_0x471ff3(0xeb)],_0x10d18d=_0x60a0d[_0x471ff3(0x2c2)](_0x3e0a9e=>_0x3e0a9e[_0x471ff3(0xd4)]),_0x376017=this[_0x471ff3(0x231)]instanceof tf41[_0x471ff3(0x16c)]?await extractFaceTensors(this[_0x471ff3(0x231)],_0x10d18d):await extractFaces(this[_0x471ff3(0x231)],_0x10d18d),_0x4366e3=await Promise[_0x471ff3(0xa2)](_0x376017['map'](_0x8bf6c8=>this[_0x471ff3(0x168)][_0x471ff3(0x172)](_0x8bf6c8)));_0x376017[_0x471ff3(0x19b)](_0x22077f=>_0x22077f instanceof tf41[_0x471ff3(0x16c)]&&_0x22077f[_0x471ff3(0x224)]());const _0x3265a6=_0x60a0d['filter']((_0x57cff0,_0x4981f6)=>_0x4366e3[_0x4981f6])['map']((_0x7f3d02,_0xf46e26)=>extendWithFaceLandmarks(_0x7f3d02,_0x4366e3[_0xf46e26]));return _0x3265a6;}[_0x223da0(0x184)](){return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this['input']);}[_0x223da0(0xfb)](){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this['input']);}['withFaceDescriptors'](){const _0x24f109=_0x223da0;return new ComputeAllFaceDescriptorsTask(this,this[_0x24f109(0x231)]);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async['run'](){const _0x1b7b68=_0x223da0,_0x119a2b=await this[_0x1b7b68(0xeb)];if(!_0x119a2b)return void 0x0;const {detection:_0x21ca6b}=_0x119a2b,_0x14daad=this[_0x1b7b68(0x231)]instanceof tf41['Tensor']?await extractFaceTensors(this[_0x1b7b68(0x231)],[_0x21ca6b]):await extractFaces(this[_0x1b7b68(0x231)],[_0x21ca6b]),_0x4d0a55=await this[_0x1b7b68(0x168)][_0x1b7b68(0x172)](_0x14daad[0x0]);return _0x14daad[_0x1b7b68(0x19b)](_0x321597=>_0x321597 instanceof tf41[_0x1b7b68(0x16c)]&&_0x321597[_0x1b7b68(0x224)]()),extendWithFaceLandmarks(_0x119a2b,_0x4d0a55);}[_0x223da0(0x184)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}['withAgeAndGender'](){const _0xf8e23f=_0x223da0;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0xf8e23f(0x231)]);}[_0x223da0(0x10c)](){const _0x3cf7c1=_0x223da0;return new ComputeSingleFaceDescriptorTask(this,this[_0x3cf7c1(0x231)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x22fb6e,_0x5e77ef=new SsdMobilenetv1Options()){const _0x5f0de3=_0x223da0;super(),this[_0x5f0de3(0x231)]=_0x22fb6e,this[_0x5f0de3(0x1f8)]=_0x5e77ef;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async[_0x223da0(0x1f2)](){const _0x9cec0e=_0x223da0,{input:_0x2aca2d,options:_0x41b810}=this;let _0x35ae66;if(_0x41b810 instanceof TinyFaceDetectorOptions)_0x35ae66=nets[_0x9cec0e(0x256)][_0x9cec0e(0x21f)](_0x2aca2d,_0x41b810);else{if(_0x41b810 instanceof SsdMobilenetv1Options)_0x35ae66=nets['ssdMobilenetv1']['locateFaces'](_0x2aca2d,_0x41b810);else{if(_0x41b810 instanceof TinyYolov2Options)_0x35ae66=nets['tinyYolov2'][_0x9cec0e(0x21f)](_0x2aca2d,_0x41b810);else throw new Error(_0x9cec0e(0x1cf));}}return _0x35ae66;}[_0x223da0(0xe8)](){return new Promise((_0x130bac,_0x3987b1)=>{const _0x238740=_0x21d7;this['run']()[_0x238740(0x1a4)](_0x1751c1=>_0x130bac(_0x1751c1[_0x238740(0x2c2)](_0x1b9461=>extendWithFaceDetection({},_0x1b9461))))[_0x238740(0x26f)](_0x101817=>_0x3987b1(_0x101817));});}[_0x223da0(0x2b9)](_0xd9aebb=![]){const _0x427a27=_0x223da0;return new DetectAllFaceLandmarksTask(this['runAndExtendWithFaceDetections'](),this[_0x427a27(0x231)],_0xd9aebb);}[_0x223da0(0x184)](){const _0x3b4e58=_0x223da0;return new PredictAllFaceExpressionsTask(this[_0x3b4e58(0xe8)](),this[_0x3b4e58(0x231)]);}[_0x223da0(0xfb)](){const _0x2e9712=_0x223da0;return new PredictAllAgeAndGenderTask(this[_0x2e9712(0xe8)](),this[_0x2e9712(0x231)]);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x223da0(0x1f2)](){const _0x588e89=_0x223da0,_0x3ff781=await new DetectAllFacesTask(this[_0x588e89(0x231)],this[_0x588e89(0x1f8)]);let _0x2852e3=_0x3ff781[0x0];return _0x3ff781[_0x588e89(0x19b)](_0x2f8c02=>{const _0x53c120=_0x588e89;if(_0x2f8c02[_0x53c120(0x296)]>_0x2852e3['score'])_0x2852e3=_0x2f8c02;}),_0x2852e3;}[_0x223da0(0x77)](){return new Promise(async _0x369035=>{const _0x5012b9=_0x21d7,_0xd23cc3=await this[_0x5012b9(0x1f2)]();_0x369035(_0xd23cc3?extendWithFaceDetection({},_0xd23cc3):void 0x0);});}[_0x223da0(0x2b9)](_0x174774=![]){const _0x51bc16=_0x223da0;return new DetectSingleFaceLandmarksTask(this[_0x51bc16(0x77)](),this[_0x51bc16(0x231)],_0x174774);}[_0x223da0(0x184)](){return new PredictSingleFaceExpressionsTask(this['runAndExtendWithFaceDetection'](),this['input']);}['withAgeAndGender'](){return new PredictSingleAgeAndGenderTask(this['runAndExtendWithFaceDetection'](),this['input']);}};function detectSingleFace(_0x2a5d7c,_0x1da088=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x2a5d7c,_0x1da088);}function detectAllFaces(_0x284ff2,_0x5cb394=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x284ff2,_0x5cb394);}async function allFacesSsdMobilenetv1(_0x26ee85,_0x3eccd0){return detectAllFaces(_0x26ee85,new SsdMobilenetv1Options(_0x3eccd0?{'minConfidence':_0x3eccd0}:{}))['withFaceLandmarks']()['withFaceDescriptors']();}async function allFacesTinyYolov2(_0x438fd9,_0x4bd2f4={}){const _0x4bfcbf=_0x223da0;return detectAllFaces(_0x438fd9,new TinyYolov2Options(_0x4bd2f4))[_0x4bfcbf(0x2b9)]()['withFaceDescriptors']();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x426aa2,_0x26719f){const _0x32fa5e=_0x223da0;if(_0x426aa2['length']!==_0x26719f[_0x32fa5e(0x1b5)])throw new Error('euclideanDistance:\x20arr1.length\x20!==\x20arr2.length');const _0x3f7d23=Array[_0x32fa5e(0xed)](_0x426aa2),_0x43235a=Array[_0x32fa5e(0xed)](_0x26719f);return Math['sqrt'](_0x3f7d23[_0x32fa5e(0x2c2)]((_0x4cb13d,_0x4e1a75)=>_0x4cb13d-_0x43235a[_0x4e1a75])[_0x32fa5e(0x2c8)]((_0x47716e,_0x2fb3d8)=>_0x47716e+_0x2fb3d8**0x2,0x0));}var FaceMatcher=class{constructor(_0x2b80cb,_0x1f7a24=0.6){const _0xe6464f=_0x223da0;this[_0xe6464f(0x15c)]=_0x1f7a24;const _0x1b00fe=Array[_0xe6464f(0x157)](_0x2b80cb)?_0x2b80cb:[_0x2b80cb];if(!_0x1b00fe['length'])throw new Error(_0xe6464f(0x25e));let _0x4244e7=0x1;const _0xbc6bf1=()=>'person\x20'+_0x4244e7++;this['_labeledDescriptors']=_0x1b00fe[_0xe6464f(0x2c2)](_0xb9a03a=>{const _0x585443=_0xe6464f;if(_0xb9a03a instanceof LabeledFaceDescriptors)return _0xb9a03a;if(_0xb9a03a instanceof Float32Array)return new LabeledFaceDescriptors(_0xbc6bf1(),[_0xb9a03a]);if(_0xb9a03a[_0x585443(0x1bc)]&&_0xb9a03a['descriptor']instanceof Float32Array)return new LabeledFaceDescriptors(_0xbc6bf1(),[_0xb9a03a[_0x585443(0x1bc)]]);throw new Error(_0x585443(0xf5));});}get[_0x223da0(0x116)](){return this['_labeledDescriptors'];}get['distanceThreshold'](){return this['_distanceThreshold'];}['computeMeanDistance'](_0x5062ae,_0x5d90f2){const _0x2f294e=_0x223da0;return _0x5d90f2[_0x2f294e(0x2c2)](_0x2c1feb=>euclideanDistance(_0x2c1feb,_0x5062ae))[_0x2f294e(0x2c8)]((_0x3b9f71,_0x18f07a)=>_0x3b9f71+_0x18f07a,0x0)/(_0x5d90f2[_0x2f294e(0x1b5)]||0x1);}[_0x223da0(0x191)](_0x33d6ad){const _0x3b6dd7=_0x223da0;return this[_0x3b6dd7(0x116)][_0x3b6dd7(0x2c2)](({descriptors:_0x13af02,label:_0x19516d})=>new FaceMatch(_0x19516d,this[_0x3b6dd7(0x1cb)](_0x33d6ad,_0x13af02)))[_0x3b6dd7(0x2c8)]((_0x19ff89,_0x180552)=>_0x19ff89['distance']<_0x180552[_0x3b6dd7(0x225)]?_0x19ff89:_0x180552);}[_0x223da0(0x122)](_0x4fc3fe){const _0x179406=_0x223da0,_0x240cde=this[_0x179406(0x191)](_0x4fc3fe);return _0x240cde[_0x179406(0x225)]<this[_0x179406(0x15c)]?_0x240cde:new FaceMatch(_0x179406(0x29c),_0x240cde[_0x179406(0x225)]);}[_0x223da0(0x16b)](){const _0x3f7069=_0x223da0;return{'distanceThreshold':this[_0x3f7069(0x15c)],'labeledDescriptors':this[_0x3f7069(0xb1)][_0x3f7069(0x2c2)](_0x2ce62c=>_0x2ce62c['toJSON']())};}static[_0x223da0(0x1e7)](_0x13c19a){const _0x345124=_0x223da0,_0x1c7935=_0x13c19a[_0x345124(0x116)][_0x345124(0x2c2)](_0x4231fb=>LabeledFaceDescriptors[_0x345124(0x1e7)](_0x4231fb));return new FaceMatcher(_0x1c7935,_0x13c19a[_0x345124(0xcf)]);}};function createTinyFaceDetector(_0xb4a10c){const _0x2cf76b=_0x223da0,_0x5dbd61=new TinyFaceDetector();return _0x5dbd61[_0x2cf76b(0x278)](_0xb4a10c),_0x5dbd61;}function resizeResults(_0x4380ef,_0x480066){const _0x5160e2=_0x223da0,{width:_0x80210a,height:_0x302006}=new Dimensions(_0x480066['width'],_0x480066[_0x5160e2(0x193)]);if(_0x80210a<=0x0||_0x302006<=0x0)throw new Error(_0x5160e2(0x175)+JSON['stringify']({'width':_0x80210a,'height':_0x302006}));if(Array[_0x5160e2(0x157)](_0x4380ef))return _0x4380ef[_0x5160e2(0x2c2)](_0x262d80=>resizeResults(_0x262d80,{'width':_0x80210a,'height':_0x302006}));if(isWithFaceLandmarks(_0x4380ef)){const _0x1411f8=_0x4380ef[_0x5160e2(0xd4)]['forSize'](_0x80210a,_0x302006),_0x4596f9=_0x4380ef[_0x5160e2(0x2a8)][_0x5160e2(0x80)](_0x1411f8[_0x5160e2(0xab)][_0x5160e2(0x2ee)],_0x1411f8[_0x5160e2(0xab)][_0x5160e2(0x193)]);return extendWithFaceLandmarks(extendWithFaceDetection(_0x4380ef,_0x1411f8),_0x4596f9);}if(isWithFaceDetection(_0x4380ef))return extendWithFaceDetection(_0x4380ef,_0x4380ef['detection'][_0x5160e2(0x80)](_0x80210a,_0x302006));if(_0x4380ef instanceof FaceLandmarks||_0x4380ef instanceof FaceDetection)return _0x4380ef[_0x5160e2(0x80)](_0x80210a,_0x302006);return _0x4380ef;}var version2=version;0x0&&(module[_0x223da0(0x28c)]={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});