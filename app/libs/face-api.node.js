'use strict';const _0x38f5ec=_0x3692;(function(_0x43c5a5,_0x382a3e){const _0x4d33cd=_0x3692,_0x50ebad=_0x43c5a5();while(!![]){try{const _0x179e81=-parseInt(_0x4d33cd(0x2ee))/0x1+-parseInt(_0x4d33cd(0x1ca))/0x2+parseInt(_0x4d33cd(0x2d2))/0x3+parseInt(_0x4d33cd(0x26c))/0x4*(-parseInt(_0x4d33cd(0x21e))/0x5)+parseInt(_0x4d33cd(0x2f2))/0x6*(-parseInt(_0x4d33cd(0x314))/0x7)+-parseInt(_0x4d33cd(0x187))/0x8+parseInt(_0x4d33cd(0xb7))/0x9;if(_0x179e81===_0x382a3e)break;else _0x50ebad['push'](_0x50ebad['shift']());}catch(_0x1e4c18){_0x50ebad['push'](_0x50ebad['shift']());}}}(_0x41e5,0x9cbf0));var __create=Object[_0x38f5ec(0x140)],__defProp=Object[_0x38f5ec(0x1da)],__getOwnPropDesc=Object[_0x38f5ec(0x2b6)],__getOwnPropNames=Object[_0x38f5ec(0x15b)],__getProtoOf=Object[_0x38f5ec(0x157)],__hasOwnProp=Object['prototype']['hasOwnProperty'],__commonJS=(_0x18912d,_0x783479)=>function _0x326b24(){const _0x54509c=_0x38f5ec;return _0x783479||(0x0,_0x18912d[__getOwnPropNames(_0x18912d)[0x0]])((_0x783479={'exports':{}})[_0x54509c(0x31b)],_0x783479),_0x783479['exports'];},__export=(_0x594061,_0x4f0149)=>{for(var _0x47c771 in _0x4f0149)__defProp(_0x594061,_0x47c771,{'get':_0x4f0149[_0x47c771],'enumerable':!![]});},__copyProps=(_0xacd7e5,_0x206938,_0x5f2796,_0x38fa85)=>{const _0x32ab00=_0x38f5ec;if(_0x206938&&typeof _0x206938==='object'||typeof _0x206938==='function'){for(let _0x3e0f67 of __getOwnPropNames(_0x206938))if(!__hasOwnProp[_0x32ab00(0x1cc)](_0xacd7e5,_0x3e0f67)&&_0x3e0f67!==_0x5f2796)__defProp(_0xacd7e5,_0x3e0f67,{'get':()=>_0x206938[_0x3e0f67],'enumerable':!(_0x38fa85=__getOwnPropDesc(_0x206938,_0x3e0f67))||_0x38fa85[_0x32ab00(0x17c)]});}return _0xacd7e5;},__toESM=(_0x2ea2e9,_0x370201,_0x16883f)=>(_0x16883f=_0x2ea2e9!=null?__create(__getProtoOf(_0x2ea2e9)):{},__copyProps(_0x370201||!_0x2ea2e9||!_0x2ea2e9[_0x38f5ec(0x133)]?__defProp(_0x16883f,_0x38f5ec(0x28a),{'value':_0x2ea2e9,'enumerable':!![]}):_0x16883f,_0x2ea2e9)),__toCommonJS=_0x40a602=>__copyProps(__defProp({},'__esModule',{'value':!![]}),_0x40a602),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x25f76d,_0x26a3c1){'use strict';const _0x5ce978=_0x38f5ec;var _0xf0d006=Object[_0x5ce978(0x1da)],_0x4e0945=Object[_0x5ce978(0x2b6)],_0x327c1f=Object[_0x5ce978(0x15b)],_0x1c00c5=Object[_0x5ce978(0x1e8)][_0x5ce978(0x200)],_0x1dc4a5=(_0x3e25a4,_0x22a4ce,_0x4a9fed,_0x51e5e4)=>{const _0x230bdd=_0x5ce978;if(_0x22a4ce&&typeof _0x22a4ce===_0x230bdd(0xcd)||typeof _0x22a4ce==='function'){for(let _0x4db732 of _0x327c1f(_0x22a4ce))if(!_0x1c00c5[_0x230bdd(0x1cc)](_0x3e25a4,_0x4db732)&&_0x4db732!==_0x4a9fed)_0xf0d006(_0x3e25a4,_0x4db732,{'get':()=>_0x22a4ce[_0x4db732],'enumerable':!(_0x51e5e4=_0x4e0945(_0x22a4ce,_0x4db732))||_0x51e5e4[_0x230bdd(0x17c)]});}return _0x3e25a4;},_0x17180f=(_0x5d421f,_0x21bb58,_0x50da4e)=>(_0x1dc4a5(_0x5d421f,_0x21bb58,_0x5ce978(0x28a)),_0x50da4e&&_0x1dc4a5(_0x50da4e,_0x21bb58,_0x5ce978(0x28a))),_0x540ad7=_0x181c8e=>_0x1dc4a5(_0xf0d006({},_0x5ce978(0x133),{'value':!![]}),_0x181c8e),_0x2a5001={};_0x26a3c1[_0x5ce978(0x31b)]=_0x540ad7(_0x2a5001),_0x17180f(_0x2a5001,require(_0x5ce978(0x147)),_0x26a3c1[_0x5ce978(0x31b)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module[_0x38f5ec(0x31b)]=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x1e1189,_0x265b86,_0x2aa551=![]){const _0x413b6e=_0x38f5ec;_0x1e1189[_0x413b6e(0x278)](),_0x265b86[_0x413b6e(0x24e)](0x1)[_0x413b6e(0x13c)](({x:_0x35012a,y:_0x47be0a},_0x22b6f6)=>{const _0x3dcb16=_0x265b86[_0x22b6f6];_0x1e1189['moveTo'](_0x3dcb16['x'],_0x3dcb16['y']),_0x1e1189['lineTo'](_0x35012a,_0x47be0a);});if(_0x2aa551){const _0xfe8927=_0x265b86[_0x265b86[_0x413b6e(0x25d)]-0x1],_0x1e8771=_0x265b86[0x0];if(!_0xfe8927||!_0x1e8771)return;_0x1e1189[_0x413b6e(0x239)](_0xfe8927['x'],_0xfe8927['y']),_0x1e1189['lineTo'](_0x1e8771['x'],_0x1e8771['y']);}_0x1e1189[_0x413b6e(0xa2)]();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x9a8b7a,_0x293fc3){const _0x3872a1=_0x38f5ec;if(!isValidNumber(_0x9a8b7a)||!isValidNumber(_0x293fc3))throw new Error(_0x3872a1(0xd8)+JSON['stringify']({'width':_0x9a8b7a,'height':_0x293fc3}));this[_0x3872a1(0x1c3)]=_0x9a8b7a,this['_height']=_0x293fc3;}get[_0x38f5ec(0x100)](){const _0x5e00f3=_0x38f5ec;return this[_0x5e00f3(0x1c3)];}get[_0x38f5ec(0xe7)](){const _0x4ccd8d=_0x38f5ec;return this[_0x4ccd8d(0x222)];}[_0x38f5ec(0x1a0)](){const _0x145edc=_0x38f5ec;return new Dimensions(0x1/this[_0x145edc(0x100)],0x1/this[_0x145edc(0xe7)]);}};function isTensor(_0x3ad3ee,_0x25eb7f){const _0x5bda99=_0x38f5ec;return _0x3ad3ee instanceof tf[_0x5bda99(0x21d)]&&_0x3ad3ee['shape'][_0x5bda99(0x25d)]===_0x25eb7f;}function isTensor1D(_0x1cf987){return isTensor(_0x1cf987,0x1);}function isTensor2D(_0x1c77e5){return isTensor(_0x1c77e5,0x2);}function isTensor3D(_0x67803d){return isTensor(_0x67803d,0x3);}function isTensor4D(_0x302ec7){return isTensor(_0x302ec7,0x4);}function isFloat(_0x5478c0){return _0x5478c0%0x1!==0x0;}function isEven(_0x383afa){return _0x383afa%0x2===0x0;}function round(_0x3e0951,_0x1db04f=0x2){const _0x2f6dd0=_0x38f5ec,_0xdffac6=0xa**_0x1db04f;return Math[_0x2f6dd0(0x2a0)](_0x3e0951*_0xdffac6)/_0xdffac6;}function isDimensions(_0x5dfed5){const _0x58e3de=_0x38f5ec;return _0x5dfed5&&_0x5dfed5[_0x58e3de(0x100)]&&_0x5dfed5['height'];}function computeReshapedDimensions({width:_0x3fdc7c,height:_0x2d5ff3},_0x1da295){const _0x432724=_0x38f5ec,_0x840232=_0x1da295/Math['max'](_0x2d5ff3,_0x3fdc7c);return new Dimensions(Math[_0x432724(0x27e)](_0x3fdc7c*_0x840232),Math[_0x432724(0x27e)](_0x2d5ff3*_0x840232));}function getCenterPoint(_0x4be22f){const _0x5dd1b2=_0x38f5ec;return _0x4be22f[_0x5dd1b2(0x229)]((_0x4c485f,_0x5973a7)=>_0x4c485f[_0x5dd1b2(0x2d0)](_0x5973a7),new Point(0x0,0x0))['div'](new Point(_0x4be22f[_0x5dd1b2(0x25d)],_0x4be22f[_0x5dd1b2(0x25d)]));}function range(_0x2bfae0,_0x569a76,_0xe47ddb){const _0x201788=_0x38f5ec;return Array(_0x2bfae0)['fill'](0x0)[_0x201788(0x26d)]((_0x627526,_0x35e09b)=>_0x569a76+_0x35e09b*_0xe47ddb);}function isValidNumber(_0x20cee2){const _0x1bbade=_0x38f5ec;return!!_0x20cee2&&_0x20cee2!==Infinity&&_0x20cee2!==-Infinity&&!Number[_0x1bbade(0x16d)](_0x20cee2)||_0x20cee2===0x0;}function isValidProbablitiy(_0xed22b2){return isValidNumber(_0xed22b2)&&_0xed22b2>=0x0&&_0xed22b2<=0x1;}var Point=class{constructor(_0x5927dd,_0x136e06){this['_x']=_0x5927dd,this['_y']=_0x136e06;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}[_0x38f5ec(0x2d0)](_0x4baa05){return new Point(this['x']+_0x4baa05['x'],this['y']+_0x4baa05['y']);}[_0x38f5ec(0x22a)](_0x1f3739){return new Point(this['x']-_0x1f3739['x'],this['y']-_0x1f3739['y']);}['mul'](_0x1e5da3){return new Point(this['x']*_0x1e5da3['x'],this['y']*_0x1e5da3['y']);}[_0x38f5ec(0x196)](_0x447009){return new Point(this['x']/_0x447009['x'],this['y']/_0x447009['y']);}[_0x38f5ec(0x129)](){const _0x584abf=_0x38f5ec;return new Point(Math[_0x584abf(0x129)](this['x']),Math['abs'](this['y']));}[_0x38f5ec(0x28d)](){return Math['sqrt'](this['x']**0x2+this['y']**0x2);}[_0x38f5ec(0x2a0)](){const _0x4a2e67=_0x38f5ec;return new Point(Math[_0x4a2e67(0x2a0)](this['x']),Math['floor'](this['y']));}},Box=class{static[_0x38f5ec(0x292)](_0x293ccd){const _0x439839=_0x38f5ec;return!!_0x293ccd&&[_0x293ccd['x'],_0x293ccd['y'],_0x293ccd[_0x439839(0x100)],_0x293ccd[_0x439839(0xe7)]]['every'](isValidNumber);}static['assertIsValidBox'](_0x61f992,_0x42808d,_0xb8958c=![]){const _0x3ced2b=_0x38f5ec;if(!Box[_0x3ced2b(0x292)](_0x61f992))throw new Error(_0x42808d+_0x3ced2b(0xdf)+JSON[_0x3ced2b(0x2f5)](_0x61f992)+_0x3ced2b(0x309));if(!_0xb8958c&&(_0x61f992[_0x3ced2b(0x100)]<0x0||_0x61f992['height']<0x0))throw new Error(_0x42808d+_0x3ced2b(0x1f9)+_0x61f992['width']+_0x3ced2b(0x215)+_0x61f992[_0x3ced2b(0xe7)]+_0x3ced2b(0x14d));}constructor(_0x50687d,_0x4bfc0c=!![]){const _0x365f81=_0x38f5ec,_0x214583=_0x50687d||{},_0x3a8bda=[_0x214583[_0x365f81(0x178)],_0x214583['top'],_0x214583[_0x365f81(0xc2)],_0x214583[_0x365f81(0x302)]][_0x365f81(0x15e)](isValidNumber),_0x13ebe5=[_0x214583['x'],_0x214583['y'],_0x214583[_0x365f81(0x100)],_0x214583[_0x365f81(0xe7)]][_0x365f81(0x15e)](isValidNumber);if(!_0x13ebe5&&!_0x3a8bda)throw new Error(_0x365f81(0x198)+JSON['stringify'](_0x214583));const [_0x3c9a2a,_0x571677,_0x34305c,_0x489492]=_0x13ebe5?[_0x214583['x'],_0x214583['y'],_0x214583[_0x365f81(0x100)],_0x214583[_0x365f81(0xe7)]]:[_0x214583[_0x365f81(0x178)],_0x214583[_0x365f81(0x1c4)],_0x214583['right']-_0x214583['left'],_0x214583[_0x365f81(0x302)]-_0x214583['top']];Box[_0x365f81(0x246)]({'x':_0x3c9a2a,'y':_0x571677,'width':_0x34305c,'height':_0x489492},_0x365f81(0x217),_0x4bfc0c),this['_x']=_0x3c9a2a,this['_y']=_0x571677,this[_0x365f81(0x1c3)]=_0x34305c,this[_0x365f81(0x222)]=_0x489492;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get[_0x38f5ec(0x100)](){const _0x2e3253=_0x38f5ec;return this[_0x2e3253(0x1c3)];}get['height'](){const _0x45c203=_0x38f5ec;return this[_0x45c203(0x222)];}get[_0x38f5ec(0x178)](){return this['x'];}get[_0x38f5ec(0x1c4)](){return this['y'];}get['right'](){const _0x3c5cd8=_0x38f5ec;return this['x']+this[_0x3c5cd8(0x100)];}get[_0x38f5ec(0x302)](){const _0x2c67c5=_0x38f5ec;return this['y']+this[_0x2c67c5(0xe7)];}get[_0x38f5ec(0x272)](){const _0x5cfd7e=_0x38f5ec;return this[_0x5cfd7e(0x100)]*this[_0x5cfd7e(0xe7)];}get['topLeft'](){const _0xc560e6=_0x38f5ec;return new Point(this[_0xc560e6(0x178)],this[_0xc560e6(0x1c4)]);}get[_0x38f5ec(0xae)](){const _0x6946fa=_0x38f5ec;return new Point(this[_0x6946fa(0xc2)],this['top']);}get[_0x38f5ec(0x18a)](){const _0x39fcc8=_0x38f5ec;return new Point(this[_0x39fcc8(0x178)],this[_0x39fcc8(0x302)]);}get[_0x38f5ec(0x2ae)](){return new Point(this['right'],this['bottom']);}[_0x38f5ec(0x27e)](){const _0x2ae824=_0x38f5ec,[_0x472fb9,_0x43664f,_0x2e2390,_0x4fb93c]=[this['x'],this['y'],this[_0x2ae824(0x100)],this[_0x2ae824(0xe7)]][_0x2ae824(0x26d)](_0x25f63f=>Math[_0x2ae824(0x27e)](_0x25f63f));return new Box({'x':_0x472fb9,'y':_0x43664f,'width':_0x2e2390,'height':_0x4fb93c});}[_0x38f5ec(0x2a0)](){const _0x295720=_0x38f5ec,[_0xac7110,_0x20e63f,_0x1ce1dc,_0x3580cd]=[this['x'],this['y'],this[_0x295720(0x100)],this[_0x295720(0xe7)]]['map'](_0x4030ab=>Math['floor'](_0x4030ab));return new Box({'x':_0xac7110,'y':_0x20e63f,'width':_0x1ce1dc,'height':_0x3580cd});}['toSquare'](){const _0x10df82=_0x38f5ec;let {x:_0x44bceb,y:_0x55b873,width:_0x27b75d,height:_0x556b94}=this;const _0x5f428e=Math[_0x10df82(0x129)](_0x27b75d-_0x556b94);return _0x27b75d<_0x556b94&&(_0x44bceb-=_0x5f428e/0x2,_0x27b75d+=_0x5f428e),_0x556b94<_0x27b75d&&(_0x55b873-=_0x5f428e/0x2,_0x556b94+=_0x5f428e),new Box({'x':_0x44bceb,'y':_0x55b873,'width':_0x27b75d,'height':_0x556b94});}[_0x38f5ec(0x179)](_0x268b04){const _0x3e3142=_0x38f5ec,_0x20cd0f=isDimensions(_0x268b04)?_0x268b04[_0x3e3142(0x100)]:_0x268b04,_0x6f1845=isDimensions(_0x268b04)?_0x268b04[_0x3e3142(0xe7)]:_0x268b04;return new Box({'x':this['x']*_0x20cd0f,'y':this['y']*_0x6f1845,'width':this[_0x3e3142(0x100)]*_0x20cd0f,'height':this[_0x3e3142(0xe7)]*_0x6f1845});}[_0x38f5ec(0x1ad)](_0x5c0f33,_0x5ad149){const _0x3e42ea=_0x38f5ec,[_0x47fbb6,_0x2f5d75,_0x315a36,_0x912804]=[this['x']-_0x5c0f33/0x2,this['y']-_0x5ad149/0x2,this['width']+_0x5c0f33,this[_0x3e42ea(0xe7)]+_0x5ad149];return new Box({'x':_0x47fbb6,'y':_0x2f5d75,'width':_0x315a36,'height':_0x912804});}[_0x38f5ec(0xf8)](_0x44dc69,_0x85002b){const _0x3ac51c=_0x38f5ec,{x:_0x123eb0,y:_0x67dc27,right:_0x3b35a4,bottom:_0x21fb48}=this,_0x5f0c4b=Math[_0x3ac51c(0x262)](_0x123eb0,0x0),_0x26e364=Math['max'](_0x67dc27,0x0),_0x79ed22=_0x3b35a4-_0x5f0c4b,_0x5bd13b=_0x21fb48-_0x26e364,_0x5476cb=Math[_0x3ac51c(0x16f)](_0x79ed22,_0x44dc69-_0x5f0c4b),_0x2db918=Math[_0x3ac51c(0x16f)](_0x5bd13b,_0x85002b-_0x26e364);return new Box({'x':_0x5f0c4b,'y':_0x26e364,'width':_0x5476cb,'height':_0x2db918})[_0x3ac51c(0x2a0)]();}[_0x38f5ec(0xa0)](_0x59b630,_0x370c64){const {width:_0x2464c9,height:_0x46030c}=this,_0x1eb326=this['x']+_0x59b630,_0x58eca5=this['y']+_0x370c64;return new Box({'x':_0x1eb326,'y':_0x58eca5,'width':_0x2464c9,'height':_0x46030c});}[_0x38f5ec(0x1dd)](_0x462542,_0x9ebc87){const _0x383d94=_0x38f5ec,_0x222761=this[_0x383d94(0x100)]+0x1,_0x24ad12=this[_0x383d94(0xe7)]+0x1,_0x228585=0x1,_0x418339=0x1;let _0x5576ef=_0x222761,_0x49bced=_0x24ad12,_0xacf4d5=this[_0x383d94(0x178)],_0x48aefd=this['top'],_0x395ecb=this[_0x383d94(0xc2)],_0x2ceb5b=this[_0x383d94(0x302)];return _0x395ecb>_0x9ebc87&&(_0x5576ef=-_0x395ecb+_0x9ebc87+_0x222761,_0x395ecb=_0x9ebc87),_0x2ceb5b>_0x462542&&(_0x49bced=-_0x2ceb5b+_0x462542+_0x24ad12,_0x2ceb5b=_0x462542),_0xacf4d5<0x1&&(_0x49bced=0x2-_0xacf4d5,_0xacf4d5=0x1),_0x48aefd<0x1&&(_0x49bced=0x2-_0x48aefd,_0x48aefd=0x1),{'dy':_0x418339,'edy':_0x49bced,'dx':_0x228585,'edx':_0x5576ef,'y':_0x48aefd,'ey':_0x2ceb5b,'x':_0xacf4d5,'ex':_0x395ecb,'w':_0x222761,'h':_0x24ad12};}[_0x38f5ec(0x2a9)](_0x5f2316){const _0x31119d=_0x38f5ec;return new Box({'left':this['left']+_0x5f2316['left']*this['width'],'top':this['top']+_0x5f2316[_0x31119d(0x1c4)]*this[_0x31119d(0xe7)],'right':this[_0x31119d(0xc2)]+_0x5f2316[_0x31119d(0xc2)]*this['width'],'bottom':this['bottom']+_0x5f2316['bottom']*this['height']})[_0x31119d(0x2e8)]()[_0x31119d(0x27e)]();}},BoundingBox=class extends Box{constructor(_0x10d596,_0x3089eb,_0x3dca5f,_0x39873f,_0x3ea834=![]){super({'left':_0x10d596,'top':_0x3089eb,'right':_0x3dca5f,'bottom':_0x39873f},_0x3ea834);}},ObjectDetection=class{constructor(_0x658c9b,_0x230aeb,_0x32843b,_0x57e37b,_0x286485){const _0x23d815=_0x38f5ec;this['_imageDims']=new Dimensions(_0x286485[_0x23d815(0x100)],_0x286485[_0x23d815(0xe7)]),this[_0x23d815(0x2ce)]=_0x658c9b,this[_0x23d815(0x2f7)]=_0x230aeb,this[_0x23d815(0x125)]=_0x32843b,this[_0x23d815(0x1ea)]=new Box(_0x57e37b)[_0x23d815(0x179)](this[_0x23d815(0x28c)]);}get[_0x38f5ec(0x30a)](){const _0x3d279c=_0x38f5ec;return this[_0x3d279c(0x2ce)];}get[_0x38f5ec(0x1aa)](){const _0xec01bd=_0x38f5ec;return this[_0xec01bd(0x2f7)];}get[_0x38f5ec(0x307)](){const _0x114236=_0x38f5ec;return this[_0x114236(0x125)];}get[_0x38f5ec(0x199)](){const _0x3f630d=_0x38f5ec;return this[_0x3f630d(0x1ea)];}get[_0x38f5ec(0x320)](){const _0x550e85=_0x38f5ec;return this[_0x550e85(0x28c)];}get[_0x38f5ec(0x109)](){const _0x5d833c=_0x38f5ec;return this[_0x5d833c(0x320)][_0x5d833c(0x100)];}get[_0x38f5ec(0x2e2)](){const _0x2ac79f=_0x38f5ec;return this[_0x2ac79f(0x320)][_0x2ac79f(0xe7)];}get['relativeBox'](){const _0x4dc521=_0x38f5ec;return new Box(this[_0x4dc521(0x1ea)])[_0x4dc521(0x179)](this[_0x4dc521(0x320)]['reverse']());}[_0x38f5ec(0x1dc)](_0x4ce121,_0x57b15f){const _0x13d7a0=_0x38f5ec;return new ObjectDetection(this['score'],this[_0x13d7a0(0x1aa)],this['className'],this[_0x13d7a0(0x1df)],{'width':_0x4ce121,'height':_0x57b15f});}},FaceDetection=class extends ObjectDetection{constructor(_0x2ab436,_0x372df1,_0x45e1f6){super(_0x2ab436,_0x2ab436,'',_0x372df1,_0x45e1f6);}[_0x38f5ec(0x1dc)](_0x33cbbd,_0x5d422b){const _0x24fb54=_0x38f5ec,{score:_0x189aea,relativeBox:_0x50b7b9,imageDims:_0x1dc29f}=super[_0x24fb54(0x1dc)](_0x33cbbd,_0x5d422b);return new FaceDetection(_0x189aea,_0x50b7b9,_0x1dc29f);}};function iou(_0x1a6018,_0x2d2e5b,_0x394a13=!![]){const _0x44f1d1=_0x38f5ec,_0x4e87c2=Math[_0x44f1d1(0x262)](0x0,Math['min'](_0x1a6018['right'],_0x2d2e5b[_0x44f1d1(0xc2)])-Math['max'](_0x1a6018[_0x44f1d1(0x178)],_0x2d2e5b[_0x44f1d1(0x178)])),_0x98ff4f=Math[_0x44f1d1(0x262)](0x0,Math[_0x44f1d1(0x16f)](_0x1a6018['bottom'],_0x2d2e5b[_0x44f1d1(0x302)])-Math[_0x44f1d1(0x262)](_0x1a6018[_0x44f1d1(0x1c4)],_0x2d2e5b[_0x44f1d1(0x1c4)])),_0x5c44a5=_0x4e87c2*_0x98ff4f;return _0x394a13?_0x5c44a5/(_0x1a6018[_0x44f1d1(0x272)]+_0x2d2e5b[_0x44f1d1(0x272)]-_0x5c44a5):_0x5c44a5/Math['min'](_0x1a6018[_0x44f1d1(0x272)],_0x2d2e5b[_0x44f1d1(0x272)]);}function minBbox(_0x14293c){const _0x2df480=_0x38f5ec,_0x49ebb1=_0x14293c[_0x2df480(0x26d)](_0x567d2b=>_0x567d2b['x']),_0xe46ce=_0x14293c[_0x2df480(0x26d)](_0x18969b=>_0x18969b['y']),_0x27c41b=_0x49ebb1['reduce']((_0x5ad6b4,_0x571617)=>_0x571617<_0x5ad6b4?_0x571617:_0x5ad6b4,Infinity),_0x2db409=_0xe46ce[_0x2df480(0x229)]((_0x37209c,_0x1d23d6)=>_0x1d23d6<_0x37209c?_0x1d23d6:_0x37209c,Infinity),_0x25f5d0=_0x49ebb1[_0x2df480(0x229)]((_0x220a2d,_0x11b74b)=>_0x220a2d<_0x11b74b?_0x11b74b:_0x220a2d,0x0),_0x2c8a68=_0xe46ce[_0x2df480(0x229)]((_0xa335e9,_0x5f2421)=>_0xa335e9<_0x5f2421?_0x5f2421:_0xa335e9,0x0);return new BoundingBox(_0x27c41b,_0x2db409,_0x25f5d0,_0x2c8a68);}function nonMaxSuppression(_0x94d7a2,_0x97f9ae,_0x170f28,_0x1cab95=!![]){const _0x2af9b6=_0x38f5ec;let _0x11f968=_0x97f9ae[_0x2af9b6(0x26d)]((_0x3daf49,_0x159314)=>({'score':_0x3daf49,'boxIndex':_0x159314}))[_0x2af9b6(0x137)]((_0x36b264,_0x49e601)=>_0x36b264[_0x2af9b6(0x30a)]-_0x49e601[_0x2af9b6(0x30a)])['map'](_0x559be1=>_0x559be1[_0x2af9b6(0xb8)]);const _0x39ef91=[];while(_0x11f968[_0x2af9b6(0x25d)]>0x0){const _0x4883eb=_0x11f968[_0x2af9b6(0xd2)]();_0x39ef91['push'](_0x4883eb);const _0x3cd401=_0x11f968,_0x309d05=[];for(let _0x3b03f3=0x0;_0x3b03f3<_0x3cd401[_0x2af9b6(0x25d)];_0x3b03f3++){const _0x4bff4e=_0x3cd401[_0x3b03f3],_0x3a45c9=_0x94d7a2[_0x4883eb],_0x125a3c=_0x94d7a2[_0x4bff4e];_0x309d05[_0x2af9b6(0x145)](iou(_0x3a45c9,_0x125a3c,_0x1cab95));}_0x11f968=_0x11f968[_0x2af9b6(0xfe)]((_0x944957,_0xbe1eb)=>_0x309d05[_0xbe1eb]<=_0x170f28);}return _0x39ef91;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x22b874,_0x3bd45f){const _0x4d3ccf=_0x38f5ec;return tf2[_0x4d3ccf(0x23d)](()=>{const _0x8676d4=_0x4d3ccf,[_0x53474f,_0x5de294,_0x1ac5d2]=_0x3bd45f,_0x2e1cea=tf2[_0x8676d4(0x1f5)]([..._0x22b874[_0x8676d4(0x2e3)][_0x8676d4(0x24e)](0x0,0x3),0x1],_0x53474f,_0x8676d4(0xbc)),_0x430124=tf2['fill']([..._0x22b874['shape'][_0x8676d4(0x24e)](0x0,0x3),0x1],_0x5de294,_0x8676d4(0xbc)),_0x586665=tf2[_0x8676d4(0x1f5)]([..._0x22b874[_0x8676d4(0x2e3)]['slice'](0x0,0x3),0x1],_0x1ac5d2,_0x8676d4(0xbc)),_0x5983=tf2[_0x8676d4(0x2aa)]([_0x2e1cea,_0x430124,_0x586665],0x3);return tf2['sub'](_0x22b874,_0x5983);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x406034,_0x2fe707=![]){const _0x278e29=_0x38f5ec;return tf3[_0x278e29(0x23d)](()=>{const _0x247abe=_0x278e29,[_0x431a68,_0x213a93]=_0x406034[_0x247abe(0x2e3)][_0x247abe(0x24e)](0x1);if(_0x431a68===_0x213a93)return _0x406034;const _0x4c25af=Math[_0x247abe(0x129)](_0x431a68-_0x213a93),_0x314f5c=Math[_0x247abe(0x27e)](_0x4c25af*(_0x2fe707?0.5:0x1)),_0x3dc8ec=_0x431a68>_0x213a93?0x2:0x1,_0x4250b6=_0xffaa42=>{const _0xe140b4=_0x247abe,_0x1cb5ba=_0x406034[_0xe140b4(0x2e3)][_0xe140b4(0x24e)]();return _0x1cb5ba[_0x3dc8ec]=_0xffaa42,tf3[_0xe140b4(0x1f5)](_0x1cb5ba,0x0,'float32');},_0x31eb81=_0x4250b6(_0x314f5c),_0x3ef854=_0x4c25af-_0x31eb81[_0x247abe(0x2e3)][_0x3dc8ec],_0x4e007b=_0x2fe707&&_0x3ef854?_0x4250b6(_0x3ef854):null,_0x32c472=[_0x4e007b,_0x406034,_0x31eb81]['filter'](_0x1e158e=>!!_0x1e158e)[_0x247abe(0x26d)](_0x5a4ad8=>tf3[_0x247abe(0x301)](_0x5a4ad8,'float32'));return tf3[_0x247abe(0x2aa)](_0x32c472,_0x3dc8ec);});}function shuffleArray(_0x3e451d){const _0x24faa9=_0x38f5ec,_0x3eb3e1=_0x3e451d['slice']();for(let _0x572e0d=_0x3eb3e1[_0x24faa9(0x25d)]-0x1;_0x572e0d>0x0;_0x572e0d--){const _0x358d6f=Math[_0x24faa9(0x2a0)](Math['random']()*(_0x572e0d+0x1)),_0x13274e=_0x3eb3e1[_0x572e0d];_0x3eb3e1[_0x572e0d]=_0x3eb3e1[_0x358d6f],_0x3eb3e1[_0x358d6f]=_0x13274e;}return _0x3eb3e1;}function sigmoid(_0x16ae28){return 0x1/(0x1+Math['exp'](-_0x16ae28));}function inverseSigmoid(_0x47c065){return Math['log'](_0x47c065/(0x1-_0x47c065));}var Rect=class extends Box{constructor(_0x3013c0,_0x2301f6,_0x495158,_0x5c3969,_0x1166e5=![]){super({'x':_0x3013c0,'y':_0x2301f6,'width':_0x495158,'height':_0x5c3969},_0x1166e5);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x3e0538,_0x52b016,_0x18b03b=new Point(0x0,0x0)){const _0x17d052=_0x38f5ec,{width:_0x4de95a,height:_0x229c49}=_0x52b016;this['_imgDims']=new Dimensions(_0x4de95a,_0x229c49),this[_0x17d052(0x2a6)]=_0x18b03b,this[_0x17d052(0x1fa)]=_0x3e0538['map'](_0x5c2e04=>_0x5c2e04[_0x17d052(0x252)](new Point(_0x4de95a,_0x229c49))[_0x17d052(0x2d0)](_0x18b03b));}get[_0x38f5ec(0xa0)](){return new Point(this['_shift']['x'],this['_shift']['y']);}get[_0x38f5ec(0x109)](){const _0x6aa711=_0x38f5ec;return this[_0x6aa711(0x181)][_0x6aa711(0x100)];}get[_0x38f5ec(0x2e2)](){const _0x196483=_0x38f5ec;return this[_0x196483(0x181)][_0x196483(0xe7)];}get[_0x38f5ec(0x2ec)](){return this['_positions'];}get[_0x38f5ec(0x1d9)](){const _0x3d6924=_0x38f5ec;return this[_0x3d6924(0x1fa)][_0x3d6924(0x26d)](_0x282741=>_0x282741[_0x3d6924(0x22a)](this[_0x3d6924(0x2a6)])[_0x3d6924(0x196)](new Point(this['imageWidth'],this[_0x3d6924(0x2e2)])));}['forSize'](_0x49911,_0x5d2d58){const _0x1d38cd=_0x38f5ec;return new this[(_0x1d38cd(0xfb))](this['relativePositions'],{'width':_0x49911,'height':_0x5d2d58});}[_0x38f5ec(0x165)](_0xee6234,_0xdb70c0){const _0x40758b=_0x38f5ec;return new this[(_0x40758b(0xfb))](this[_0x40758b(0x1d9)],this['_imgDims'],new Point(_0xee6234,_0xdb70c0));}['shiftByPoint'](_0x307db4){const _0x5d3db6=_0x38f5ec;return this[_0x5d3db6(0x165)](_0x307db4['x'],_0x307db4['y']);}[_0x38f5ec(0xab)](_0x1299ef,_0x215696={}){const _0x10cf42=_0x38f5ec;if(_0x1299ef){const _0x49b72b=_0x1299ef instanceof FaceDetection?_0x1299ef[_0x10cf42(0x199)][_0x10cf42(0x2a0)]():new Box(_0x1299ef);return this[_0x10cf42(0x165)](_0x49b72b['x'],_0x49b72b['y'])[_0x10cf42(0xab)](null,_0x215696);}const {useDlibAlignment:_0x14dcf4,minBoxPadding:_0x4658cd}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x215696};if(_0x14dcf4)return this['alignDlib']();return this[_0x10cf42(0x327)](_0x4658cd);}[_0x38f5ec(0x1a6)](){const _0x5d7eae=_0x38f5ec,_0x3585ec=this['getRefPointsForAlignment'](),[_0x4f0544,_0x526247,_0xde6bc9]=_0x3585ec,_0x968704=_0x447d31=>_0xde6bc9['sub'](_0x447d31)['magnitude'](),_0x1f7465=(_0x968704(_0x4f0544)+_0x968704(_0x526247))/0x2,_0x44a3c4=Math['floor'](_0x1f7465/relScale),_0x1c653e=getCenterPoint(_0x3585ec),_0x24f4a6=Math[_0x5d7eae(0x2a0)](Math[_0x5d7eae(0x262)](0x0,_0x1c653e['x']-relX*_0x44a3c4)),_0x1dd6f1=Math[_0x5d7eae(0x2a0)](Math['max'](0x0,_0x1c653e['y']-relY*_0x44a3c4));return new Rect(_0x24f4a6,_0x1dd6f1,Math['min'](_0x44a3c4,this[_0x5d7eae(0x109)]+_0x24f4a6),Math[_0x5d7eae(0x16f)](_0x44a3c4,this['imageHeight']+_0x1dd6f1));}[_0x38f5ec(0x327)](_0x518188){const _0x47a415=_0x38f5ec,_0xb7971e=minBbox(this[_0x47a415(0x2ec)]);return _0xb7971e[_0x47a415(0x1ad)](_0xb7971e[_0x47a415(0x100)]*_0x518188,_0xb7971e[_0x47a415(0xe7)]*_0x518188);}[_0x38f5ec(0x22e)](){throw new Error('getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class');}},FaceLandmarks5=class extends FaceLandmarks{['getRefPointsForAlignment'](){const _0x20a0b6=_0x38f5ec,_0x4d0c00=this[_0x20a0b6(0x2ec)];return[_0x4d0c00[0x0],_0x4d0c00[0x1],getCenterPoint([_0x4d0c00[0x3],_0x4d0c00[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{[_0x38f5ec(0x1b6)](){const _0x2a0907=_0x38f5ec;return this[_0x2a0907(0x2ec)][_0x2a0907(0x24e)](0x0,0x11);}[_0x38f5ec(0x2d9)](){const _0x3f4ced=_0x38f5ec;return this[_0x3f4ced(0x2ec)][_0x3f4ced(0x24e)](0x11,0x16);}[_0x38f5ec(0x285)](){const _0x247a55=_0x38f5ec;return this[_0x247a55(0x2ec)]['slice'](0x16,0x1b);}[_0x38f5ec(0x1f0)](){const _0x1950c6=_0x38f5ec;return this[_0x1950c6(0x2ec)]['slice'](0x1b,0x24);}['getLeftEye'](){const _0x513745=_0x38f5ec;return this['positions'][_0x513745(0x24e)](0x24,0x2a);}[_0x38f5ec(0x318)](){const _0x523a25=_0x38f5ec;return this[_0x523a25(0x2ec)][_0x523a25(0x24e)](0x2a,0x30);}['getMouth'](){const _0x1fd0bb=_0x38f5ec;return this[_0x1fd0bb(0x2ec)][_0x1fd0bb(0x24e)](0x30,0x44);}['getRefPointsForAlignment'](){const _0x2313df=_0x38f5ec;return[this[_0x2313df(0xed)](),this[_0x2313df(0x318)](),this[_0x2313df(0x23f)]()][_0x2313df(0x26d)](getCenterPoint);}},FaceMatch=class{constructor(_0x1f12b0,_0x47d88c){const _0x27f799=_0x38f5ec;this['_label']=_0x1f12b0,this[_0x27f799(0x118)]=_0x47d88c;}get[_0x38f5ec(0x1a2)](){const _0x3022e0=_0x38f5ec;return this[_0x3022e0(0x2ab)];}get[_0x38f5ec(0x268)](){return this['_distance'];}[_0x38f5ec(0x26e)](_0x57abf2=!![]){const _0x492913=_0x38f5ec;return''+this[_0x492913(0x1a2)]+(_0x57abf2?'\x20('+round(this['distance'])+')':'');}},LabeledBox=class extends Box{constructor(_0x51209a,_0x3e2fe4){super(_0x51209a),this['_label']=_0x3e2fe4;}static['assertIsValidLabeledBox'](_0x37a9ad,_0x939dde){const _0xb29556=_0x38f5ec;Box[_0xb29556(0x246)](_0x37a9ad,_0x939dde);if(!isValidNumber(_0x37a9ad[_0xb29556(0x1a2)]))throw new Error(_0x939dde+'\x20-\x20expected\x20property\x20label\x20('+_0x37a9ad['label']+_0xb29556(0x105));}get['label'](){const _0x5b132b=_0x38f5ec;return this[_0x5b132b(0x2ab)];}},LabeledFaceDescriptors=class{constructor(_0x33e2d2,_0x32f9fe){const _0x481120=_0x38f5ec;if(!(typeof _0x33e2d2===_0x481120(0xd0)))throw new Error(_0x481120(0x274));if(!Array[_0x481120(0x23e)](_0x32f9fe)||_0x32f9fe[_0x481120(0xf4)](_0x3a57c1=>!(_0x3a57c1 instanceof Float32Array)))throw new Error(_0x481120(0x321));this['_label']=_0x33e2d2,this[_0x481120(0x169)]=_0x32f9fe;}get[_0x38f5ec(0x1a2)](){const _0x426334=_0x38f5ec;return this[_0x426334(0x2ab)];}get[_0x38f5ec(0x177)](){const _0x23c993=_0x38f5ec;return this[_0x23c993(0x169)];}[_0x38f5ec(0x120)](){const _0x19721d=_0x38f5ec;return{'label':this[_0x19721d(0x1a2)],'descriptors':this['descriptors'][_0x19721d(0x26d)](_0x16c811=>Array['from'](_0x16c811))};}static[_0x38f5ec(0x2d8)](_0x16e847){const _0x354ff2=_0x38f5ec,_0x32cb06=_0x16e847[_0x354ff2(0x177)][_0x354ff2(0x26d)](_0x379bde=>new Float32Array(_0x379bde));return new LabeledFaceDescriptors(_0x16e847[_0x354ff2(0x1a2)],_0x32cb06);}},PredictedBox=class extends LabeledBox{constructor(_0x941259,_0x93f890,_0x27bac0,_0x5d5298){const _0x435be0=_0x38f5ec;super(_0x941259,_0x93f890),this[_0x435be0(0x2ce)]=_0x27bac0,this[_0x435be0(0x2f7)]=_0x5d5298;}static[_0x38f5ec(0x1e1)](_0x2db6aa,_0xb91fc4){const _0x1dcaf1=_0x38f5ec;LabeledBox[_0x1dcaf1(0xde)](_0x2db6aa,_0xb91fc4);if(!isValidProbablitiy(_0x2db6aa[_0x1dcaf1(0x30a)])||!isValidProbablitiy(_0x2db6aa[_0x1dcaf1(0x1aa)]))throw new Error(_0xb91fc4+_0x1dcaf1(0x1a4)+_0x2db6aa[_0x1dcaf1(0x30a)]+_0x1dcaf1(0x2fa)+_0x2db6aa['classScore']+_0x1dcaf1(0x1af));}get[_0x38f5ec(0x30a)](){const _0x24ebcf=_0x38f5ec;return this[_0x24ebcf(0x2ce)];}get[_0x38f5ec(0x1aa)](){return this['_classScore'];}};function isWithFaceDetection(_0x1bffa1){const _0x39ba3f=_0x38f5ec;return _0x1bffa1[_0x39ba3f(0x315)]instanceof FaceDetection;}function extendWithFaceDetection(_0x511fae,_0x490048){const _0x138477={'detection':_0x490048};return{..._0x511fae,..._0x138477};}function createBrowserEnv(){const _0x3438d6=_0x38f5ec,_0x32496d=window[_0x3438d6(0xe2)];if(!_0x32496d)throw new Error(_0x3438d6(0x32e));const _0x3a5016=()=>{const _0x3b85aa=_0x3438d6;throw new Error(_0x3b85aa(0x2ef));};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document[_0x3438d6(0xe1)]('canvas'),'createImageElement':()=>document['createElement']('img'),'createVideoElement':()=>document[_0x3438d6(0xe1)](_0x3438d6(0x294)),'fetch':_0x32496d,'readFile':_0x3a5016};}function isNodejs(){const _0x2d3845=_0x38f5ec;return typeof global===_0x2d3845(0xcd)&&typeof process!=='undefined'&&process['versions']!=null&&process['versions']['node']!=null;}function createFileSystem(_0x3d1500){const _0x51ef1f=_0x38f5ec;let _0x4d8428='';if(!_0x3d1500&&isNodejs())try{_0x3d1500=require('fs');}catch(_0x357088){console[_0x51ef1f(0x11e)]('error',_0x357088),_0x4d8428=_0x357088[_0x51ef1f(0x26e)]();}const _0x45aba0=_0x3d1500?_0x25e276=>new Promise((_0x840197,_0x3366af)=>{const _0x215dc9=_0x51ef1f;_0x3d1500[_0x215dc9(0x2f4)](_0x25e276,(_0xfafefe,_0x5dbb60)=>_0xfafefe?_0x3366af(_0xfafefe):_0x840197(_0x5dbb60));}):()=>{const _0x460792=_0x51ef1f;throw new Error(_0x460792(0x17f)+_0x4d8428);};return{'readFile':_0x45aba0};}function createNodejsEnv(){const _0x302f8f=_0x38f5ec,_0x3d73f4=global['Canvas']||global[_0x302f8f(0x174)],_0x4c6e66=global[_0x302f8f(0x323)]||global[_0x302f8f(0xdc)],_0x12611e=global[_0x302f8f(0xaa)]||global[_0x302f8f(0x19c)],_0x482e6a=()=>{const _0x108540=_0x302f8f;if(_0x3d73f4)return new _0x3d73f4();throw new Error(_0x108540(0x1c2));},_0x5775d7=()=>{if(_0x4c6e66)return new _0x4c6e66();throw new Error('createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment');},_0xc11d84=()=>{const _0x135912=_0x302f8f;if(_0x12611e)return new _0x12611e();throw new Error(_0x135912(0x326));},_0x125322=global[_0x302f8f(0xe2)],_0x1ef8f0=createFileSystem();return{'Canvas':_0x3d73f4||class{},'CanvasRenderingContext2D':global[_0x302f8f(0x21f)]||class{},'Image':_0x4c6e66||class{},'ImageData':global[_0x302f8f(0x14a)]||class{},'Video':global[_0x302f8f(0x19c)]||class{},'createCanvasElement':_0x482e6a,'createImageElement':_0x5775d7,'createVideoElement':_0xc11d84,'fetch':_0x125322,..._0x1ef8f0};}function isBrowser(){const _0x4b684e=_0x38f5ec;return typeof window===_0x4b684e(0xcd)&&typeof document!==_0x4b684e(0x225)&&typeof HTMLImageElement!=='undefined'&&typeof HTMLCanvasElement!==_0x4b684e(0x225)&&typeof HTMLVideoElement!==_0x4b684e(0x225)&&typeof ImageData!==_0x4b684e(0x225)&&typeof CanvasRenderingContext2D!==_0x4b684e(0x225);}var environment;function getEnv(){const _0x26a69=_0x38f5ec;if(!environment)throw new Error(_0x26a69(0x2c1));return environment;}function setEnv(_0x1dd231){environment=_0x1dd231;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x13eee3){const _0x3cc64e=_0x38f5ec;!environment&&initialize();if(!environment)throw new Error(_0x3cc64e(0xd1));const {Canvas:Canvas=environment[_0x3cc64e(0x1be)],Image:Image=environment[_0x3cc64e(0x323)]}=_0x13eee3;environment[_0x3cc64e(0x1be)]=Canvas,environment['Image']=Image,environment[_0x3cc64e(0x30d)]=_0x13eee3['createCanvasElement']||(()=>new Canvas()),environment['createImageElement']=_0x13eee3[_0x3cc64e(0xa6)]||(()=>new Image()),environment[_0x3cc64e(0x14a)]=_0x13eee3[_0x3cc64e(0x14a)]||environment['ImageData'],environment[_0x3cc64e(0xaa)]=_0x13eee3[_0x3cc64e(0xaa)]||environment['Video'],environment[_0x3cc64e(0xe2)]=_0x13eee3[_0x3cc64e(0xe2)]||environment[_0x3cc64e(0xe2)],environment[_0x3cc64e(0x2f4)]=_0x13eee3[_0x3cc64e(0x2f4)]||environment[_0x3cc64e(0x2f4)];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x1e8fb5){const _0x16aae8=_0x38f5ec;if(!env[_0x16aae8(0x14e)]()&&typeof _0x1e8fb5===_0x16aae8(0xd0))return document['getElementById'](_0x1e8fb5);return _0x1e8fb5;}function getContext2dOrThrow(_0x28dab1){const _0x4c6ce8=_0x38f5ec,{Canvas:_0x5b9d6a,CanvasRenderingContext2D:_0x194ec6}=env['getEnv']();if(_0x28dab1 instanceof _0x194ec6)return _0x28dab1;const _0x5a47d3=resolveInput(_0x28dab1);if(!(_0x5a47d3 instanceof _0x5b9d6a))throw new Error(_0x4c6ce8(0x26b));const _0x311c2d=_0x5a47d3[_0x4c6ce8(0x11c)]('2d');if(!_0x311c2d)throw new Error('resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null');return _0x311c2d;}var AnchorPosition=(_0x2aee73=>{const _0x492ee9=_0x38f5ec;return _0x2aee73[_0x492ee9(0x190)]=_0x492ee9(0x190),_0x2aee73[_0x492ee9(0x13b)]=_0x492ee9(0x13b),_0x2aee73[_0x492ee9(0x11d)]=_0x492ee9(0x11d),_0x2aee73[_0x492ee9(0xfd)]=_0x492ee9(0xfd),_0x2aee73;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x1d68e2={}){const _0xfa301e=_0x38f5ec,{anchorPosition:_0x38ecc7,backgroundColor:_0x59aed7,fontColor:_0x4fe8c8,fontSize:_0x2429df,fontStyle:_0x32abf0,padding:_0x2f723b}=_0x1d68e2;this[_0xfa301e(0x238)]=_0x38ecc7||_0xfa301e(0x190),this['backgroundColor']=_0x59aed7||_0xfa301e(0xbb),this[_0xfa301e(0x18d)]=_0x4fe8c8||'rgba(255,\x20255,\x20255,\x201)',this[_0xfa301e(0x1a9)]=_0x2429df||0xe,this[_0xfa301e(0x1bb)]=_0x32abf0||_0xfa301e(0x183),this[_0xfa301e(0xf1)]=_0x2f723b||0x4;}},DrawTextField=class{constructor(_0x3de7e4,_0x168e69,_0x5b34e5={}){const _0x3a3983=_0x38f5ec;this['text']=typeof _0x3de7e4===_0x3a3983(0xd0)?[_0x3de7e4]:_0x3de7e4 instanceof DrawTextField?_0x3de7e4[_0x3a3983(0x2df)]:_0x3de7e4,this[_0x3a3983(0xe4)]=_0x168e69,this[_0x3a3983(0x2dc)]=new DrawTextFieldOptions(_0x5b34e5);}[_0x38f5ec(0x29a)](_0x570706){const _0x2386a7=_0x38f5ec,{padding:_0x1a3d8f}=this['options'];return this[_0x2386a7(0x2df)][_0x2386a7(0x26d)](_0x41a6a8=>_0x570706[_0x2386a7(0x203)](_0x41a6a8)['width'])[_0x2386a7(0x229)]((_0x59715c,_0x17237b)=>_0x59715c<_0x17237b?_0x17237b:_0x59715c,0x0)+0x2*_0x1a3d8f;}['measureHeight'](){const _0x52834b=_0x38f5ec,{fontSize:_0x1e9f60,padding:_0x3d6e6c}=this[_0x52834b(0x2dc)];return this[_0x52834b(0x2df)][_0x52834b(0x25d)]*_0x1e9f60+0x2*_0x3d6e6c;}[_0x38f5ec(0x2a7)](_0x331f06,_0x8804db){const _0x26c9c5=_0x38f5ec,{anchorPosition:_0x40e7cc}=this[_0x26c9c5(0x2dc)],_0x194006=_0x40e7cc===_0x26c9c5(0xfd)||_0x40e7cc===_0x26c9c5(0x13b),_0x5bc7e3=_0x40e7cc===_0x26c9c5(0x11d)||_0x40e7cc===_0x26c9c5(0xfd),_0xf5dd1d=this[_0x26c9c5(0x29a)](_0x331f06),_0x4f3d57=this[_0x26c9c5(0x2d7)](),_0xf2fa9c=_0x194006?this['anchor']['x']-_0xf5dd1d:this[_0x26c9c5(0xe4)]['x'],_0x32e7a0=_0x5bc7e3?this[_0x26c9c5(0xe4)]['y']-_0x4f3d57:this['anchor']['y'];if(_0x8804db){const {width:_0x110158,height:_0x3f553d}=_0x8804db,_0x383273=Math[_0x26c9c5(0x262)](Math['min'](_0xf2fa9c,_0x110158-_0xf5dd1d),0x0),_0x44559a=Math['max'](Math['min'](_0x32e7a0,_0x3f553d-_0x4f3d57),0x0);return{'x':_0x383273,'y':_0x44559a};}return{'x':_0xf2fa9c,'y':_0x32e7a0};}[_0x38f5ec(0x248)](_0x14593a){const _0x4dc644=_0x38f5ec,_0x9a3b98=resolveInput(_0x14593a),_0x189153=getContext2dOrThrow(_0x9a3b98),{backgroundColor:_0xa1bf3c,fontColor:_0x189c9e,fontSize:_0x53d636,fontStyle:_0x58a3ae,padding:_0x1223d7}=this[_0x4dc644(0x2dc)];_0x189153['font']=_0x53d636+'px\x20'+_0x58a3ae;const _0xadf875=this['measureWidth'](_0x189153),_0x5cbee0=this[_0x4dc644(0x2d7)]();_0x189153[_0x4dc644(0x189)]=_0xa1bf3c;const _0x4ea1b2=this[_0x4dc644(0x2a7)](_0x189153,_0x9a3b98);_0x189153[_0x4dc644(0x1e5)](_0x4ea1b2['x'],_0x4ea1b2['y'],_0xadf875,_0x5cbee0),_0x189153[_0x4dc644(0x189)]=_0x189c9e,this[_0x4dc644(0x2df)][_0x4dc644(0x13c)]((_0x25c7e0,_0x83074d)=>{const _0x33d994=_0x4dc644,_0x659af7=_0x1223d7+_0x4ea1b2['x'],_0xc907df=_0x1223d7+_0x4ea1b2['y']+(_0x83074d+0x1)*_0x53d636;_0x189153[_0x33d994(0x279)](_0x25c7e0,_0x659af7,_0xc907df);});}},DrawBoxOptions=class{constructor(_0x3013cc={}){const _0x1669b1=_0x38f5ec,{boxColor:_0x19365d,lineWidth:_0x18078b,label:_0x4cb3c7,drawLabelOptions:_0x2d5f65}=_0x3013cc;this['boxColor']=_0x19365d||_0x1669b1(0xf7),this['lineWidth']=_0x18078b||0x2,this[_0x1669b1(0x1a2)]=_0x4cb3c7;const _0x4cfe4f={'anchorPosition':'BOTTOM_LEFT','backgroundColor':this[_0x1669b1(0x32c)]};this[_0x1669b1(0xa4)]=new DrawTextFieldOptions({..._0x4cfe4f,..._0x2d5f65});}},DrawBox=class{constructor(_0x4c236f,_0x4d20d5={}){this['box']=new Box(_0x4c236f),this['options']=new DrawBoxOptions(_0x4d20d5);}[_0x38f5ec(0x248)](_0x24e535){const _0x2355a4=_0x38f5ec,_0x571565=getContext2dOrThrow(_0x24e535),{boxColor:_0x47056d,lineWidth:_0xbaacca}=this[_0x2355a4(0x2dc)],{x:_0x25f10e,y:_0x1bf189,width:_0x4f8701,height:_0x3e0065}=this['box'];_0x571565['strokeStyle']=_0x47056d,_0x571565[_0x2355a4(0x24d)]=_0xbaacca,_0x571565[_0x2355a4(0x168)](_0x25f10e,_0x1bf189,_0x4f8701,_0x3e0065);const {label:_0x2b0d06}=this[_0x2355a4(0x2dc)];_0x2b0d06&&new DrawTextField([_0x2b0d06],{'x':_0x25f10e-_0xbaacca/0x2,'y':_0x1bf189},this[_0x2355a4(0x2dc)]['drawLabelOptions'])[_0x2355a4(0x248)](_0x24e535);}};function drawDetections(_0x200a37,_0x53eede){const _0x48bcba=_0x38f5ec,_0xb1dd1d=Array[_0x48bcba(0x23e)](_0x53eede)?_0x53eede:[_0x53eede];_0xb1dd1d['forEach'](_0x241379=>{const _0x1b46b5=_0x48bcba,_0x2731a1=_0x241379 instanceof FaceDetection?_0x241379[_0x1b46b5(0x30a)]:isWithFaceDetection(_0x241379)?_0x241379[_0x1b46b5(0x315)][_0x1b46b5(0x30a)]:void 0x0,_0x5322f9=_0x241379 instanceof FaceDetection?_0x241379['box']:isWithFaceDetection(_0x241379)?_0x241379['detection'][_0x1b46b5(0x199)]:new Box(_0x241379),_0x51c948=_0x2731a1?''+round(_0x2731a1):void 0x0;new DrawBox(_0x5322f9,{'label':_0x51c948})[_0x1b46b5(0x248)](_0x200a37);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x201fc7){const {Image:_0x45075,Video:_0x36d224}=env['getEnv']();return _0x201fc7 instanceof _0x45075&&_0x201fc7['complete']||_0x201fc7 instanceof _0x36d224&&_0x201fc7['readyState']>=0x3;}function awaitMediaLoaded(_0x4b5382){return new Promise((_0x33b46f,_0x373635)=>{const _0x9f2137=_0x3692;if(_0x4b5382 instanceof env[_0x9f2137(0x277)]()[_0x9f2137(0x1be)]||isMediaLoaded(_0x4b5382))_0x33b46f(null);function _0x1f6e62(_0x51fc0f){const _0x138ac0=_0x9f2137;if(!_0x51fc0f['currentTarget'])return;_0x51fc0f[_0x138ac0(0xd9)][_0x138ac0(0x1db)]('load',_0x2b13f9),_0x51fc0f[_0x138ac0(0xd9)]['removeEventListener'](_0x138ac0(0x134),_0x1f6e62),_0x373635(_0x51fc0f);}function _0x2b13f9(_0x38453f){const _0x38f479=_0x9f2137;if(!_0x38453f[_0x38f479(0xd9)])return;_0x38453f['currentTarget']['removeEventListener'](_0x38f479(0x124),_0x2b13f9),_0x38453f[_0x38f479(0xd9)][_0x38f479(0x1db)](_0x38f479(0x134),_0x1f6e62),_0x33b46f(_0x38453f);}_0x4b5382['addEventListener']('load',_0x2b13f9),_0x4b5382[_0x9f2137(0xd5)](_0x9f2137(0x134),_0x1f6e62);});}function bufferToImage(_0x125a1e){return new Promise((_0x21c2e0,_0x127b8b)=>{const _0x1c4f53=_0x3692;if(!(_0x125a1e instanceof Blob))_0x127b8b(new Error(_0x1c4f53(0x208)));const _0x4eb1d5=new FileReader();_0x4eb1d5[_0x1c4f53(0x2b7)]=()=>{const _0xdaa40b=_0x1c4f53;if(typeof _0x4eb1d5[_0xdaa40b(0x32d)]!==_0xdaa40b(0xd0))_0x127b8b(new Error('bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload'));const _0xa28578=env[_0xdaa40b(0x277)]()[_0xdaa40b(0xa6)]();_0xa28578['onload']=()=>_0x21c2e0(_0xa28578),_0xa28578[_0xdaa40b(0xe3)]=_0x127b8b,_0xa28578[_0xdaa40b(0x2cb)]=_0x4eb1d5[_0xdaa40b(0x32d)];},_0x4eb1d5[_0x1c4f53(0xe3)]=_0x127b8b,_0x4eb1d5[_0x1c4f53(0x18c)](_0x125a1e);});}function getMediaDimensions(_0x1b569e){const _0x1ce606=_0x38f5ec,{Image:_0x6c55c3,Video:_0x59c3e9}=env[_0x1ce606(0x277)]();if(_0x1b569e instanceof _0x6c55c3)return new Dimensions(_0x1b569e['naturalWidth'],_0x1b569e['naturalHeight']);if(_0x1b569e instanceof _0x59c3e9)return new Dimensions(_0x1b569e[_0x1ce606(0x28b)],_0x1b569e[_0x1ce606(0x10b)]);return new Dimensions(_0x1b569e[_0x1ce606(0x100)],_0x1b569e['height']);}function createCanvas({width:_0x533dde,height:_0x4c211b}){const _0x2b33a4=_0x38f5ec,{createCanvasElement:_0xf44966}=env[_0x2b33a4(0x277)](),_0x5e9850=_0xf44966();return _0x5e9850[_0x2b33a4(0x100)]=_0x533dde,_0x5e9850[_0x2b33a4(0xe7)]=_0x4c211b,_0x5e9850;}function createCanvasFromMedia(_0xd32a55,_0x1db3ed){const _0x1090a1=_0x38f5ec,{ImageData:_0x5af030}=env[_0x1090a1(0x277)]();if(!(_0xd32a55 instanceof _0x5af030)&&!isMediaLoaded(_0xd32a55))throw new Error(_0x1090a1(0x170));const {width:_0x65b592,height:_0xc5156c}=_0x1db3ed||getMediaDimensions(_0xd32a55),_0x1a64df=createCanvas({'width':_0x65b592,'height':_0xc5156c});return _0xd32a55 instanceof _0x5af030?getContext2dOrThrow(_0x1a64df)['putImageData'](_0xd32a55,0x0,0x0):getContext2dOrThrow(_0x1a64df)[_0x1090a1(0x155)](_0xd32a55,0x0,0x0,_0x65b592,_0xc5156c),_0x1a64df;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x208cb6,_0x194b58){const _0x40fe48=_0x38f5ec,_0x346800=_0x194b58||env[_0x40fe48(0x277)]()[_0x40fe48(0x30d)](),[_0x401930,_0x4b88ea,_0x7d8cf7]=_0x208cb6[_0x40fe48(0x2e3)]['slice'](isTensor4D(_0x208cb6)?0x1:0x0),_0x4f0fb7=tf4[_0x40fe48(0x23d)](()=>_0x208cb6['as3D'](_0x401930,_0x4b88ea,_0x7d8cf7)[_0x40fe48(0x1a3)]());return await tf4['browser'][_0x40fe48(0x21b)](_0x4f0fb7,_0x346800),_0x4f0fb7[_0x40fe48(0xea)](),_0x346800;}function isMediaElement(_0x4bf61a){const _0x444bcd=_0x38f5ec,{Image:_0x134898,Canvas:_0x2c0d10,Video:_0x37378d}=env[_0x444bcd(0x277)]();return _0x4bf61a instanceof _0x134898||_0x4bf61a instanceof _0x2c0d10||_0x4bf61a instanceof _0x37378d;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x376021,_0x830acc,_0x6ab76f=![]){const _0x2bbe0a=_0x38f5ec,{Image:_0x40533e,Canvas:_0x4d6dcd}=env[_0x2bbe0a(0x277)]();if(!(_0x376021 instanceof _0x40533e||_0x376021 instanceof _0x4d6dcd))throw new Error('imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement');if(_0x830acc<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x4c0f10=getMediaDimensions(_0x376021),_0xe8944b=_0x830acc/Math[_0x2bbe0a(0x262)](_0x4c0f10['height'],_0x4c0f10[_0x2bbe0a(0x100)]),_0x438d9a=_0xe8944b*_0x4c0f10[_0x2bbe0a(0x100)],_0x146b59=_0xe8944b*_0x4c0f10[_0x2bbe0a(0xe7)],_0x1a2030=createCanvas({'width':_0x830acc,'height':_0x830acc}),_0x1ff4a3=_0x376021 instanceof _0x4d6dcd?_0x376021:createCanvasFromMedia(_0x376021),_0x2bf9c6=Math[_0x2bbe0a(0x129)](_0x438d9a-_0x146b59)/0x2,_0x10125a=_0x6ab76f&&_0x438d9a<_0x146b59?_0x2bf9c6:0x0,_0x206c10=_0x6ab76f&&_0x146b59<_0x438d9a?_0x2bf9c6:0x0;if(_0x1ff4a3['width']>0x0&&_0x1ff4a3[_0x2bbe0a(0xe7)]>0x0)getContext2dOrThrow(_0x1a2030)['drawImage'](_0x1ff4a3,_0x10125a,_0x206c10,_0x438d9a,_0x146b59);return _0x1a2030;}var NetInput=class{constructor(_0x9683fb,_0x241703=![]){const _0xd9287c=_0x38f5ec;this['_imageTensors']=[],this[_0xd9287c(0x328)]=[],this[_0xd9287c(0xb6)]=![],this[_0xd9287c(0x1cd)]=[],this['_inputSize']=0x0;if(!Array[_0xd9287c(0x23e)](_0x9683fb))throw new Error(_0xd9287c(0x1b2)+_0x9683fb);this[_0xd9287c(0xb6)]=_0x241703,this[_0xd9287c(0xbf)]=_0x9683fb[_0xd9287c(0x25d)],_0x9683fb[_0xd9287c(0x13c)]((_0x22cbf4,_0x4a95d3)=>{const _0x4b1805=_0xd9287c;if(isTensor3D(_0x22cbf4)){this[_0x4b1805(0x114)][_0x4a95d3]=_0x22cbf4,this[_0x4b1805(0x1cd)][_0x4a95d3]=_0x22cbf4[_0x4b1805(0x2e3)];return;}if(isTensor4D(_0x22cbf4)){const _0x1e7919=_0x22cbf4[_0x4b1805(0x2e3)][0x0];if(_0x1e7919!==0x1)throw new Error(_0x4b1805(0x15d)+_0x1e7919+_0x4b1805(0x316));this['_imageTensors'][_0x4a95d3]=_0x22cbf4,this[_0x4b1805(0x1cd)][_0x4a95d3]=_0x22cbf4[_0x4b1805(0x2e3)][_0x4b1805(0x24e)](0x1);return;}const _0x4eddb1=_0x22cbf4 instanceof env[_0x4b1805(0x277)]()[_0x4b1805(0x1be)]?_0x22cbf4:createCanvasFromMedia(_0x22cbf4);this[_0x4b1805(0x328)][_0x4a95d3]=_0x4eddb1,this[_0x4b1805(0x1cd)][_0x4a95d3]=[_0x4eddb1[_0x4b1805(0xe7)],_0x4eddb1[_0x4b1805(0x100)],0x3];});}get[_0x38f5ec(0x31c)](){const _0x211ecd=_0x38f5ec;return this[_0x211ecd(0x114)];}get[_0x38f5ec(0x2b0)](){const _0x3537ea=_0x38f5ec;return this[_0x3537ea(0x328)];}get['isBatchInput'](){const _0x1ad908=_0x38f5ec;return this[_0x1ad908(0x9f)]>0x1||this[_0x1ad908(0xb6)];}get[_0x38f5ec(0x9f)](){const _0x221a6e=_0x38f5ec;return this[_0x221a6e(0xbf)];}get['inputDimensions'](){const _0x30079f=_0x38f5ec;return this[_0x30079f(0x1cd)];}get['inputSize'](){const _0x331571=_0x38f5ec;return this[_0x331571(0x258)];}get[_0x38f5ec(0x29f)](){const _0x3413f7=_0x38f5ec;return range(this[_0x3413f7(0x9f)],0x0,0x1)[_0x3413f7(0x26d)]((_0x79e508,_0xf2dd83)=>this['getReshapedInputDimensions'](_0xf2dd83));}[_0x38f5ec(0x2bf)](_0xad7c92){const _0xcf515b=_0x38f5ec;return this[_0xcf515b(0x2b0)][_0xad7c92]||this['imageTensors'][_0xad7c92];}[_0x38f5ec(0x135)](_0x2dc01c){return this['_inputDimensions'][_0x2dc01c];}[_0x38f5ec(0xc1)](_0x31bf38){const _0x4917cd=_0x38f5ec;return this[_0x4917cd(0x1cd)][_0x31bf38][0x0];}[_0x38f5ec(0x227)](_0x245199){return this['_inputDimensions'][_0x245199][0x1];}['getReshapedInputDimensions'](_0x41ede4){const _0x1307f0=_0x38f5ec;if(typeof this[_0x1307f0(0x1f8)]!=='number')throw new Error('getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet');const _0xe388e=this[_0x1307f0(0x227)](_0x41ede4),_0x359c89=this[_0x1307f0(0xc1)](_0x41ede4);return computeReshapedDimensions({'width':_0xe388e,'height':_0x359c89},this[_0x1307f0(0x1f8)]);}['toBatchTensor'](_0x3eb376,_0x39f8ae=!![]){const _0x23e92e=_0x38f5ec;return this[_0x23e92e(0x258)]=_0x3eb376,tf5[_0x23e92e(0x23d)](()=>{const _0x2086b4=_0x23e92e,_0x3611c8=range(this[_0x2086b4(0x9f)],0x0,0x1)[_0x2086b4(0x26d)](_0x5a1d90=>{const _0x1b0130=_0x2086b4,_0x13c150=this[_0x1b0130(0x2bf)](_0x5a1d90);if(_0x13c150 instanceof tf5['Tensor']){let _0x2b5d2b=isTensor4D(_0x13c150)?_0x13c150:tf5['expandDims'](_0x13c150);return _0x2b5d2b=padToSquare(_0x2b5d2b,_0x39f8ae),(_0x2b5d2b[_0x1b0130(0x2e3)][0x1]!==_0x3eb376||_0x2b5d2b[_0x1b0130(0x2e3)][0x2]!==_0x3eb376)&&(_0x2b5d2b=tf5[_0x1b0130(0x1ae)][_0x1b0130(0x28e)](_0x2b5d2b,[_0x3eb376,_0x3eb376],![],![])),_0x2b5d2b[_0x1b0130(0x20f)](_0x3eb376,_0x3eb376,0x3);}if(_0x13c150 instanceof env['getEnv']()[_0x1b0130(0x1be)])return tf5['browser']['fromPixels'](imageToSquare(_0x13c150,_0x3eb376,_0x39f8ae));throw new Error('toBatchTensor\x20-\x20at\x20batchIdx\x20'+_0x5a1d90+_0x1b0130(0x2e0)+_0x13c150);}),_0x30e32a=tf5['stack'](_0x3611c8['map'](_0x397660=>tf5[_0x2086b4(0x301)](_0x397660,_0x2086b4(0xbc))))[_0x2086b4(0x121)](this[_0x2086b4(0x9f)],_0x3eb376,_0x3eb376,0x3);return _0x30e32a;});}};async function toNetInput(_0x558f85){const _0x6a34ee=_0x38f5ec;if(_0x558f85 instanceof NetInput)return _0x558f85;const _0x173eb8=Array['isArray'](_0x558f85)?_0x558f85:[_0x558f85];if(!_0x173eb8[_0x6a34ee(0x25d)])throw new Error(_0x6a34ee(0x12e));const _0x7a17f=_0x3930a1=>Array['isArray'](_0x558f85)?_0x6a34ee(0x1c6)+_0x3930a1+':':'',_0x5d5621=_0x173eb8[_0x6a34ee(0x26d)](resolveInput);return _0x5d5621[_0x6a34ee(0x13c)]((_0x30005f,_0x453775)=>{const _0x126d3c=_0x6a34ee;if(!isMediaElement(_0x30005f)&&!isTensor3D(_0x30005f)&&!isTensor4D(_0x30005f)){if(typeof _0x173eb8[_0x453775]===_0x126d3c(0xd0))throw new Error(_0x126d3c(0x162)+_0x7a17f(_0x453775)+'\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20'+_0x173eb8[_0x453775]);throw new Error('toNetInput\x20-'+_0x7a17f(_0x453775)+'\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id');}if(isTensor4D(_0x30005f)){const _0x26e463=_0x30005f[_0x126d3c(0x2e3)][0x0];if(_0x26e463!==0x1)throw new Error(_0x126d3c(0x162)+_0x7a17f(_0x453775)+_0x126d3c(0x242)+_0x26e463+_0x126d3c(0x316));}}),await Promise[_0x6a34ee(0x151)](_0x5d5621[_0x6a34ee(0x26d)](_0x3fca20=>isMediaElement(_0x3fca20)&&awaitMediaLoaded(_0x3fca20))),new NetInput(_0x5d5621,Array[_0x6a34ee(0x23e)](_0x558f85));}async function extractFaces(_0x13a77d,_0x20bea7){const _0x520239=_0x38f5ec,{Canvas:_0x508311}=env[_0x520239(0x277)]();let _0x25a7ec=_0x13a77d;if(!(_0x13a77d instanceof _0x508311)){const _0xe1a131=await toNetInput(_0x13a77d);if(_0xe1a131[_0x520239(0x9f)]>0x1)throw new Error(_0x520239(0x1ab));const _0x18e54b=_0xe1a131['getInput'](0x0);_0x25a7ec=_0x18e54b instanceof _0x508311?_0x18e54b:await imageTensorToCanvas(_0x18e54b);}const _0x57d5b5=getContext2dOrThrow(_0x25a7ec),_0x5d2cda=_0x20bea7[_0x520239(0x26d)](_0x1bd498=>_0x1bd498 instanceof FaceDetection?_0x1bd498['forSize'](_0x25a7ec[_0x520239(0x100)],_0x25a7ec[_0x520239(0xe7)])[_0x520239(0x199)]['floor']():_0x1bd498)[_0x520239(0x26d)](_0x5cdb85=>_0x5cdb85[_0x520239(0xf8)](_0x25a7ec['width'],_0x25a7ec['height']));return _0x5d2cda['map'](({x:_0x3c7a35,y:_0x4f5fe5,width:_0x5a264b,height:_0x564006})=>{const _0x565b29=_0x520239,_0x237f52=createCanvas({'width':_0x5a264b,'height':_0x564006});if(_0x5a264b>0x0&&_0x564006>0x0)getContext2dOrThrow(_0x237f52)[_0x565b29(0x1f4)](_0x57d5b5[_0x565b29(0x30f)](_0x3c7a35,_0x4f5fe5,_0x5a264b,_0x564006),0x0,0x0);return _0x237f52;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x226ee9,_0x2e3d6a){const _0x1638f0=_0x38f5ec;if(!isTensor3D(_0x226ee9)&&!isTensor4D(_0x226ee9))throw new Error('extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D');if(isTensor4D(_0x226ee9)&&_0x226ee9['shape'][0x0]>0x1)throw new Error(_0x1638f0(0x1fc));return tf6['tidy'](()=>{const _0x118dc7=_0x1638f0,[_0x4e2261,_0x455a5f,_0x3232a]=_0x226ee9[_0x118dc7(0x2e3)][_0x118dc7(0x24e)](isTensor4D(_0x226ee9)?0x1:0x0),_0x459d09=_0x2e3d6a[_0x118dc7(0x26d)](_0x42a806=>_0x42a806 instanceof FaceDetection?_0x42a806['forSize'](_0x455a5f,_0x4e2261)[_0x118dc7(0x199)]:_0x42a806)[_0x118dc7(0x26d)](_0x5d6a16=>_0x5d6a16[_0x118dc7(0xf8)](_0x455a5f,_0x4e2261)),_0x8dc6c7=_0x459d09['filter'](_0x3152e6=>_0x3152e6[_0x118dc7(0x100)]>0x0&&_0x3152e6['height']>0x0)[_0x118dc7(0x26d)](({x:_0x1f3387,y:_0x5c1f35,width:_0x502d43,height:_0x3eb513})=>tf6[_0x118dc7(0x230)](_0x226ee9['as3D'](_0x4e2261,_0x455a5f,_0x3232a),[_0x5c1f35,_0x1f3387,0x0],[_0x3eb513,_0x502d43,_0x3232a]));return _0x8dc6c7;});}async function fetchOrThrow(_0x25a8d6,_0xe9a66b){const _0x4bd847=_0x38f5ec,{fetch:_0x25d407}=env[_0x4bd847(0x277)](),_0x3733b5=await _0x25d407(_0x25a8d6,_0xe9a66b);if(!(_0x3733b5[_0x4bd847(0x131)]<0x190))throw new Error('failed\x20to\x20fetch:\x20('+_0x3733b5[_0x4bd847(0x131)]+')\x20'+_0x3733b5[_0x4bd847(0x2dd)]+_0x4bd847(0x10c)+_0x3733b5['url']);return _0x3733b5;}async function fetchImage(_0x13044b){const _0x46f88a=_0x38f5ec,_0x7c43db=await fetchOrThrow(_0x13044b),_0x4d36a3=await _0x7c43db[_0x46f88a(0x30b)]();if(!_0x4d36a3[_0x46f88a(0x287)][_0x46f88a(0x243)](_0x46f88a(0x1e2)))throw new Error(_0x46f88a(0x150)+_0x4d36a3[_0x46f88a(0x287)]+',\x20for\x20url:\x20'+_0x7c43db['url']);return bufferToImage(_0x4d36a3);}async function fetchJson(_0x38dfb3){const _0x94bd21=_0x38f5ec;return(await fetchOrThrow(_0x38dfb3))[_0x94bd21(0x19b)]();}async function fetchNetWeights(_0x1186fc){const _0x2fa419=_0x38f5ec;return new Float32Array(await(await fetchOrThrow(_0x1186fc))[_0x2fa419(0x1a7)]());}function bufferToVideo(_0x3c4886){return new Promise((_0x1bbed3,_0x35d66e)=>{const _0x30f91b=_0x3692;if(!(_0x3c4886 instanceof Blob))_0x35d66e(new Error(_0x30f91b(0x1b7)));const _0x51cca2=env[_0x30f91b(0x277)]()[_0x30f91b(0xfa)]();_0x51cca2[_0x30f91b(0x175)]=()=>_0x1bbed3(_0x51cca2),_0x51cca2[_0x30f91b(0xe3)]=_0x35d66e,_0x51cca2['playsInline']=!![],_0x51cca2[_0x30f91b(0x1ec)]=!![],_0x51cca2['src']=URL[_0x30f91b(0x2ff)](_0x3c4886),_0x51cca2[_0x30f91b(0x2b1)]();});}async function fetchVideo(_0x16b6a6){const _0x97ad8f=_0x38f5ec,_0x4ab5be=await fetchOrThrow(_0x16b6a6),_0x585599=await _0x4ab5be[_0x97ad8f(0x30b)]();if(!_0x585599['type'][_0x97ad8f(0x243)](_0x97ad8f(0xce)))throw new Error('fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20'+_0x585599[_0x97ad8f(0x287)]+_0x97ad8f(0x2ed)+_0x4ab5be[_0x97ad8f(0x2d3)]);return bufferToVideo(_0x585599);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x4bf3fa,_0x58f712){const _0x2854b4=_0x38f5ec,_0x4d08d9=_0x58f712+'-weights_manifest.json';if(!_0x4bf3fa)return{'modelBaseUri':'','manifestUri':_0x4d08d9};if(_0x4bf3fa==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x4d08d9};const _0x2b32bf=_0x4bf3fa[_0x2854b4(0x243)](_0x2854b4(0x1b5))?_0x2854b4(0x1b5):_0x4bf3fa[_0x2854b4(0x243)](_0x2854b4(0x204))?_0x2854b4(0x204):'';_0x4bf3fa=_0x4bf3fa['replace'](_0x2b32bf,'');const _0x5c5e8b=_0x4bf3fa[_0x2854b4(0x27b)]('/')[_0x2854b4(0xfe)](_0x2ce359=>_0x2ce359),_0x50f7c4=_0x4bf3fa[_0x2854b4(0x31f)](_0x2854b4(0x14f))?_0x5c5e8b[_0x5c5e8b[_0x2854b4(0x25d)]-0x1]:_0x4d08d9;let _0x23360d=_0x2b32bf+(_0x4bf3fa['endsWith'](_0x2854b4(0x14f))?_0x5c5e8b[_0x2854b4(0x24e)](0x0,_0x5c5e8b[_0x2854b4(0x25d)]-0x1):_0x5c5e8b)[_0x2854b4(0x241)]('/');return _0x23360d=_0x4bf3fa['startsWith']('/')?'/'+_0x23360d:_0x23360d,{'modelBaseUri':_0x23360d,'manifestUri':_0x23360d==='/'?'/'+_0x50f7c4:_0x23360d+'/'+_0x50f7c4};}async function loadWeightMap(_0x3165af,_0x2e3754){const _0x55e36a=_0x38f5ec,{manifestUri:_0x23d1cf,modelBaseUri:_0x28fc8e}=getModelUris(_0x3165af,_0x2e3754),_0x58edae=await fetchJson(_0x23d1cf);return tf7['io'][_0x55e36a(0x1ee)](_0x58edae,_0x28fc8e);}function matchDimensions(_0x15bbfe,_0x3585d7,_0x29aac0=![]){const _0x13e179=_0x38f5ec,{width:_0x2d03d9,height:_0x4735be}=_0x29aac0?getMediaDimensions(_0x3585d7):_0x3585d7;return _0x15bbfe[_0x13e179(0x100)]=_0x2d03d9,_0x15bbfe['height']=_0x4735be,{'width':_0x2d03d9,'height':_0x4735be};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x10e7c9){const _0x5281d2=_0x38f5ec;this['_params']=void 0x0,this[_0x5281d2(0x266)]=[],this[_0x5281d2(0x14b)]=_0x10e7c9;}get[_0x38f5ec(0xcf)](){const _0x15ccd3=_0x38f5ec;return this[_0x15ccd3(0x21a)];}get[_0x38f5ec(0x1ff)](){return this['_paramMappings'];}get['isLoaded'](){return!!this['params'];}['getParamFromPath'](_0x52b882){const _0x32f54f=_0x38f5ec,{obj:_0x1b676b,objProp:_0x25b91e}=this[_0x32f54f(0x2d5)](_0x52b882);return _0x1b676b[_0x25b91e];}[_0x38f5ec(0x221)](_0x599499,_0x5406de){const _0x145e98=_0x38f5ec,{obj:_0x2c361b,objProp:_0x1c61cf}=this[_0x145e98(0x2d5)](_0x599499);_0x2c361b[_0x1c61cf][_0x145e98(0xea)](),_0x2c361b[_0x1c61cf]=_0x5406de;}[_0x38f5ec(0x167)](){const _0x423dfa=_0x38f5ec;return this['_paramMappings'][_0x423dfa(0x26d)](({paramPath:_0x2ac85e})=>({'path':_0x2ac85e,'tensor':this[_0x423dfa(0x295)](_0x2ac85e)}));}[_0x38f5ec(0x146)](){const _0xdacd16=_0x38f5ec;return this[_0xdacd16(0x167)]()['filter'](_0x1041b1=>_0x1041b1[_0xdacd16(0xba)]instanceof tf8['Variable']);}[_0x38f5ec(0x159)](){const _0xc3e903=_0x38f5ec;return this[_0xc3e903(0x167)]()[_0xc3e903(0xfe)](_0x219cda=>!(_0x219cda[_0xc3e903(0xba)]instanceof tf8['Variable']));}[_0x38f5ec(0xb4)](){const _0x12b919=_0x38f5ec;this['getFrozenParams']()[_0x12b919(0x13c)](({path:_0x44bde4,tensor:_0x507deb})=>{const _0x367d7e=_0x12b919;this[_0x367d7e(0x221)](_0x44bde4,_0x507deb[_0x367d7e(0xb4)]());});}[_0x38f5ec(0x22c)](){const _0x30e15=_0x38f5ec;this[_0x30e15(0x146)]()[_0x30e15(0x13c)](({path:_0x4e2385,tensor:_0x206271})=>{const _0x495433=_0x30e15,_0x4e00d8=tf8[_0x495433(0xba)](_0x206271[_0x495433(0x2a4)]());_0x206271['dispose'](),this['reassignParamFromPath'](_0x4e2385,_0x4e00d8);});}[_0x38f5ec(0xea)](_0x236973=!![]){const _0x3839ab=_0x38f5ec;this[_0x3839ab(0x167)]()[_0x3839ab(0x13c)](_0x1f049e=>{const _0x253743=_0x3839ab;if(_0x236973&&_0x1f049e['tensor'][_0x253743(0xc9)])throw new Error(_0x253743(0xb3)+_0x1f049e['path']);_0x1f049e[_0x253743(0xba)][_0x253743(0xea)]();}),this['_params']=void 0x0;}[_0x38f5ec(0x27f)](){const _0x407d4c=_0x38f5ec;return new Float32Array(this[_0x407d4c(0x167)]()[_0x407d4c(0x26d)](({tensor:_0x174d5a})=>Array[_0x407d4c(0x16e)](_0x174d5a[_0x407d4c(0x2a4)]()))[_0x407d4c(0x229)]((_0x28bdb6,_0x281757)=>_0x28bdb6['concat'](_0x281757)));}async[_0x38f5ec(0x124)](_0x52bfa6){if(_0x52bfa6 instanceof Float32Array){this['extractWeights'](_0x52bfa6);return;}await this['loadFromUri'](_0x52bfa6);}async[_0x38f5ec(0x260)](_0x195853){const _0x465062=_0x38f5ec;if(_0x195853&&typeof _0x195853!==_0x465062(0xd0))throw new Error(this[_0x465062(0x14b)]+_0x465062(0xe8));const _0x326153=await loadWeightMap(_0x195853,this[_0x465062(0x139)]());this[_0x465062(0x136)](_0x326153);}async['loadFromDisk'](_0x29a4b6){const _0x5675a4=_0x38f5ec;if(_0x29a4b6&&typeof _0x29a4b6!==_0x5675a4(0xd0))throw new Error(this[_0x5675a4(0x14b)]+_0x5675a4(0x1e6));const {readFile:_0x420956}=env['getEnv'](),{manifestUri:_0x299df7,modelBaseUri:_0x497654}=getModelUris(_0x29a4b6,this[_0x5675a4(0x139)]()),_0x1b6f04=_0x147b92=>Promise[_0x5675a4(0x151)](_0x147b92[_0x5675a4(0x26d)](_0x8b28e0=>_0x420956(_0x8b28e0)[_0x5675a4(0xa9)](_0x574961=>_0x574961['buffer']))),_0x5f207e=tf8['io'][_0x5675a4(0x213)](_0x1b6f04),_0x359d5b=JSON[_0x5675a4(0x297)]((await _0x420956(_0x299df7))[_0x5675a4(0x26e)]()),_0x156f40=await _0x5f207e(_0x359d5b,_0x497654);this[_0x5675a4(0x136)](_0x156f40);}['loadFromWeightMap'](_0x2afe8a){const _0x4a7641=_0x38f5ec,{paramMappings:_0x1ee18e,params:_0x51c9d6}=this['extractParamsFromWeightMap'](_0x2afe8a);this[_0x4a7641(0x266)]=_0x1ee18e,this[_0x4a7641(0x21a)]=_0x51c9d6;}[_0x38f5ec(0x2d4)](_0x13b20b){const _0x561dc2=_0x38f5ec,{paramMappings:_0x3e66f5,params:_0x2fa4d7}=this['extractParams'](_0x13b20b);this[_0x561dc2(0x266)]=_0x3e66f5,this['_params']=_0x2fa4d7;}[_0x38f5ec(0x2d5)](_0x17debb){const _0x5b1309=_0x38f5ec;if(!this[_0x5b1309(0xcf)])throw new Error(_0x5b1309(0x291));const _0x366ed6=_0x17debb[_0x5b1309(0x27b)]('/')['reduce']((_0x320ca8,_0x24c9e5)=>{const _0x133e51=_0x5b1309;if(!_0x320ca8[_0x133e51(0x255)][_0x133e51(0x200)](_0x24c9e5))throw new Error(_0x133e51(0xcb)+_0x24c9e5+_0x133e51(0x17b)+_0x17debb);return{'obj':_0x320ca8[_0x133e51(0x255)],'objProp':_0x24c9e5,'nextObj':_0x320ca8[_0x133e51(0x255)][_0x24c9e5]};},{'nextObj':this['params']}),{obj:_0x129002,objProp:_0x34954b}=_0x366ed6;if(!_0x129002||!_0x34954b||!(_0x129002[_0x34954b]instanceof tf8[_0x5b1309(0x21d)]))throw new Error(_0x5b1309(0x1c5)+_0x17debb);return{'obj':_0x129002,'objProp':_0x34954b};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0x3d1b3c,_0x4068d1,_0x585b0a){return tf9['tidy'](()=>{const _0x2a4e49=_0x3692;let _0x28a2e2=tf9['separableConv2d'](_0x3d1b3c,_0x4068d1[_0x2a4e49(0x15a)],_0x4068d1['pointwise_filter'],_0x585b0a,'same');return _0x28a2e2=tf9[_0x2a4e49(0x2d0)](_0x28a2e2,_0x4068d1[_0x2a4e49(0x108)]),_0x28a2e2;});}function denseBlock3(_0x198ab3,_0x100a5c,_0x1e0e4d=![]){const _0x123a8=_0x38f5ec;return tf10[_0x123a8(0x23d)](()=>{const _0x5ec63c=_0x123a8,_0xdfb3bc=tf10[_0x5ec63c(0x26a)](_0x1e0e4d?tf10[_0x5ec63c(0x2d0)](tf10[_0x5ec63c(0x271)](_0x198ab3,_0x100a5c[_0x5ec63c(0xc4)]['filters'],[0x2,0x2],_0x5ec63c(0x1b9)),_0x100a5c[_0x5ec63c(0xc4)]['bias']):depthwiseSeparableConv(_0x198ab3,_0x100a5c[_0x5ec63c(0xc4)],[0x2,0x2])),_0x5a0c93=depthwiseSeparableConv(_0xdfb3bc,_0x100a5c[_0x5ec63c(0x29d)],[0x1,0x1]),_0x49e041=tf10[_0x5ec63c(0x26a)](tf10[_0x5ec63c(0x2d0)](_0xdfb3bc,_0x5a0c93)),_0x50fc76=depthwiseSeparableConv(_0x49e041,_0x100a5c[_0x5ec63c(0x240)],[0x1,0x1]);return tf10[_0x5ec63c(0x26a)](tf10[_0x5ec63c(0x2d0)](_0xdfb3bc,tf10[_0x5ec63c(0x2d0)](_0x5a0c93,_0x50fc76)));});}function denseBlock4(_0x5c1c58,_0x43af6e,_0x4275f1=![],_0x472da6=!![]){const _0x40cb06=_0x38f5ec;return tf10[_0x40cb06(0x23d)](()=>{const _0x11a119=_0x40cb06,_0x2fb017=tf10[_0x11a119(0x26a)](_0x4275f1?tf10[_0x11a119(0x2d0)](tf10[_0x11a119(0x271)](_0x5c1c58,_0x43af6e['conv0']['filters'],_0x472da6?[0x2,0x2]:[0x1,0x1],'same'),_0x43af6e['conv0'][_0x11a119(0x108)]):depthwiseSeparableConv(_0x5c1c58,_0x43af6e[_0x11a119(0xc4)],_0x472da6?[0x2,0x2]:[0x1,0x1])),_0x4a62a8=depthwiseSeparableConv(_0x2fb017,_0x43af6e[_0x11a119(0x29d)],[0x1,0x1]),_0x51d0e4=tf10[_0x11a119(0x26a)](tf10[_0x11a119(0x2d0)](_0x2fb017,_0x4a62a8)),_0x45c901=depthwiseSeparableConv(_0x51d0e4,_0x43af6e[_0x11a119(0x240)],[0x1,0x1]),_0x191a7a=tf10[_0x11a119(0x26a)](tf10[_0x11a119(0x2d0)](_0x2fb017,tf10[_0x11a119(0x2d0)](_0x4a62a8,_0x45c901))),_0x517b14=depthwiseSeparableConv(_0x191a7a,_0x43af6e[_0x11a119(0x1e0)],[0x1,0x1]);return tf10[_0x11a119(0x26a)](tf10[_0x11a119(0x2d0)](_0x2fb017,tf10[_0x11a119(0x2d0)](_0x4a62a8,tf10[_0x11a119(0x2d0)](_0x45c901,_0x517b14))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x2bb4c0,_0x2d06e0,_0x48df82=_0x38f5ec(0x1b9),_0x3e95c=![]){const _0x2d4161=_0x38f5ec;return tf11[_0x2d4161(0x23d)](()=>{const _0x223b56=_0x2d4161,_0x570709=tf11['add'](tf11[_0x223b56(0x271)](_0x2bb4c0,_0x2d06e0['filters'],[0x1,0x1],_0x48df82),_0x2d06e0['bias']);return _0x3e95c?tf11[_0x223b56(0x26a)](_0x570709):_0x570709;});}function disposeUnusedWeightTensors(_0x648950,_0x24611f){const _0x47604d=_0x38f5ec;Object[_0x47604d(0x253)](_0x648950)['forEach'](_0x3d08d3=>{const _0x149e02=_0x47604d;!_0x24611f[_0x149e02(0xf4)](_0x481b56=>_0x481b56[_0x149e02(0x20d)]===_0x3d08d3)&&_0x648950[_0x3d08d3][_0x149e02(0xea)]();});}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x327e18,_0x2f99a1){return(_0x1321c2,_0x5a1a6d,_0x2c9419,_0x337d7b)=>{const _0x2dbe6d=_0x3692,_0x27d89a=tf12[_0x2dbe6d(0xc8)](_0x327e18(_0x1321c2*_0x5a1a6d*_0x2c9419*_0x2c9419),[_0x2c9419,_0x2c9419,_0x1321c2,_0x5a1a6d]),_0xe2b11e=tf12[_0x2dbe6d(0x220)](_0x327e18(_0x5a1a6d));return _0x2f99a1[_0x2dbe6d(0x145)]({'paramPath':_0x337d7b+_0x2dbe6d(0x19e)},{'paramPath':_0x337d7b+_0x2dbe6d(0x218)}),{'filters':_0x27d89a,'bias':_0xe2b11e};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x2aa57a,_0x538ad3){return(_0x5dfcb5,_0x1e2112,_0x550f26)=>{const _0xa80ed2=_0x3692,_0x5aaf99=tf13[_0xa80ed2(0x29b)](_0x2aa57a(_0x5dfcb5*_0x1e2112),[_0x5dfcb5,_0x1e2112]),_0x1cb51a=tf13[_0xa80ed2(0x220)](_0x2aa57a(_0x1e2112));return _0x538ad3[_0xa80ed2(0x145)]({'paramPath':_0x550f26+_0xa80ed2(0xee)},{'paramPath':_0x550f26+'/bias'}),{'weights':_0x5aaf99,'bias':_0x1cb51a};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x7510f0,_0x18db5b,_0x480652){const _0x542485=_0x38f5ec;this[_0x542485(0x15a)]=_0x7510f0,this[_0x542485(0x32a)]=_0x18db5b,this[_0x542485(0x108)]=_0x480652;}};function extractSeparableConvParamsFactory(_0x5b57cd,_0x1a1798){return(_0x38a564,_0x5c3a6e,_0x2b8344)=>{const _0x345086=_0x3692,_0x530ca5=tf14['tensor4d'](_0x5b57cd(0x3*0x3*_0x38a564),[0x3,0x3,_0x38a564,0x1]),_0x119f3e=tf14[_0x345086(0xc8)](_0x5b57cd(_0x38a564*_0x5c3a6e),[0x1,0x1,_0x38a564,_0x5c3a6e]),_0x436439=tf14[_0x345086(0x220)](_0x5b57cd(_0x5c3a6e));return _0x1a1798[_0x345086(0x145)]({'paramPath':_0x2b8344+'/depthwise_filter'},{'paramPath':_0x2b8344+_0x345086(0x2a2)},{'paramPath':_0x2b8344+_0x345086(0x218)}),new SeparableConvParams(_0x530ca5,_0x119f3e,_0x436439);};}function loadSeparableConvParamsFactory(_0x39ed45){return _0x23810d=>{const _0x4c1d4e=_0x3692,_0x99952f=_0x39ed45(_0x23810d+_0x4c1d4e(0x288),0x4),_0x3c337c=_0x39ed45(_0x23810d+_0x4c1d4e(0x2a2),0x4),_0x5b92c5=_0x39ed45(_0x23810d+_0x4c1d4e(0x218),0x1);return new SeparableConvParams(_0x99952f,_0x3c337c,_0x5b92c5);};}function extractWeightEntryFactory(_0x222d7f,_0x2160d1){return(_0x1e3b2d,_0x3b5207,_0x269495)=>{const _0x49f763=_0x3692,_0x429f65=_0x222d7f[_0x1e3b2d];if(!isTensor(_0x429f65,_0x3b5207))throw new Error(_0x49f763(0x1bc)+_0x1e3b2d+_0x49f763(0x1b0)+_0x3b5207+_0x49f763(0x2b8)+_0x429f65);return _0x2160d1['push']({'originalPath':_0x1e3b2d,'paramPath':_0x269495||_0x1e3b2d}),_0x429f65;};}function extractWeightsFactory(_0x58d9d8){let _0x31f576=_0x58d9d8;function _0x570d30(_0x144e84){const _0x4dcc8b=_0x3692,_0x4b6a35=_0x31f576[_0x4dcc8b(0x24e)](0x0,_0x144e84);return _0x31f576=_0x31f576[_0x4dcc8b(0x24e)](_0x144e84),_0x4b6a35;}function _0x107511(){return _0x31f576;}return{'extractWeights':_0x570d30,'getRemainingWeights':_0x107511};}function extractorsFactory(_0x1a3fef,_0x19010c){const _0x18d59b=extractConvParamsFactory(_0x1a3fef,_0x19010c),_0x3a2308=extractSeparableConvParamsFactory(_0x1a3fef,_0x19010c);function _0x5b92ed(_0x28a8db,_0x43bfc9,_0x4aca2a,_0x2d4282=![]){const _0x1c10e6=_0x3692,_0x1a6b89=_0x2d4282?_0x18d59b(_0x28a8db,_0x43bfc9,0x3,_0x4aca2a+_0x1c10e6(0x2ad)):_0x3a2308(_0x28a8db,_0x43bfc9,_0x4aca2a+_0x1c10e6(0x2ad)),_0x3a9142=_0x3a2308(_0x43bfc9,_0x43bfc9,_0x4aca2a+_0x1c10e6(0xaf)),_0x14ef6f=_0x3a2308(_0x43bfc9,_0x43bfc9,_0x4aca2a+_0x1c10e6(0x171));return{'conv0':_0x1a6b89,'conv1':_0x3a9142,'conv2':_0x14ef6f};}function _0x21d613(_0x5c0b02,_0x35a778,_0x3545da,_0xd40f7a=![]){const _0x117250=_0x3692,{conv0:_0x4d035c,conv1:_0x175217,conv2:_0x3ffa02}=_0x5b92ed(_0x5c0b02,_0x35a778,_0x3545da,_0xd40f7a),_0x40dcd1=_0x3a2308(_0x35a778,_0x35a778,_0x3545da+_0x117250(0x13e));return{'conv0':_0x4d035c,'conv1':_0x175217,'conv2':_0x3ffa02,'conv3':_0x40dcd1};}return{'extractDenseBlock3Params':_0x5b92ed,'extractDenseBlock4Params':_0x21d613};}function extractParams(_0x20266d){const _0x509b65=_0x38f5ec,_0xe35a6e=[],{extractWeights:_0x3d329e,getRemainingWeights:_0x117f0f}=extractWeightsFactory(_0x20266d),{extractDenseBlock4Params:_0x1d1687}=extractorsFactory(_0x3d329e,_0xe35a6e),_0x3ae045=_0x1d1687(0x3,0x20,_0x509b65(0x273),!![]),_0x1f67bf=_0x1d1687(0x20,0x40,_0x509b65(0xe6)),_0x449fd3=_0x1d1687(0x40,0x80,_0x509b65(0xa3)),_0x33548b=_0x1d1687(0x80,0x100,_0x509b65(0x2be));if(_0x117f0f()['length']!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x117f0f()[_0x509b65(0x25d)]);return{'paramMappings':_0xe35a6e,'params':{'dense0':_0x3ae045,'dense1':_0x1f67bf,'dense2':_0x449fd3,'dense3':_0x33548b}};}function loadConvParamsFactory(_0x30ffbe){return _0x10ca66=>{const _0x9d1163=_0x3692,_0x596317=_0x30ffbe(_0x10ca66+_0x9d1163(0x19e),0x4),_0x83cc19=_0x30ffbe(_0x10ca66+_0x9d1163(0x218),0x1);return{'filters':_0x596317,'bias':_0x83cc19};};}function loadParamsFactory(_0x4d78f0,_0x483144){const _0x201b5f=extractWeightEntryFactory(_0x4d78f0,_0x483144),_0x5c3fe5=loadConvParamsFactory(_0x201b5f),_0x3c0882=loadSeparableConvParamsFactory(_0x201b5f);function _0x52609c(_0x422433,_0x28cc23=![]){const _0x5326f6=_0x3692,_0x30755d=_0x28cc23?_0x5c3fe5(_0x422433+_0x5326f6(0x2ad)):_0x3c0882(_0x422433+'/conv0'),_0x404b91=_0x3c0882(_0x422433+_0x5326f6(0xaf)),_0x5bb204=_0x3c0882(_0x422433+_0x5326f6(0x171));return{'conv0':_0x30755d,'conv1':_0x404b91,'conv2':_0x5bb204};}function _0x53a985(_0x1728b8,_0x3d75de=![]){const _0x3efd1c=_0x3692,_0x57eed1=_0x3d75de?_0x5c3fe5(_0x1728b8+_0x3efd1c(0x2ad)):_0x3c0882(_0x1728b8+_0x3efd1c(0x2ad)),_0x2756e7=_0x3c0882(_0x1728b8+_0x3efd1c(0xaf)),_0x1e1ae0=_0x3c0882(_0x1728b8+'/conv2'),_0x4037a1=_0x3c0882(_0x1728b8+'/conv3');return{'conv0':_0x57eed1,'conv1':_0x2756e7,'conv2':_0x1e1ae0,'conv3':_0x4037a1};}return{'extractDenseBlock3Params':_0x52609c,'extractDenseBlock4Params':_0x53a985};}function extractParamsFromWeightMap(_0x1ad29a){const _0x2efbc8=_0x38f5ec,_0x2797c0=[],{extractDenseBlock4Params:_0x2619f2}=loadParamsFactory(_0x1ad29a,_0x2797c0),_0x1cac0e={'dense0':_0x2619f2('dense0',!![]),'dense1':_0x2619f2('dense1'),'dense2':_0x2619f2(_0x2efbc8(0xa3)),'dense3':_0x2619f2(_0x2efbc8(0x2be))};return disposeUnusedWeightTensors(_0x1ad29a,_0x2797c0),{'params':_0x1cac0e,'paramMappings':_0x2797c0};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x5ed282=_0x38f5ec;super(_0x5ed282(0x17a));}[_0x38f5ec(0x245)](_0x469565){const _0x23da48=_0x38f5ec,{params:_0x42fb5d}=this;if(!_0x42fb5d)throw new Error(_0x23da48(0x209));return tf15[_0x23da48(0x23d)](()=>{const _0x4f4e52=_0x23da48,_0x3bff6f=tf15[_0x4f4e52(0x301)](_0x469565['toBatchTensor'](0x70,!![]),_0x4f4e52(0xbc)),_0x17a638=[122.782,117.001,104.298],_0x3250ac=normalize(_0x3bff6f,_0x17a638)['div'](0xff);let _0x28d7c=denseBlock4(_0x3250ac,_0x42fb5d['dense0'],!![]);return _0x28d7c=denseBlock4(_0x28d7c,_0x42fb5d[_0x4f4e52(0xe6)]),_0x28d7c=denseBlock4(_0x28d7c,_0x42fb5d['dense2']),_0x28d7c=denseBlock4(_0x28d7c,_0x42fb5d[_0x4f4e52(0x2be)]),_0x28d7c=tf15[_0x4f4e52(0x2e4)](_0x28d7c,[0x7,0x7],[0x2,0x2],'valid'),_0x28d7c;});}async['forward'](_0x3686ae){return this['forwardInput'](await toNetInput(_0x3686ae));}[_0x38f5ec(0x139)](){const _0x13a812=_0x38f5ec;return _0x13a812(0x2f1);}[_0x38f5ec(0x1eb)](_0x3c6768){return extractParamsFromWeightMap(_0x3c6768);}['extractParams'](_0x286fea){return extractParams(_0x286fea);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x49ae0b,_0x538847){const _0x333fb6=_0x38f5ec;return tf16['tidy'](()=>tf16[_0x333fb6(0x2d0)](tf16[_0x333fb6(0x219)](_0x49ae0b,_0x538847[_0x333fb6(0xf0)]),_0x538847[_0x333fb6(0x108)]));}function extractParams2(_0x359f3a,_0x577dea,_0x1f1468){const _0x437147=_0x38f5ec,_0x1def48=[],{extractWeights:_0x258e36,getRemainingWeights:_0x44039}=extractWeightsFactory(_0x359f3a),_0xa59023=extractFCParamsFactory(_0x258e36,_0x1def48),_0x4e5ee7=_0xa59023(_0x577dea,_0x1f1468,'fc');if(_0x44039()[_0x437147(0x25d)]!==0x0)throw new Error(_0x437147(0x281)+_0x44039()[_0x437147(0x25d)]);return{'paramMappings':_0x1def48,'params':{'fc':_0x4e5ee7}};}function extractParamsFromWeightMap2(_0xdc39e9){const _0x2af443=[],_0x4d1f0f=extractWeightEntryFactory(_0xdc39e9,_0x2af443);function _0xd35bca(_0xfb183){const _0xc4244d=_0x3692,_0x153c3a=_0x4d1f0f(_0xfb183+_0xc4244d(0xee),0x2),_0x21f509=_0x4d1f0f(_0xfb183+_0xc4244d(0x218),0x1);return{'weights':_0x153c3a,'bias':_0x21f509};}const _0x23c89d={'fc':_0xd35bca('fc')};return disposeUnusedWeightTensors(_0xdc39e9,_0x2af443),{'params':_0x23c89d,'paramMappings':_0x2af443};}function seperateWeightMaps(_0x955581){const _0x43b7be=_0x38f5ec,_0x40dfd4={},_0x516868={};return Object[_0x43b7be(0x253)](_0x955581)[_0x43b7be(0x13c)](_0xdc5484=>{const _0x183745=_0x43b7be,_0x246b94=_0xdc5484[_0x183745(0x243)]('fc')?_0x516868:_0x40dfd4;_0x246b94[_0xdc5484]=_0x955581[_0xdc5484];}),{'featureExtractorMap':_0x40dfd4,'classifierMap':_0x516868};}var FaceProcessor=class extends NeuralNetwork{constructor(_0xaf1841,_0x5b7169){const _0x3aad70=_0x38f5ec;super(_0xaf1841),this[_0x3aad70(0x111)]=_0x5b7169;}get[_0x38f5ec(0x2af)](){return this['_faceFeatureExtractor'];}[_0x38f5ec(0xef)](_0x30049e){const _0x510225=_0x38f5ec,{params:_0x1cb1ef}=this;if(!_0x1cb1ef)throw new Error(this['_name']+'\x20-\x20load\x20model\x20before\x20inference');return tf17[_0x510225(0x23d)](()=>{const _0x288b5c=_0x510225,_0x423275=_0x30049e instanceof NetInput?this[_0x288b5c(0x2af)][_0x288b5c(0x245)](_0x30049e):_0x30049e;return fullyConnectedLayer(_0x423275[_0x288b5c(0x1c8)](_0x423275[_0x288b5c(0x2e3)][0x0],-0x1),_0x1cb1ef['fc']);});}[_0x38f5ec(0xea)](_0x54946a=!![]){const _0x5aaadf=_0x38f5ec;this[_0x5aaadf(0x2af)]['dispose'](_0x54946a),super[_0x5aaadf(0xea)](_0x54946a);}['loadClassifierParams'](_0x565b84){const _0x2169ce=_0x38f5ec,{params:_0x201a28,paramMappings:_0x22bf14}=this[_0x2169ce(0x153)](_0x565b84);this[_0x2169ce(0x21a)]=_0x201a28,this['_paramMappings']=_0x22bf14;}[_0x38f5ec(0x153)](_0x72220){const _0x5b3030=_0x38f5ec;return extractParams2(_0x72220,this['getClassifierChannelsIn'](),this[_0x5b3030(0x14c)]());}[_0x38f5ec(0x1eb)](_0x2e19fa){const _0x2b1bee=_0x38f5ec,{featureExtractorMap:_0x4ac3b8,classifierMap:_0x432f05}=seperateWeightMaps(_0x2e19fa);return this[_0x2b1bee(0x2af)][_0x2b1bee(0x136)](_0x4ac3b8),extractParamsFromWeightMap2(_0x432f05);}[_0x38f5ec(0x16b)](_0x265021){const _0xa339af=_0x38f5ec,_0xb43458=this[_0xa339af(0x1b3)](),_0x1da8b6=this[_0xa339af(0x14c)](),_0x37a87c=_0x1da8b6*_0xb43458+_0x1da8b6,_0xa327c6=_0x265021[_0xa339af(0x24e)](0x0,_0x265021[_0xa339af(0x25d)]-_0x37a87c),_0x3a6ca9=_0x265021[_0xa339af(0x24e)](_0x265021[_0xa339af(0x25d)]-_0x37a87c);return this['faceFeatureExtractor'][_0xa339af(0x2d4)](_0xa327c6),this[_0xa339af(0x153)](_0x3a6ca9);}},FACE_EXPRESSION_LABELS=['neutral',_0x38f5ec(0xb0),_0x38f5ec(0x1e7),_0x38f5ec(0x2a3),_0x38f5ec(0x311),_0x38f5ec(0xc3),'surprised'],FaceExpressions=class{constructor(_0x4182ac){const _0x199b13=_0x38f5ec;this['neutral']=0x0,this['happy']=0x0,this[_0x199b13(0x1e7)]=0x0,this[_0x199b13(0x2a3)]=0x0,this[_0x199b13(0x311)]=0x0,this[_0x199b13(0xc3)]=0x0,this[_0x199b13(0x24f)]=0x0;if(_0x4182ac[_0x199b13(0x25d)]!==0x7)throw new Error(_0x199b13(0x299)+_0x4182ac['length']);FACE_EXPRESSION_LABELS[_0x199b13(0x13c)]((_0x1ffbb0,_0x280fca)=>{this[_0x1ffbb0]=_0x4182ac[_0x280fca];});}[_0x38f5ec(0x1d4)](){const _0x244de2=_0x38f5ec;return FACE_EXPRESSION_LABELS[_0x244de2(0x26d)](_0x56adab=>({'expression':_0x56adab,'probability':this[_0x56adab]}))[_0x244de2(0x137)]((_0x3a8d12,_0xa61897)=>_0xa61897[_0x244de2(0x152)]-_0x3a8d12[_0x244de2(0x152)]);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x2873d9=new FaceFeatureExtractor()){const _0x2ac34f=_0x38f5ec;super(_0x2ac34f(0x101),_0x2873d9);}['forwardInput'](_0x14517f){const _0x1ddb59=_0x38f5ec;return tf18[_0x1ddb59(0x23d)](()=>tf18['softmax'](this['runNet'](_0x14517f)));}async[_0x38f5ec(0xa1)](_0x2450f2){const _0x5464fa=_0x38f5ec;return this[_0x5464fa(0x245)](await toNetInput(_0x2450f2));}async[_0x38f5ec(0x1ba)](_0x16ee04){const _0x4aa90c=_0x38f5ec,_0x1227c0=await toNetInput(_0x16ee04),_0x1a77b5=await this[_0x4aa90c(0x245)](_0x1227c0),_0x20dac3=await Promise[_0x4aa90c(0x151)](tf18[_0x4aa90c(0x322)](_0x1a77b5)[_0x4aa90c(0x26d)](async _0x5ed09e=>{const _0x549b69=_0x4aa90c,_0x4f7c17=_0x5ed09e[_0x549b69(0x2a4)]();return _0x5ed09e[_0x549b69(0xea)](),_0x4f7c17;}));_0x1a77b5['dispose']();const _0x21dc9f=_0x20dac3[_0x4aa90c(0x26d)](_0x1e26f5=>new FaceExpressions(_0x1e26f5));return _0x1227c0[_0x4aa90c(0xda)]?_0x21dc9f:_0x21dc9f[0x0];}[_0x38f5ec(0x139)](){const _0x44c33e=_0x38f5ec;return _0x44c33e(0x13a);}[_0x38f5ec(0x1b3)](){return 0x100;}[_0x38f5ec(0x14c)](){return 0x7;}};function isWithFaceExpressions(_0x4cd5cf){return _0x4cd5cf['expressions']instanceof FaceExpressions;}function extendWithFaceExpressions(_0x1cba6d,_0x443892){const _0x535fd5={'expressions':_0x443892};return{..._0x1cba6d,..._0x535fd5};}function drawFaceExpressions(_0x285190,_0x3b8f71,_0x2b2315=0.1,_0x33b570){const _0xbf4a7c=_0x38f5ec,_0x555d16=Array[_0xbf4a7c(0x23e)](_0x3b8f71)?_0x3b8f71:[_0x3b8f71];_0x555d16[_0xbf4a7c(0x13c)](_0x1fb6f0=>{const _0x2f1201=_0xbf4a7c,_0x964ac8=_0x1fb6f0 instanceof FaceExpressions?_0x1fb6f0:isWithFaceExpressions(_0x1fb6f0)?_0x1fb6f0[_0x2f1201(0x212)]:void 0x0;if(!_0x964ac8)throw new Error('drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof');const _0x13eac9=_0x964ac8[_0x2f1201(0x1d4)](),_0x40897c=_0x13eac9['filter'](_0x278356=>_0x278356[_0x2f1201(0x152)]>_0x2b2315),_0x21cfcd=isWithFaceDetection(_0x1fb6f0)?_0x1fb6f0[_0x2f1201(0x315)]['box'][_0x2f1201(0x18a)]:_0x33b570||new Point(0x0,0x0),_0x5def65=new DrawTextField(_0x40897c[_0x2f1201(0x26d)](_0x479bbe=>_0x479bbe['expression']+'\x20('+round(_0x479bbe['probability'])+')'),_0x21cfcd);_0x5def65[_0x2f1201(0x248)](_0x285190);});}function isWithFaceLandmarks(_0x132529){const _0x58ca17=_0x38f5ec;return isWithFaceDetection(_0x132529)&&_0x132529[_0x58ca17(0x22d)]instanceof FaceLandmarks&&_0x132529[_0x58ca17(0x2de)]instanceof FaceLandmarks&&_0x132529['alignedRect']instanceof FaceDetection;}function calculateFaceAngle(_0x436f24){const _0xd9e3bf=_0x38f5ec,_0x3fe3a2=(_0x1c32e7,_0x383a7c,_0x21b5ff,_0x1e708d)=>Math['atan2'](_0x1e708d-_0x383a7c,_0x21b5ff-_0x1c32e7)%Math['PI'],_0x258731=_0x9dbc0f=>_0x9dbc0f*0xb4/Math['PI'],_0x11cf56={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x436f24||!_0x436f24['_positions']||_0x436f24[_0xd9e3bf(0x1fa)][_0xd9e3bf(0x25d)]!==0x44)return _0x11cf56;const _0xa493c7=_0x436f24['_positions'];_0x11cf56['roll']=-_0x3fe3a2(_0xa493c7[0x24]['_x'],_0xa493c7[0x24]['_y'],_0xa493c7[0x2d]['_x'],_0xa493c7[0x2d]['_y']),_0x11cf56[_0xd9e3bf(0xc5)]=_0x3fe3a2(0x0,Math['abs'](_0xa493c7[0x0]['_x']-_0xa493c7[0x1e]['_x'])/_0xa493c7[0x1e]['_x'],Math['PI'],Math['abs'](_0xa493c7[0x10]['_x']-_0xa493c7[0x1e]['_x'])/_0xa493c7[0x1e]['_x']);const _0x5caa74=_0xa493c7['reduce']((_0x57db6f,_0xcad513)=>_0x57db6f<_0xcad513['_y']?_0x57db6f:_0xcad513['_y'],Infinity),_0x3a316a=_0xa493c7[_0xd9e3bf(0x229)]((_0x120e3c,_0x1a7819)=>_0x120e3c>_0x1a7819['_y']?_0x120e3c:_0x1a7819['_y'],-Infinity);return _0x11cf56[_0xd9e3bf(0x263)]=Math['PI']*(_0x436f24['_imgDims'][_0xd9e3bf(0x222)]/(_0x3a316a-_0x5caa74)/1.4-0x1),_0x11cf56;}function extendWithFaceLandmarks(_0x98e229,_0x504a4c){const _0x23402e=_0x38f5ec,{box:_0x2a525d}=_0x98e229[_0x23402e(0x315)],_0x426287=_0x504a4c[_0x23402e(0x165)](_0x2a525d['x'],_0x2a525d['y']),_0x1bfd56=_0x426287[_0x23402e(0xab)](),{imageDims:_0x55acc1}=_0x98e229['detection'],_0x36bd01=new FaceDetection(_0x98e229[_0x23402e(0x315)][_0x23402e(0x30a)],_0x1bfd56['rescale'](_0x55acc1['reverse']()),_0x55acc1),_0x4ff786=calculateFaceAngle(_0x504a4c),_0x14b199={'landmarks':_0x426287,'unshiftedLandmarks':_0x504a4c,'alignedRect':_0x36bd01,'angle':_0x4ff786};return{..._0x98e229,..._0x14b199};}var DrawFaceLandmarksOptions=class{constructor(_0x137fc7={}){const _0x41a19b=_0x38f5ec,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0x5f4265,lineColor:_0x575b36,pointSize:_0x49e306,pointColor:_0x164d9b}=_0x137fc7;this['drawLines']=drawLines,this['drawPoints']=drawPoints,this[_0x41a19b(0x24d)]=_0x5f4265||0x1,this[_0x41a19b(0x23c)]=_0x49e306||0x2,this[_0x41a19b(0x1ce)]=_0x575b36||_0x41a19b(0x1f2),this[_0x41a19b(0xf2)]=_0x164d9b||_0x41a19b(0x264);}},DrawFaceLandmarks=class{constructor(_0x52c544,_0xde925d={}){const _0x307b2d=_0x38f5ec;this[_0x307b2d(0x29c)]=_0x52c544,this[_0x307b2d(0x2dc)]=new DrawFaceLandmarksOptions(_0xde925d);}[_0x38f5ec(0x248)](_0x5486b9){const _0x327e85=_0x38f5ec,_0x250bf1=getContext2dOrThrow(_0x5486b9),{drawLines:_0x17131e,drawPoints:_0x1943fb,lineWidth:_0x1a85e1,lineColor:_0x519cf2,pointSize:_0x134be0,pointColor:_0xf7c6d2}=this[_0x327e85(0x2dc)];_0x17131e&&this[_0x327e85(0x29c)]instanceof FaceLandmarks68&&(_0x250bf1[_0x327e85(0x15c)]=_0x519cf2,_0x250bf1['lineWidth']=_0x1a85e1,drawContour(_0x250bf1,this[_0x327e85(0x29c)]['getJawOutline']()),drawContour(_0x250bf1,this['faceLandmarks'][_0x327e85(0x2d9)]()),drawContour(_0x250bf1,this[_0x327e85(0x29c)][_0x327e85(0x285)]()),drawContour(_0x250bf1,this[_0x327e85(0x29c)][_0x327e85(0x1f0)]()),drawContour(_0x250bf1,this['faceLandmarks'][_0x327e85(0xed)](),!![]),drawContour(_0x250bf1,this[_0x327e85(0x29c)]['getRightEye'](),!![]),drawContour(_0x250bf1,this[_0x327e85(0x29c)][_0x327e85(0x23f)](),!![]));if(_0x1943fb){_0x250bf1[_0x327e85(0x15c)]=_0xf7c6d2,_0x250bf1[_0x327e85(0x189)]=_0xf7c6d2;const _0x1910ff=_0x212749=>{const _0x365379=_0x327e85;_0x250bf1[_0x365379(0x278)](),_0x250bf1[_0x365379(0x107)](_0x212749['x'],_0x212749['y'],_0x134be0,0x0,0x2*Math['PI']),_0x250bf1[_0x365379(0x1f5)]();};this[_0x327e85(0x29c)][_0x327e85(0x2ec)][_0x327e85(0x13c)](_0x1910ff);}}};function drawFaceLandmarks(_0x465e17,_0x2b255a){const _0x2cc191=Array['isArray'](_0x2b255a)?_0x2b255a:[_0x2b255a];_0x2cc191['forEach'](_0x3161ef=>{const _0x47ed16=_0x3692,_0x177053=_0x3161ef instanceof FaceLandmarks?_0x3161ef:isWithFaceLandmarks(_0x3161ef)?_0x3161ef[_0x47ed16(0x22d)]:void 0x0;if(!_0x177053)throw new Error(_0x47ed16(0x256));new DrawFaceLandmarks(_0x177053)[_0x47ed16(0x248)](_0x465e17);});}var version=_0x38f5ec(0x172),tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x42ec68,_0x22012c){const _0x577f05=extractConvParamsFactory(_0x42ec68,_0x22012c),_0x5882c8=extractSeparableConvParamsFactory(_0x42ec68,_0x22012c);function _0x36dd3d(_0x58fa65,_0x1bce28,_0x247ac5){const _0x59cae5=_0x3692,_0x21533f=_0x5882c8(_0x58fa65,_0x1bce28,_0x247ac5+_0x59cae5(0x24b)),_0x4ce4da=_0x5882c8(_0x1bce28,_0x1bce28,_0x247ac5+'/separable_conv1'),_0x569a66=_0x577f05(_0x58fa65,_0x1bce28,0x1,_0x247ac5+'/expansion_conv');return{'separable_conv0':_0x21533f,'separable_conv1':_0x4ce4da,'expansion_conv':_0x569a66};}function _0x56343d(_0x5ee681,_0x5be075){const _0x455b38=_0x3692,_0x14be62=_0x5882c8(_0x5ee681,_0x5ee681,_0x5be075+_0x455b38(0x24b)),_0x3f137f=_0x5882c8(_0x5ee681,_0x5ee681,_0x5be075+_0x455b38(0xca)),_0xcb712a=_0x5882c8(_0x5ee681,_0x5ee681,_0x5be075+_0x455b38(0x290));return{'separable_conv0':_0x14be62,'separable_conv1':_0x3f137f,'separable_conv2':_0xcb712a};}return{'extractConvParams':_0x577f05,'extractSeparableConvParams':_0x5882c8,'extractReductionBlockParams':_0x36dd3d,'extractMainBlockParams':_0x56343d};}function extractParams3(_0x59949b,_0x5783c4){const _0xb68f01=_0x38f5ec,_0x39f3cb=[],{extractWeights:_0x18b67f,getRemainingWeights:_0x2f9832}=extractWeightsFactory(_0x59949b),{extractConvParams:_0x3caf79,extractSeparableConvParams:_0x479dee,extractReductionBlockParams:_0x3195e2,extractMainBlockParams:_0x1d8a17}=extractorsFactory2(_0x18b67f,_0x39f3cb),_0x1fefb1=_0x3caf79(0x3,0x20,0x3,_0xb68f01(0x286)),_0x59b4d3=_0x3195e2(0x20,0x40,'entry_flow/reduction_block_0'),_0x240d7f=_0x3195e2(0x40,0x80,_0xb68f01(0x12c)),_0x1ad3b4={'conv_in':_0x1fefb1,'reduction_block_0':_0x59b4d3,'reduction_block_1':_0x240d7f},_0x452002={};range(_0x5783c4,0x0,0x1)[_0xb68f01(0x13c)](_0x10a1f5=>{const _0x310123=_0xb68f01;_0x452002[_0x310123(0x211)+_0x10a1f5]=_0x1d8a17(0x80,_0x310123(0x310)+_0x10a1f5);});const _0x47fa6e=_0x3195e2(0x80,0x100,_0xb68f01(0x2a1)),_0x273cd2=_0x479dee(0x100,0x200,_0xb68f01(0x20c)),_0x2532fe={'reduction_block':_0x47fa6e,'separable_conv':_0x273cd2};if(_0x2f9832()['length']!==0x0)throw new Error(_0xb68f01(0x281)+_0x2f9832()[_0xb68f01(0x25d)]);return{'paramMappings':_0x39f3cb,'params':{'entry_flow':_0x1ad3b4,'middle_flow':_0x452002,'exit_flow':_0x2532fe}};}function loadParamsFactory2(_0xcd8be9,_0x44e3fd){const _0x1bdcf8=extractWeightEntryFactory(_0xcd8be9,_0x44e3fd),_0x1069a7=loadConvParamsFactory(_0x1bdcf8),_0x19943b=loadSeparableConvParamsFactory(_0x1bdcf8);function _0x578d7b(_0x39a4dc){const _0x233344=_0x3692,_0x297601=_0x19943b(_0x39a4dc+'/separable_conv0'),_0x42483b=_0x19943b(_0x39a4dc+_0x233344(0xca)),_0x525020=_0x1069a7(_0x39a4dc+_0x233344(0x1cf));return{'separable_conv0':_0x297601,'separable_conv1':_0x42483b,'expansion_conv':_0x525020};}function _0x240b43(_0x4cf4f9){const _0x3c4bd5=_0x3692,_0x21c239=_0x19943b(_0x4cf4f9+'/separable_conv0'),_0x297689=_0x19943b(_0x4cf4f9+'/separable_conv1'),_0x1eb285=_0x19943b(_0x4cf4f9+_0x3c4bd5(0x290));return{'separable_conv0':_0x21c239,'separable_conv1':_0x297689,'separable_conv2':_0x1eb285};}return{'extractConvParams':_0x1069a7,'extractSeparableConvParams':_0x19943b,'extractReductionBlockParams':_0x578d7b,'extractMainBlockParams':_0x240b43};}function extractParamsFromWeightMap3(_0x5c2fd3,_0x201dc2){const _0x502e30=_0x38f5ec,_0x23b254=[],{extractConvParams:_0x1cea9a,extractSeparableConvParams:_0x5104dd,extractReductionBlockParams:_0x1e6934,extractMainBlockParams:_0x2a4f9b}=loadParamsFactory2(_0x5c2fd3,_0x23b254),_0x5ea864=_0x1cea9a(_0x502e30(0x286)),_0x479a24=_0x1e6934(_0x502e30(0xf5)),_0x190292=_0x1e6934(_0x502e30(0x12c)),_0x4b331e={'conv_in':_0x5ea864,'reduction_block_0':_0x479a24,'reduction_block_1':_0x190292},_0x46d2e8={};range(_0x201dc2,0x0,0x1)[_0x502e30(0x13c)](_0x276c4a=>{const _0x32b1dd=_0x502e30;_0x46d2e8[_0x32b1dd(0x211)+_0x276c4a]=_0x2a4f9b(_0x32b1dd(0x310)+_0x276c4a);});const _0xe96db8=_0x1e6934(_0x502e30(0x2a1)),_0x2b7f19=_0x5104dd(_0x502e30(0x20c)),_0x3f2d23={'reduction_block':_0xe96db8,'separable_conv':_0x2b7f19};return disposeUnusedWeightTensors(_0x5c2fd3,_0x23b254),{'params':{'entry_flow':_0x4b331e,'middle_flow':_0x46d2e8,'exit_flow':_0x3f2d23},'paramMappings':_0x23b254};}function _0x41e5(){const _0x14defe=['isNodejs','.json','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','all','probability','extractClassifierParams','mobilenetv1/conv_4','drawImage','conv64_1','getPrototypeOf','extra_dim','getFrozenParams','depthwise_filter','getOwnPropertyNames','strokeStyle','NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20','every','prediction_layer/box_predictor_1/box_encoding_predictor','unknown','conv128_2','toNetInput\x20-','mobilenetv1/conv_7','prediction_layer/box_predictor_0/box_encoding_predictor','shiftBy','tiny_yolov2_model','getParamList','strokeRect','_descriptors','SsdMobilenetv1Options','extractParams','/class_predictor','isNaN','from','min','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','/conv2','1.7.3','\x20filterSizes\x20in\x20config','HTMLCanvasElement','oncanplay','sigmoid','descriptors','left','rescale','FaceFeatureExtractor',',\x20for\x20path\x20','enumerable','out','conv6','readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20','prediction_layer/box_predictor_3/box_encoding_predictor','_imgDims',',\x20weights.length:\x20','Georgia','/sub','conv_13','/conv/filters','10001712VeZMcB','conv_2','fillStyle','bottomLeft','prediction_layer/box_predictor_4/class_predictor','readAsDataURL','fontColor','/batch_norm_scale','face_landmark_68_tiny_model','TOP_LEFT','prediction_layer/conv_0','separableConv2d','conv_10','depthwiseConv2d','mean','div','withSeparableConvs','Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20','box','\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','json','HTMLVideoElement','tiny_yolov2_separable_conv_model','/filters','conv32_3','reverse','transpose','label','toInt','\x20-\x20expected\x20properties\x20score\x20(','_pointwise/weights','alignDlib','arrayBuffer','batch_norm_variance','fontSize','classScore','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','prediction_layer/box_predictor_4/box_encoding_predictor','pad','image',')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]',']\x20to\x20be\x20a\x20Tensor','prediction_layer/box_predictor_5/class_predictor','NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20','getClassifierChannelsIn','distanceThreshold','http://','getJawOutline','bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','mobilenetv1/conv_1','same','predictExpressions','fontStyle','expected\x20weightMap[','/depthwise_conv','Canvas','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','mobilenetv1/conv_','\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032','createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment','_width','top','traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20','\x20at\x20input\x20index\x20','mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null','as2D','conv32_2','726628MVxbFf','face_feature_extractor_tiny_model','call','_inputDimensions','lineColor','/expansion_conv','FEMALE','config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20','conv256_2','prediction_layer/box_predictor_','asSortedArray','conv11','stack','conv32_1','landmarkNet','relativePositions','defineProperty','removeEventListener','forSize','padAtBorders','filterSizes','relativeBox','conv3','assertIsValidPredictedBox','image/','maxResults','mobilenetv1/conv_9','fillRect','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','sad','prototype','conv256_1','_box','extractParamsFromWeightMap','muted','conv_0','loadWeights','conv8','getNose','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','rgba(0,\x20255,\x20255,\x201)','faceLandmark68Net','putImageData','fill','Prediction','detect','inputSize','\x20-\x20width\x20(','_positions','conv_1','extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported','conv32_down','boxPredictionEncoding','paramMappings','hasOwnProperty','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','resizeResults\x20-\x20invalid\x20dimensions:\x20','measureText','https://','/conv/bias','/biases','conv64_2','bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','prediction_layer/box_predictor_0/class_predictor','matchDescriptor','exit_flow/separable_conv','originalPath','fc/age','as3D','prediction_layer/conv_4','main_block_','expressions','weightsLoaderFactory','conv',')\x20and\x20height\x20(','boxEncodingSize','Box.constructor','/bias','matMul','_params','toPixels',',\x20numFilters:\x20','Tensor','36560FgCFJQ','CanvasRenderingContext2D','tensor1d','reassignParamFromPath','_height','withAgeAndGender','detectLandmarks','undefined','conv256_down_out','getInputWidth','_distanceThreshold','reduce','sub','/depthwise_weights','freeze','landmarks','getRefPointsForAlignment','box_predictor_0','slice3d','mobilenetv1/conv_2','mobilenetv1/conv_8','TinyXception','toBatchTensor','mobilenetv1/conv_3','iouThreshold','/batch_norm_offset','anchorPosition','moveTo','mobilenetv1/conv_5','descriptor','pointSize','tidy','isArray','getMouth','conv2','join','\x20tf.Tensor4D\x20with\x20batchSize\x20','startsWith','tinyYolov2','forwardInput','assertIsValidBox','/bn','draw','faceLandmark68TinyNet','withFaceDescriptors','/separable_conv0','extractBoxes','lineWidth','slice','surprised','runMobilenet','arraySync','mul','keys','extractPredictedClass','nextObj','drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof','_labeledDescriptors','_inputSize','ageGenderNet','prediction_layer/conv_7','/scale','age_gender_model','length','conv7','conv_11','loadFromUri','/box_encoding_predictor','max','yaw','rgba(255,\x200,\x20255,\x201)','exp','_paramMappings','reduction_block','distance','ssdMobilenetv1','relu','resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas','148OFcuVQ','map','toString','TinyXception\x20-\x20load\x20model\x20before\x20inference','box_predictor_2','conv2d','area','dense0','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string','mobilenetv1/conv_13','pointwise_conv','getEnv','beginPath','fillText','FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input','split','output_layer/extra_dim','anchors','round','serializeParams','run','weights\x20remaing\x20after\x20extract:\x20','box_predictor_4','FaceLandmark68TinyNet','face','getRightEyeBrow','entry_flow/conv_in','type','/depthwise_filter','box_predictor_5','default','videoWidth','_imageDims','magnitude','resizeBilinear','MobilenetV1','/separable_conv2','traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params','isRect','conv_7','video','getParamFromPath','conv5','parse','conv256_down','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','measureWidth','tensor2d','faceLandmarks','conv1','clipByValue','reshapedInputDimensions','floor','exit_flow/reduction_block','/pointwise_filter','angry','dataSync','reduction_block_0','_shift','getUpperLeft','depth\x20has\x20to\x20be\x20an\x20integer:\x20','calibrate','concat','_label','prediction_layer/conv_3','/conv0','bottomRight','faceFeatureExtractor','canvases','play','_minConfidence','conv64_3','tiny_face_detector_model','mobilenetv1/conv_0','getOwnPropertyDescriptor','onload','D,\x20instead\x20have\x20','box_predictor_3','/batch_norm_variance','/conv','valid','/BatchNorm/gamma','dense3','getInput','/BatchNorm/moving_mean','getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','Prediction/BoxPredictor_','depthwise_conv','parentTask','separable_conv2','postProcess','mobilenetv1/conv_6','fc/gender','withFaceExpressions','TinyFaceFeatureExtractor','src','Output/extra_dim','conv_4','_score','runAndExtendWithFaceDetections','add','conv4','2021364NXAZCn','url','extractWeights','traversePropertyPath','separable_conv0','measureHeight','fromJSON','getLeftEyeBrow','extractedFaces','box_predictor_1','options','statusText','unshiftedLandmarks','text',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','reduction_block_1','imageHeight','shape','avgPool','predictAgeAndGender','meanRgb','config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20','toSquare','expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20','withFaceLandmarks','conv_3','positions',',\x20for\x20url:\x20','1042375fMkOQS','readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment','batchNorm','face_feature_extractor_model','11874siFETx','getReshapedInputDimensions','readFile','stringify','FaceLandmark68Net','_classScore','scale','tinyFaceDetector',')\x20and\x20(','face_landmark_68_model','\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number','scoreThreshold','_depthwise','createObjectURL','mobilenetv1/conv_12','cast','bottom','ssd_mobilenetv1_model','/scale/weights','isFirstLayerConv2d','female','className','_config',',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height','score','blob','TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20','createCanvasElement','config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20','getImageData','middle_flow/main_block_','fearful','conv_9','runAndExtendWithFaceDetection','1757NvSsbX','detection','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array','AgeGenderNet','getRightEye','FaceRecognitionNet','config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20','exports','imageTensors','gender','conv_5','endsWith','imageDims','LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array','unstack','Image','/pointwise_conv','TinyYolov2\x20-\x20load\x20model\x20before\x20inference','createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment','alignMinBbox','_canvases','tile','pointwise_filter','person\x20','boxColor','result','fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment','classPrediction','batchSize','shift','forward','stroke','dense2','drawLabelOptions','softmax','createImageElement','expansion_conv','TinyYolov2','then','Video','align',',\x20filterSize:\x20','/BatchNorm/beta','topRight','/conv1','happy','data','SsdMobilenetv1','param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20','variable','_numMainBlocks','_treatAsBatchInput','30522780nOuZfq','boxIndex','prediction_layer/box_predictor_5/box_encoding_predictor','tensor','rgba(0,\x200,\x200,\x200.5)','float32','exit_flow','DEFAULT_FILTER_SIZES','_batchSize','conv128_1','getInputHeight','right','disgusted','conv0','pitch','ComposableTask\x20-\x20run\x20is\x20not\x20implemented','prediction_layer/conv_2','tensor4d','isDisposed','/separable_conv1','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','minConfidence','object','video/','params','string','monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','pop','MobilenetV1/Conv2d_','conv_12','addEventListener','age','array','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','currentTarget','isBatchInput','findBestMatch','HTMLImageElement','FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference','assertIsValidLabeledBox','\x20-\x20invalid\x20box:\x20','faceExpressionNet','createElement','fetch','onerror','anchor','middle_flow','dense1','height','.loadFromUri\x20-\x20expected\x20model\x20uri','input','dispose','face_recognition_model','expandDims','getLeftEye','/weights','runNet','weights','padding','pointColor','withFaceDescriptor','some','entry_flow/reduction_block_0','_scoreThreshold','rgba(0,\x200,\x20255,\x201)','clipAtImageBorders','number','createVideoElement','constructor','/BatchNorm/moving_variance','BOTTOM_RIGHT','filter','separable_conv1','width','FaceExpressionNet','conv_8','batch_norm_offset','genderProbability',')\x20to\x20be\x20a\x20number','computeFaceDescriptor','arc','bias','imageWidth','/scale/biases','videoHeight',',\x20from\x20url:\x20','/ClassPredictor','faceRecognitionNet','TinyYolov2Options','config','_faceFeatureExtractor','zeros','as1D','_imageTensors','withClassScores','batch_norm_scale','reshape','_distance','prediction_layer/box_predictor_3/class_predictor','catch','useTinyLandmarkNet','getContext','BOTTOM_LEFT','log','maxPool','toJSON','as4D','locateFaces','expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20','load','_className','class_predictor','entry_flow','mobilenetv1/conv_10','abs','batch_norm_mean','scalar','entry_flow/reduction_block_1','conv64_down','toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input','mobilenetv1','\x20-\x20load\x20model\x20before\x20inference','status','conv_6','__esModule','error','getInputDimensions','loadFromWeightMap','sort','filters','getDefaultModelName','face_expression_model','TOP_RIGHT','forEach','/Conv2d_','/conv3','male','create','prediction_layer/box_predictor_1/class_predictor','labeledDescriptors','conv128_down','classes','push','getTrainableParams','@tensorflow/tfjs-node','/truediv','mobilenetv1/conv_11','ImageData','_name','getClassifierChannelsOut',')\x20must\x20be\x20positive\x20numbers'];_0x41e5=function(){return _0x14defe;};return _0x41e5();}function conv(_0x4a1da6,_0x17eb7d,_0x6ac583){const _0x4b56a5=_0x38f5ec;return tf19[_0x4b56a5(0x2d0)](tf19[_0x4b56a5(0x271)](_0x4a1da6,_0x17eb7d[_0x4b56a5(0x138)],_0x6ac583,_0x4b56a5(0x1b9)),_0x17eb7d['bias']);}function reductionBlock(_0x49b171,_0x42b3de,_0x30c0e0=!![]){const _0x3443c7=_0x38f5ec;let _0x7e8a3f=_0x30c0e0?tf19[_0x3443c7(0x26a)](_0x49b171):_0x49b171;return _0x7e8a3f=depthwiseSeparableConv(_0x7e8a3f,_0x42b3de['separable_conv0'],[0x1,0x1]),_0x7e8a3f=depthwiseSeparableConv(tf19[_0x3443c7(0x26a)](_0x7e8a3f),_0x42b3de['separable_conv1'],[0x1,0x1]),_0x7e8a3f=tf19['maxPool'](_0x7e8a3f,[0x3,0x3],[0x2,0x2],_0x3443c7(0x1b9)),_0x7e8a3f=tf19['add'](_0x7e8a3f,conv(_0x49b171,_0x42b3de[_0x3443c7(0xa7)],[0x2,0x2])),_0x7e8a3f;}function mainBlock(_0x4b177,_0x44be58){const _0x3c7160=_0x38f5ec;let _0x1cb046=depthwiseSeparableConv(tf19[_0x3c7160(0x26a)](_0x4b177),_0x44be58[_0x3c7160(0x2d6)],[0x1,0x1]);return _0x1cb046=depthwiseSeparableConv(tf19[_0x3c7160(0x26a)](_0x1cb046),_0x44be58[_0x3c7160(0xff)],[0x1,0x1]),_0x1cb046=depthwiseSeparableConv(tf19['relu'](_0x1cb046),_0x44be58[_0x3c7160(0x2c5)],[0x1,0x1]),_0x1cb046=tf19[_0x3c7160(0x2d0)](_0x1cb046,_0x4b177),_0x1cb046;}var TinyXception=class extends NeuralNetwork{constructor(_0x339223){const _0x336419=_0x38f5ec;super(_0x336419(0x233)),this['_numMainBlocks']=_0x339223;}[_0x38f5ec(0x245)](_0x29c11e){const _0x3bcc0e=_0x38f5ec,{params:_0x1b3e81}=this;if(!_0x1b3e81)throw new Error(_0x3bcc0e(0x26f));return tf19[_0x3bcc0e(0x23d)](()=>{const _0xed4037=_0x3bcc0e,_0xf22b04=tf19[_0xed4037(0x301)](_0x29c11e['toBatchTensor'](0x70,!![]),'float32'),_0x1c8ced=[122.782,117.001,104.298],_0x1dd222=normalize(_0xf22b04,_0x1c8ced)[_0xed4037(0x196)](0xff);let _0x3463fe=tf19[_0xed4037(0x26a)](conv(_0x1dd222,_0x1b3e81[_0xed4037(0x127)]['conv_in'],[0x2,0x2]));return _0x3463fe=reductionBlock(_0x3463fe,_0x1b3e81[_0xed4037(0x127)][_0xed4037(0x2a5)],![]),_0x3463fe=reductionBlock(_0x3463fe,_0x1b3e81['entry_flow'][_0xed4037(0x2e1)]),range(this[_0xed4037(0xb5)],0x0,0x1)[_0xed4037(0x13c)](_0x15fb49=>{const _0x4a14dd=_0xed4037;_0x3463fe=mainBlock(_0x3463fe,_0x1b3e81[_0x4a14dd(0xe5)][_0x4a14dd(0x211)+_0x15fb49]);}),_0x3463fe=reductionBlock(_0x3463fe,_0x1b3e81['exit_flow'][_0xed4037(0x267)]),_0x3463fe=tf19['relu'](depthwiseSeparableConv(_0x3463fe,_0x1b3e81[_0xed4037(0xbd)]['separable_conv'],[0x1,0x1])),_0x3463fe;});}async[_0x38f5ec(0xa1)](_0xf10050){return this['forwardInput'](await toNetInput(_0xf10050));}[_0x38f5ec(0x139)](){return'tiny_xception_model';}[_0x38f5ec(0x1eb)](_0x580740){const _0x4908ec=_0x38f5ec;return extractParamsFromWeightMap3(_0x580740,this[_0x4908ec(0xb5)]);}['extractParams'](_0x3b4aa9){const _0x422d25=_0x38f5ec;return extractParams3(_0x3b4aa9,this[_0x422d25(0xb5)]);}};function _0x3692(_0x261fc4,_0x31df16){const _0x41e51b=_0x41e5();return _0x3692=function(_0x369252,_0x454011){_0x369252=_0x369252-0x9f;let _0x118b7e=_0x41e51b[_0x369252];return _0x118b7e;},_0x3692(_0x261fc4,_0x31df16);}function extractParams4(_0x29a1c8){const _0x40418f=_0x38f5ec,_0x487a5f=[],{extractWeights:_0x261a11,getRemainingWeights:_0x4f2159}=extractWeightsFactory(_0x29a1c8),_0x3fe53a=extractFCParamsFactory(_0x261a11,_0x487a5f),_0x12b7bb=_0x3fe53a(0x200,0x1,_0x40418f(0x20e)),_0x8312de=_0x3fe53a(0x200,0x2,_0x40418f(0x2c8));if(_0x4f2159()[_0x40418f(0x25d)]!==0x0)throw new Error(_0x40418f(0x281)+_0x4f2159()[_0x40418f(0x25d)]);return{'paramMappings':_0x487a5f,'params':{'fc':{'age':_0x12b7bb,'gender':_0x8312de}}};}function extractParamsFromWeightMap4(_0x4778c6){const _0x732efa=_0x38f5ec,_0x4fbf95=[],_0x11ddd0=extractWeightEntryFactory(_0x4778c6,_0x4fbf95);function _0x419cf2(_0x349dde){const _0x1c0268=_0x3692,_0x3d8b8a=_0x11ddd0(_0x349dde+_0x1c0268(0xee),0x2),_0x55e557=_0x11ddd0(_0x349dde+_0x1c0268(0x218),0x1);return{'weights':_0x3d8b8a,'bias':_0x55e557};}const _0x1a4f3a={'fc':{'age':_0x419cf2('fc/age'),'gender':_0x419cf2(_0x732efa(0x2c8))}};return disposeUnusedWeightTensors(_0x4778c6,_0x4fbf95),{'params':_0x1a4f3a,'paramMappings':_0x4fbf95};}var Gender=(_0x205707=>{const _0x58cdd4=_0x38f5ec;return _0x205707[_0x58cdd4(0x1d0)]=_0x58cdd4(0x306),_0x205707['MALE']=_0x58cdd4(0x13f),_0x205707;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x5a360b=new TinyXception(0x2)){const _0x1f19bc=_0x38f5ec;super(_0x1f19bc(0x317)),this[_0x1f19bc(0x111)]=_0x5a360b;}get[_0x38f5ec(0x2af)](){const _0x113e42=_0x38f5ec;return this[_0x113e42(0x111)];}[_0x38f5ec(0xef)](_0x216fac){const _0x4894f5=_0x38f5ec,{params:_0x1d84ff}=this;if(!_0x1d84ff)throw new Error(this[_0x4894f5(0x14b)]+_0x4894f5(0x130));return tf20[_0x4894f5(0x23d)](()=>{const _0x503e90=_0x4894f5,_0x436299=_0x216fac instanceof NetInput?this[_0x503e90(0x2af)][_0x503e90(0x245)](_0x216fac):_0x216fac,_0x4cb603=tf20[_0x503e90(0x2e4)](_0x436299,[0x7,0x7],[0x2,0x2],_0x503e90(0x2bc))[_0x503e90(0x1c8)](_0x436299['shape'][0x0],-0x1),_0x2c3587=fullyConnectedLayer(_0x4cb603,_0x1d84ff['fc']['age'])['as1D'](),_0x368d0c=fullyConnectedLayer(_0x4cb603,_0x1d84ff['fc'][_0x503e90(0x31d)]);return{'age':_0x2c3587,'gender':_0x368d0c};});}[_0x38f5ec(0x245)](_0x1739ca){const _0x21647f=_0x38f5ec;return tf20[_0x21647f(0x23d)](()=>{const _0x3b7727=_0x21647f,{age:_0x38eb15,gender:_0x33cf0c}=this['runNet'](_0x1739ca);return{'age':_0x38eb15,'gender':tf20[_0x3b7727(0xa5)](_0x33cf0c)};});}async[_0x38f5ec(0xa1)](_0x4fd243){return this['forwardInput'](await toNetInput(_0x4fd243));}async['predictAgeAndGender'](_0x1da2eb){const _0x33ab7f=_0x38f5ec,_0x23e857=await toNetInput(_0x1da2eb),_0x206b06=await this['forwardInput'](_0x23e857),_0x1b7b0f=tf20['unstack'](_0x206b06[_0x33ab7f(0xd6)]),_0x4744bd=tf20[_0x33ab7f(0x322)](_0x206b06['gender']),_0x24cb46=_0x1b7b0f[_0x33ab7f(0x26d)]((_0x15d06d,_0x1c62b3)=>({'ageTensor':_0x15d06d,'genderTensor':_0x4744bd[_0x1c62b3]})),_0x3a3b48=await Promise[_0x33ab7f(0x151)](_0x24cb46[_0x33ab7f(0x26d)](async({ageTensor:_0x4554b4,genderTensor:_0x45756d})=>{const _0x493ee0=_0x33ab7f,_0x4ab6a5=_0x4554b4[_0x493ee0(0x2a4)]()[0x0],_0x43b487=_0x45756d[_0x493ee0(0x2a4)]()[0x0],_0x147e4c=_0x43b487>0.5,_0x736938=_0x147e4c?'male':_0x493ee0(0x306),_0x3fa570=_0x147e4c?_0x43b487:0x1-_0x43b487;return _0x4554b4[_0x493ee0(0xea)](),_0x45756d[_0x493ee0(0xea)](),{'age':_0x4ab6a5,'gender':_0x736938,'genderProbability':_0x3fa570};}));return _0x206b06[_0x33ab7f(0xd6)][_0x33ab7f(0xea)](),_0x206b06[_0x33ab7f(0x31d)][_0x33ab7f(0xea)](),_0x23e857[_0x33ab7f(0xda)]?_0x3a3b48:_0x3a3b48[0x0];}[_0x38f5ec(0x139)](){const _0x2a6bc0=_0x38f5ec;return _0x2a6bc0(0x25c);}[_0x38f5ec(0xea)](_0x4ae385=!![]){const _0x3336cd=_0x38f5ec;this[_0x3336cd(0x2af)][_0x3336cd(0xea)](_0x4ae385),super[_0x3336cd(0xea)](_0x4ae385);}['loadClassifierParams'](_0x5b1d2f){const _0x3c1d87=_0x38f5ec,{params:_0x47d34b,paramMappings:_0x156df7}=this[_0x3c1d87(0x153)](_0x5b1d2f);this[_0x3c1d87(0x21a)]=_0x47d34b,this['_paramMappings']=_0x156df7;}[_0x38f5ec(0x153)](_0x16b40e){return extractParams4(_0x16b40e);}['extractParamsFromWeightMap'](_0x298e92){const _0x5bf4a3=_0x38f5ec,{featureExtractorMap:_0x4e99cd,classifierMap:_0xceafe7}=seperateWeightMaps(_0x298e92);return this[_0x5bf4a3(0x2af)][_0x5bf4a3(0x136)](_0x4e99cd),extractParamsFromWeightMap4(_0xceafe7);}[_0x38f5ec(0x16b)](_0x44788a){const _0x571b63=_0x38f5ec,_0x55fe70=0x200*0x1+0x1+(0x200*0x2+0x2),_0x456b63=_0x44788a[_0x571b63(0x24e)](0x0,_0x44788a[_0x571b63(0x25d)]-_0x55fe70),_0xbe06bb=_0x44788a[_0x571b63(0x24e)](_0x44788a[_0x571b63(0x25d)]-_0x55fe70);return this[_0x571b63(0x2af)]['extractWeights'](_0x456b63),this['extractClassifierParams'](_0xbe06bb);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{['postProcess'](_0x2093fa,_0x266078,_0x48668b){const _0x5cc6f4=_0x38f5ec,_0x4802f8=_0x48668b[_0x5cc6f4(0x26d)](({width:_0xe580cb,height:_0x890687})=>{const _0x4b2508=_0x5cc6f4,_0x48f86c=_0x266078/Math[_0x4b2508(0x262)](_0x890687,_0xe580cb);return{'width':_0xe580cb*_0x48f86c,'height':_0x890687*_0x48f86c};}),_0x597234=_0x4802f8[_0x5cc6f4(0x25d)];return tf21[_0x5cc6f4(0x23d)](()=>{const _0xca4484=_0x5cc6f4,_0x22d3d7=(_0xfdf78a,_0x45b993)=>tf21[_0xca4484(0x1d6)]([tf21['fill']([0x44],_0xfdf78a,'float32'),tf21[_0xca4484(0x1f5)]([0x44],_0x45b993,_0xca4484(0xbc))],0x1)[_0xca4484(0x1c8)](0x1,0x88)[_0xca4484(0x113)](),_0x412d24=(_0x2b33b3,_0x2dbbd6)=>{const {width:_0xa1f2dc,height:_0x488b1d}=_0x4802f8[_0x2b33b3];return _0x2dbbd6(_0xa1f2dc,_0x488b1d)?Math['abs'](_0xa1f2dc-_0x488b1d)/0x2:0x0;},_0x40c1df=_0x48d839=>_0x412d24(_0x48d839,(_0x6fa869,_0x119964)=>_0x6fa869<_0x119964),_0x294ba6=_0xc379f0=>_0x412d24(_0xc379f0,(_0xea8be4,_0x2e1f80)=>_0x2e1f80<_0xea8be4),_0x4fc3bb=_0x2093fa['mul'](tf21[_0xca4484(0x1f5)]([_0x597234,0x88],_0x266078,_0xca4484(0xbc)))[_0xca4484(0x22a)](tf21[_0xca4484(0x1d6)](Array[_0xca4484(0x16e)](Array(_0x597234),(_0x4ffb46,_0x2167dc)=>_0x22d3d7(_0x40c1df(_0x2167dc),_0x294ba6(_0x2167dc)))))[_0xca4484(0x196)](tf21[_0xca4484(0x1d6)](Array[_0xca4484(0x16e)](Array(_0x597234),(_0x1d36f7,_0x66a7f5)=>_0x22d3d7(_0x4802f8[_0x66a7f5][_0xca4484(0x100)],_0x4802f8[_0x66a7f5]['height']))));return _0x4fc3bb;});}[_0x38f5ec(0x245)](_0x42c7e7){return tf21['tidy'](()=>{const _0x82199e=_0x3692,_0x44e8d0=this[_0x82199e(0xef)](_0x42c7e7);return this[_0x82199e(0x2c6)](_0x44e8d0,_0x42c7e7['inputSize'],_0x42c7e7['inputDimensions'][_0x82199e(0x26d)](([_0x299f3a,_0x5941aa])=>({'height':_0x299f3a,'width':_0x5941aa})));});}async[_0x38f5ec(0xa1)](_0x8adf86){const _0x1d439b=_0x38f5ec;return this[_0x1d439b(0x245)](await toNetInput(_0x8adf86));}async[_0x38f5ec(0x224)](_0x2c1459){const _0x3ede79=_0x38f5ec,_0x3f64a4=await toNetInput(_0x2c1459),_0x120989=tf21['tidy'](()=>tf21['unstack'](this['forwardInput'](_0x3f64a4))),_0xc7f277=await Promise[_0x3ede79(0x151)](_0x120989[_0x3ede79(0x26d)](async(_0x2d3d7e,_0x4f9e67)=>{const _0x35c8f8=_0x3ede79,_0x30daa1=Array[_0x35c8f8(0x16e)](_0x2d3d7e[_0x35c8f8(0x2a4)]()),_0x25961e=_0x30daa1['filter']((_0x1bc825,_0x29a56d)=>isEven(_0x29a56d)),_0x34fd57=_0x30daa1[_0x35c8f8(0xfe)]((_0x15ac0b,_0xea2076)=>!isEven(_0xea2076));return new FaceLandmarks68(Array(0x44)[_0x35c8f8(0x1f5)](0x0)[_0x35c8f8(0x26d)]((_0x399935,_0x408146)=>new Point(_0x25961e[_0x408146],_0x34fd57[_0x408146])),{'height':_0x3f64a4[_0x35c8f8(0xc1)](_0x4f9e67),'width':_0x3f64a4[_0x35c8f8(0x227)](_0x4f9e67)});}));return _0x120989['forEach'](_0x7b566f=>_0x7b566f[_0x3ede79(0xea)]()),_0x3f64a4[_0x3ede79(0xda)]?_0xc7f277:_0xc7f277[0x0];}['getClassifierChannelsOut'](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x5becc1=new FaceFeatureExtractor()){const _0xe54f7a=_0x38f5ec;super(_0xe54f7a(0x2f6),_0x5becc1);}['getDefaultModelName'](){const _0x1e1b5b=_0x38f5ec;return _0x1e1b5b(0x2fb);}['getClassifierChannelsIn'](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0x12ca9d){const _0x531ef8=_0x38f5ec,_0x11ae93=[],{extractDenseBlock3Params:_0x42d84a}=loadParamsFactory(_0x12ca9d,_0x11ae93),_0x17bd39={'dense0':_0x42d84a(_0x531ef8(0x273),!![]),'dense1':_0x42d84a(_0x531ef8(0xe6)),'dense2':_0x42d84a(_0x531ef8(0xa3))};return disposeUnusedWeightTensors(_0x12ca9d,_0x11ae93),{'params':_0x17bd39,'paramMappings':_0x11ae93};}function extractParamsTiny(_0x5155fc){const _0x3ee6d8=_0x38f5ec,_0x2c69f9=[],{extractWeights:_0x48d431,getRemainingWeights:_0x5e3c7a}=extractWeightsFactory(_0x5155fc),{extractDenseBlock3Params:_0x1f95f0}=extractorsFactory(_0x48d431,_0x2c69f9),_0x4e1a88=_0x1f95f0(0x3,0x20,_0x3ee6d8(0x273),!![]),_0x41774d=_0x1f95f0(0x20,0x40,'dense1'),_0x5bae0a=_0x1f95f0(0x40,0x80,_0x3ee6d8(0xa3));if(_0x5e3c7a()['length']!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x5e3c7a()[_0x3ee6d8(0x25d)]);return{'paramMappings':_0x2c69f9,'params':{'dense0':_0x4e1a88,'dense1':_0x41774d,'dense2':_0x5bae0a}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x4198fc=_0x38f5ec;super(_0x4198fc(0x2ca));}[_0x38f5ec(0x245)](_0xadda0a){const _0x11e46b=_0x38f5ec,{params:_0x2c0fb6}=this;if(!_0x2c0fb6)throw new Error('TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference');return tf22[_0x11e46b(0x23d)](()=>{const _0x43a032=_0x11e46b,_0x56a824=tf22['cast'](_0xadda0a[_0x43a032(0x234)](0x70,!![]),_0x43a032(0xbc)),_0x9ae21a=[122.782,117.001,104.298],_0x37e74e=normalize(_0x56a824,_0x9ae21a)[_0x43a032(0x196)](0xff);let _0x2b720c=denseBlock3(_0x37e74e,_0x2c0fb6[_0x43a032(0x273)],!![]);return _0x2b720c=denseBlock3(_0x2b720c,_0x2c0fb6[_0x43a032(0xe6)]),_0x2b720c=denseBlock3(_0x2b720c,_0x2c0fb6[_0x43a032(0xa3)]),_0x2b720c=tf22[_0x43a032(0x2e4)](_0x2b720c,[0xe,0xe],[0x2,0x2],'valid'),_0x2b720c;});}async[_0x38f5ec(0xa1)](_0x223d6a){const _0x247429=_0x38f5ec;return this[_0x247429(0x245)](await toNetInput(_0x223d6a));}[_0x38f5ec(0x139)](){const _0x24b44c=_0x38f5ec;return _0x24b44c(0x1cb);}['extractParamsFromWeightMap'](_0x37746e){return extractParamsFromWeightMapTiny(_0x37746e);}[_0x38f5ec(0x16b)](_0x53a679){return extractParamsTiny(_0x53a679);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0xade704=new TinyFaceFeatureExtractor()){const _0x34b978=_0x38f5ec;super(_0x34b978(0x283),_0xade704);}[_0x38f5ec(0x139)](){const _0x843b50=_0x38f5ec;return _0x843b50(0x18f);}[_0x38f5ec(0x1b3)](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x1291a3,_0x25ea9e){const _0x429445=_0x38f5ec;return tf23[_0x429445(0x2d0)](tf23['mul'](_0x1291a3,_0x25ea9e[_0x429445(0xf0)]),_0x25ea9e['biases']);}function convLayer2(_0x2ae796,_0x4c1d0b,_0x1f995b,_0x2a30f2,_0x128442=_0x38f5ec(0x1b9)){const _0x31b0b1=_0x38f5ec,{filters:_0x4647c7,bias:_0x382bb2}=_0x4c1d0b['conv'];let _0x2fc944=tf24[_0x31b0b1(0x271)](_0x2ae796,_0x4647c7,_0x1f995b,_0x128442);return _0x2fc944=tf24[_0x31b0b1(0x2d0)](_0x2fc944,_0x382bb2),_0x2fc944=scale(_0x2fc944,_0x4c1d0b[_0x31b0b1(0x2f8)]),_0x2a30f2?tf24[_0x31b0b1(0x26a)](_0x2fc944):_0x2fc944;}function conv2(_0x503ffb,_0x3a5b47){return convLayer2(_0x503ffb,_0x3a5b47,[0x1,0x1],!![]);}function convNoRelu(_0x19debe,_0x4fe665){return convLayer2(_0x19debe,_0x4fe665,[0x1,0x1],![]);}function convDown(_0x417710,_0x317586){const _0x232760=_0x38f5ec;return convLayer2(_0x417710,_0x317586,[0x2,0x2],!![],_0x232760(0x2bc));}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x405134,_0x3a547e){function _0x41c990(_0x269121,_0x5ea16b,_0x56db9c){const _0x502502=_0x3692,_0x184136=_0x405134(_0x269121),_0xbdbcbe=_0x184136['length']/(_0x5ea16b*_0x56db9c*_0x56db9c);if(isFloat(_0xbdbcbe))throw new Error(_0x502502(0x2a8)+_0xbdbcbe+_0x502502(0x182)+_0x184136['length']+_0x502502(0x21c)+_0x5ea16b+_0x502502(0xac)+_0x56db9c);return tf25[_0x502502(0x23d)](()=>tf25['transpose'](tf25['tensor4d'](_0x184136,[_0x5ea16b,_0xbdbcbe,_0x56db9c,_0x56db9c]),[0x2,0x3,0x1,0x0]));}function _0xd446bc(_0x4a5a6b,_0x1b03b4,_0x4ff312,_0x289536){const _0x41b78f=_0x3692,_0x5bc4df=_0x41c990(_0x4a5a6b,_0x1b03b4,_0x4ff312),_0x122572=tf25[_0x41b78f(0x220)](_0x405134(_0x1b03b4));return _0x3a547e[_0x41b78f(0x145)]({'paramPath':_0x289536+_0x41b78f(0x19e)},{'paramPath':_0x289536+_0x41b78f(0x218)}),{'filters':_0x5bc4df,'bias':_0x122572};}function _0x5e06d2(_0x3dfec5,_0x1563e5){const _0x37535a=_0x3692,_0x40e04b=tf25[_0x37535a(0x220)](_0x405134(_0x3dfec5)),_0x550b1b=tf25[_0x37535a(0x220)](_0x405134(_0x3dfec5));return _0x3a547e[_0x37535a(0x145)]({'paramPath':_0x1563e5+_0x37535a(0xee)},{'paramPath':_0x1563e5+_0x37535a(0x206)}),{'weights':_0x40e04b,'biases':_0x550b1b};}function _0x2fb37e(_0x174fe8,_0x37adee,_0x1902a4,_0x19d0f2){const _0x258de4=_0x3692,_0x433c2a=_0xd446bc(_0x174fe8,_0x37adee,_0x1902a4,_0x19d0f2+_0x258de4(0x2bb)),_0x6b4d84=_0x5e06d2(_0x37adee,_0x19d0f2+_0x258de4(0x25b));return{'conv':_0x433c2a,'scale':_0x6b4d84};}function _0x3e44c8(_0x36c59b,_0x3bba61,_0x510d5e,_0x5a0dfa,_0x1d3f1b=![]){const _0x2d9bb5=_0x3692,_0x153d51=_0x2fb37e((_0x1d3f1b?0.5:0x1)*_0x36c59b,_0x3bba61,_0x510d5e,_0x5a0dfa+_0x2d9bb5(0xaf)),_0xca5b7a=_0x2fb37e(_0x36c59b,_0x3bba61,_0x510d5e,_0x5a0dfa+_0x2d9bb5(0x171));return{'conv1':_0x153d51,'conv2':_0xca5b7a};}return{'extractConvLayerParams':_0x2fb37e,'extractResidualLayerParams':_0x3e44c8};}function extractParams5(_0x4999a6){const _0x4964a9=_0x38f5ec,{extractWeights:_0x369551,getRemainingWeights:_0x4c65b1}=extractWeightsFactory(_0x4999a6),_0x148ca5=[],{extractConvLayerParams:_0x307397,extractResidualLayerParams:_0x5c8a7a}=extractorsFactory3(_0x369551,_0x148ca5),_0x2c8847=_0x307397(0x1260,0x20,0x7,_0x4964a9(0x1fd)),_0x1095eb=_0x5c8a7a(0x2400,0x20,0x3,_0x4964a9(0x1d7)),_0x24cfa8=_0x5c8a7a(0x2400,0x20,0x3,_0x4964a9(0x1c9)),_0x146c70=_0x5c8a7a(0x2400,0x20,0x3,'conv32_3'),_0x397a0e=_0x5c8a7a(0x9000,0x40,0x3,_0x4964a9(0x12d),!![]),_0x14c229=_0x5c8a7a(0x9000,0x40,0x3,'conv64_1'),_0x5355c2=_0x5c8a7a(0x9000,0x40,0x3,_0x4964a9(0x207)),_0x4f0585=_0x5c8a7a(0x9000,0x40,0x3,_0x4964a9(0x2b3)),_0x3d2ef9=_0x5c8a7a(0x24000,0x80,0x3,_0x4964a9(0x143),!![]),_0x1d0ecd=_0x5c8a7a(0x24000,0x80,0x3,_0x4964a9(0xc0)),_0x199804=_0x5c8a7a(0x24000,0x80,0x3,_0x4964a9(0x161)),_0x3ae7aa=_0x5c8a7a(0x90000,0x100,0x3,_0x4964a9(0x298),!![]),_0x566fcb=_0x5c8a7a(0x90000,0x100,0x3,_0x4964a9(0x1e9)),_0x33b000=_0x5c8a7a(0x90000,0x100,0x3,_0x4964a9(0x1d2)),_0x67494a=_0x5c8a7a(0x90000,0x100,0x3,_0x4964a9(0x226)),_0x2e9717=tf25[_0x4964a9(0x23d)](()=>tf25[_0x4964a9(0x1a1)](tf25[_0x4964a9(0x29b)](_0x369551(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0x148ca5[_0x4964a9(0x145)]({'paramPath':'fc'});if(_0x4c65b1()[_0x4964a9(0x25d)]!==0x0)throw new Error(_0x4964a9(0x281)+_0x4c65b1()['length']);const _0x678a5a={'conv32_down':_0x2c8847,'conv32_1':_0x1095eb,'conv32_2':_0x24cfa8,'conv32_3':_0x146c70,'conv64_down':_0x397a0e,'conv64_1':_0x14c229,'conv64_2':_0x5355c2,'conv64_3':_0x4f0585,'conv128_down':_0x3d2ef9,'conv128_1':_0x1d0ecd,'conv128_2':_0x199804,'conv256_down':_0x3ae7aa,'conv256_1':_0x566fcb,'conv256_2':_0x33b000,'conv256_down_out':_0x67494a,'fc':_0x2e9717};return{'params':_0x678a5a,'paramMappings':_0x148ca5};}function extractorsFactory4(_0x2dc2da,_0x4a137b){const _0x18fdda=extractWeightEntryFactory(_0x2dc2da,_0x4a137b);function _0x9adf6d(_0x561a17){const _0x3ac565=_0x3692,_0x4523e9=_0x18fdda(_0x561a17+_0x3ac565(0x304),0x1),_0x27a624=_0x18fdda(_0x561a17+_0x3ac565(0x10a),0x1);return{'weights':_0x4523e9,'biases':_0x27a624};}function _0x57c0ac(_0x3562a5){const _0x109b8b=_0x3692,_0x49ec8e=_0x18fdda(_0x3562a5+_0x109b8b(0x186),0x4),_0x274d52=_0x18fdda(_0x3562a5+_0x109b8b(0x205),0x1),_0x58bcc0=_0x9adf6d(_0x3562a5);return{'conv':{'filters':_0x49ec8e,'bias':_0x274d52},'scale':_0x58bcc0};}function _0x49624c(_0x73f111){const _0x1dd599=_0x3692;return{'conv1':_0x57c0ac(_0x73f111+'/conv1'),'conv2':_0x57c0ac(_0x73f111+_0x1dd599(0x171))};}return{'extractConvLayerParams':_0x57c0ac,'extractResidualLayerParams':_0x49624c};}function extractParamsFromWeightMap5(_0x528a1e){const _0x1d5a0c=_0x38f5ec,_0x43914a=[],{extractConvLayerParams:_0x53c361,extractResidualLayerParams:_0x68c3a9}=extractorsFactory4(_0x528a1e,_0x43914a),_0x4d7d70=_0x53c361(_0x1d5a0c(0x1fd)),_0x405320=_0x68c3a9(_0x1d5a0c(0x1d7)),_0x24c402=_0x68c3a9(_0x1d5a0c(0x1c9)),_0x3fa798=_0x68c3a9('conv32_3'),_0x53c657=_0x68c3a9('conv64_down'),_0x8294c8=_0x68c3a9(_0x1d5a0c(0x156)),_0x13da7e=_0x68c3a9('conv64_2'),_0x147dc5=_0x68c3a9(_0x1d5a0c(0x2b3)),_0x144b18=_0x68c3a9(_0x1d5a0c(0x143)),_0x28b6c2=_0x68c3a9('conv128_1'),_0x21cacf=_0x68c3a9(_0x1d5a0c(0x161)),_0x53e0a2=_0x68c3a9('conv256_down'),_0x492bd9=_0x68c3a9(_0x1d5a0c(0x1e9)),_0xe35d78=_0x68c3a9(_0x1d5a0c(0x1d2)),_0x350389=_0x68c3a9('conv256_down_out'),{fc:_0x998e29}=_0x528a1e;_0x43914a['push']({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x998e29))throw new Error(_0x1d5a0c(0x123)+_0x998e29);const _0x5adbda={'conv32_down':_0x4d7d70,'conv32_1':_0x405320,'conv32_2':_0x24c402,'conv32_3':_0x3fa798,'conv64_down':_0x53c657,'conv64_1':_0x8294c8,'conv64_2':_0x13da7e,'conv64_3':_0x147dc5,'conv128_down':_0x144b18,'conv128_1':_0x28b6c2,'conv128_2':_0x21cacf,'conv256_down':_0x53e0a2,'conv256_1':_0x492bd9,'conv256_2':_0xe35d78,'conv256_down_out':_0x350389,'fc':_0x998e29};return disposeUnusedWeightTensors(_0x528a1e,_0x43914a),{'params':_0x5adbda,'paramMappings':_0x43914a};}var tf26=__toESM(require_tfjs_esm());function residual(_0x9a26f3,_0x3bbbff){const _0x493038=_0x38f5ec;let _0x29f4b1=conv2(_0x9a26f3,_0x3bbbff[_0x493038(0x29d)]);return _0x29f4b1=convNoRelu(_0x29f4b1,_0x3bbbff[_0x493038(0x240)]),_0x29f4b1=tf26[_0x493038(0x2d0)](_0x29f4b1,_0x9a26f3),_0x29f4b1=tf26[_0x493038(0x26a)](_0x29f4b1),_0x29f4b1;}function residualDown(_0x4220f7,_0x3240a5){const _0xaaecd8=_0x38f5ec;let _0x33ffed=convDown(_0x4220f7,_0x3240a5[_0xaaecd8(0x29d)]);_0x33ffed=convNoRelu(_0x33ffed,_0x3240a5[_0xaaecd8(0x240)]);let _0x193d01=tf26['avgPool'](_0x4220f7,0x2,0x2,_0xaaecd8(0x2bc));const _0x48003d=tf26['zeros'](_0x193d01[_0xaaecd8(0x2e3)]),_0x22ba8e=_0x193d01[_0xaaecd8(0x2e3)][0x3]!==_0x33ffed[_0xaaecd8(0x2e3)][0x3],_0x4d2980=_0x193d01[_0xaaecd8(0x2e3)][0x1]!==_0x33ffed[_0xaaecd8(0x2e3)][0x1]||_0x193d01['shape'][0x2]!==_0x33ffed[_0xaaecd8(0x2e3)][0x2];if(_0x4d2980){const _0x38115e=[..._0x33ffed[_0xaaecd8(0x2e3)]];_0x38115e[0x1]=0x1;const _0x12280b=tf26['zeros'](_0x38115e);_0x33ffed=tf26[_0xaaecd8(0x2aa)]([_0x33ffed,_0x12280b],0x1);const _0x361ede=[..._0x33ffed[_0xaaecd8(0x2e3)]];_0x361ede[0x2]=0x1;const _0x3b5217=tf26[_0xaaecd8(0x112)](_0x361ede);_0x33ffed=tf26['concat']([_0x33ffed,_0x3b5217],0x2);}return _0x193d01=_0x22ba8e?tf26[_0xaaecd8(0x2aa)]([_0x193d01,_0x48003d],0x3):_0x193d01,_0x33ffed=tf26[_0xaaecd8(0x2d0)](_0x193d01,_0x33ffed),_0x33ffed=tf26['relu'](_0x33ffed),_0x33ffed;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){const _0x29b3e6=_0x38f5ec;super(_0x29b3e6(0x319));}[_0x38f5ec(0x245)](_0x4dd5fe){const _0x146202=_0x38f5ec,{params:_0x22d2fc}=this;if(!_0x22d2fc)throw new Error(_0x146202(0xdd));return tf27[_0x146202(0x23d)](()=>{const _0x31ede6=_0x146202,_0x2815d8=tf27[_0x31ede6(0x301)](_0x4dd5fe[_0x31ede6(0x234)](0x96,!![]),_0x31ede6(0xbc)),_0x493238=[122.782,117.001,104.298],_0x411bd3=normalize(_0x2815d8,_0x493238)[_0x31ede6(0x196)](0xff);let _0x36dd0c=convDown(_0x411bd3,_0x22d2fc[_0x31ede6(0x1fd)]);_0x36dd0c=tf27[_0x31ede6(0x11f)](_0x36dd0c,0x3,0x2,_0x31ede6(0x2bc)),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc[_0x31ede6(0x1d7)]),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc['conv32_2']),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc[_0x31ede6(0x19f)]),_0x36dd0c=residualDown(_0x36dd0c,_0x22d2fc['conv64_down']),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc[_0x31ede6(0x156)]),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc[_0x31ede6(0x207)]),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc[_0x31ede6(0x2b3)]),_0x36dd0c=residualDown(_0x36dd0c,_0x22d2fc['conv128_down']),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc[_0x31ede6(0xc0)]),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc[_0x31ede6(0x161)]),_0x36dd0c=residualDown(_0x36dd0c,_0x22d2fc[_0x31ede6(0x298)]),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc['conv256_1']),_0x36dd0c=residual(_0x36dd0c,_0x22d2fc[_0x31ede6(0x1d2)]),_0x36dd0c=residualDown(_0x36dd0c,_0x22d2fc['conv256_down_out']);const _0x3949df=_0x36dd0c[_0x31ede6(0x195)]([0x1,0x2]),_0x5d5164=tf27['matMul'](_0x3949df,_0x22d2fc['fc']);return _0x5d5164;});}async[_0x38f5ec(0xa1)](_0x535b9d){return this['forwardInput'](await toNetInput(_0x535b9d));}async['computeFaceDescriptor'](_0x51990d){const _0x12a42f=_0x38f5ec;var _0x224a33;if((_0x224a33=_0x51990d==null?void 0x0:_0x51990d['shape'])==null?void 0x0:_0x224a33[_0x12a42f(0xf4)](_0x53f6e8=>_0x53f6e8<=0x0))return new Float32Array(0x80);const _0x3275c1=await toNetInput(_0x51990d),_0x1ece8d=tf27['tidy'](()=>tf27[_0x12a42f(0x322)](this['forwardInput'](_0x3275c1))),_0xbafbd2=await Promise[_0x12a42f(0x151)](_0x1ece8d[_0x12a42f(0x26d)](_0x44e02b=>_0x44e02b[_0x12a42f(0xb1)]()));return _0x1ece8d[_0x12a42f(0x13c)](_0x4e4b06=>_0x4e4b06[_0x12a42f(0xea)]()),_0x3275c1['isBatchInput']?_0xbafbd2:_0xbafbd2[0x0];}[_0x38f5ec(0x139)](){const _0x43bb02=_0x38f5ec;return _0x43bb02(0xeb);}[_0x38f5ec(0x1eb)](_0x17b7cd){return extractParamsFromWeightMap5(_0x17b7cd);}[_0x38f5ec(0x16b)](_0x512167){return extractParams5(_0x512167);}};function createFaceRecognitionNet(_0x1b9fe4){const _0x5c2e82=new FaceRecognitionNet();return _0x5c2e82['extractWeights'](_0x1b9fe4),_0x5c2e82;}function extendWithFaceDescriptor(_0x298386,_0x2b5b33){const _0x17edb2={'descriptor':_0x2b5b33};return{..._0x298386,..._0x17edb2};}function isWithAge(_0x4ed5da){const _0x498bb6=_0x38f5ec;return typeof _0x4ed5da[_0x498bb6(0xd6)]===_0x498bb6(0xf9);}function extendWithAge(_0x4e78e3,_0x4c6ce7){const _0xa851ae={'age':_0x4c6ce7};return{..._0x4e78e3,..._0xa851ae};}function isWithGender(_0xb98ca){const _0x1d528c=_0x38f5ec;return(_0xb98ca[_0x1d528c(0x31d)]===_0x1d528c(0x13f)||_0xb98ca[_0x1d528c(0x31d)]===_0x1d528c(0x306))&&isValidProbablitiy(_0xb98ca[_0x1d528c(0x104)]);}function extendWithGender(_0x32ca70,_0x3d5fc5,_0x81bb68){const _0x274fe9={'gender':_0x3d5fc5,'genderProbability':_0x81bb68};return{..._0x32ca70,..._0x274fe9};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x10e6b8,_0x140ee3){function _0x325788(_0x269524,_0x4f3ea0){const _0x511682=_0x3692,_0x5a5043=tf28[_0x511682(0xc8)](_0x10e6b8(0x3*0x3*_0x269524),[0x3,0x3,_0x269524,0x1]),_0x4f0cab=tf28[_0x511682(0x220)](_0x10e6b8(_0x269524)),_0x362aca=tf28['tensor1d'](_0x10e6b8(_0x269524)),_0x5b2369=tf28[_0x511682(0x220)](_0x10e6b8(_0x269524)),_0x115681=tf28['tensor1d'](_0x10e6b8(_0x269524));return _0x140ee3[_0x511682(0x145)]({'paramPath':_0x4f3ea0+_0x511682(0x19e)},{'paramPath':_0x4f3ea0+_0x511682(0x18e)},{'paramPath':_0x4f3ea0+_0x511682(0x237)},{'paramPath':_0x4f3ea0+'/batch_norm_mean'},{'paramPath':_0x4f3ea0+_0x511682(0x2ba)}),{'filters':_0x5a5043,'batch_norm_scale':_0x4f0cab,'batch_norm_offset':_0x362aca,'batch_norm_mean':_0x5b2369,'batch_norm_variance':_0x115681};}function _0x5bd0d1(_0x53a29e,_0x2cc10c,_0x3d3073,_0x251e41,_0x31f7ec){const _0x37fb80=_0x3692,_0x46c0c1=tf28[_0x37fb80(0xc8)](_0x10e6b8(_0x53a29e*_0x2cc10c*_0x3d3073*_0x3d3073),[_0x3d3073,_0x3d3073,_0x53a29e,_0x2cc10c]),_0x26d8f1=tf28[_0x37fb80(0x220)](_0x10e6b8(_0x2cc10c));return _0x140ee3[_0x37fb80(0x145)]({'paramPath':_0x251e41+_0x37fb80(0x19e)},{'paramPath':_0x251e41+'/'+(_0x31f7ec?_0x37fb80(0x103):'bias')}),{'filters':_0x46c0c1,'bias':_0x26d8f1};}function _0x2f8d6d(_0x4445ca,_0x41ffd3,_0x1537b8,_0x21e172){const {filters:_0x7a5862,bias:_0x3b78d8}=_0x5bd0d1(_0x4445ca,_0x41ffd3,_0x1537b8,_0x21e172,!![]);return{'filters':_0x7a5862,'batch_norm_offset':_0x3b78d8};}function _0x58b958(_0x26fb30,_0x35ec9a,_0x421a72){const _0x277f58=_0x3692,_0x1e147c=_0x325788(_0x26fb30,_0x421a72+_0x277f58(0x1bd)),_0x4ecc9c=_0x2f8d6d(_0x26fb30,_0x35ec9a,0x1,_0x421a72+_0x277f58(0x324));return{'depthwise_conv':_0x1e147c,'pointwise_conv':_0x4ecc9c};}function _0x28f36c(){const _0x3f49b1=_0x3692,_0x5cec3d=_0x2f8d6d(0x3,0x20,0x3,_0x3f49b1(0x2b5)),_0x1a53ad=_0x58b958(0x20,0x40,_0x3f49b1(0x1b8)),_0x3071d2=_0x58b958(0x40,0x80,_0x3f49b1(0x231)),_0x2e4ac5=_0x58b958(0x80,0x80,_0x3f49b1(0x235)),_0x1d2232=_0x58b958(0x80,0x100,_0x3f49b1(0x154)),_0x19f6eb=_0x58b958(0x100,0x100,_0x3f49b1(0x23a)),_0x32e757=_0x58b958(0x100,0x200,_0x3f49b1(0x2c7)),_0x359591=_0x58b958(0x200,0x200,_0x3f49b1(0x163)),_0x3c8140=_0x58b958(0x200,0x200,_0x3f49b1(0x232)),_0x3a3066=_0x58b958(0x200,0x200,_0x3f49b1(0x1e4)),_0x407e8b=_0x58b958(0x200,0x200,_0x3f49b1(0x128)),_0x32164c=_0x58b958(0x200,0x200,_0x3f49b1(0x149)),_0x2fc387=_0x58b958(0x200,0x400,_0x3f49b1(0x300)),_0x18e657=_0x58b958(0x400,0x400,_0x3f49b1(0x275));return{'conv_0':_0x5cec3d,'conv_1':_0x1a53ad,'conv_2':_0x3071d2,'conv_3':_0x2e4ac5,'conv_4':_0x1d2232,'conv_5':_0x19f6eb,'conv_6':_0x32e757,'conv_7':_0x359591,'conv_8':_0x3c8140,'conv_9':_0x3a3066,'conv_10':_0x407e8b,'conv_11':_0x32164c,'conv_12':_0x2fc387,'conv_13':_0x18e657};}function _0x36ccab(){const _0x2e20dc=_0x3692,_0x38e7a0=_0x2f8d6d(0x400,0x100,0x1,_0x2e20dc(0x191)),_0x5e01a9=_0x2f8d6d(0x100,0x200,0x3,'prediction_layer/conv_1'),_0x5d5174=_0x2f8d6d(0x200,0x80,0x1,'prediction_layer/conv_2'),_0x34289a=_0x2f8d6d(0x80,0x100,0x3,_0x2e20dc(0x2ac)),_0x53684f=_0x2f8d6d(0x100,0x80,0x1,_0x2e20dc(0x210)),_0x3d1673=_0x2f8d6d(0x80,0x100,0x3,'prediction_layer/conv_5'),_0x2dda6d=_0x2f8d6d(0x100,0x40,0x1,'prediction_layer/conv_6'),_0x51e00f=_0x2f8d6d(0x40,0x80,0x3,_0x2e20dc(0x25a)),_0xd35fd=_0x5bd0d1(0x200,0xc,0x1,_0x2e20dc(0x164)),_0x4afc34=_0x5bd0d1(0x200,0x9,0x1,_0x2e20dc(0x20a)),_0x4ae30d=_0x5bd0d1(0x400,0x18,0x1,_0x2e20dc(0x15f)),_0x46f2e5=_0x5bd0d1(0x400,0x12,0x1,_0x2e20dc(0x141)),_0x3130dd=_0x5bd0d1(0x200,0x18,0x1,'prediction_layer/box_predictor_2/box_encoding_predictor'),_0x2af5a4=_0x5bd0d1(0x200,0x12,0x1,'prediction_layer/box_predictor_2/class_predictor'),_0x213bdb=_0x5bd0d1(0x100,0x18,0x1,_0x2e20dc(0x180)),_0x48968b=_0x5bd0d1(0x100,0x12,0x1,_0x2e20dc(0x119)),_0x4ed6ad=_0x5bd0d1(0x100,0x18,0x1,_0x2e20dc(0x1ac)),_0x1c2b69=_0x5bd0d1(0x100,0x12,0x1,_0x2e20dc(0x18b)),_0x264e5a=_0x5bd0d1(0x80,0x18,0x1,_0x2e20dc(0xb9)),_0x5351c1=_0x5bd0d1(0x80,0x12,0x1,_0x2e20dc(0x1b1)),_0x438a9a={'box_encoding_predictor':_0xd35fd,'class_predictor':_0x4afc34},_0x19b703={'box_encoding_predictor':_0x4ae30d,'class_predictor':_0x46f2e5},_0x121544={'box_encoding_predictor':_0x3130dd,'class_predictor':_0x2af5a4},_0x5d5fa2={'box_encoding_predictor':_0x213bdb,'class_predictor':_0x48968b},_0xb133ce={'box_encoding_predictor':_0x4ed6ad,'class_predictor':_0x1c2b69},_0x123f02={'box_encoding_predictor':_0x264e5a,'class_predictor':_0x5351c1};return{'conv_0':_0x38e7a0,'conv_1':_0x5e01a9,'conv_2':_0x5d5174,'conv_3':_0x34289a,'conv_4':_0x53684f,'conv_5':_0x3d1673,'conv_6':_0x2dda6d,'conv_7':_0x51e00f,'box_predictor_0':_0x438a9a,'box_predictor_1':_0x19b703,'box_predictor_2':_0x121544,'box_predictor_3':_0x5d5fa2,'box_predictor_4':_0xb133ce,'box_predictor_5':_0x123f02};}return{'extractMobilenetV1Params':_0x28f36c,'extractPredictionLayerParams':_0x36ccab};}function extractParams6(_0x13c5de){const _0x8764da=_0x38f5ec,_0xa53c7=[],{extractWeights:_0x2f22b3,getRemainingWeights:_0x292419}=extractWeightsFactory(_0x13c5de),{extractMobilenetV1Params:_0x5e1cc8,extractPredictionLayerParams:_0x17c02f}=extractorsFactory5(_0x2f22b3,_0xa53c7),_0x3cd92d=_0x5e1cc8(),_0x1d50cd=_0x17c02f(),_0x30b898=tf28['tensor3d'](_0x2f22b3(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x2b1291={'extra_dim':_0x30b898};_0xa53c7[_0x8764da(0x145)]({'paramPath':'output_layer/extra_dim'});if(_0x292419()[_0x8764da(0x25d)]!==0x0)throw new Error(_0x8764da(0x281)+_0x292419()[_0x8764da(0x25d)]);return{'params':{'mobilenetv1':_0x3cd92d,'prediction_layer':_0x1d50cd,'output_layer':_0x2b1291},'paramMappings':_0xa53c7};}function extractorsFactory6(_0x5dc5c2,_0xbc8df8){const _0x43e4e7=extractWeightEntryFactory(_0x5dc5c2,_0xbc8df8);function _0x1319ee(_0x4fac86,_0x331d70,_0x3ad412){const _0x73a19=_0x3692,_0x476cb8=_0x43e4e7(_0x4fac86+_0x73a19(0x13d)+_0x331d70+_0x73a19(0x1a5),0x4,_0x3ad412+_0x73a19(0x19e)),_0x54cd38=_0x43e4e7(_0x4fac86+_0x73a19(0x13d)+_0x331d70+'_pointwise/convolution_bn_offset',0x1,_0x3ad412+_0x73a19(0x237));return{'filters':_0x476cb8,'batch_norm_offset':_0x54cd38};}function _0x93b904(_0x3a592b){const _0x2439b8=_0x3692,_0x182dd3=_0x2439b8(0x1c0)+_0x3a592b,_0x467b46=_0x2439b8(0xd3)+_0x3a592b+_0x2439b8(0x2fe),_0xcf546c=_0x182dd3+_0x2439b8(0x1bd),_0x73831f=_0x182dd3+_0x2439b8(0x324),_0x121338=_0x43e4e7(_0x467b46+_0x2439b8(0x22b),0x4,_0xcf546c+'/filters'),_0x45b808=_0x43e4e7(_0x467b46+_0x2439b8(0x2bd),0x1,_0xcf546c+_0x2439b8(0x18e)),_0x3bdba6=_0x43e4e7(_0x467b46+_0x2439b8(0xad),0x1,_0xcf546c+_0x2439b8(0x237)),_0xb153f2=_0x43e4e7(_0x467b46+_0x2439b8(0x2c0),0x1,_0xcf546c+'/batch_norm_mean'),_0x3b8e04=_0x43e4e7(_0x467b46+_0x2439b8(0xfc),0x1,_0xcf546c+_0x2439b8(0x2ba));return{'depthwise_conv':{'filters':_0x121338,'batch_norm_scale':_0x45b808,'batch_norm_offset':_0x3bdba6,'batch_norm_mean':_0xb153f2,'batch_norm_variance':_0x3b8e04},'pointwise_conv':_0x1319ee('MobilenetV1',_0x3a592b,_0x73831f)};}function _0x1b6167(){const _0x3d6858=_0x3692;return{'conv_0':_0x1319ee(_0x3d6858(0x28f),0x0,_0x3d6858(0x2b5)),'conv_1':_0x93b904(0x1),'conv_2':_0x93b904(0x2),'conv_3':_0x93b904(0x3),'conv_4':_0x93b904(0x4),'conv_5':_0x93b904(0x5),'conv_6':_0x93b904(0x6),'conv_7':_0x93b904(0x7),'conv_8':_0x93b904(0x8),'conv_9':_0x93b904(0x9),'conv_10':_0x93b904(0xa),'conv_11':_0x93b904(0xb),'conv_12':_0x93b904(0xc),'conv_13':_0x93b904(0xd)};}function _0x1108ea(_0x537419,_0x50c956){const _0x34e08f=_0x3692,_0x45ab8c=_0x43e4e7(_0x537419+'/weights',0x4,_0x50c956+_0x34e08f(0x19e)),_0x4b54ae=_0x43e4e7(_0x537419+_0x34e08f(0x206),0x1,_0x50c956+_0x34e08f(0x218));return{'filters':_0x45ab8c,'bias':_0x4b54ae};}function _0x260d2a(_0x32d032){const _0x2b0338=_0x3692,_0x2cec36=_0x1108ea(_0x2b0338(0x2c2)+_0x32d032+'/BoxEncodingPredictor',_0x2b0338(0x1d3)+_0x32d032+_0x2b0338(0x261)),_0x4b6443=_0x1108ea(_0x2b0338(0x2c2)+_0x32d032+_0x2b0338(0x10d),_0x2b0338(0x1d3)+_0x32d032+_0x2b0338(0x16c));return{'box_encoding_predictor':_0x2cec36,'class_predictor':_0x4b6443};}function _0x3657d3(){const _0x49b37f=_0x3692;return{'conv_0':_0x1319ee(_0x49b37f(0x1f6),0x0,'prediction_layer/conv_0'),'conv_1':_0x1319ee(_0x49b37f(0x1f6),0x1,'prediction_layer/conv_1'),'conv_2':_0x1319ee('Prediction',0x2,_0x49b37f(0xc7)),'conv_3':_0x1319ee(_0x49b37f(0x1f6),0x3,'prediction_layer/conv_3'),'conv_4':_0x1319ee('Prediction',0x4,_0x49b37f(0x210)),'conv_5':_0x1319ee('Prediction',0x5,'prediction_layer/conv_5'),'conv_6':_0x1319ee(_0x49b37f(0x1f6),0x6,'prediction_layer/conv_6'),'conv_7':_0x1319ee(_0x49b37f(0x1f6),0x7,_0x49b37f(0x25a)),'box_predictor_0':_0x260d2a(0x0),'box_predictor_1':_0x260d2a(0x1),'box_predictor_2':_0x260d2a(0x2),'box_predictor_3':_0x260d2a(0x3),'box_predictor_4':_0x260d2a(0x4),'box_predictor_5':_0x260d2a(0x5)};}return{'extractMobilenetV1Params':_0x1b6167,'extractPredictionLayerParams':_0x3657d3};}function extractParamsFromWeightMap6(_0x508425){const _0x1695f5=_0x38f5ec,_0x3fa8e2=[],{extractMobilenetV1Params:_0x290b1b,extractPredictionLayerParams:_0xfa78b0}=extractorsFactory6(_0x508425,_0x3fa8e2),_0x40a30c=_0x508425[_0x1695f5(0x2cc)];_0x3fa8e2[_0x1695f5(0x145)]({'originalPath':_0x1695f5(0x2cc),'paramPath':_0x1695f5(0x27c)});if(!isTensor3D(_0x40a30c))throw new Error(_0x1695f5(0x2e9)+_0x40a30c);const _0x1edc7b={'mobilenetv1':_0x290b1b(),'prediction_layer':_0xfa78b0(),'output_layer':{'extra_dim':_0x40a30c}};return disposeUnusedWeightTensors(_0x508425,_0x3fa8e2),{'params':_0x1edc7b,'paramMappings':_0x3fa8e2};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x3e7ffa,_0x4e27d2,_0x1e7563){const _0x1323ef=_0x38f5ec;return tf29[_0x1323ef(0x23d)](()=>{const _0x39b233=_0x1323ef;let _0x1a827d=tf29[_0x39b233(0x271)](_0x3e7ffa,_0x4e27d2[_0x39b233(0x138)],_0x1e7563,_0x39b233(0x1b9));return _0x1a827d=tf29['add'](_0x1a827d,_0x4e27d2[_0x39b233(0x103)]),tf29[_0x39b233(0x29e)](_0x1a827d,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0x521447,_0xba6cf6,_0x5999a4){const _0x272968=_0x38f5ec;return tf30[_0x272968(0x23d)](()=>{const _0x653025=_0x272968;let _0x20b3eb=tf30[_0x653025(0x194)](_0x521447,_0xba6cf6[_0x653025(0x138)],_0x5999a4,_0x653025(0x1b9));return _0x20b3eb=tf30[_0x653025(0x2f0)](_0x20b3eb,_0xba6cf6[_0x653025(0x12a)],_0xba6cf6[_0x653025(0x1a8)],_0xba6cf6[_0x653025(0x103)],_0xba6cf6[_0x653025(0x116)],epsilon),tf30[_0x653025(0x29e)](_0x20b3eb,0x0,0x6);});}function getStridesForLayerIdx(_0x57dd02){const _0x1f246d=_0x38f5ec;return[0x2,0x4,0x6,0xc][_0x1f246d(0xf4)](_0x35e8ee=>_0x35e8ee===_0x57dd02)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x59b5df,_0xb4a195){const _0x28f2d3=_0x38f5ec;return tf30[_0x28f2d3(0x23d)](()=>{const _0x2fea92=_0x28f2d3;let _0x2fa8c,_0x36e1da=pointwiseConvLayer(_0x59b5df,_0xb4a195[_0x2fea92(0x1ed)],[0x2,0x2]);const _0x3d6b6c=[_0xb4a195[_0x2fea92(0x1fb)],_0xb4a195[_0x2fea92(0x188)],_0xb4a195['conv_3'],_0xb4a195[_0x2fea92(0x2cd)],_0xb4a195[_0x2fea92(0x31e)],_0xb4a195[_0x2fea92(0x132)],_0xb4a195[_0x2fea92(0x293)],_0xb4a195[_0x2fea92(0x102)],_0xb4a195[_0x2fea92(0x312)],_0xb4a195[_0x2fea92(0x193)],_0xb4a195[_0x2fea92(0x25f)],_0xb4a195[_0x2fea92(0xd4)],_0xb4a195[_0x2fea92(0x185)]];_0x3d6b6c[_0x2fea92(0x13c)]((_0x51d851,_0x2d2c7c)=>{const _0x1ab540=_0x2fea92,_0x4d69a8=_0x2d2c7c+0x1,_0x179498=getStridesForLayerIdx(_0x4d69a8);_0x36e1da=depthwiseConvLayer(_0x36e1da,_0x51d851[_0x1ab540(0x2c3)],_0x179498),_0x36e1da=pointwiseConvLayer(_0x36e1da,_0x51d851[_0x1ab540(0x276)],[0x1,0x1]);if(_0x4d69a8===0xb)_0x2fa8c=_0x36e1da;});if(_0x2fa8c===null)throw new Error(_0x2fea92(0x1c7));return{'out':_0x36e1da,'conv11':_0x2fa8c};});}function IOU(_0x584232,_0x42a71a,_0x8a373e){const _0x4778de=_0x38f5ec,_0x88bf2c=_0x584232['arraySync'](),_0x9bc39a=Math[_0x4778de(0x16f)](_0x88bf2c[_0x42a71a][0x0],_0x88bf2c[_0x42a71a][0x2]),_0x42c6e7=Math['min'](_0x88bf2c[_0x42a71a][0x1],_0x88bf2c[_0x42a71a][0x3]),_0x535c4c=Math[_0x4778de(0x262)](_0x88bf2c[_0x42a71a][0x0],_0x88bf2c[_0x42a71a][0x2]),_0x2c7d6d=Math[_0x4778de(0x262)](_0x88bf2c[_0x42a71a][0x1],_0x88bf2c[_0x42a71a][0x3]),_0x53f2ce=Math[_0x4778de(0x16f)](_0x88bf2c[_0x8a373e][0x0],_0x88bf2c[_0x8a373e][0x2]),_0xe839b3=Math[_0x4778de(0x16f)](_0x88bf2c[_0x8a373e][0x1],_0x88bf2c[_0x8a373e][0x3]),_0x334329=Math[_0x4778de(0x262)](_0x88bf2c[_0x8a373e][0x0],_0x88bf2c[_0x8a373e][0x2]),_0x49fef1=Math[_0x4778de(0x262)](_0x88bf2c[_0x8a373e][0x1],_0x88bf2c[_0x8a373e][0x3]),_0x318521=(_0x535c4c-_0x9bc39a)*(_0x2c7d6d-_0x42c6e7),_0x1c2bc2=(_0x334329-_0x53f2ce)*(_0x49fef1-_0xe839b3);if(_0x318521<=0x0||_0x1c2bc2<=0x0)return 0x0;const _0x2e4ed5=Math[_0x4778de(0x262)](_0x9bc39a,_0x53f2ce),_0x11cf80=Math[_0x4778de(0x262)](_0x42c6e7,_0xe839b3),_0x5e0909=Math['min'](_0x535c4c,_0x334329),_0x510c52=Math[_0x4778de(0x16f)](_0x2c7d6d,_0x49fef1),_0x1a94c1=Math[_0x4778de(0x262)](_0x5e0909-_0x2e4ed5,0x0)*Math[_0x4778de(0x262)](_0x510c52-_0x11cf80,0x0);return _0x1a94c1/(_0x318521+_0x1c2bc2-_0x1a94c1);}function nonMaxSuppression2(_0x3aee6d,_0x552d80,_0x5317f6,_0x1b904e,_0x5b3dd2){const _0x174da5=_0x38f5ec,_0x350800=_0x3aee6d['shape'][0x0],_0x3a4f84=Math['min'](_0x5317f6,_0x350800),_0x405230=_0x552d80['map']((_0x64e3cd,_0x450530)=>({'score':_0x64e3cd,'boxIndex':_0x450530}))[_0x174da5(0xfe)](_0x5ee73a=>_0x5ee73a[_0x174da5(0x30a)]>_0x5b3dd2)[_0x174da5(0x137)]((_0x1ee6c0,_0x8c8330)=>_0x8c8330[_0x174da5(0x30a)]-_0x1ee6c0[_0x174da5(0x30a)]),_0xcc12b=_0x200410=>_0x200410<=_0x1b904e?0x1:0x0,_0x3d9a7c=[];return _0x405230[_0x174da5(0x13c)](_0x422dde=>{const _0x29664b=_0x174da5;if(_0x3d9a7c[_0x29664b(0x25d)]>=_0x3a4f84)return;const _0x577d88=_0x422dde[_0x29664b(0x30a)];for(let _0x5f2454=_0x3d9a7c[_0x29664b(0x25d)]-0x1;_0x5f2454>=0x0;--_0x5f2454){const _0x11f667=IOU(_0x3aee6d,_0x422dde[_0x29664b(0xb8)],_0x3d9a7c[_0x5f2454]);if(_0x11f667===0x0)continue;_0x422dde[_0x29664b(0x30a)]*=_0xcc12b(_0x11f667);if(_0x422dde[_0x29664b(0x30a)]<=_0x5b3dd2)break;}_0x577d88===_0x422dde[_0x29664b(0x30a)]&&_0x3d9a7c[_0x29664b(0x145)](_0x422dde[_0x29664b(0xb8)]);}),_0x3d9a7c;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0xb35304){const _0x370eb8=_0x38f5ec,_0x2ace26=tf31[_0x370eb8(0x322)](tf31[_0x370eb8(0x1a1)](_0xb35304,[0x1,0x0])),_0x150bdc=[tf31[_0x370eb8(0x22a)](_0x2ace26[0x2],_0x2ace26[0x0]),tf31[_0x370eb8(0x22a)](_0x2ace26[0x3],_0x2ace26[0x1])],_0x50cee8=[tf31[_0x370eb8(0x2d0)](_0x2ace26[0x0],tf31['div'](_0x150bdc[0x0],0x2)),tf31[_0x370eb8(0x2d0)](_0x2ace26[0x1],tf31[_0x370eb8(0x196)](_0x150bdc[0x1],0x2))];return{'sizes':_0x150bdc,'centers':_0x50cee8};}function decodeBoxesLayer(_0xc0c942,_0x4c0e77){const _0x3ca5c5=_0x38f5ec,{sizes:_0xbf6b0e,centers:_0x28d364}=getCenterCoordinatesAndSizesLayer(_0xc0c942),_0x5573fc=tf31[_0x3ca5c5(0x322)](tf31[_0x3ca5c5(0x1a1)](_0x4c0e77,[0x1,0x0])),_0x2f9dd8=tf31[_0x3ca5c5(0x196)](tf31['mul'](tf31[_0x3ca5c5(0x265)](tf31[_0x3ca5c5(0x196)](_0x5573fc[0x2],0x5)),_0xbf6b0e[0x0]),0x2),_0x148cb4=tf31[_0x3ca5c5(0x2d0)](tf31[_0x3ca5c5(0x252)](tf31[_0x3ca5c5(0x196)](_0x5573fc[0x0],0xa),_0xbf6b0e[0x0]),_0x28d364[0x0]),_0x2fd56f=tf31[_0x3ca5c5(0x196)](tf31['mul'](tf31[_0x3ca5c5(0x265)](tf31[_0x3ca5c5(0x196)](_0x5573fc[0x3],0x5)),_0xbf6b0e[0x1]),0x2),_0x48884d=tf31[_0x3ca5c5(0x2d0)](tf31[_0x3ca5c5(0x252)](tf31[_0x3ca5c5(0x196)](_0x5573fc[0x1],0xa),_0xbf6b0e[0x1]),_0x28d364[0x1]);return tf31[_0x3ca5c5(0x1a1)](tf31[_0x3ca5c5(0x1d6)]([tf31[_0x3ca5c5(0x22a)](_0x148cb4,_0x2f9dd8),tf31['sub'](_0x48884d,_0x2fd56f),tf31[_0x3ca5c5(0x2d0)](_0x148cb4,_0x2f9dd8),tf31['add'](_0x48884d,_0x2fd56f)]),[0x1,0x0]);}function outputLayer(_0x23464a,_0x4e737f,_0x769c89){const _0x34c35f=_0x38f5ec;return tf31[_0x34c35f(0x23d)](()=>{const _0x384fb1=_0x34c35f,_0x30b612=_0x23464a[_0x384fb1(0x2e3)][0x0];let _0x4fb1ec=decodeBoxesLayer(tf31[_0x384fb1(0x117)](tf31[_0x384fb1(0x329)](_0x769c89[_0x384fb1(0x158)],[_0x30b612,0x1,0x1]),[-0x1,0x4]),tf31[_0x384fb1(0x117)](_0x23464a,[-0x1,0x4]));_0x4fb1ec=tf31[_0x384fb1(0x117)](_0x4fb1ec,[_0x30b612,_0x4fb1ec[_0x384fb1(0x2e3)][0x0]/_0x30b612,0x4]);const _0xf30879=tf31[_0x384fb1(0x176)](tf31['slice'](_0x4e737f,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0x20556b=tf31[_0x384fb1(0x24e)](_0xf30879,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0x20556b=tf31['reshape'](_0x20556b,[_0x30b612,_0x20556b[_0x384fb1(0x2e3)][0x1]]);const _0x1324d3=tf31['unstack'](_0x4fb1ec),_0x5d7a50=tf31[_0x384fb1(0x322)](_0x20556b);return{'boxes':_0x1324d3,'scores':_0x5d7a50};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x1253a5,_0x2fabbe){const _0x100b42=_0x38f5ec;return tf32[_0x100b42(0x23d)](()=>{const _0x429d90=_0x100b42,_0x1c6c79=_0x1253a5['shape'][0x0],_0x344e8a=tf32[_0x429d90(0x117)](convLayer(_0x1253a5,_0x2fabbe['box_encoding_predictor']),[_0x1c6c79,-0x1,0x1,0x4]),_0x3b6449=tf32[_0x429d90(0x117)](convLayer(_0x1253a5,_0x2fabbe[_0x429d90(0x126)]),[_0x1c6c79,-0x1,0x3]);return{'boxPredictionEncoding':_0x344e8a,'classPrediction':_0x3b6449};});}function predictionLayer(_0x3a5f35,_0x4d7558,_0x160fbe){const _0x4505eb=_0x38f5ec;return tf33[_0x4505eb(0x23d)](()=>{const _0x543fd3=_0x4505eb,_0xfa2f5e=pointwiseConvLayer(_0x3a5f35,_0x160fbe[_0x543fd3(0x1ed)],[0x1,0x1]),_0x5df1ad=pointwiseConvLayer(_0xfa2f5e,_0x160fbe[_0x543fd3(0x1fb)],[0x2,0x2]),_0xa74f7b=pointwiseConvLayer(_0x5df1ad,_0x160fbe[_0x543fd3(0x188)],[0x1,0x1]),_0x438816=pointwiseConvLayer(_0xa74f7b,_0x160fbe[_0x543fd3(0x2eb)],[0x2,0x2]),_0x3a48fc=pointwiseConvLayer(_0x438816,_0x160fbe['conv_4'],[0x1,0x1]),_0x58d604=pointwiseConvLayer(_0x3a48fc,_0x160fbe['conv_5'],[0x2,0x2]),_0x39b712=pointwiseConvLayer(_0x58d604,_0x160fbe[_0x543fd3(0x132)],[0x1,0x1]),_0x3e2a23=pointwiseConvLayer(_0x39b712,_0x160fbe[_0x543fd3(0x293)],[0x2,0x2]),_0x373c43=boxPredictionLayer(_0x4d7558,_0x160fbe[_0x543fd3(0x22f)]),_0x1a50d4=boxPredictionLayer(_0x3a5f35,_0x160fbe[_0x543fd3(0x2db)]),_0x41f90b=boxPredictionLayer(_0x5df1ad,_0x160fbe[_0x543fd3(0x270)]),_0x22363d=boxPredictionLayer(_0x438816,_0x160fbe[_0x543fd3(0x2b9)]),_0x1f652f=boxPredictionLayer(_0x58d604,_0x160fbe[_0x543fd3(0x282)]),_0x42ff47=boxPredictionLayer(_0x3e2a23,_0x160fbe[_0x543fd3(0x289)]),_0x28896c=tf33['concat']([_0x373c43['boxPredictionEncoding'],_0x1a50d4[_0x543fd3(0x1fe)],_0x41f90b[_0x543fd3(0x1fe)],_0x22363d[_0x543fd3(0x1fe)],_0x1f652f[_0x543fd3(0x1fe)],_0x42ff47['boxPredictionEncoding']],0x1),_0x5665be=tf33[_0x543fd3(0x2aa)]([_0x373c43[_0x543fd3(0x32f)],_0x1a50d4[_0x543fd3(0x32f)],_0x41f90b['classPrediction'],_0x22363d[_0x543fd3(0x32f)],_0x1f652f[_0x543fd3(0x32f)],_0x42ff47['classPrediction']],0x1);return{'boxPredictions':_0x28896c,'classPredictions':_0x5665be};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x27d959,maxResults:_0x454b13}={}){const _0x533f49=_0x38f5ec;this['_name']=_0x533f49(0x16a),this[_0x533f49(0x2b2)]=_0x27d959||0.5,this['_maxResults']=_0x454b13||0x64;if(typeof this[_0x533f49(0x2b2)]!=='number'||this[_0x533f49(0x2b2)]<=0x0||this[_0x533f49(0x2b2)]>=0x1)throw new Error(this[_0x533f49(0x14b)]+_0x533f49(0x1f1));if(typeof this['_maxResults']!==_0x533f49(0xf9))throw new Error(this[_0x533f49(0x14b)]+_0x533f49(0x2fc));}get[_0x38f5ec(0xcc)](){const _0xd9db1d=_0x38f5ec;return this[_0xd9db1d(0x2b2)];}get[_0x38f5ec(0x1e3)](){return this['_maxResults'];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){const _0xc94e02=_0x38f5ec;super(_0xc94e02(0xb2));}[_0x38f5ec(0x245)](_0x769a41){const _0x2b5d7f=_0x38f5ec,{params:_0x5b59d2}=this;if(!_0x5b59d2)throw new Error(_0x2b5d7f(0x1bf));return tf34[_0x2b5d7f(0x23d)](()=>{const _0x41e430=_0x2b5d7f,_0xab37b7=tf34['cast'](_0x769a41[_0x41e430(0x234)](0x200,![]),_0x41e430(0xbc)),_0x5e2bb3=tf34[_0x41e430(0x22a)](tf34[_0x41e430(0x196)](_0xab37b7,127.5),0x1),_0x2b6b04=mobileNetV1(_0x5e2bb3,_0x5b59d2[_0x41e430(0x12f)]),{boxPredictions:_0x3d1f8c,classPredictions:_0x2a7c24}=predictionLayer(_0x2b6b04[_0x41e430(0x17d)],_0x2b6b04[_0x41e430(0x1d5)],_0x5b59d2['prediction_layer']);return outputLayer(_0x3d1f8c,_0x2a7c24,_0x5b59d2['output_layer']);});}async[_0x38f5ec(0xa1)](_0x3c5d19){return this['forwardInput'](await toNetInput(_0x3c5d19));}async[_0x38f5ec(0x122)](_0x5b7115,_0x12898f={}){const _0x183732=_0x38f5ec,{maxResults:_0x5c5f36,minConfidence:_0x2e8c29}=new SsdMobilenetv1Options(_0x12898f),_0x554a7b=await toNetInput(_0x5b7115),{boxes:_0x2bf3c5,scores:_0x1e6fb1}=this[_0x183732(0x245)](_0x554a7b),_0x1ed150=_0x2bf3c5[0x0],_0x4bc663=_0x1e6fb1[0x0];for(let _0x267e8b=0x1;_0x267e8b<_0x2bf3c5['length'];_0x267e8b++){_0x2bf3c5[_0x267e8b][_0x183732(0xea)](),_0x1e6fb1[_0x267e8b][_0x183732(0xea)]();}const _0x3b11f3=Array['from'](_0x4bc663[_0x183732(0x2a4)]()),_0x289ec6=0.5,_0x4812da=nonMaxSuppression2(_0x1ed150,_0x3b11f3,_0x5c5f36,_0x289ec6,_0x2e8c29),_0x27adde=_0x554a7b[_0x183732(0x2f3)](0x0),_0x8c131a=_0x554a7b['inputSize'],_0x5bc5da=_0x8c131a/_0x27adde[_0x183732(0x100)],_0x50f411=_0x8c131a/_0x27adde[_0x183732(0xe7)],_0x4543d1=_0x1ed150[_0x183732(0x251)](),_0x28e93a=_0x4812da[_0x183732(0x26d)](_0x1e8608=>{const _0x425986=_0x183732,[_0x31d0bb,_0x54a6f7]=[Math[_0x425986(0x262)](0x0,_0x4543d1[_0x1e8608][0x0]),Math[_0x425986(0x16f)](0x1,_0x4543d1[_0x1e8608][0x2])][_0x425986(0x26d)](_0x1d561f=>_0x1d561f*_0x50f411),[_0xe6cc59,_0x34312a]=[Math['max'](0x0,_0x4543d1[_0x1e8608][0x1]),Math[_0x425986(0x16f)](0x1,_0x4543d1[_0x1e8608][0x3])][_0x425986(0x26d)](_0x4b295a=>_0x4b295a*_0x5bc5da);return new FaceDetection(_0x3b11f3[_0x1e8608],new Rect(_0xe6cc59,_0x31d0bb,_0x34312a-_0xe6cc59,_0x54a6f7-_0x31d0bb),{'height':_0x554a7b[_0x425986(0xc1)](0x0),'width':_0x554a7b[_0x425986(0x227)](0x0)});});return _0x1ed150[_0x183732(0xea)](),_0x4bc663[_0x183732(0xea)](),_0x28e93a;}['getDefaultModelName'](){const _0x4a0089=_0x38f5ec;return _0x4a0089(0x303);}[_0x38f5ec(0x1eb)](_0x497819){return extractParamsFromWeightMap6(_0x497819);}[_0x38f5ec(0x16b)](_0x5629eb){return extractParams6(_0x5629eb);}};function createSsdMobilenetv1(_0x232755){const _0x28c38c=_0x38f5ec,_0x2e4e2b=new SsdMobilenetv1();return _0x2e4e2b[_0x28c38c(0x2d4)](_0x232755),_0x2e4e2b;}function createFaceDetectionNet(_0x14800d){return createSsdMobilenetv1(_0x14800d);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME=_0x38f5ec(0x166),DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x38f5ec(0x19d),tf39=__toESM(require_tfjs_esm()),isNumber=_0x338dce=>typeof _0x338dce===_0x38f5ec(0xf9);function validateConfig(_0x52b6d3){const _0xbf65ff=_0x38f5ec;if(!_0x52b6d3)throw new Error('invalid\x20config:\x20'+_0x52b6d3);if(typeof _0x52b6d3[_0xbf65ff(0x197)]!=='boolean')throw new Error(_0xbf65ff(0x201)+_0x52b6d3[_0xbf65ff(0x197)]);if(!isNumber(_0x52b6d3[_0xbf65ff(0x236)])||_0x52b6d3[_0xbf65ff(0x236)]<0x0||_0x52b6d3[_0xbf65ff(0x236)]>0x1)throw new Error(_0xbf65ff(0x30e)+_0x52b6d3[_0xbf65ff(0x236)]);if(!Array[_0xbf65ff(0x23e)](_0x52b6d3[_0xbf65ff(0x144)])||!_0x52b6d3[_0xbf65ff(0x144)][_0xbf65ff(0x25d)]||!_0x52b6d3['classes'][_0xbf65ff(0x15e)](_0x1a8173=>typeof _0x1a8173==='string'))throw new Error(_0xbf65ff(0x31a)+JSON[_0xbf65ff(0x2f5)](_0x52b6d3[_0xbf65ff(0x144)]));if(!Array[_0xbf65ff(0x23e)](_0x52b6d3[_0xbf65ff(0x27d)])||!_0x52b6d3[_0xbf65ff(0x27d)]['length']||!_0x52b6d3[_0xbf65ff(0x27d)][_0xbf65ff(0x26d)](_0x163802=>_0x163802||{})[_0xbf65ff(0x15e)](_0x570b60=>isNumber(_0x570b60['x'])&&isNumber(_0x570b60['y'])))throw new Error(_0xbf65ff(0x2e7)+JSON[_0xbf65ff(0x2f5)](_0x52b6d3[_0xbf65ff(0x27d)]));if(_0x52b6d3[_0xbf65ff(0x2e6)]&&(!Array['isArray'](_0x52b6d3[_0xbf65ff(0x2e6)])||_0x52b6d3[_0xbf65ff(0x2e6)][_0xbf65ff(0x25d)]!==0x3||!_0x52b6d3[_0xbf65ff(0x2e6)]['every'](isNumber)))throw new Error(_0xbf65ff(0x1d1)+JSON[_0xbf65ff(0x2f5)](_0x52b6d3[_0xbf65ff(0x2e6)]));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x5996a1){return tf35['tidy'](()=>{const _0x513d87=_0x3692,_0x54ec7e=tf35['mul'](_0x5996a1,tf35[_0x513d87(0x12b)](0.10000000149011612));return tf35[_0x513d87(0x2d0)](tf35['relu'](tf35[_0x513d87(0x22a)](_0x5996a1,_0x54ec7e)),_0x54ec7e);});}function convWithBatchNorm(_0x3aca4e,_0x1eeadd){const _0x21fcb0=_0x38f5ec;return tf36[_0x21fcb0(0x23d)](()=>{const _0x19e804=_0x21fcb0;let _0x55c3e7=tf36[_0x19e804(0x1ad)](_0x3aca4e,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x55c3e7=tf36[_0x19e804(0x271)](_0x55c3e7,_0x1eeadd['conv'][_0x19e804(0x138)],[0x1,0x1],'valid'),_0x55c3e7=tf36[_0x19e804(0x22a)](_0x55c3e7,_0x1eeadd['bn'][_0x19e804(0x22a)]),_0x55c3e7=tf36['mul'](_0x55c3e7,_0x1eeadd['bn']['truediv']),_0x55c3e7=tf36[_0x19e804(0x2d0)](_0x55c3e7,_0x1eeadd[_0x19e804(0x214)][_0x19e804(0x108)]),leaky(_0x55c3e7);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x292543,_0x397b29){const _0x56a835=_0x38f5ec;return tf37[_0x56a835(0x23d)](()=>{const _0x41b4b1=_0x56a835;let _0x2e6010=tf37['pad'](_0x292543,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x2e6010=tf37[_0x41b4b1(0x192)](_0x2e6010,_0x397b29['depthwise_filter'],_0x397b29[_0x41b4b1(0x32a)],[0x1,0x1],_0x41b4b1(0x2bc)),_0x2e6010=tf37[_0x41b4b1(0x2d0)](_0x2e6010,_0x397b29[_0x41b4b1(0x108)]),leaky(_0x2e6010);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x16df46,_0x5e33bd){const _0x3f7ad2=extractConvParamsFactory(_0x16df46,_0x5e33bd);function _0x558283(_0xc1ce8,_0x1ec6d9){const _0x1c5e17=_0x3692,_0x261d66=tf38[_0x1c5e17(0x220)](_0x16df46(_0xc1ce8)),_0x44401b=tf38['tensor1d'](_0x16df46(_0xc1ce8));return _0x5e33bd[_0x1c5e17(0x145)]({'paramPath':_0x1ec6d9+_0x1c5e17(0x184)},{'paramPath':_0x1ec6d9+_0x1c5e17(0x148)}),{'sub':_0x261d66,'truediv':_0x44401b};}function _0x46167d(_0x151d78,_0x8ab62c,_0x23bf7e){const _0x2874d3=_0x3692,_0x595ead=_0x3f7ad2(_0x151d78,_0x8ab62c,0x3,_0x23bf7e+_0x2874d3(0x2bb)),_0x50ba06=_0x558283(_0x8ab62c,_0x23bf7e+_0x2874d3(0x247));return{'conv':_0x595ead,'bn':_0x50ba06};}const _0x574aca=extractSeparableConvParamsFactory(_0x16df46,_0x5e33bd);return{'extractConvParams':_0x3f7ad2,'extractConvWithBatchNormParams':_0x46167d,'extractSeparableConvParams':_0x574aca};}function extractParams7(_0x3e9d37,_0x406b92,_0x47e62d,_0x26ad18){const _0x5e7cb0=_0x38f5ec,{extractWeights:_0x12fde5,getRemainingWeights:_0x7c8dcc}=extractWeightsFactory(_0x3e9d37),_0x415b8c=[],{extractConvParams:_0x4a0429,extractConvWithBatchNormParams:_0x1e54cf,extractSeparableConvParams:_0x52d238}=extractorsFactory7(_0x12fde5,_0x415b8c);let _0x316139;if(_0x406b92['withSeparableConvs']){const [_0x57e555,_0x8beb5f,_0x3cbcc6,_0x460bec,_0x10742b,_0x20fdea,_0xd026bb,_0x5369e8,_0xad9ea5]=_0x26ad18,_0x13b138=_0x406b92[_0x5e7cb0(0x305)]?_0x4a0429(_0x57e555,_0x8beb5f,0x3,_0x5e7cb0(0xc4)):_0x52d238(_0x57e555,_0x8beb5f,_0x5e7cb0(0xc4)),_0x6693c0=_0x52d238(_0x8beb5f,_0x3cbcc6,'conv1'),_0x31a46a=_0x52d238(_0x3cbcc6,_0x460bec,_0x5e7cb0(0x240)),_0xea9b91=_0x52d238(_0x460bec,_0x10742b,'conv3'),_0x49f1f9=_0x52d238(_0x10742b,_0x20fdea,_0x5e7cb0(0x2d1)),_0x4c62b3=_0x52d238(_0x20fdea,_0xd026bb,_0x5e7cb0(0x296)),_0x305b65=_0x5369e8?_0x52d238(_0xd026bb,_0x5369e8,'conv6'):void 0x0,_0x2a0a2f=_0xad9ea5?_0x52d238(_0x5369e8,_0xad9ea5,'conv7'):void 0x0,_0x4adbfc=_0x4a0429(_0xad9ea5||_0x5369e8||_0xd026bb,0x5*_0x47e62d,0x1,'conv8');_0x316139={'conv0':_0x13b138,'conv1':_0x6693c0,'conv2':_0x31a46a,'conv3':_0xea9b91,'conv4':_0x49f1f9,'conv5':_0x4c62b3,'conv6':_0x305b65,'conv7':_0x2a0a2f,'conv8':_0x4adbfc};}else{const [_0x40a720,_0x290418,_0x25f06d,_0x4e3412,_0xd520c2,_0x1fdd1b,_0x389d52,_0x475a0c,_0x2afd78]=_0x26ad18,_0x453d63=_0x1e54cf(_0x40a720,_0x290418,'conv0'),_0x46f89a=_0x1e54cf(_0x290418,_0x25f06d,_0x5e7cb0(0x29d)),_0x4cb3ca=_0x1e54cf(_0x25f06d,_0x4e3412,'conv2'),_0x3209c0=_0x1e54cf(_0x4e3412,_0xd520c2,_0x5e7cb0(0x1e0)),_0x431b0a=_0x1e54cf(_0xd520c2,_0x1fdd1b,_0x5e7cb0(0x2d1)),_0x4f7645=_0x1e54cf(_0x1fdd1b,_0x389d52,_0x5e7cb0(0x296)),_0x3e2ba9=_0x1e54cf(_0x389d52,_0x475a0c,_0x5e7cb0(0x17e)),_0x4c8085=_0x1e54cf(_0x475a0c,_0x2afd78,'conv7'),_0x441540=_0x4a0429(_0x2afd78,0x5*_0x47e62d,0x1,_0x5e7cb0(0x1ef));_0x316139={'conv0':_0x453d63,'conv1':_0x46f89a,'conv2':_0x4cb3ca,'conv3':_0x3209c0,'conv4':_0x431b0a,'conv5':_0x4f7645,'conv6':_0x3e2ba9,'conv7':_0x4c8085,'conv8':_0x441540};}if(_0x7c8dcc()['length']!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x7c8dcc()[_0x5e7cb0(0x25d)]);return{'params':_0x316139,'paramMappings':_0x415b8c};}function extractorsFactory8(_0x1dacca,_0x4a9568){const _0x468d8d=extractWeightEntryFactory(_0x1dacca,_0x4a9568);function _0x58bb86(_0x3c9b87){const _0x5349e2=_0x3692,_0x55034a=_0x468d8d(_0x3c9b87+'/sub',0x1),_0x5dbf6c=_0x468d8d(_0x3c9b87+_0x5349e2(0x148),0x1);return{'sub':_0x55034a,'truediv':_0x5dbf6c};}function _0x54ea80(_0x2581d3){const _0x45ed79=_0x3692,_0x2745e3=_0x468d8d(_0x2581d3+_0x45ed79(0x19e),0x4),_0x195994=_0x468d8d(_0x2581d3+_0x45ed79(0x218),0x1);return{'filters':_0x2745e3,'bias':_0x195994};}function _0x5e507b(_0x28e7fe){const _0xa5d6=_0x54ea80(_0x28e7fe+'/conv'),_0xb86a8a=_0x58bb86(_0x28e7fe+'/bn');return{'conv':_0xa5d6,'bn':_0xb86a8a};}const _0x296c2e=loadSeparableConvParamsFactory(_0x468d8d);return{'extractConvParams':_0x54ea80,'extractConvWithBatchNormParams':_0x5e507b,'extractSeparableConvParams':_0x296c2e};}function extractParamsFromWeightMap7(_0x2964d3,_0x456809){const _0x472bf5=_0x38f5ec,_0x2d418e=[],{extractConvParams:_0x54d8f1,extractConvWithBatchNormParams:_0x43d902,extractSeparableConvParams:_0x2f9c75}=extractorsFactory8(_0x2964d3,_0x2d418e);let _0x20b2d0;if(_0x456809[_0x472bf5(0x197)]){const _0x9e78dc=_0x456809[_0x472bf5(0x1de)]&&_0x456809['filterSizes']['length']||0x9;_0x20b2d0={'conv0':_0x456809['isFirstLayerConv2d']?_0x54d8f1(_0x472bf5(0xc4)):_0x2f9c75('conv0'),'conv1':_0x2f9c75(_0x472bf5(0x29d)),'conv2':_0x2f9c75(_0x472bf5(0x240)),'conv3':_0x2f9c75('conv3'),'conv4':_0x2f9c75(_0x472bf5(0x2d1)),'conv5':_0x2f9c75(_0x472bf5(0x296)),'conv6':_0x9e78dc>0x7?_0x2f9c75(_0x472bf5(0x17e)):void 0x0,'conv7':_0x9e78dc>0x8?_0x2f9c75('conv7'):void 0x0,'conv8':_0x54d8f1(_0x472bf5(0x1ef))};}else _0x20b2d0={'conv0':_0x43d902(_0x472bf5(0xc4)),'conv1':_0x43d902(_0x472bf5(0x29d)),'conv2':_0x43d902(_0x472bf5(0x240)),'conv3':_0x43d902('conv3'),'conv4':_0x43d902(_0x472bf5(0x2d1)),'conv5':_0x43d902(_0x472bf5(0x296)),'conv6':_0x43d902(_0x472bf5(0x17e)),'conv7':_0x43d902('conv7'),'conv8':_0x54d8f1(_0x472bf5(0x1ef))};return disposeUnusedWeightTensors(_0x2964d3,_0x2d418e),{'params':_0x20b2d0,'paramMappings':_0x2d418e};}var TinyYolov2Options=class{constructor({inputSize:_0x20df8c,scoreThreshold:_0x30cfcc}={}){const _0x5dbf1d=_0x38f5ec;this['_name']=_0x5dbf1d(0x10f),this[_0x5dbf1d(0x258)]=_0x20df8c||0x1a0,this[_0x5dbf1d(0xf6)]=_0x30cfcc||0.5;if(typeof this[_0x5dbf1d(0x258)]!==_0x5dbf1d(0xf9)||this['_inputSize']%0x20!==0x0)throw new Error(this[_0x5dbf1d(0x14b)]+_0x5dbf1d(0x1c1));if(typeof this[_0x5dbf1d(0xf6)]!=='number'||this[_0x5dbf1d(0xf6)]<=0x0||this[_0x5dbf1d(0xf6)]>=0x1)throw new Error(this[_0x5dbf1d(0x14b)]+_0x5dbf1d(0x19a));}get['inputSize'](){const _0x133799=_0x38f5ec;return this[_0x133799(0x258)];}get[_0x38f5ec(0x2fd)](){const _0x34ac76=_0x38f5ec;return this[_0x34ac76(0xf6)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0x5e575c){const _0xee4bf9=_0x38f5ec;super(_0xee4bf9(0xa8)),validateConfig(_0x5e575c),this[_0xee4bf9(0x308)]=_0x5e575c;}get[_0x38f5ec(0x110)](){const _0x1d9761=_0x38f5ec;return this[_0x1d9761(0x308)];}get['withClassScores'](){const _0x2be339=_0x38f5ec;return this[_0x2be339(0x110)][_0x2be339(0x115)]||this[_0x2be339(0x110)]['classes'][_0x2be339(0x25d)]>0x1;}get['boxEncodingSize'](){const _0x4d22dd=_0x38f5ec;return 0x5+(this['withClassScores']?this[_0x4d22dd(0x110)]['classes'][_0x4d22dd(0x25d)]:0x0);}['runTinyYolov2'](_0x4a9def,_0x90af56){const _0xc7806d=_0x38f5ec;let _0x3e8e47=convWithBatchNorm(_0x4a9def,_0x90af56['conv0']);return _0x3e8e47=tf39['maxPool'](_0x3e8e47,[0x2,0x2],[0x2,0x2],_0xc7806d(0x1b9)),_0x3e8e47=convWithBatchNorm(_0x3e8e47,_0x90af56[_0xc7806d(0x29d)]),_0x3e8e47=tf39[_0xc7806d(0x11f)](_0x3e8e47,[0x2,0x2],[0x2,0x2],_0xc7806d(0x1b9)),_0x3e8e47=convWithBatchNorm(_0x3e8e47,_0x90af56['conv2']),_0x3e8e47=tf39[_0xc7806d(0x11f)](_0x3e8e47,[0x2,0x2],[0x2,0x2],_0xc7806d(0x1b9)),_0x3e8e47=convWithBatchNorm(_0x3e8e47,_0x90af56['conv3']),_0x3e8e47=tf39['maxPool'](_0x3e8e47,[0x2,0x2],[0x2,0x2],'same'),_0x3e8e47=convWithBatchNorm(_0x3e8e47,_0x90af56[_0xc7806d(0x2d1)]),_0x3e8e47=tf39['maxPool'](_0x3e8e47,[0x2,0x2],[0x2,0x2],_0xc7806d(0x1b9)),_0x3e8e47=convWithBatchNorm(_0x3e8e47,_0x90af56[_0xc7806d(0x296)]),_0x3e8e47=tf39[_0xc7806d(0x11f)](_0x3e8e47,[0x2,0x2],[0x1,0x1],'same'),_0x3e8e47=convWithBatchNorm(_0x3e8e47,_0x90af56[_0xc7806d(0x17e)]),_0x3e8e47=convWithBatchNorm(_0x3e8e47,_0x90af56[_0xc7806d(0x25e)]),convLayer(_0x3e8e47,_0x90af56[_0xc7806d(0x1ef)],_0xc7806d(0x2bc),![]);}[_0x38f5ec(0x250)](_0x22932,_0x27a15e){const _0x5ee623=_0x38f5ec;let _0x3bf1f1=this[_0x5ee623(0x110)]['isFirstLayerConv2d']?leaky(convLayer(_0x22932,_0x27a15e['conv0'],_0x5ee623(0x2bc),![])):depthwiseSeparableConv2(_0x22932,_0x27a15e[_0x5ee623(0xc4)]);return _0x3bf1f1=tf39[_0x5ee623(0x11f)](_0x3bf1f1,[0x2,0x2],[0x2,0x2],_0x5ee623(0x1b9)),_0x3bf1f1=depthwiseSeparableConv2(_0x3bf1f1,_0x27a15e['conv1']),_0x3bf1f1=tf39[_0x5ee623(0x11f)](_0x3bf1f1,[0x2,0x2],[0x2,0x2],'same'),_0x3bf1f1=depthwiseSeparableConv2(_0x3bf1f1,_0x27a15e[_0x5ee623(0x240)]),_0x3bf1f1=tf39[_0x5ee623(0x11f)](_0x3bf1f1,[0x2,0x2],[0x2,0x2],_0x5ee623(0x1b9)),_0x3bf1f1=depthwiseSeparableConv2(_0x3bf1f1,_0x27a15e[_0x5ee623(0x1e0)]),_0x3bf1f1=tf39[_0x5ee623(0x11f)](_0x3bf1f1,[0x2,0x2],[0x2,0x2],'same'),_0x3bf1f1=depthwiseSeparableConv2(_0x3bf1f1,_0x27a15e[_0x5ee623(0x2d1)]),_0x3bf1f1=tf39[_0x5ee623(0x11f)](_0x3bf1f1,[0x2,0x2],[0x2,0x2],_0x5ee623(0x1b9)),_0x3bf1f1=depthwiseSeparableConv2(_0x3bf1f1,_0x27a15e[_0x5ee623(0x296)]),_0x3bf1f1=tf39[_0x5ee623(0x11f)](_0x3bf1f1,[0x2,0x2],[0x1,0x1],_0x5ee623(0x1b9)),_0x3bf1f1=_0x27a15e[_0x5ee623(0x17e)]?depthwiseSeparableConv2(_0x3bf1f1,_0x27a15e[_0x5ee623(0x17e)]):_0x3bf1f1,_0x3bf1f1=_0x27a15e[_0x5ee623(0x25e)]?depthwiseSeparableConv2(_0x3bf1f1,_0x27a15e[_0x5ee623(0x25e)]):_0x3bf1f1,convLayer(_0x3bf1f1,_0x27a15e[_0x5ee623(0x1ef)],_0x5ee623(0x2bc),![]);}[_0x38f5ec(0x245)](_0x1f65af,_0x53e989){const _0x337d61=_0x38f5ec,{params:_0x12567e}=this;if(!_0x12567e)throw new Error(_0x337d61(0x325));return tf39['tidy'](()=>{const _0xad41bf=_0x337d61;let _0x40181b=tf39['cast'](_0x1f65af[_0xad41bf(0x234)](_0x53e989,![]),_0xad41bf(0xbc));return _0x40181b=this[_0xad41bf(0x110)][_0xad41bf(0x2e6)]?normalize(_0x40181b,this[_0xad41bf(0x110)][_0xad41bf(0x2e6)]):_0x40181b,_0x40181b=_0x40181b['div'](0xff),this['config'][_0xad41bf(0x197)]?this['runMobilenet'](_0x40181b,_0x12567e):this['runTinyYolov2'](_0x40181b,_0x12567e);});}async[_0x38f5ec(0xa1)](_0x550550,_0x2ad6d9){const _0x2699b1=_0x38f5ec;return this[_0x2699b1(0x245)](await toNetInput(_0x550550),_0x2ad6d9);}async[_0x38f5ec(0x1f7)](_0x1acf9b,_0x1a4fe0={}){const _0x2592e5=_0x38f5ec,{inputSize:_0x278bef,scoreThreshold:_0x52e050}=new TinyYolov2Options(_0x1a4fe0),_0x284964=await toNetInput(_0x1acf9b),_0x41239a=await this[_0x2592e5(0x245)](_0x284964,_0x278bef),_0x12f453=tf39[_0x2592e5(0x23d)](()=>tf39[_0x2592e5(0x322)](_0x41239a)[0x0][_0x2592e5(0xec)]()),_0x34a86d={'width':_0x284964[_0x2592e5(0x227)](0x0),'height':_0x284964[_0x2592e5(0xc1)](0x0)},_0x25fdff=await this[_0x2592e5(0x24c)](_0x12f453,_0x284964[_0x2592e5(0x2f3)](0x0),_0x52e050);_0x41239a['dispose'](),_0x12f453[_0x2592e5(0xea)]();const _0x102af8=_0x25fdff[_0x2592e5(0x26d)](_0xb516fb=>_0xb516fb['box']),_0xe2ca32=_0x25fdff[_0x2592e5(0x26d)](_0x3207c5=>_0x3207c5[_0x2592e5(0x30a)]),_0x59c6b5=_0x25fdff[_0x2592e5(0x26d)](_0x5e83de=>_0x5e83de[_0x2592e5(0x1aa)]),_0x5859a5=_0x25fdff[_0x2592e5(0x26d)](_0xfad421=>this[_0x2592e5(0x110)][_0x2592e5(0x144)][_0xfad421[_0x2592e5(0x1a2)]]),_0x1e9b7b=nonMaxSuppression(_0x102af8[_0x2592e5(0x26d)](_0x3a5457=>_0x3a5457[_0x2592e5(0x179)](_0x278bef)),_0xe2ca32,this[_0x2592e5(0x110)][_0x2592e5(0x236)],!![]),_0x106886=_0x1e9b7b[_0x2592e5(0x26d)](_0x3e10dc=>new ObjectDetection(_0xe2ca32[_0x3e10dc],_0x59c6b5[_0x3e10dc],_0x5859a5[_0x3e10dc],_0x102af8[_0x3e10dc],_0x34a86d));return _0x106886;}[_0x38f5ec(0x139)](){return'';}[_0x38f5ec(0x1eb)](_0x35a113){const _0x35b8a2=_0x38f5ec;return extractParamsFromWeightMap7(_0x35a113,this[_0x35b8a2(0x110)]);}[_0x38f5ec(0x16b)](_0x4357c2){const _0x1f0e77=_0x38f5ec,_0x4d1f61=this[_0x1f0e77(0x110)][_0x1f0e77(0x1de)]||_TinyYolov2Base['DEFAULT_FILTER_SIZES'],_0x6ff29b=_0x4d1f61?_0x4d1f61['length']:void 0x0;if(_0x6ff29b!==0x7&&_0x6ff29b!==0x8&&_0x6ff29b!==0x9)throw new Error(_0x1f0e77(0x30c)+_0x6ff29b+_0x1f0e77(0x173));return extractParams7(_0x4357c2,this[_0x1f0e77(0x110)],this[_0x1f0e77(0x216)],_0x4d1f61);}async[_0x38f5ec(0x24c)](_0x20d0cc,_0x3bb4e3,_0x193ec3){const _0x44eb1c=_0x38f5ec,{width:_0xacd712,height:_0x2cb2f6}=_0x3bb4e3,_0x47affe=Math[_0x44eb1c(0x262)](_0xacd712,_0x2cb2f6),_0x169b0f=_0x47affe/_0xacd712,_0x5a7ce6=_0x47affe/_0x2cb2f6,_0x2c5c83=_0x20d0cc[_0x44eb1c(0x2e3)][0x1],_0x1f638c=this[_0x44eb1c(0x110)]['anchors']['length'],[_0x557ea6,_0x41fabf,_0x3991b5]=tf39['tidy'](()=>{const _0x10d34b=_0x44eb1c,_0x37dc19=_0x20d0cc[_0x10d34b(0x117)]([_0x2c5c83,_0x2c5c83,_0x1f638c,this[_0x10d34b(0x216)]]),_0x528e3e=_0x37dc19[_0x10d34b(0x24e)]([0x0,0x0,0x0,0x0],[_0x2c5c83,_0x2c5c83,_0x1f638c,0x4]),_0x2242b9=_0x37dc19[_0x10d34b(0x24e)]([0x0,0x0,0x0,0x4],[_0x2c5c83,_0x2c5c83,_0x1f638c,0x1]),_0x36d48a=this[_0x10d34b(0x115)]?tf39[_0x10d34b(0xa5)](_0x37dc19[_0x10d34b(0x24e)]([0x0,0x0,0x0,0x5],[_0x2c5c83,_0x2c5c83,_0x1f638c,this['config'][_0x10d34b(0x144)][_0x10d34b(0x25d)]]),0x3):tf39[_0x10d34b(0x12b)](0x0);return[_0x528e3e,_0x2242b9,_0x36d48a];}),_0x31ad2f=[],_0x5f3bb6=await _0x41fabf[_0x44eb1c(0xd7)](),_0x45594f=await _0x557ea6['array']();for(let _0x4b7cca=0x0;_0x4b7cca<_0x2c5c83;_0x4b7cca++){for(let _0x5514c2=0x0;_0x5514c2<_0x2c5c83;_0x5514c2++){for(let _0x196752=0x0;_0x196752<_0x1f638c;_0x196752++){const _0x59c863=sigmoid(_0x5f3bb6[_0x4b7cca][_0x5514c2][_0x196752][0x0]);if(!_0x193ec3||_0x59c863>_0x193ec3){const _0xae096c=(_0x5514c2+sigmoid(_0x45594f[_0x4b7cca][_0x5514c2][_0x196752][0x0]))/_0x2c5c83*_0x169b0f,_0x54df6a=(_0x4b7cca+sigmoid(_0x45594f[_0x4b7cca][_0x5514c2][_0x196752][0x1]))/_0x2c5c83*_0x5a7ce6,_0x58a871=Math[_0x44eb1c(0x265)](_0x45594f[_0x4b7cca][_0x5514c2][_0x196752][0x2])*this[_0x44eb1c(0x110)][_0x44eb1c(0x27d)][_0x196752]['x']/_0x2c5c83*_0x169b0f,_0x3a4523=Math['exp'](_0x45594f[_0x4b7cca][_0x5514c2][_0x196752][0x3])*this[_0x44eb1c(0x110)]['anchors'][_0x196752]['y']/_0x2c5c83*_0x5a7ce6,_0x53c97f=_0xae096c-_0x58a871/0x2,_0x4d795f=_0x54df6a-_0x3a4523/0x2,_0x20c3b5={'row':_0x4b7cca,'col':_0x5514c2,'anchor':_0x196752},{classScore:_0x28284f,label:_0x45978a}=this[_0x44eb1c(0x115)]?await this['extractPredictedClass'](_0x3991b5,_0x20c3b5):{'classScore':0x1,'label':0x0};_0x31ad2f[_0x44eb1c(0x145)]({'box':new BoundingBox(_0x53c97f,_0x4d795f,_0x53c97f+_0x58a871,_0x4d795f+_0x3a4523),'score':_0x59c863,'classScore':_0x59c863*_0x28284f,'label':_0x45978a,..._0x20c3b5});}}}}return _0x557ea6['dispose'](),_0x41fabf[_0x44eb1c(0xea)](),_0x3991b5[_0x44eb1c(0xea)](),_0x31ad2f;}async[_0x38f5ec(0x254)](_0x51606d,_0x2491dc){const _0xb4f688=_0x38f5ec,{row:_0x10cfd2,col:_0x42c10d,anchor:_0x3d385b}=_0x2491dc,_0x49ad7b=await _0x51606d['array']();return Array(this['config'][_0xb4f688(0x144)][_0xb4f688(0x25d)])[_0xb4f688(0x1f5)](0x0)[_0xb4f688(0x26d)]((_0x3061fe,_0x1d3d11)=>_0x49ad7b[_0x10cfd2][_0x42c10d][_0x3d385b][_0x1d3d11])[_0xb4f688(0x26d)]((_0x3b3cb6,_0x3f523d)=>({'classScore':_0x3b3cb6,'label':_0x3f523d}))['reduce']((_0x4325af,_0x591d36)=>_0x4325af[_0xb4f688(0x1aa)]>_0x591d36[_0xb4f688(0x1aa)]?_0x4325af:_0x591d36);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base[_0x38f5ec(0xbe)]=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x3e3f26=!![]){const _0x1f45b2=_0x38f5ec,_0x21e747={'withSeparableConvs':_0x3e3f26,'iouThreshold':IOU_THRESHOLD,'classes':[_0x1f45b2(0x284)],..._0x3e3f26?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x21e747);}get['withSeparableConvs'](){const _0x5e1fdf=_0x38f5ec;return this[_0x5e1fdf(0x110)]['withSeparableConvs'];}get[_0x38f5ec(0x27d)](){return this['config']['anchors'];}async['locateFaces'](_0x37baba,_0x31ad5e){const _0x1a036b=_0x38f5ec,_0x4a9c4e=await this[_0x1a036b(0x1f7)](_0x37baba,_0x31ad5e);return _0x4a9c4e['map'](_0x2c0e41=>new FaceDetection(_0x2c0e41[_0x1a036b(0x30a)],_0x2c0e41[_0x1a036b(0x1df)],{'width':_0x2c0e41[_0x1a036b(0x109)],'height':_0x2c0e41['imageHeight']}));}[_0x38f5ec(0x139)](){const _0x12ea6d=_0x38f5ec;return this[_0x12ea6d(0x197)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x38f5ec(0x1eb)](_0xff9c27){const _0x5d8c80=_0x38f5ec;return super[_0x5d8c80(0x1eb)](_0xff9c27);}};function createTinyYolov2(_0x3d802b,_0x5c0e24=!![]){const _0x493288=_0x38f5ec,_0x4d368d=new TinyYolov2(_0x5c0e24);return _0x4d368d[_0x493288(0x2d4)](_0x3d802b),_0x4d368d;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){super(...arguments),this['_name']='TinyFaceDetectorOptions';}},ComposableTask=class{async[_0x38f5ec(0xa9)](_0x4ffdd3){const _0x43a801=_0x38f5ec;return _0x4ffdd3(await this[_0x43a801(0x280)]());}async[_0x38f5ec(0x280)](){const _0x12fe7b=_0x38f5ec;throw new Error(_0x12fe7b(0xc6));}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x133ddf,_0x202dbd,_0x115312,_0x11bab9,_0x332a80=({alignedRect:_0x137b4b})=>_0x137b4b){const _0x16baa7=_0x38f5ec,_0x217bef=_0x133ddf[_0x16baa7(0x26d)](_0x14c4c5=>isWithFaceLandmarks(_0x14c4c5)?_0x332a80(_0x14c4c5):_0x14c4c5['detection']),_0x4ab864=_0x11bab9||(_0x202dbd instanceof tf40[_0x16baa7(0x21d)]?await extractFaceTensors(_0x202dbd,_0x217bef):await extractFaces(_0x202dbd,_0x217bef)),_0x5789ae=await _0x115312(_0x4ab864);return _0x4ab864[_0x16baa7(0x13c)](_0x542924=>_0x542924 instanceof tf40[_0x16baa7(0x21d)]&&_0x542924[_0x16baa7(0xea)]()),_0x5789ae;}async function extractSingleFaceAndComputeResult(_0x273cbb,_0x1cbcf1,_0x6c9d79,_0x18c39f,_0x35033f){return extractAllFacesAndComputeResults([_0x273cbb],_0x1cbcf1,async _0x61db50=>_0x6c9d79(_0x61db50[0x0]),_0x18c39f,_0x35033f);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x5677e8={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':['face'],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x5677e8);}get[_0x38f5ec(0x27d)](){const _0x389dc2=_0x38f5ec;return this[_0x389dc2(0x110)][_0x389dc2(0x27d)];}async[_0x38f5ec(0x122)](_0x41c49f,_0x5b6787){const _0x283543=_0x38f5ec,_0x9580f2=await this[_0x283543(0x1f7)](_0x41c49f,_0x5b6787);return _0x9580f2['map'](_0x68978=>new FaceDetection(_0x68978[_0x283543(0x30a)],_0x68978[_0x283543(0x1df)],{'width':_0x68978[_0x283543(0x109)],'height':_0x68978[_0x283543(0x2e2)]}));}[_0x38f5ec(0x139)](){const _0xfe6823=_0x38f5ec;return _0xfe6823(0x2b4);}[_0x38f5ec(0x1eb)](_0xb6c0ec){const _0x10ec4e=_0x38f5ec;return super[_0x10ec4e(0x1eb)](_0xb6c0ec);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x118d5b,_0xb9610e)=>nets[_0x38f5ec(0x269)]['locateFaces'](_0x118d5b,_0xb9610e),tinyFaceDetector=(_0x3af8f0,_0x339af5)=>nets[_0x38f5ec(0x2f9)]['locateFaces'](_0x3af8f0,_0x339af5),tinyYolov2=(_0x32923d,_0x1822cc)=>nets[_0x38f5ec(0x244)][_0x38f5ec(0x122)](_0x32923d,_0x1822cc),detectFaceLandmarks=_0x24422a=>nets[_0x38f5ec(0x1f3)][_0x38f5ec(0x224)](_0x24422a),detectFaceLandmarksTiny=_0x5d72c2=>nets[_0x38f5ec(0x249)][_0x38f5ec(0x224)](_0x5d72c2),computeFaceDescriptor=_0x11ba01=>nets[_0x38f5ec(0x10e)][_0x38f5ec(0x106)](_0x11ba01),recognizeFaceExpressions=_0x69dbfa=>nets[_0x38f5ec(0xe0)][_0x38f5ec(0x1ba)](_0x69dbfa),predictAgeAndGender=_0x3c119a=>nets[_0x38f5ec(0x259)][_0x38f5ec(0x2e5)](_0x3c119a),loadSsdMobilenetv1Model=_0x2e566a=>nets[_0x38f5ec(0x269)][_0x38f5ec(0x124)](_0x2e566a),loadTinyFaceDetectorModel=_0x59fea5=>nets['tinyFaceDetector'][_0x38f5ec(0x124)](_0x59fea5),loadTinyYolov2Model=_0x18d91b=>nets['tinyYolov2']['load'](_0x18d91b),loadFaceLandmarkModel=_0x32b990=>nets[_0x38f5ec(0x1f3)][_0x38f5ec(0x124)](_0x32b990),loadFaceLandmarkTinyModel=_0x5c8a38=>nets[_0x38f5ec(0x249)]['load'](_0x5c8a38),loadFaceRecognitionModel=_0x20b8f1=>nets['faceRecognitionNet'][_0x38f5ec(0x124)](_0x20b8f1),loadFaceExpressionModel=_0x553cbc=>nets['faceExpressionNet']['load'](_0x553cbc),loadAgeGenderModel=_0x44d50a=>nets['ageGenderNet'][_0x38f5ec(0x124)](_0x44d50a),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x408d28,_0x3e12aa,_0x51836a){const _0x1a0f7d=_0x38f5ec;super(),this[_0x1a0f7d(0x2c4)]=_0x408d28,this[_0x1a0f7d(0xe9)]=_0x3e12aa,this[_0x1a0f7d(0x2da)]=_0x51836a;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async['run'](){const _0x2d8b52=_0x38f5ec,_0x311008=await this['parentTask'],_0x1fdcea=await extractAllFacesAndComputeResults(_0x311008,this['input'],async _0x2d751d=>Promise[_0x2d8b52(0x151)](_0x2d751d[_0x2d8b52(0x26d)](_0x4cf8f1=>nets[_0x2d8b52(0xe0)][_0x2d8b52(0x1ba)](_0x4cf8f1))),this[_0x2d8b52(0x2da)]);return _0x311008[_0x2d8b52(0x26d)]((_0x2c2c46,_0x562552)=>extendWithFaceExpressions(_0x2c2c46,_0x1fdcea[_0x562552]));}[_0x38f5ec(0x223)](){return new PredictAllAgeAndGenderTask(this,this['input']);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async['run'](){const _0x2253d1=_0x38f5ec,_0x1789ea=await this[_0x2253d1(0x2c4)];if(!_0x1789ea)return void 0x0;const _0x39e306=await extractSingleFaceAndComputeResult(_0x1789ea,this[_0x2253d1(0xe9)],_0x4a9b31=>nets['faceExpressionNet'][_0x2253d1(0x1ba)](_0x4a9b31),this[_0x2253d1(0x2da)]);return extendWithFaceExpressions(_0x1789ea,_0x39e306);}[_0x38f5ec(0x223)](){const _0x260c93=_0x38f5ec;return new PredictSingleAgeAndGenderTask(this,this[_0x260c93(0xe9)]);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{['withAgeAndGender'](){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this['input']);}[_0x38f5ec(0x24a)](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x38f5ec(0x223)](){const _0x40b88f=_0x38f5ec;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x40b88f(0xe9)]);}[_0x38f5ec(0xf3)](){const _0x51ae5d=_0x38f5ec;return new ComputeSingleFaceDescriptorTask(this,this[_0x51ae5d(0xe9)]);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0x5c5c49,_0x40096c,_0x28180e){const _0xbf6337=_0x38f5ec;super(),this[_0xbf6337(0x2c4)]=_0x5c5c49,this[_0xbf6337(0xe9)]=_0x40096c,this[_0xbf6337(0x2da)]=_0x28180e;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x38f5ec(0x280)](){const _0x1282a1=_0x38f5ec,_0x4f8e80=await this[_0x1282a1(0x2c4)],_0xe016e8=await extractAllFacesAndComputeResults(_0x4f8e80,this[_0x1282a1(0xe9)],async _0x57bd41=>Promise[_0x1282a1(0x151)](_0x57bd41[_0x1282a1(0x26d)](_0xe9dbfb=>nets[_0x1282a1(0x259)][_0x1282a1(0x2e5)](_0xe9dbfb))),this[_0x1282a1(0x2da)]);return _0x4f8e80[_0x1282a1(0x26d)]((_0x2f6c21,_0x514122)=>{const {age:_0x5e93c3,gender:_0x43022d,genderProbability:_0x20e582}=_0xe016e8[_0x514122];return extendWithAge(extendWithGender(_0x2f6c21,_0x43022d,_0x20e582),_0x5e93c3);});}['withFaceExpressions'](){const _0x10e027=_0x38f5ec;return new PredictAllFaceExpressionsTask(this,this[_0x10e027(0xe9)]);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x38f5ec(0x280)](){const _0x3097ec=_0x38f5ec,_0x563663=await this[_0x3097ec(0x2c4)];if(!_0x563663)return void 0x0;const {age:_0x50812e,gender:_0x14c164,genderProbability:_0x5c369d}=await extractSingleFaceAndComputeResult(_0x563663,this['input'],_0x108087=>nets[_0x3097ec(0x259)][_0x3097ec(0x2e5)](_0x108087),this[_0x3097ec(0x2da)]);return extendWithAge(extendWithGender(_0x563663,_0x14c164,_0x5c369d),_0x50812e);}[_0x38f5ec(0x2c9)](){const _0x503f11=_0x38f5ec;return new PredictSingleFaceExpressionsTask(this,this[_0x503f11(0xe9)]);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{[_0x38f5ec(0x2c9)](){const _0xa458d3=_0x38f5ec;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0xa458d3(0xe9)]);}['withFaceDescriptors'](){const _0x2c821d=_0x38f5ec;return new ComputeAllFaceDescriptorsTask(this,this[_0x2c821d(0xe9)]);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{[_0x38f5ec(0x2c9)](){const _0x1c4025=_0x38f5ec;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x1c4025(0xe9)]);}[_0x38f5ec(0xf3)](){const _0x45bf32=_0x38f5ec;return new ComputeSingleFaceDescriptorTask(this,this[_0x45bf32(0xe9)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0x5de953,_0x110d6c){const _0x3a34fa=_0x38f5ec;super(),this[_0x3a34fa(0x2c4)]=_0x5de953,this[_0x3a34fa(0xe9)]=_0x110d6c;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x38f5ec(0x280)](){const _0x2623b2=_0x38f5ec,_0x4be407=await this[_0x2623b2(0x2c4)],_0x477790=await extractAllFacesAndComputeResults(_0x4be407,this[_0x2623b2(0xe9)],_0x33ebac=>Promise[_0x2623b2(0x151)](_0x33ebac[_0x2623b2(0x26d)](_0x544c6a=>nets[_0x2623b2(0x10e)][_0x2623b2(0x106)](_0x544c6a))),null,_0x42ecbb=>_0x42ecbb[_0x2623b2(0x22d)]['align'](null,{'useDlibAlignment':!![]}));return _0x477790[_0x2623b2(0x26d)]((_0x5dea1c,_0x4d464a)=>extendWithFaceDescriptor(_0x4be407[_0x4d464a],_0x5dea1c));}[_0x38f5ec(0x2c9)](){const _0x1b0747=_0x38f5ec;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x1b0747(0xe9)]);}[_0x38f5ec(0x223)](){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this['input']);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async['run'](){const _0xb2ff16=_0x38f5ec,_0x2072f9=await this[_0xb2ff16(0x2c4)];if(!_0x2072f9)return void 0x0;const _0x53baef=await extractSingleFaceAndComputeResult(_0x2072f9,this['input'],_0x4c6813=>nets['faceRecognitionNet'][_0xb2ff16(0x106)](_0x4c6813),null,_0x427600=>_0x427600[_0xb2ff16(0x22d)]['align'](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x2072f9,_0x53baef);}[_0x38f5ec(0x2c9)](){const _0x1a239c=_0x38f5ec;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x1a239c(0xe9)]);}[_0x38f5ec(0x223)](){const _0x9736f7=_0x38f5ec;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x9736f7(0xe9)]);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0x1bece2,_0x46956a,_0x52b4f3){const _0x52466b=_0x38f5ec;super(),this['parentTask']=_0x1bece2,this['input']=_0x46956a,this[_0x52466b(0x11b)]=_0x52b4f3;}get[_0x38f5ec(0x1d8)](){const _0x3fbc8a=_0x38f5ec;return this[_0x3fbc8a(0x11b)]?nets[_0x3fbc8a(0x249)]:nets[_0x3fbc8a(0x1f3)];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async['run'](){const _0x51b18f=_0x38f5ec,_0x17879f=await this[_0x51b18f(0x2c4)],_0x3aff7f=_0x17879f['map'](_0x549c87=>_0x549c87[_0x51b18f(0x315)]),_0x23aed4=this[_0x51b18f(0xe9)]instanceof tf41[_0x51b18f(0x21d)]?await extractFaceTensors(this['input'],_0x3aff7f):await extractFaces(this[_0x51b18f(0xe9)],_0x3aff7f),_0x56b333=await Promise[_0x51b18f(0x151)](_0x23aed4[_0x51b18f(0x26d)](_0x1204b1=>this[_0x51b18f(0x1d8)][_0x51b18f(0x224)](_0x1204b1)));_0x23aed4[_0x51b18f(0x13c)](_0x4a2623=>_0x4a2623 instanceof tf41[_0x51b18f(0x21d)]&&_0x4a2623[_0x51b18f(0xea)]());const _0x14fc27=_0x17879f[_0x51b18f(0xfe)]((_0x4abd48,_0x3eca57)=>_0x56b333[_0x3eca57])[_0x51b18f(0x26d)]((_0x1d3d9d,_0x333977)=>extendWithFaceLandmarks(_0x1d3d9d,_0x56b333[_0x333977]));return _0x14fc27;}[_0x38f5ec(0x2c9)](){const _0x5be89e=_0x38f5ec;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x5be89e(0xe9)]);}[_0x38f5ec(0x223)](){return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this['input']);}[_0x38f5ec(0x24a)](){const _0xee1e4f=_0x38f5ec;return new ComputeAllFaceDescriptorsTask(this,this[_0xee1e4f(0xe9)]);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x38f5ec(0x280)](){const _0x1ecd97=_0x38f5ec,_0x10f7bd=await this[_0x1ecd97(0x2c4)];if(!_0x10f7bd)return void 0x0;const {detection:_0x90019b}=_0x10f7bd,_0x2107a1=this[_0x1ecd97(0xe9)]instanceof tf41[_0x1ecd97(0x21d)]?await extractFaceTensors(this[_0x1ecd97(0xe9)],[_0x90019b]):await extractFaces(this[_0x1ecd97(0xe9)],[_0x90019b]),_0x29c008=await this[_0x1ecd97(0x1d8)][_0x1ecd97(0x224)](_0x2107a1[0x0]);return _0x2107a1['forEach'](_0x45618d=>_0x45618d instanceof tf41[_0x1ecd97(0x21d)]&&_0x45618d[_0x1ecd97(0xea)]()),extendWithFaceLandmarks(_0x10f7bd,_0x29c008);}[_0x38f5ec(0x2c9)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}['withAgeAndGender'](){const _0x4ce9b9=_0x38f5ec;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x4ce9b9(0xe9)]);}[_0x38f5ec(0xf3)](){const _0x2700d5=_0x38f5ec;return new ComputeSingleFaceDescriptorTask(this,this[_0x2700d5(0xe9)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x40a5b4,_0x5af07b=new SsdMobilenetv1Options()){const _0x1c7b2a=_0x38f5ec;super(),this[_0x1c7b2a(0xe9)]=_0x40a5b4,this[_0x1c7b2a(0x2dc)]=_0x5af07b;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async[_0x38f5ec(0x280)](){const _0xefc3ad=_0x38f5ec,{input:_0x8aa489,options:_0x197223}=this;let _0x78075a;if(_0x197223 instanceof TinyFaceDetectorOptions)_0x78075a=nets['tinyFaceDetector'][_0xefc3ad(0x122)](_0x8aa489,_0x197223);else{if(_0x197223 instanceof SsdMobilenetv1Options)_0x78075a=nets[_0xefc3ad(0x269)][_0xefc3ad(0x122)](_0x8aa489,_0x197223);else{if(_0x197223 instanceof TinyYolov2Options)_0x78075a=nets['tinyYolov2'][_0xefc3ad(0x122)](_0x8aa489,_0x197223);else throw new Error('detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options');}}return _0x78075a;}['runAndExtendWithFaceDetections'](){return new Promise((_0x1fa384,_0x5eacfc)=>{const _0x5914ca=_0x3692;this[_0x5914ca(0x280)]()[_0x5914ca(0xa9)](_0x3e5bd9=>_0x1fa384(_0x3e5bd9[_0x5914ca(0x26d)](_0x20ac1f=>extendWithFaceDetection({},_0x20ac1f))))[_0x5914ca(0x11a)](_0x15c6dc=>_0x5eacfc(_0x15c6dc));});}[_0x38f5ec(0x2ea)](_0x5d6c5b=![]){const _0x1fb4d1=_0x38f5ec;return new DetectAllFaceLandmarksTask(this[_0x1fb4d1(0x2cf)](),this[_0x1fb4d1(0xe9)],_0x5d6c5b);}[_0x38f5ec(0x2c9)](){return new PredictAllFaceExpressionsTask(this['runAndExtendWithFaceDetections'](),this['input']);}[_0x38f5ec(0x223)](){const _0x9067f6=_0x38f5ec;return new PredictAllAgeAndGenderTask(this[_0x9067f6(0x2cf)](),this['input']);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x38f5ec(0x280)](){const _0x5bbe3d=_0x38f5ec,_0x7402b2=await new DetectAllFacesTask(this['input'],this[_0x5bbe3d(0x2dc)]);let _0x17b7b8=_0x7402b2[0x0];return _0x7402b2[_0x5bbe3d(0x13c)](_0x39dafb=>{if(_0x39dafb['score']>_0x17b7b8['score'])_0x17b7b8=_0x39dafb;}),_0x17b7b8;}[_0x38f5ec(0x313)](){return new Promise(async _0x506333=>{const _0x149454=_0x3692,_0x548407=await this[_0x149454(0x280)]();_0x506333(_0x548407?extendWithFaceDetection({},_0x548407):void 0x0);});}[_0x38f5ec(0x2ea)](_0x4057ed=![]){const _0x4a87f2=_0x38f5ec;return new DetectSingleFaceLandmarksTask(this[_0x4a87f2(0x313)](),this[_0x4a87f2(0xe9)],_0x4057ed);}[_0x38f5ec(0x2c9)](){const _0x135848=_0x38f5ec;return new PredictSingleFaceExpressionsTask(this['runAndExtendWithFaceDetection'](),this[_0x135848(0xe9)]);}[_0x38f5ec(0x223)](){const _0x45d7f0=_0x38f5ec;return new PredictSingleAgeAndGenderTask(this[_0x45d7f0(0x313)](),this[_0x45d7f0(0xe9)]);}};function detectSingleFace(_0x5aac26,_0x58d477=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x5aac26,_0x58d477);}function detectAllFaces(_0x3163cd,_0x7fb3c2=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x3163cd,_0x7fb3c2);}async function allFacesSsdMobilenetv1(_0x32d7fe,_0x41bf27){const _0x51090b=_0x38f5ec;return detectAllFaces(_0x32d7fe,new SsdMobilenetv1Options(_0x41bf27?{'minConfidence':_0x41bf27}:{}))['withFaceLandmarks']()[_0x51090b(0x24a)]();}async function allFacesTinyYolov2(_0x242218,_0x4cb2e5={}){const _0x2b2dfd=_0x38f5ec;return detectAllFaces(_0x242218,new TinyYolov2Options(_0x4cb2e5))['withFaceLandmarks']()[_0x2b2dfd(0x24a)]();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x1a7e42,_0x232188){const _0x5d08c1=_0x38f5ec;if(_0x1a7e42[_0x5d08c1(0x25d)]!==_0x232188[_0x5d08c1(0x25d)])throw new Error('euclideanDistance:\x20arr1.length\x20!==\x20arr2.length');const _0x26b6af=Array[_0x5d08c1(0x16e)](_0x1a7e42),_0x2eb13d=Array['from'](_0x232188);return Math['sqrt'](_0x26b6af[_0x5d08c1(0x26d)]((_0x26be08,_0x57ad4d)=>_0x26be08-_0x2eb13d[_0x57ad4d])[_0x5d08c1(0x229)]((_0x1556c1,_0x46e705)=>_0x1556c1+_0x46e705**0x2,0x0));}var FaceMatcher=class{constructor(_0x492fda,_0x4c1677=0.6){const _0x1b5306=_0x38f5ec;this[_0x1b5306(0x228)]=_0x4c1677;const _0x4807a1=Array[_0x1b5306(0x23e)](_0x492fda)?_0x492fda:[_0x492fda];if(!_0x4807a1[_0x1b5306(0x25d)])throw new Error(_0x1b5306(0x27a));let _0x9ae747=0x1;const _0x518695=()=>_0x1b5306(0x32b)+_0x9ae747++;this[_0x1b5306(0x257)]=_0x4807a1['map'](_0x2ec497=>{const _0x400220=_0x1b5306;if(_0x2ec497 instanceof LabeledFaceDescriptors)return _0x2ec497;if(_0x2ec497 instanceof Float32Array)return new LabeledFaceDescriptors(_0x518695(),[_0x2ec497]);if(_0x2ec497[_0x400220(0x23b)]&&_0x2ec497[_0x400220(0x23b)]instanceof Float32Array)return new LabeledFaceDescriptors(_0x518695(),[_0x2ec497[_0x400220(0x23b)]]);throw new Error('FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>');});}get[_0x38f5ec(0x142)](){const _0x21e5eb=_0x38f5ec;return this[_0x21e5eb(0x257)];}get[_0x38f5ec(0x1b4)](){return this['_distanceThreshold'];}['computeMeanDistance'](_0x21a698,_0x5b7d20){const _0x9ab18c=_0x38f5ec;return _0x5b7d20[_0x9ab18c(0x26d)](_0x5008f7=>euclideanDistance(_0x5008f7,_0x21a698))[_0x9ab18c(0x229)]((_0x5330a7,_0x236a14)=>_0x5330a7+_0x236a14,0x0)/(_0x5b7d20['length']||0x1);}[_0x38f5ec(0x20b)](_0x319356){const _0x29f0b6=_0x38f5ec;return this[_0x29f0b6(0x142)][_0x29f0b6(0x26d)](({descriptors:_0x5b0082,label:_0x5dd737})=>new FaceMatch(_0x5dd737,this['computeMeanDistance'](_0x319356,_0x5b0082)))[_0x29f0b6(0x229)]((_0x5d4b0e,_0x8880a8)=>_0x5d4b0e[_0x29f0b6(0x268)]<_0x8880a8[_0x29f0b6(0x268)]?_0x5d4b0e:_0x8880a8);}[_0x38f5ec(0xdb)](_0x1dae78){const _0x8868e2=_0x38f5ec,_0x564e47=this[_0x8868e2(0x20b)](_0x1dae78);return _0x564e47[_0x8868e2(0x268)]<this[_0x8868e2(0x228)]?_0x564e47:new FaceMatch(_0x8868e2(0x160),_0x564e47[_0x8868e2(0x268)]);}[_0x38f5ec(0x120)](){const _0x3028bf=_0x38f5ec;return{'distanceThreshold':this[_0x3028bf(0x228)],'labeledDescriptors':this[_0x3028bf(0x257)][_0x3028bf(0x26d)](_0x585930=>_0x585930[_0x3028bf(0x120)]())};}static[_0x38f5ec(0x2d8)](_0xf78441){const _0x4a760f=_0x38f5ec,_0x54c141=_0xf78441[_0x4a760f(0x142)][_0x4a760f(0x26d)](_0x196eec=>LabeledFaceDescriptors['fromJSON'](_0x196eec));return new FaceMatcher(_0x54c141,_0xf78441[_0x4a760f(0x1b4)]);}};function createTinyFaceDetector(_0x41704b){const _0x3a2521=_0x38f5ec,_0x5e3276=new TinyFaceDetector();return _0x5e3276[_0x3a2521(0x2d4)](_0x41704b),_0x5e3276;}function resizeResults(_0xb1d51b,_0x27a458){const _0x1065f2=_0x38f5ec,{width:_0x2ef40a,height:_0x15b389}=new Dimensions(_0x27a458[_0x1065f2(0x100)],_0x27a458[_0x1065f2(0xe7)]);if(_0x2ef40a<=0x0||_0x15b389<=0x0)throw new Error(_0x1065f2(0x202)+JSON[_0x1065f2(0x2f5)]({'width':_0x2ef40a,'height':_0x15b389}));if(Array['isArray'](_0xb1d51b))return _0xb1d51b[_0x1065f2(0x26d)](_0x39d983=>resizeResults(_0x39d983,{'width':_0x2ef40a,'height':_0x15b389}));if(isWithFaceLandmarks(_0xb1d51b)){const _0x5b4c19=_0xb1d51b['detection'][_0x1065f2(0x1dc)](_0x2ef40a,_0x15b389),_0x427d9f=_0xb1d51b[_0x1065f2(0x2de)][_0x1065f2(0x1dc)](_0x5b4c19['box'][_0x1065f2(0x100)],_0x5b4c19['box'][_0x1065f2(0xe7)]);return extendWithFaceLandmarks(extendWithFaceDetection(_0xb1d51b,_0x5b4c19),_0x427d9f);}if(isWithFaceDetection(_0xb1d51b))return extendWithFaceDetection(_0xb1d51b,_0xb1d51b['detection'][_0x1065f2(0x1dc)](_0x2ef40a,_0x15b389));if(_0xb1d51b instanceof FaceLandmarks||_0xb1d51b instanceof FaceDetection)return _0xb1d51b[_0x1065f2(0x1dc)](_0x2ef40a,_0x15b389);return _0xb1d51b;}var version2=version;0x0&&(module[_0x38f5ec(0x31b)]={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});