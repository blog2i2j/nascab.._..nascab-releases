'use strict';const _0x3556c3=_0x29bb;(function(_0x5185ca,_0x240c61){const _0x4a64ac=_0x29bb,_0x1bc68f=_0x5185ca();while(!![]){try{const _0x229723=-parseInt(_0x4a64ac(0xf2))/0x1*(parseInt(_0x4a64ac(0x2d4))/0x2)+-parseInt(_0x4a64ac(0x1ea))/0x3+-parseInt(_0x4a64ac(0x29f))/0x4+-parseInt(_0x4a64ac(0x1b9))/0x5*(parseInt(_0x4a64ac(0x280))/0x6)+parseInt(_0x4a64ac(0x1e2))/0x7+parseInt(_0x4a64ac(0x26a))/0x8+parseInt(_0x4a64ac(0xf9))/0x9;if(_0x229723===_0x240c61)break;else _0x1bc68f['push'](_0x1bc68f['shift']());}catch(_0x1da6f3){_0x1bc68f['push'](_0x1bc68f['shift']());}}}(_0x441a,0x87a08));var __create=Object[_0x3556c3(0x2df)],__defProp=Object['defineProperty'],__getOwnPropDesc=Object[_0x3556c3(0x13c)],__getOwnPropNames=Object[_0x3556c3(0x26d)],__getProtoOf=Object[_0x3556c3(0x198)],__hasOwnProp=Object[_0x3556c3(0x1ed)][_0x3556c3(0x282)],__commonJS=(_0x657542,_0x318e48)=>function _0x5777e4(){const _0x5c40e7=_0x3556c3;return _0x318e48||(0x0,_0x657542[__getOwnPropNames(_0x657542)[0x0]])((_0x318e48={'exports':{}})['exports'],_0x318e48),_0x318e48[_0x5c40e7(0x1e5)];},__export=(_0x2a07e0,_0x5e4103)=>{for(var _0xef55e7 in _0x5e4103)__defProp(_0x2a07e0,_0xef55e7,{'get':_0x5e4103[_0xef55e7],'enumerable':!![]});},__copyProps=(_0x16fcd8,_0xd7d77b,_0x3b7702,_0x469662)=>{const _0x1f1e9c=_0x3556c3;if(_0xd7d77b&&typeof _0xd7d77b==='object'||typeof _0xd7d77b===_0x1f1e9c(0x330)){for(let _0x2f764c of __getOwnPropNames(_0xd7d77b))if(!__hasOwnProp[_0x1f1e9c(0x1e4)](_0x16fcd8,_0x2f764c)&&_0x2f764c!==_0x3b7702)__defProp(_0x16fcd8,_0x2f764c,{'get':()=>_0xd7d77b[_0x2f764c],'enumerable':!(_0x469662=__getOwnPropDesc(_0xd7d77b,_0x2f764c))||_0x469662[_0x1f1e9c(0x314)]});}return _0x16fcd8;},__toESM=(_0xa019a2,_0x5c1bf6,_0x1203e6)=>(_0x1203e6=_0xa019a2!=null?__create(__getProtoOf(_0xa019a2)):{},__copyProps(_0x5c1bf6||!_0xa019a2||!_0xa019a2['__esModule']?__defProp(_0x1203e6,'default',{'value':_0xa019a2,'enumerable':!![]}):_0x1203e6,_0xa019a2)),__toCommonJS=_0x63a2da=>__copyProps(__defProp({},_0x3556c3(0x1c6),{'value':!![]}),_0x63a2da),require_tfjs_esm=__commonJS({'dist/tfjs.esm.js'(_0x19d80a,_0x5f351a){'use strict';const _0x73700b=_0x3556c3;var _0x163923=Object[_0x73700b(0x301)],_0x110d7d=Object[_0x73700b(0x13c)],_0x37be7d=Object[_0x73700b(0x26d)],_0x564901=Object[_0x73700b(0x1ed)][_0x73700b(0x282)],_0x9d2dcc=(_0x367500,_0x169ead,_0x2eac7e,_0x356da3)=>{const _0x863d76=_0x73700b;if(_0x169ead&&typeof _0x169ead==='object'||typeof _0x169ead===_0x863d76(0x330)){for(let _0x390171 of _0x37be7d(_0x169ead))if(!_0x564901[_0x863d76(0x1e4)](_0x367500,_0x390171)&&_0x390171!==_0x2eac7e)_0x163923(_0x367500,_0x390171,{'get':()=>_0x169ead[_0x390171],'enumerable':!(_0x356da3=_0x110d7d(_0x169ead,_0x390171))||_0x356da3['enumerable']});}return _0x367500;},_0x22de15=(_0x5e196a,_0x39e3e7,_0x5125f4)=>(_0x9d2dcc(_0x5e196a,_0x39e3e7,'default'),_0x5125f4&&_0x9d2dcc(_0x5125f4,_0x39e3e7,'default')),_0x44b304=_0x2f8519=>_0x9d2dcc(_0x163923({},_0x73700b(0x1c6),{'value':!![]}),_0x2f8519),_0x483e9d={};_0x5f351a['exports']=_0x44b304(_0x483e9d),_0x22de15(_0x483e9d,require('@tensorflow/tfjs-node'),_0x5f351a[_0x73700b(0x1e5)]);}}),src_exports={};__export(src_exports,{'AgeGenderNet':()=>AgeGenderNet,'BoundingBox':()=>BoundingBox,'Box':()=>Box,'ComposableTask':()=>ComposableTask,'ComputeAllFaceDescriptorsTask':()=>ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':()=>ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':()=>ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':()=>DetectAllFaceLandmarksTask,'DetectAllFacesTask':()=>DetectAllFacesTask,'DetectFaceLandmarksTaskBase':()=>DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':()=>DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':()=>DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':()=>DetectSingleFaceTask,'Dimensions':()=>Dimensions,'FACE_EXPRESSION_LABELS':()=>FACE_EXPRESSION_LABELS,'FaceDetection':()=>FaceDetection,'FaceDetectionNet':()=>FaceDetectionNet,'FaceExpressionNet':()=>FaceExpressionNet,'FaceExpressions':()=>FaceExpressions,'FaceLandmark68Net':()=>FaceLandmark68Net,'FaceLandmark68TinyNet':()=>FaceLandmark68TinyNet,'FaceLandmarkNet':()=>FaceLandmarkNet,'FaceLandmarks':()=>FaceLandmarks,'FaceLandmarks5':()=>FaceLandmarks5,'FaceLandmarks68':()=>FaceLandmarks68,'FaceMatch':()=>FaceMatch,'FaceMatcher':()=>FaceMatcher,'FaceRecognitionNet':()=>FaceRecognitionNet,'Gender':()=>Gender,'LabeledBox':()=>LabeledBox,'LabeledFaceDescriptors':()=>LabeledFaceDescriptors,'NetInput':()=>NetInput,'NeuralNetwork':()=>NeuralNetwork,'ObjectDetection':()=>ObjectDetection,'Point':()=>Point,'PredictedBox':()=>PredictedBox,'Rect':()=>Rect,'SsdMobilenetv1':()=>SsdMobilenetv1,'SsdMobilenetv1Options':()=>SsdMobilenetv1Options,'TinyFaceDetector':()=>TinyFaceDetector,'TinyFaceDetectorOptions':()=>TinyFaceDetectorOptions,'TinyYolov2':()=>TinyYolov2,'TinyYolov2Options':()=>TinyYolov2Options,'allFaces':()=>allFaces,'allFacesSsdMobilenetv1':()=>allFacesSsdMobilenetv1,'allFacesTinyYolov2':()=>allFacesTinyYolov2,'awaitMediaLoaded':()=>awaitMediaLoaded,'bufferToImage':()=>bufferToImage,'computeFaceDescriptor':()=>computeFaceDescriptor,'createCanvas':()=>createCanvas,'createCanvasFromMedia':()=>createCanvasFromMedia,'createFaceDetectionNet':()=>createFaceDetectionNet,'createFaceRecognitionNet':()=>createFaceRecognitionNet,'createSsdMobilenetv1':()=>createSsdMobilenetv1,'createTinyFaceDetector':()=>createTinyFaceDetector,'createTinyYolov2':()=>createTinyYolov2,'detectAllFaces':()=>detectAllFaces,'detectFaceLandmarks':()=>detectFaceLandmarks,'detectFaceLandmarksTiny':()=>detectFaceLandmarksTiny,'detectLandmarks':()=>detectLandmarks,'detectSingleFace':()=>detectSingleFace,'draw':()=>draw_exports,'env':()=>env,'euclideanDistance':()=>euclideanDistance,'extendWithAge':()=>extendWithAge,'extendWithFaceDescriptor':()=>extendWithFaceDescriptor,'extendWithFaceDetection':()=>extendWithFaceDetection,'extendWithFaceExpressions':()=>extendWithFaceExpressions,'extendWithFaceLandmarks':()=>extendWithFaceLandmarks,'extendWithGender':()=>extendWithGender,'extractFaceTensors':()=>extractFaceTensors,'extractFaces':()=>extractFaces,'fetchImage':()=>fetchImage,'fetchJson':()=>fetchJson,'fetchNetWeights':()=>fetchNetWeights,'fetchOrThrow':()=>fetchOrThrow,'fetchVideo':()=>fetchVideo,'getContext2dOrThrow':()=>getContext2dOrThrow,'getMediaDimensions':()=>getMediaDimensions,'imageTensorToCanvas':()=>imageTensorToCanvas,'imageToSquare':()=>imageToSquare,'inverseSigmoid':()=>inverseSigmoid,'iou':()=>iou,'isMediaElement':()=>isMediaElement,'isMediaLoaded':()=>isMediaLoaded,'isWithAge':()=>isWithAge,'isWithFaceDetection':()=>isWithFaceDetection,'isWithFaceExpressions':()=>isWithFaceExpressions,'isWithFaceLandmarks':()=>isWithFaceLandmarks,'isWithGender':()=>isWithGender,'loadAgeGenderModel':()=>loadAgeGenderModel,'loadFaceDetectionModel':()=>loadFaceDetectionModel,'loadFaceExpressionModel':()=>loadFaceExpressionModel,'loadFaceLandmarkModel':()=>loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':()=>loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':()=>loadFaceRecognitionModel,'loadSsdMobilenetv1Model':()=>loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':()=>loadTinyFaceDetectorModel,'loadTinyYolov2Model':()=>loadTinyYolov2Model,'loadWeightMap':()=>loadWeightMap,'locateFaces':()=>locateFaces,'matchDimensions':()=>matchDimensions,'minBbox':()=>minBbox,'nets':()=>nets,'nonMaxSuppression':()=>nonMaxSuppression,'normalize':()=>normalize,'padToSquare':()=>padToSquare,'predictAgeAndGender':()=>predictAgeAndGender,'recognizeFaceExpressions':()=>recognizeFaceExpressions,'resizeResults':()=>resizeResults,'resolveInput':()=>resolveInput,'shuffleArray':()=>shuffleArray,'sigmoid':()=>sigmoid,'ssdMobilenetv1':()=>ssdMobilenetv1,'tf':()=>tf42,'tinyFaceDetector':()=>tinyFaceDetector,'tinyYolov2':()=>tinyYolov2,'toNetInput':()=>toNetInput,'utils':()=>utils_exports,'validateConfig':()=>validateConfig,'version':()=>version2}),module[_0x3556c3(0x1e5)]=__toCommonJS(src_exports);var tf42=__toESM(require_tfjs_esm()),draw_exports={};__export(draw_exports,{'AnchorPosition':()=>AnchorPosition,'DrawBox':()=>DrawBox,'DrawBoxOptions':()=>DrawBoxOptions,'DrawFaceLandmarks':()=>DrawFaceLandmarks,'DrawFaceLandmarksOptions':()=>DrawFaceLandmarksOptions,'DrawTextField':()=>DrawTextField,'DrawTextFieldOptions':()=>DrawTextFieldOptions,'drawContour':()=>drawContour,'drawDetections':()=>drawDetections,'drawFaceExpressions':()=>drawFaceExpressions,'drawFaceLandmarks':()=>drawFaceLandmarks});function drawContour(_0x26adca,_0x2d79e1,_0x5826f4=![]){const _0x34f982=_0x3556c3;_0x26adca[_0x34f982(0x149)](),_0x2d79e1['slice'](0x1)[_0x34f982(0xe0)](({x:_0x2294a3,y:_0x21b0bc},_0x5bdb56)=>{const _0x28a59b=_0x34f982,_0x391b90=_0x2d79e1[_0x5bdb56];_0x26adca[_0x28a59b(0x1b3)](_0x391b90['x'],_0x391b90['y']),_0x26adca['lineTo'](_0x2294a3,_0x21b0bc);});if(_0x5826f4){const _0x171899=_0x2d79e1[_0x2d79e1['length']-0x1],_0x3e02e5=_0x2d79e1[0x0];if(!_0x171899||!_0x3e02e5)return;_0x26adca[_0x34f982(0x1b3)](_0x171899['x'],_0x171899['y']),_0x26adca['lineTo'](_0x3e02e5['x'],_0x3e02e5['y']);}_0x26adca[_0x34f982(0x253)]();}var utils_exports={};__export(utils_exports,{'computeReshapedDimensions':()=>computeReshapedDimensions,'getCenterPoint':()=>getCenterPoint,'isDimensions':()=>isDimensions,'isEven':()=>isEven,'isFloat':()=>isFloat,'isTensor':()=>isTensor,'isTensor1D':()=>isTensor1D,'isTensor2D':()=>isTensor2D,'isTensor3D':()=>isTensor3D,'isTensor4D':()=>isTensor4D,'isValidNumber':()=>isValidNumber,'isValidProbablitiy':()=>isValidProbablitiy,'range':()=>range,'round':()=>round});var tf=__toESM(require_tfjs_esm()),Dimensions=class{constructor(_0x517e8e,_0x13f7ad){const _0xb6c7fc=_0x3556c3;if(!isValidNumber(_0x517e8e)||!isValidNumber(_0x13f7ad))throw new Error(_0xb6c7fc(0x221)+JSON['stringify']({'width':_0x517e8e,'height':_0x13f7ad}));this[_0xb6c7fc(0x28d)]=_0x517e8e,this[_0xb6c7fc(0x1bb)]=_0x13f7ad;}get[_0x3556c3(0x350)](){const _0x2bf24b=_0x3556c3;return this[_0x2bf24b(0x28d)];}get[_0x3556c3(0xf6)](){const _0x582958=_0x3556c3;return this[_0x582958(0x1bb)];}[_0x3556c3(0x2ec)](){const _0x27ea48=_0x3556c3;return new Dimensions(0x1/this['width'],0x1/this[_0x27ea48(0xf6)]);}};function isTensor(_0x278bcc,_0x28288e){const _0x1f1e01=_0x3556c3;return _0x278bcc instanceof tf[_0x1f1e01(0x332)]&&_0x278bcc[_0x1f1e01(0x166)][_0x1f1e01(0x14a)]===_0x28288e;}function isTensor1D(_0x1ae91c){return isTensor(_0x1ae91c,0x1);}function isTensor2D(_0x307b2d){return isTensor(_0x307b2d,0x2);}function isTensor3D(_0x196f46){return isTensor(_0x196f46,0x3);}function isTensor4D(_0x486da1){return isTensor(_0x486da1,0x4);}function isFloat(_0xc6d993){return _0xc6d993%0x1!==0x0;}function isEven(_0x103026){return _0x103026%0x2===0x0;}function round(_0x2995f5,_0x2ab55c=0x2){const _0x48268d=0xa**_0x2ab55c;return Math['floor'](_0x2995f5*_0x48268d)/_0x48268d;}function isDimensions(_0x56d2ea){const _0x1914c8=_0x3556c3;return _0x56d2ea&&_0x56d2ea['width']&&_0x56d2ea[_0x1914c8(0xf6)];}function computeReshapedDimensions({width:_0x148f57,height:_0x39ac21},_0x59b76a){const _0x44bb97=_0x3556c3,_0x15ffc3=_0x59b76a/Math[_0x44bb97(0x2f4)](_0x39ac21,_0x148f57);return new Dimensions(Math['round'](_0x148f57*_0x15ffc3),Math[_0x44bb97(0x346)](_0x39ac21*_0x15ffc3));}function getCenterPoint(_0x12c22b){const _0x6da82d=_0x3556c3;return _0x12c22b[_0x6da82d(0x16f)]((_0x2054d7,_0x195d6)=>_0x2054d7['add'](_0x195d6),new Point(0x0,0x0))[_0x6da82d(0x17e)](new Point(_0x12c22b[_0x6da82d(0x14a)],_0x12c22b[_0x6da82d(0x14a)]));}function range(_0x576917,_0x56db5c,_0x1229eb){return Array(_0x576917)['fill'](0x0)['map']((_0x3a20a0,_0x4da838)=>_0x56db5c+_0x4da838*_0x1229eb);}function isValidNumber(_0x30c18f){const _0x524f50=_0x3556c3;return!!_0x30c18f&&_0x30c18f!==Infinity&&_0x30c18f!==-Infinity&&!Number[_0x524f50(0x1d2)](_0x30c18f)||_0x30c18f===0x0;}function isValidProbablitiy(_0x3d0a){return isValidNumber(_0x3d0a)&&_0x3d0a>=0x0&&_0x3d0a<=0x1;}var Point=class{constructor(_0x5d5a06,_0x4beaeb){this['_x']=_0x5d5a06,this['_y']=_0x4beaeb;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}[_0x3556c3(0x15a)](_0x43ac40){return new Point(this['x']+_0x43ac40['x'],this['y']+_0x43ac40['y']);}[_0x3556c3(0x18e)](_0x4a45d5){return new Point(this['x']-_0x4a45d5['x'],this['y']-_0x4a45d5['y']);}[_0x3556c3(0x27b)](_0xf83e8b){return new Point(this['x']*_0xf83e8b['x'],this['y']*_0xf83e8b['y']);}[_0x3556c3(0x17e)](_0xab1544){return new Point(this['x']/_0xab1544['x'],this['y']/_0xab1544['y']);}[_0x3556c3(0x1ec)](){const _0x12b5f9=_0x3556c3;return new Point(Math[_0x12b5f9(0x1ec)](this['x']),Math[_0x12b5f9(0x1ec)](this['y']));}[_0x3556c3(0x163)](){const _0x49bd43=_0x3556c3;return Math[_0x49bd43(0x2f3)](this['x']**0x2+this['y']**0x2);}[_0x3556c3(0x24c)](){const _0x249698=_0x3556c3;return new Point(Math['floor'](this['x']),Math[_0x249698(0x24c)](this['y']));}},Box=class{static[_0x3556c3(0x202)](_0x150670){const _0x816b27=_0x3556c3;return!!_0x150670&&[_0x150670['x'],_0x150670['y'],_0x150670[_0x816b27(0x350)],_0x150670[_0x816b27(0xf6)]][_0x816b27(0x1a8)](isValidNumber);}static['assertIsValidBox'](_0x88991f,_0x537464,_0x20e3de=![]){const _0x297764=_0x3556c3;if(!Box['isRect'](_0x88991f))throw new Error(_0x537464+_0x297764(0x255)+JSON['stringify'](_0x88991f)+_0x297764(0x309));if(!_0x20e3de&&(_0x88991f[_0x297764(0x350)]<0x0||_0x88991f[_0x297764(0xf6)]<0x0))throw new Error(_0x537464+_0x297764(0x1a1)+_0x88991f['width']+_0x297764(0x241)+_0x88991f['height']+_0x297764(0xf5));}constructor(_0x41c67a,_0x34cd43=!![]){const _0x4806ae=_0x3556c3,_0x50bb46=_0x41c67a||{},_0x42fae3=[_0x50bb46[_0x4806ae(0x206)],_0x50bb46[_0x4806ae(0x261)],_0x50bb46[_0x4806ae(0x295)],_0x50bb46[_0x4806ae(0x2f0)]]['every'](isValidNumber),_0xa8f68=[_0x50bb46['x'],_0x50bb46['y'],_0x50bb46[_0x4806ae(0x350)],_0x50bb46[_0x4806ae(0xf6)]][_0x4806ae(0x1a8)](isValidNumber);if(!_0xa8f68&&!_0x42fae3)throw new Error('Box.constructor\x20-\x20expected\x20box\x20to\x20be\x20IBoundingBox\x20|\x20IRect,\x20instead\x20have\x20'+JSON[_0x4806ae(0x2dc)](_0x50bb46));const [_0x3ce14c,_0x15258e,_0x2b1304,_0x48086c]=_0xa8f68?[_0x50bb46['x'],_0x50bb46['y'],_0x50bb46[_0x4806ae(0x350)],_0x50bb46[_0x4806ae(0xf6)]]:[_0x50bb46[_0x4806ae(0x206)],_0x50bb46[_0x4806ae(0x261)],_0x50bb46['right']-_0x50bb46[_0x4806ae(0x206)],_0x50bb46[_0x4806ae(0x2f0)]-_0x50bb46[_0x4806ae(0x261)]];Box[_0x4806ae(0x298)]({'x':_0x3ce14c,'y':_0x15258e,'width':_0x2b1304,'height':_0x48086c},_0x4806ae(0x284),_0x34cd43),this['_x']=_0x3ce14c,this['_y']=_0x15258e,this['_width']=_0x2b1304,this[_0x4806ae(0x1bb)]=_0x48086c;}get['x'](){return this['_x'];}get['y'](){return this['_y'];}get[_0x3556c3(0x350)](){const _0xfdf73d=_0x3556c3;return this[_0xfdf73d(0x28d)];}get[_0x3556c3(0xf6)](){return this['_height'];}get[_0x3556c3(0x206)](){return this['x'];}get[_0x3556c3(0x261)](){return this['y'];}get['right'](){const _0x1f48ae=_0x3556c3;return this['x']+this[_0x1f48ae(0x350)];}get[_0x3556c3(0x2f0)](){return this['y']+this['height'];}get[_0x3556c3(0x238)](){const _0x451535=_0x3556c3;return this[_0x451535(0x350)]*this[_0x451535(0xf6)];}get[_0x3556c3(0x179)](){const _0x40e029=_0x3556c3;return new Point(this[_0x40e029(0x206)],this[_0x40e029(0x261)]);}get[_0x3556c3(0x147)](){const _0x51ff97=_0x3556c3;return new Point(this[_0x51ff97(0x295)],this[_0x51ff97(0x261)]);}get[_0x3556c3(0x1a4)](){const _0x5849e9=_0x3556c3;return new Point(this[_0x5849e9(0x206)],this[_0x5849e9(0x2f0)]);}get['bottomRight'](){return new Point(this['right'],this['bottom']);}[_0x3556c3(0x346)](){const _0x1f4b48=_0x3556c3,[_0x2fbb5b,_0x234139,_0x53e483,_0x2fb10b]=[this['x'],this['y'],this[_0x1f4b48(0x350)],this[_0x1f4b48(0xf6)]][_0x1f4b48(0x2b0)](_0x4f577d=>Math[_0x1f4b48(0x346)](_0x4f577d));return new Box({'x':_0x2fbb5b,'y':_0x234139,'width':_0x53e483,'height':_0x2fb10b});}[_0x3556c3(0x24c)](){const _0x5974e9=_0x3556c3,[_0x4cd26d,_0x522237,_0x10e6c6,_0x69fde4]=[this['x'],this['y'],this[_0x5974e9(0x350)],this[_0x5974e9(0xf6)]][_0x5974e9(0x2b0)](_0x1318e0=>Math['floor'](_0x1318e0));return new Box({'x':_0x4cd26d,'y':_0x522237,'width':_0x10e6c6,'height':_0x69fde4});}[_0x3556c3(0x205)](){const _0x4c45dd=_0x3556c3;let {x:_0x38d6a6,y:_0x154a20,width:_0x523050,height:_0x33be24}=this;const _0x130e69=Math[_0x4c45dd(0x1ec)](_0x523050-_0x33be24);return _0x523050<_0x33be24&&(_0x38d6a6-=_0x130e69/0x2,_0x523050+=_0x130e69),_0x33be24<_0x523050&&(_0x154a20-=_0x130e69/0x2,_0x33be24+=_0x130e69),new Box({'x':_0x38d6a6,'y':_0x154a20,'width':_0x523050,'height':_0x33be24});}[_0x3556c3(0xd9)](_0x58153a){const _0x14c519=_0x3556c3,_0x2f753c=isDimensions(_0x58153a)?_0x58153a[_0x14c519(0x350)]:_0x58153a,_0x60403a=isDimensions(_0x58153a)?_0x58153a[_0x14c519(0xf6)]:_0x58153a;return new Box({'x':this['x']*_0x2f753c,'y':this['y']*_0x60403a,'width':this[_0x14c519(0x350)]*_0x2f753c,'height':this['height']*_0x60403a});}[_0x3556c3(0x161)](_0x527871,_0x2adcd8){const _0x36b830=_0x3556c3,[_0x442e92,_0x4238f4,_0x44100d,_0x5f2362]=[this['x']-_0x527871/0x2,this['y']-_0x2adcd8/0x2,this[_0x36b830(0x350)]+_0x527871,this['height']+_0x2adcd8];return new Box({'x':_0x442e92,'y':_0x4238f4,'width':_0x44100d,'height':_0x5f2362});}[_0x3556c3(0x129)](_0x359bf8,_0xd97c1d){const _0x5f21ce=_0x3556c3,{x:_0x79f72d,y:_0x29f39f,right:_0x3a3d29,bottom:_0x2d424d}=this,_0xcae04b=Math[_0x5f21ce(0x2f4)](_0x79f72d,0x0),_0x31a623=Math[_0x5f21ce(0x2f4)](_0x29f39f,0x0),_0x43cb63=_0x3a3d29-_0xcae04b,_0x42ae1e=_0x2d424d-_0x31a623,_0x1d8ba4=Math['min'](_0x43cb63,_0x359bf8-_0xcae04b),_0x5a3196=Math[_0x5f21ce(0x30e)](_0x42ae1e,_0xd97c1d-_0x31a623);return new Box({'x':_0xcae04b,'y':_0x31a623,'width':_0x1d8ba4,'height':_0x5a3196})[_0x5f21ce(0x24c)]();}[_0x3556c3(0x169)](_0x13847c,_0x3ca8d8){const {width:_0x5b0762,height:_0xe90a6d}=this,_0xc36a7a=this['x']+_0x13847c,_0x1292db=this['y']+_0x3ca8d8;return new Box({'x':_0xc36a7a,'y':_0x1292db,'width':_0x5b0762,'height':_0xe90a6d});}[_0x3556c3(0xe5)](_0x5d3e69,_0x517c3d){const _0x2721a5=_0x3556c3,_0x5501a6=this[_0x2721a5(0x350)]+0x1,_0x39d3ac=this['height']+0x1,_0x58803b=0x1,_0x2b1c1f=0x1;let _0x427473=_0x5501a6,_0x43ea8c=_0x39d3ac,_0x146bcf=this['left'],_0xcf8007=this[_0x2721a5(0x261)],_0x2c26d2=this[_0x2721a5(0x295)],_0x31e595=this['bottom'];return _0x2c26d2>_0x517c3d&&(_0x427473=-_0x2c26d2+_0x517c3d+_0x5501a6,_0x2c26d2=_0x517c3d),_0x31e595>_0x5d3e69&&(_0x43ea8c=-_0x31e595+_0x5d3e69+_0x39d3ac,_0x31e595=_0x5d3e69),_0x146bcf<0x1&&(_0x43ea8c=0x2-_0x146bcf,_0x146bcf=0x1),_0xcf8007<0x1&&(_0x43ea8c=0x2-_0xcf8007,_0xcf8007=0x1),{'dy':_0x2b1c1f,'edy':_0x43ea8c,'dx':_0x58803b,'edx':_0x427473,'y':_0xcf8007,'ey':_0x31e595,'x':_0x146bcf,'ex':_0x2c26d2,'w':_0x5501a6,'h':_0x39d3ac};}[_0x3556c3(0x2cb)](_0x558bcf){const _0xdb6749=_0x3556c3;return new Box({'left':this[_0xdb6749(0x206)]+_0x558bcf[_0xdb6749(0x206)]*this[_0xdb6749(0x350)],'top':this[_0xdb6749(0x261)]+_0x558bcf[_0xdb6749(0x261)]*this[_0xdb6749(0xf6)],'right':this[_0xdb6749(0x295)]+_0x558bcf[_0xdb6749(0x295)]*this[_0xdb6749(0x350)],'bottom':this[_0xdb6749(0x2f0)]+_0x558bcf[_0xdb6749(0x2f0)]*this[_0xdb6749(0xf6)]})['toSquare']()[_0xdb6749(0x346)]();}},BoundingBox=class extends Box{constructor(_0x1d457f,_0x46aede,_0x3ca2e7,_0x58dab3,_0x302527=![]){super({'left':_0x1d457f,'top':_0x46aede,'right':_0x3ca2e7,'bottom':_0x58dab3},_0x302527);}},ObjectDetection=class{constructor(_0x3437af,_0x5242b9,_0x4d0344,_0x51176d,_0x30708b){const _0x4c5aba=_0x3556c3;this[_0x4c5aba(0x157)]=new Dimensions(_0x30708b[_0x4c5aba(0x350)],_0x30708b['height']),this[_0x4c5aba(0xe4)]=_0x3437af,this[_0x4c5aba(0x305)]=_0x5242b9,this[_0x4c5aba(0x323)]=_0x4d0344,this[_0x4c5aba(0xfe)]=new Box(_0x51176d)['rescale'](this[_0x4c5aba(0x157)]);}get[_0x3556c3(0xf0)](){const _0x50fb78=_0x3556c3;return this[_0x50fb78(0xe4)];}get[_0x3556c3(0x232)](){const _0x5d468e=_0x3556c3;return this[_0x5d468e(0x305)];}get[_0x3556c3(0x20e)](){return this['_className'];}get[_0x3556c3(0x22c)](){const _0x3e5d47=_0x3556c3;return this[_0x3e5d47(0xfe)];}get[_0x3556c3(0x28e)](){return this['_imageDims'];}get['imageWidth'](){const _0x3673ba=_0x3556c3;return this['imageDims'][_0x3673ba(0x350)];}get[_0x3556c3(0x20f)](){const _0x1dc5fa=_0x3556c3;return this[_0x1dc5fa(0x28e)][_0x1dc5fa(0xf6)];}get['relativeBox'](){const _0x896afa=_0x3556c3;return new Box(this[_0x896afa(0xfe)])[_0x896afa(0xd9)](this[_0x896afa(0x28e)]['reverse']());}[_0x3556c3(0x19f)](_0x10b4d8,_0x14498e){const _0x258223=_0x3556c3;return new ObjectDetection(this['score'],this[_0x258223(0x232)],this[_0x258223(0x20e)],this[_0x258223(0x16c)],{'width':_0x10b4d8,'height':_0x14498e});}},FaceDetection=class extends ObjectDetection{constructor(_0x1104a1,_0x148b2c,_0x558e9d){super(_0x1104a1,_0x1104a1,'',_0x148b2c,_0x558e9d);}[_0x3556c3(0x19f)](_0x2e6de2,_0xb92ed9){const _0x1673fb=_0x3556c3,{score:_0x3e2e64,relativeBox:_0x1ecf2d,imageDims:_0x1a9b54}=super[_0x1673fb(0x19f)](_0x2e6de2,_0xb92ed9);return new FaceDetection(_0x3e2e64,_0x1ecf2d,_0x1a9b54);}};function iou(_0x52635e,_0x5002fd,_0x26d178=!![]){const _0xbdd2e9=_0x3556c3,_0x2aacbb=Math[_0xbdd2e9(0x2f4)](0x0,Math[_0xbdd2e9(0x30e)](_0x52635e[_0xbdd2e9(0x295)],_0x5002fd[_0xbdd2e9(0x295)])-Math[_0xbdd2e9(0x2f4)](_0x52635e[_0xbdd2e9(0x206)],_0x5002fd['left'])),_0x50e95f=Math[_0xbdd2e9(0x2f4)](0x0,Math[_0xbdd2e9(0x30e)](_0x52635e[_0xbdd2e9(0x2f0)],_0x5002fd[_0xbdd2e9(0x2f0)])-Math[_0xbdd2e9(0x2f4)](_0x52635e[_0xbdd2e9(0x261)],_0x5002fd['top'])),_0x1b935e=_0x2aacbb*_0x50e95f;return _0x26d178?_0x1b935e/(_0x52635e[_0xbdd2e9(0x238)]+_0x5002fd[_0xbdd2e9(0x238)]-_0x1b935e):_0x1b935e/Math[_0xbdd2e9(0x30e)](_0x52635e[_0xbdd2e9(0x238)],_0x5002fd['area']);}function minBbox(_0x1504df){const _0x1a315f=_0x3556c3,_0x508c76=_0x1504df[_0x1a315f(0x2b0)](_0x2aac70=>_0x2aac70['x']),_0x354b5f=_0x1504df['map'](_0x2ca088=>_0x2ca088['y']),_0x20c595=_0x508c76['reduce']((_0x4ac492,_0x53ae9e)=>_0x53ae9e<_0x4ac492?_0x53ae9e:_0x4ac492,Infinity),_0x2dfcd4=_0x354b5f[_0x1a315f(0x16f)]((_0x7fdbc9,_0x235066)=>_0x235066<_0x7fdbc9?_0x235066:_0x7fdbc9,Infinity),_0x4fbb94=_0x508c76[_0x1a315f(0x16f)]((_0x3f67b7,_0x32591e)=>_0x3f67b7<_0x32591e?_0x32591e:_0x3f67b7,0x0),_0x35bb2a=_0x354b5f['reduce']((_0x3d83db,_0x2d45ea)=>_0x3d83db<_0x2d45ea?_0x2d45ea:_0x3d83db,0x0);return new BoundingBox(_0x20c595,_0x2dfcd4,_0x4fbb94,_0x35bb2a);}function nonMaxSuppression(_0x156bbc,_0x458ab6,_0x18f25a,_0x3c0cf2=!![]){const _0x399094=_0x3556c3;let _0x47ef5b=_0x458ab6[_0x399094(0x2b0)]((_0x2017ef,_0x15fbeb)=>({'score':_0x2017ef,'boxIndex':_0x15fbeb}))[_0x399094(0x199)]((_0x3fe924,_0x18d21c)=>_0x3fe924['score']-_0x18d21c[_0x399094(0xf0)])['map'](_0x3a6fff=>_0x3a6fff[_0x399094(0x236)]);const _0x800429=[];while(_0x47ef5b[_0x399094(0x14a)]>0x0){const _0x457f77=_0x47ef5b[_0x399094(0x2b7)]();_0x800429[_0x399094(0x2b3)](_0x457f77);const _0x2ed378=_0x47ef5b,_0x5d16b0=[];for(let _0x43b367=0x0;_0x43b367<_0x2ed378['length'];_0x43b367++){const _0x4a9e16=_0x2ed378[_0x43b367],_0x3cbea4=_0x156bbc[_0x457f77],_0x24d1f8=_0x156bbc[_0x4a9e16];_0x5d16b0[_0x399094(0x2b3)](iou(_0x3cbea4,_0x24d1f8,_0x3c0cf2));}_0x47ef5b=_0x47ef5b['filter']((_0x46c8ab,_0x5e852b)=>_0x5d16b0[_0x5e852b]<=_0x18f25a);}return _0x800429;}var tf2=__toESM(require_tfjs_esm());function normalize(_0x10f6d9,_0x11d82c){return tf2['tidy'](()=>{const _0x4b41a3=_0x29bb,[_0x151aa2,_0x184c79,_0x5c3c91]=_0x11d82c,_0x49af6c=tf2['fill']([..._0x10f6d9['shape']['slice'](0x0,0x3),0x1],_0x151aa2,_0x4b41a3(0xe7)),_0x58cfb5=tf2[_0x4b41a3(0x1d3)]([..._0x10f6d9[_0x4b41a3(0x166)][_0x4b41a3(0xed)](0x0,0x3),0x1],_0x184c79,_0x4b41a3(0xe7)),_0x3585ea=tf2[_0x4b41a3(0x1d3)]([..._0x10f6d9['shape'][_0x4b41a3(0xed)](0x0,0x3),0x1],_0x5c3c91,_0x4b41a3(0xe7)),_0x267844=tf2[_0x4b41a3(0x116)]([_0x49af6c,_0x58cfb5,_0x3585ea],0x3);return tf2[_0x4b41a3(0x18e)](_0x10f6d9,_0x267844);});}var tf3=__toESM(require_tfjs_esm());function padToSquare(_0x4055d4,_0x1bec37=![]){const _0x3b0a66=_0x3556c3;return tf3[_0x3b0a66(0xd5)](()=>{const _0x4242f0=_0x3b0a66,[_0x33aab6,_0x3f0608]=_0x4055d4[_0x4242f0(0x166)]['slice'](0x1);if(_0x33aab6===_0x3f0608)return _0x4055d4;const _0x3a94ef=Math[_0x4242f0(0x1ec)](_0x33aab6-_0x3f0608),_0x4f714c=Math[_0x4242f0(0x346)](_0x3a94ef*(_0x1bec37?0.5:0x1)),_0x4d6bd9=_0x33aab6>_0x3f0608?0x2:0x1,_0x3f91b2=_0x74782a=>{const _0x5f1e9e=_0x4242f0,_0x56a1be=_0x4055d4['shape']['slice']();return _0x56a1be[_0x4d6bd9]=_0x74782a,tf3[_0x5f1e9e(0x1d3)](_0x56a1be,0x0,'float32');},_0x586782=_0x3f91b2(_0x4f714c),_0x3ed980=_0x3a94ef-_0x586782['shape'][_0x4d6bd9],_0x55b79d=_0x1bec37&&_0x3ed980?_0x3f91b2(_0x3ed980):null,_0x4b0f8a=[_0x55b79d,_0x4055d4,_0x586782][_0x4242f0(0x1eb)](_0x3f4ba7=>!!_0x3f4ba7)['map'](_0xb69fcc=>tf3[_0x4242f0(0x262)](_0xb69fcc,_0x4242f0(0xe7)));return tf3[_0x4242f0(0x116)](_0x4b0f8a,_0x4d6bd9);});}function shuffleArray(_0x354afe){const _0x2703b3=_0x3556c3,_0x5bcf6a=_0x354afe['slice']();for(let _0x32c18e=_0x5bcf6a[_0x2703b3(0x14a)]-0x1;_0x32c18e>0x0;_0x32c18e--){const _0x58675b=Math[_0x2703b3(0x24c)](Math[_0x2703b3(0x344)]()*(_0x32c18e+0x1)),_0x2ea0f5=_0x5bcf6a[_0x32c18e];_0x5bcf6a[_0x32c18e]=_0x5bcf6a[_0x58675b],_0x5bcf6a[_0x58675b]=_0x2ea0f5;}return _0x5bcf6a;}function sigmoid(_0x2b4b79){return 0x1/(0x1+Math['exp'](-_0x2b4b79));}function inverseSigmoid(_0x22ce59){const _0x46af61=_0x3556c3;return Math[_0x46af61(0x16e)](_0x22ce59/(0x1-_0x22ce59));}var Rect=class extends Box{constructor(_0x19f5db,_0x59cd44,_0x4ff225,_0x202e8b,_0x50953e=![]){super({'x':_0x19f5db,'y':_0x59cd44,'width':_0x4ff225,'height':_0x202e8b},_0x50953e);}},relX=0.5,relY=0.43,relScale=0.45,FaceLandmarks=class{constructor(_0x1c86d0,_0x3caffa,_0x1b5170=new Point(0x0,0x0)){const _0x62c060=_0x3556c3,{width:_0x552c2c,height:_0x2437aa}=_0x3caffa;this['_imgDims']=new Dimensions(_0x552c2c,_0x2437aa),this[_0x62c060(0x208)]=_0x1b5170,this['_positions']=_0x1c86d0['map'](_0x151df0=>_0x151df0[_0x62c060(0x27b)](new Point(_0x552c2c,_0x2437aa))['add'](_0x1b5170));}get[_0x3556c3(0x169)](){const _0x12a010=_0x3556c3;return new Point(this['_shift']['x'],this[_0x12a010(0x208)]['y']);}get['imageWidth'](){return this['_imgDims']['width'];}get[_0x3556c3(0x20f)](){const _0x45d5ad=_0x3556c3;return this[_0x45d5ad(0x1ce)]['height'];}get[_0x3556c3(0x10f)](){const _0x348494=_0x3556c3;return this[_0x348494(0x2c2)];}get[_0x3556c3(0xd3)](){const _0x37bf7a=_0x3556c3;return this[_0x37bf7a(0x2c2)]['map'](_0x229a24=>_0x229a24[_0x37bf7a(0x18e)](this[_0x37bf7a(0x208)])['div'](new Point(this[_0x37bf7a(0x338)],this['imageHeight'])));}[_0x3556c3(0x19f)](_0x20b806,_0x1585cf){const _0x40dff0=_0x3556c3;return new this[(_0x40dff0(0x358))](this['relativePositions'],{'width':_0x20b806,'height':_0x1585cf});}['shiftBy'](_0x1f01f5,_0x17b925){const _0x21960f=_0x3556c3;return new this[(_0x21960f(0x358))](this[_0x21960f(0xd3)],this['_imgDims'],new Point(_0x1f01f5,_0x17b925));}[_0x3556c3(0xe6)](_0x1af535){return this['shiftBy'](_0x1af535['x'],_0x1af535['y']);}[_0x3556c3(0x148)](_0x41bc28,_0x524b78={}){const _0x2a7ff5=_0x3556c3;if(_0x41bc28){const _0x182221=_0x41bc28 instanceof FaceDetection?_0x41bc28[_0x2a7ff5(0x22c)]['floor']():new Box(_0x41bc28);return this['shiftBy'](_0x182221['x'],_0x182221['y'])['align'](null,_0x524b78);}const {useDlibAlignment:_0x245130,minBoxPadding:_0x3e0444}={'useDlibAlignment':![],'minBoxPadding':0.2,..._0x524b78};if(_0x245130)return this[_0x2a7ff5(0xdc)]();return this['alignMinBbox'](_0x3e0444);}[_0x3556c3(0xdc)](){const _0x4d6161=_0x3556c3,_0x381029=this['getRefPointsForAlignment'](),[_0xa1068e,_0x341fa1,_0x14fe15]=_0x381029,_0x4b0bf8=_0x197322=>_0x14fe15['sub'](_0x197322)[_0x4d6161(0x163)](),_0x50730a=(_0x4b0bf8(_0xa1068e)+_0x4b0bf8(_0x341fa1))/0x2,_0x50c64b=Math[_0x4d6161(0x24c)](_0x50730a/relScale),_0x271315=getCenterPoint(_0x381029),_0x349565=Math['floor'](Math[_0x4d6161(0x2f4)](0x0,_0x271315['x']-relX*_0x50c64b)),_0x4d114c=Math[_0x4d6161(0x24c)](Math[_0x4d6161(0x2f4)](0x0,_0x271315['y']-relY*_0x50c64b));return new Rect(_0x349565,_0x4d114c,Math['min'](_0x50c64b,this['imageWidth']+_0x349565),Math['min'](_0x50c64b,this[_0x4d6161(0x20f)]+_0x4d114c));}[_0x3556c3(0x18c)](_0x416073){const _0x5a19a3=_0x3556c3,_0x2902c4=minBbox(this[_0x5a19a3(0x10f)]);return _0x2902c4['pad'](_0x2902c4[_0x5a19a3(0x350)]*_0x416073,_0x2902c4['height']*_0x416073);}['getRefPointsForAlignment'](){const _0x4d2133=_0x3556c3;throw new Error(_0x4d2133(0x27f));}},FaceLandmarks5=class extends FaceLandmarks{['getRefPointsForAlignment'](){const _0x28d3c8=_0x3556c3,_0x47b7dc=this[_0x28d3c8(0x10f)];return[_0x47b7dc[0x0],_0x47b7dc[0x1],getCenterPoint([_0x47b7dc[0x3],_0x47b7dc[0x4]])];}},FaceLandmarks68=class extends FaceLandmarks{[_0x3556c3(0x1ef)](){const _0x185deb=_0x3556c3;return this[_0x185deb(0x10f)][_0x185deb(0xed)](0x0,0x11);}[_0x3556c3(0x130)](){const _0x26700d=_0x3556c3;return this[_0x26700d(0x10f)][_0x26700d(0xed)](0x11,0x16);}[_0x3556c3(0x21e)](){return this['positions']['slice'](0x16,0x1b);}[_0x3556c3(0x1b5)](){const _0x2f3793=_0x3556c3;return this['positions'][_0x2f3793(0xed)](0x1b,0x24);}['getLeftEye'](){const _0x828c26=_0x3556c3;return this[_0x828c26(0x10f)][_0x828c26(0xed)](0x24,0x2a);}['getRightEye'](){const _0x349dfe=_0x3556c3;return this[_0x349dfe(0x10f)]['slice'](0x2a,0x30);}[_0x3556c3(0x1ab)](){const _0x183466=_0x3556c3;return this[_0x183466(0x10f)][_0x183466(0xed)](0x30,0x44);}[_0x3556c3(0x14e)](){const _0x1a57b3=_0x3556c3;return[this['getLeftEye'](),this[_0x1a57b3(0x135)](),this[_0x1a57b3(0x1ab)]()]['map'](getCenterPoint);}},FaceMatch=class{constructor(_0x3e500c,_0x4ec654){const _0x51d084=_0x3556c3;this['_label']=_0x3e500c,this[_0x51d084(0x150)]=_0x4ec654;}get['label'](){const _0x53be69=_0x3556c3;return this[_0x53be69(0x2a3)];}get[_0x3556c3(0x2b8)](){return this['_distance'];}[_0x3556c3(0x25c)](_0x1ecf48=!![]){const _0x31a8a4=_0x3556c3;return''+this[_0x31a8a4(0x183)]+(_0x1ecf48?'\x20('+round(this['distance'])+')':'');}},LabeledBox=class extends Box{constructor(_0x459f96,_0x4b4432){const _0x2a8c60=_0x3556c3;super(_0x459f96),this[_0x2a8c60(0x2a3)]=_0x4b4432;}static[_0x3556c3(0x353)](_0x20c467,_0x53ea6a){const _0x4b4a34=_0x3556c3;Box[_0x4b4a34(0x298)](_0x20c467,_0x53ea6a);if(!isValidNumber(_0x20c467[_0x4b4a34(0x183)]))throw new Error(_0x53ea6a+_0x4b4a34(0x182)+_0x20c467[_0x4b4a34(0x183)]+_0x4b4a34(0x108));}get[_0x3556c3(0x183)](){const _0x329ebd=_0x3556c3;return this[_0x329ebd(0x2a3)];}},LabeledFaceDescriptors=class{constructor(_0x5b4fd0,_0x1912fc){const _0x6d58b3=_0x3556c3;if(!(typeof _0x5b4fd0===_0x6d58b3(0x2ca)))throw new Error('LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20label\x20to\x20be\x20a\x20string');if(!Array[_0x6d58b3(0x2e2)](_0x1912fc)||_0x1912fc[_0x6d58b3(0x156)](_0x3e76f4=>!(_0x3e76f4 instanceof Float32Array)))throw new Error('LabeledFaceDescriptors\x20-\x20constructor\x20expected\x20descriptors\x20to\x20be\x20an\x20array\x20of\x20Float32Array');this['_label']=_0x5b4fd0,this['_descriptors']=_0x1912fc;}get[_0x3556c3(0x183)](){const _0x3d2317=_0x3556c3;return this[_0x3d2317(0x2a3)];}get[_0x3556c3(0x25b)](){const _0x33aebd=_0x3556c3;return this[_0x33aebd(0x15e)];}[_0x3556c3(0x308)](){const _0xc44ec0=_0x3556c3;return{'label':this[_0xc44ec0(0x183)],'descriptors':this['descriptors'][_0xc44ec0(0x2b0)](_0x53bc4d=>Array[_0xc44ec0(0x228)](_0x53bc4d))};}static[_0x3556c3(0x12f)](_0x49c9a5){const _0x44a304=_0x3556c3,_0x1b39eb=_0x49c9a5[_0x44a304(0x25b)][_0x44a304(0x2b0)](_0x420905=>new Float32Array(_0x420905));return new LabeledFaceDescriptors(_0x49c9a5[_0x44a304(0x183)],_0x1b39eb);}},PredictedBox=class extends LabeledBox{constructor(_0x2fc01c,_0x5d7f1a,_0x3a8c45,_0x4b6533){const _0x30af98=_0x3556c3;super(_0x2fc01c,_0x5d7f1a),this[_0x30af98(0xe4)]=_0x3a8c45,this['_classScore']=_0x4b6533;}static[_0x3556c3(0x2fa)](_0x19edcc,_0x5845bd){const _0x2657f8=_0x3556c3;LabeledBox['assertIsValidLabeledBox'](_0x19edcc,_0x5845bd);if(!isValidProbablitiy(_0x19edcc['score'])||!isValidProbablitiy(_0x19edcc[_0x2657f8(0x232)]))throw new Error(_0x5845bd+_0x2657f8(0x258)+_0x19edcc['score']+_0x2657f8(0x1a6)+_0x19edcc['classScore']+')\x20to\x20be\x20a\x20number\x20between\x20[0,\x201]');}get[_0x3556c3(0xf0)](){const _0x4876ba=_0x3556c3;return this[_0x4876ba(0xe4)];}get[_0x3556c3(0x232)](){return this['_classScore'];}};function isWithFaceDetection(_0x5556a2){const _0x237181=_0x3556c3;return _0x5556a2[_0x237181(0xd8)]instanceof FaceDetection;}function extendWithFaceDetection(_0xb39363,_0x3b171a){const _0xa3bb42={'detection':_0x3b171a};return{..._0xb39363,..._0xa3bb42};}function createBrowserEnv(){const _0x3fbfcc=_0x3556c3,_0x10a957=window[_0x3fbfcc(0x217)];if(!_0x10a957)throw new Error('fetch\x20-\x20missing\x20fetch\x20implementation\x20for\x20browser\x20environment');const _0x2386cb=()=>{const _0x37f00d=_0x3fbfcc;throw new Error(_0x37f00d(0x141));};return{'Canvas':HTMLCanvasElement,'CanvasRenderingContext2D':CanvasRenderingContext2D,'Image':HTMLImageElement,'ImageData':ImageData,'Video':HTMLVideoElement,'createCanvasElement':()=>document[_0x3fbfcc(0x2d6)](_0x3fbfcc(0x19d)),'createImageElement':()=>document[_0x3fbfcc(0x2d6)](_0x3fbfcc(0x257)),'createVideoElement':()=>document[_0x3fbfcc(0x2d6)](_0x3fbfcc(0xd2)),'fetch':_0x10a957,'readFile':_0x2386cb};}function isNodejs(){const _0x5563ae=_0x3556c3;return typeof global===_0x5563ae(0x22a)&&typeof process!==_0x5563ae(0x345)&&process[_0x5563ae(0x31b)]!=null&&process[_0x5563ae(0x31b)]['node']!=null;}function createFileSystem(_0x2b6e33){const _0x368d74=_0x3556c3;let _0x25eda9='';if(!_0x2b6e33&&isNodejs())try{_0x2b6e33=require('fs');}catch(_0x4cb847){console[_0x368d74(0x16e)](_0x368d74(0x1f9),_0x4cb847),_0x25eda9=_0x4cb847['toString']();}const _0x35cc14=_0x2b6e33?_0x57950d=>new Promise((_0x164e8f,_0x41f574)=>{const _0x154275=_0x368d74;_0x2b6e33[_0x154275(0x177)](_0x57950d,(_0x5f3f30,_0x1d303f)=>_0x5f3f30?_0x41f574(_0x5f3f30):_0x164e8f(_0x1d303f));}):()=>{const _0x285a4f=_0x368d74;throw new Error(_0x285a4f(0x216)+_0x25eda9);};return{'readFile':_0x35cc14};}function createNodejsEnv(){const _0x496fdb=_0x3556c3,_0x1e1bfe=global['Canvas']||global[_0x496fdb(0x2d9)],_0x54f0d7=global[_0x496fdb(0x263)]||global[_0x496fdb(0x191)],_0x5a30dc=global['Video']||global[_0x496fdb(0x162)],_0x25d946=()=>{const _0x3f1603=_0x496fdb;if(_0x1e1bfe)return new _0x1e1bfe();throw new Error(_0x3f1603(0x24b));},_0xb28727=()=>{const _0xc7475d=_0x496fdb;if(_0x54f0d7)return new _0x54f0d7();throw new Error(_0xc7475d(0x355));},_0x3e427f=()=>{if(_0x5a30dc)return new _0x5a30dc();throw new Error('createVideoElement\x20-\x20missing\x20Video\x20implementation\x20for\x20nodejs\x20environment');},_0x1c480e=global[_0x496fdb(0x217)],_0x39a307=createFileSystem();return{'Canvas':_0x1e1bfe||class{},'CanvasRenderingContext2D':global['CanvasRenderingContext2D']||class{},'Image':_0x54f0d7||class{},'ImageData':global[_0x496fdb(0x16d)]||class{},'Video':global['HTMLVideoElement']||class{},'createCanvasElement':_0x25d946,'createImageElement':_0xb28727,'createVideoElement':_0x3e427f,'fetch':_0x1c480e,..._0x39a307};}function isBrowser(){const _0x419eb1=_0x3556c3;return typeof window===_0x419eb1(0x22a)&&typeof document!=='undefined'&&typeof HTMLImageElement!==_0x419eb1(0x345)&&typeof HTMLCanvasElement!==_0x419eb1(0x345)&&typeof HTMLVideoElement!==_0x419eb1(0x345)&&typeof ImageData!==_0x419eb1(0x345)&&typeof CanvasRenderingContext2D!==_0x419eb1(0x345);}var environment;function getEnv(){const _0x3eec8b=_0x3556c3;if(!environment)throw new Error(_0x3eec8b(0x31e));return environment;}function setEnv(_0x375b0){environment=_0x375b0;}function initialize(){if(isBrowser())return setEnv(createBrowserEnv());if(isNodejs())return setEnv(createNodejsEnv());return null;}function monkeyPatch(_0x533c5f){const _0x1f3a79=_0x3556c3;!environment&&initialize();if(!environment)throw new Error('monkeyPatch\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()');const {Canvas:Canvas=environment[_0x1f3a79(0x13e)],Image:Image=environment[_0x1f3a79(0x263)]}=_0x533c5f;environment[_0x1f3a79(0x13e)]=Canvas,environment[_0x1f3a79(0x263)]=Image,environment[_0x1f3a79(0x2a6)]=_0x533c5f[_0x1f3a79(0x2a6)]||(()=>new Canvas()),environment['createImageElement']=_0x533c5f[_0x1f3a79(0x2bd)]||(()=>new Image()),environment[_0x1f3a79(0x16d)]=_0x533c5f[_0x1f3a79(0x16d)]||environment['ImageData'],environment[_0x1f3a79(0x15c)]=_0x533c5f['Video']||environment[_0x1f3a79(0x15c)],environment[_0x1f3a79(0x217)]=_0x533c5f['fetch']||environment[_0x1f3a79(0x217)],environment['readFile']=_0x533c5f[_0x1f3a79(0x177)]||environment[_0x1f3a79(0x177)];}var env={'getEnv':getEnv,'setEnv':setEnv,'initialize':initialize,'createBrowserEnv':createBrowserEnv,'createFileSystem':createFileSystem,'createNodejsEnv':createNodejsEnv,'monkeyPatch':monkeyPatch,'isBrowser':isBrowser,'isNodejs':isNodejs};initialize();function resolveInput(_0x55a714){const _0x2e7b20=_0x3556c3;if(!env[_0x2e7b20(0x32b)]()&&typeof _0x55a714===_0x2e7b20(0x2ca))return document[_0x2e7b20(0x2fb)](_0x55a714);return _0x55a714;}function getContext2dOrThrow(_0x3f81b1){const _0x73f873=_0x3556c3,{Canvas:_0x286327,CanvasRenderingContext2D:_0x2089f7}=env[_0x73f873(0x1f8)]();if(_0x3f81b1 instanceof _0x2089f7)return _0x3f81b1;const _0xfa0809=resolveInput(_0x3f81b1);if(!(_0xfa0809 instanceof _0x286327))throw new Error(_0x73f873(0x307));const _0xdd6b5c=_0xfa0809[_0x73f873(0x1d5)]('2d');if(!_0xdd6b5c)throw new Error(_0x73f873(0x2ee));return _0xdd6b5c;}function _0x441a(){const _0x9ed61d=['_batchSize','_pointwise/convolution_bn_offset','mobilenetv1/conv_9','prediction_layer/conv_4','getInputWidth','inputSize','conv_10','/ClassPredictor','param\x20tensor\x20has\x20already\x20been\x20disposed\x20for\x20path\x20','conv_11','mul','computeFaceDescriptor','_config','withFaceLandmarks','getRefPointsForAlignment\x20not\x20implemented\x20by\x20base\x20class','5683218oXFKkV','batch_norm_variance','hasOwnProperty','conv256_down','Box.constructor','transpose','FaceLandmark68Net','prediction_layer/box_predictor_2/class_predictor','reduction_block_1','fearful','detectFaces\x20-\x20expected\x20options\x20to\x20be\x20instance\x20of\x20TinyFaceDetectorOptions\x20|\x20SsdMobilenetv1Options\x20|\x20TinyYolov2Options','_inputSize','muted','_width','imageDims','padding','separable_conv','ageGenderNet','expressions','extractPredictedClass','rgba(0,\x200,\x20255,\x201)','right','exit_flow/separable_conv','withFaceDescriptor','assertIsValidBox','result','prediction_layer/box_predictor_0/class_predictor','then','relu','ssdMobilenetv1','matchDescriptor','1963244DyONdP','freeze','fontSize','sigmoid','_label','runMobilenet','bufferToImage\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','createCanvasElement','\x20string\x20passed,\x20but\x20could\x20not\x20resolve\x20HTMLElement\x20for\x20element\x20id\x20','draw','tensor','options','exit_flow','entry_flow/conv_in','toBatchTensor','out','prediction_layer/box_predictor_3/box_encoding_predictor','map','traversePropertyPath\x20-\x20model\x20has\x20no\x20loaded\x20params','conv128_1','push','loadClassifierParams','depthwiseConv2d','isLoaded','pop','distance','/class_predictor','prediction_layer/conv_3','separable_conv0','iouThreshold','createImageElement','anchorPosition','unstack','onload','getInputDimensions','_positions','roll','currentTarget','/sub','\x20-\x20expected\x20minConfidence\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','resizeResults\x20-\x20invalid\x20dimensions:\x20','/pointwise_filter',',\x20expected\x20input\x20to\x20be\x20instanceof\x20tf.Tensor\x20or\x20instanceof\x20HTMLCanvasElement,\x20instead\x20have\x20','string','calibrate','FaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','prediction_layer/conv_1','faceRecognitionNet','TinyXception','predictExpressions','.loadFromUri\x20-\x20expected\x20model\x20uri','tiny_yolov2_model','prediction_layer/box_predictor_4/class_predictor','706978fifaLj','createCanvasFromMedia\x20-\x20media\x20has\x20not\x20finished\x20loading\x20yet','createElement','boolean','expansion_conv','HTMLCanvasElement','middle_flow','conv32_1','stringify','image','prediction_layer/box_predictor_2/box_encoding_predictor','create','as1D','_minConfidence','isArray','postProcess','pitch','extractParamsFromWeightMap','prediction_layer','\x20expected\x20media\x20to\x20be\x20of\x20type\x20HTMLImageElement\x20|\x20HTMLVideoElement\x20|\x20HTMLCanvasElement\x20|\x20tf.Tensor3D,\x20or\x20to\x20be\x20an\x20element\x20id','/bn','neutral','batch_norm_offset','ssd_mobilenetv1_model','reverse','landmarkNet','resolveContext2d\x20-\x20canvas\x202d\x20context\x20is\x20null','inputDimensions','bottom','happy','faceFeatureExtractor','sqrt','max','mobilenetv1/conv_6','MobilenetV1/Conv2d_','dense0','measureHeight','conv32_3','assertIsValidPredictedBox','getElementById','FaceLandmark68TinyNet','depthwise_filter','putImageData','split','asSortedArray','defineProperty','drawFaceLandmarks\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceLandmarks\x20|\x20WithFaceLandmarks<WithFaceDetection<{}>>\x20or\x20array\x20thereof','dense1','conv_4','_classScore','getDefaultModelName','resolveContext2d\x20-\x20expected\x20canvas\x20to\x20be\x20of\x20instance\x20of\x20Canvas','toJSON',',\x20expected\x20object\x20with\x20properties\x20x,\x20y,\x20width,\x20height','batch_norm_scale','extractWeights','expected\x20weightMap[','dense3','min','_params','fromPixels','filterSizes','conv256_2','distanceThreshold','enumerable','config.anchors\x20has\x20to\x20be\x20an\x20array\x20of\x20{\x20x:\x20number,\x20y:\x20number\x20},\x20have:\x20','lineWidth','conv','join','text','/batch_norm_variance','versions','getTrainableParams','mobilenetv1','getEnv\x20-\x20environment\x20is\x20not\x20defined,\x20check\x20isNodejs()\x20and\x20isBrowser()','getParamList','valid','extractBoxes','FaceRecognizer.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20of\x20type\x20LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array\x20|\x20Array<LabeledFaceDescriptors\x20|\x20WithFaceDescriptor<any>\x20|\x20Float32Array>','_className','prediction_layer/conv_6','faceLandmark68TinyNet','videoWidth','minConfidence','conv_5','complete','removeEventListener','isNodejs','depthwise_conv','prediction_layer/box_predictor_3/class_predictor','/BoxEncodingPredictor','disgusted','function','\x20-\x20expected\x20scoreThreshold\x20to\x20be\x20a\x20number\x20between\x200\x20and\x201','Tensor','prediction_layer/conv_2','unshiftedLandmarks','/separable_conv0','SsdMobilenetv1','conv128_2','imageWidth','/expansion_conv','/conv/filters','TinyYolov2','female','config.meanRgb\x20has\x20to\x20be\x20an\x20array\x20of\x20shape\x20[number,\x20number,\x20number],\x20have:\x20','conv4','box_predictor_5','_canvases','_labeledDescriptors','/separable_conv1','Georgia','random','undefined','round','_maxResults','separable_conv2','findBestMatch','weights','mobilenetv1/conv_1','extractFaces\x20-\x20batchSize\x20>\x201\x20not\x20supported','tiny_yolov2_separable_conv_model','invalid\x20config:\x20','getReshapedInputDimensions\x20-\x20inputSize\x20not\x20set,\x20toBatchTensor\x20has\x20not\x20been\x20called\x20yet','width','boxColor','face_feature_extractor_model','assertIsValidLabeledBox','conv_7','createImageElement\x20-\x20missing\x20Image\x20implementation\x20for\x20nodejs\x20environment','/Conv2d_','alignedRect','constructor','fontStyle','TOP_LEFT','array','weights\x20remaing\x20after\x20extract:\x20','mean','video','relativePositions','prediction_layer/conv_7','tidy','reduction_block_0','conv_in','detection','rescale','mobilenetv1/conv_0','middle_flow/main_block_','alignDlib','maxPool','separableConv2d','rgba(255,\x20255,\x20255,\x201)','forEach','imageTensors','number','withAgeAndGender','_score','padAtBorders','shiftByPoint','float32','detectLandmarks','extractClassifierParams','conv_9','_paramMappings','/truediv','slice','box_predictor_3','box_predictor_4','score','classes','1tqcHjs','getParamFromPath','FaceRecognitionNet\x20-\x20load\x20model\x20before\x20inference',')\x20must\x20be\x20positive\x20numbers','height','surprised','descriptor','13280220bcVtgG','TinyFaceFeatureExtractor','TinyXception\x20-\x20load\x20model\x20before\x20inference','/conv2','meanRgb','_box','face_expression_model','box_predictor_0','bufferToVideo\x20-\x20expected\x20buf\x20to\x20be\x20of\x20type:\x20Blob','toInt','prediction_layer/box_predictor_','getInput','matMul','_treatAsBatchInput','faceLandmark68Net',')\x20to\x20be\x20a\x20number','_numMainBlocks','conv1','paramMappings','onerror','entry_flow/reduction_block_0','all','positions','http://','age_gender_model','playsInline','getReshapedInputDimensions','conv_6','config.iouThreshold\x20has\x20to\x20be\x20a\x20number\x20between\x20[0,\x201],\x20have:\x20','concat','MobilenetV1','prediction_layer/box_predictor_5/box_encoding_predictor','lineColor','filters','/conv3','loadFromDisk','/batch_norm_offset','computeMeanDistance','nextObj','useTinyLandmarkNet','fc/gender','readAsDataURL','conv2','conv2d','as2D','dispose','/BatchNorm/moving_variance','endsWith','clipAtImageBorders','getLeftEye','extractedFaces','load','input','conv0','fromJSON','getLeftEyeBrow','TinyFaceFeatureExtractor\x20-\x20load\x20model\x20before\x20inference','avgPool','tensor4d','locateFaces','getRightEye','truediv','biases','mobilenetv1/conv_4','loadWeights','conv256_down_out','conv5','getOwnPropertyDescriptor','tiny_xception_model','Canvas','box_predictor_2','/depthwise_filter','readFile\x20-\x20filesystem\x20not\x20available\x20for\x20browser\x20environment','shiftBy','rgba(0,\x200,\x200,\x200.5)','slice3d','/scale','/bias','topRight','align','beginPath','length','conv256_1','reduction_block','pointwise_conv','getRefPointsForAlignment','boxEncodingSize','_distance','getClassifierChannelsIn','/weights','https://','tile','.loadFromDisk\x20-\x20expected\x20model\x20file\x20path','some','_imageDims','originalPath','tiny_face_detector_model','add','arraySync','Video','runAndExtendWithFaceDetections','_descriptors','zeros','browser','pad','HTMLVideoElement','magnitude','main_block_','extra_dim','shape','expected\x20weightMap[fc]\x20to\x20be\x20a\x20Tensor2D,\x20instead\x20have\x20','probability','shift','conv_13','drawImage','relativeBox','ImageData','log','reduce','_faceFeatureExtractor','conv3','NetInput\x20-\x20tf.Tensor4D\x20with\x20batchSize\x20',',\x20for\x20path\x20','conv8','D,\x20instead\x20have\x20',',\x20from\x20url:\x20','readFile','resizeBilinear','topLeft','BOTTOM_LEFT','drawPoints','/biases','/filters','div','/BatchNorm/gamma','buffer','prediction_layer/box_predictor_5/class_predictor','\x20-\x20expected\x20property\x20label\x20(','label','DEFAULT_FILTER_SIZES','as4D','strokeStyle','labeledDescriptors','classPrediction','conv32_2','createObjectURL','withFaceDescriptors','alignMinBbox','traversePropertyPath\x20-\x20object\x20does\x20not\x20have\x20property\x20','sub','createVideoElement','_pointwise/weights','HTMLImageElement','px\x20','arrayBuffer','mobilenetv1/conv_8','loadFromWeightMap',',\x20numFilters:\x20','male','getPrototypeOf','sort','clipByValue','bufferToImage\x20-\x20expected\x20reader.result\x20to\x20be\x20a\x20string,\x20in\x20onload','/separable_conv2','canvas','boxPredictionEncoding','forSize','as3D','\x20-\x20width\x20(','scale','age','bottomLeft','angry',')\x20and\x20(','getInputHeight','every','conv64_2','getImageData','getMouth','expression','startsWith','drawLines','TinyYolov2\x20-\x20load\x20model\x20before\x20inference','separable_conv1','expected\x20weightMap[\x27Output/extra_dim\x27]\x20to\x20be\x20a\x20Tensor3D,\x20instead\x20have\x20','faceLandmarks','moveTo','parentTask','getNose','pointwise_filter','tinyFaceDetector','FaceExpressions.constructor\x20-\x20expected\x20probabilities.length\x20to\x20be\x207,\x20have:\x20','5wtHaTE','variable','_height','runNet','batchNorm','landmarks','scalar','prediction_layer/box_predictor_0/box_encoding_predictor','FaceRecognizer.constructor\x20-\x20expected\x20atleast\x20one\x20input','\x20tf.Tensor4D\x20with\x20batchSize\x20','_imageTensors','entry_flow','drawLabelOptions','__esModule','naturalHeight','SsdMobilenetv1\x20-\x20load\x20model\x20before\x20inference','failed\x20to\x20fetch:\x20(','_scoreThreshold','run','/scale/weights','extractParams','_imgDims','AgeGenderNet','type','.json','isNaN','fill','BOTTOM_RIGHT','getContext','runAndExtendWithFaceDetection',',\x20weights.length:\x20','/BatchNorm/moving_mean','withClassScores','measureWidth','traversePropertyPath','statusText','fillStyle','forwardInput','config.withSeparableConvs\x20has\x20to\x20be\x20a\x20boolean,\x20have:\x20','loadFromUri','TinyYolov2Options','7547967BbbesK','conv64_3','call','exports','faceExpressionNet','/depthwise_conv','mobilenetv1/conv_10','conv64_down','2083101NnNDnH','filter','abs','prototype','anchor','getJawOutline','pointColor','toNetInput\x20-\x20empty\x20array\x20passed\x20as\x20input','exit_flow/reduction_block','pointSize','status','config','Prediction/BoxPredictor_','batch_norm_mean','getEnv','error','conv6','mobilenetv1/conv_13','getUpperLeft','dataSync','scoreThreshold','readyState','FaceExpressionNet','atan2','isRect','_distanceThreshold','isDisposed','toSquare','left','toBatchTensor\x20-\x20at\x20batchIdx\x20','_shift','prediction_layer/box_predictor_1/box_encoding_predictor','isFirstLayerConv2d','sad','SsdMobilenetv1Options','softmax','className','imageHeight','reshape','\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array',',\x20filterSize:\x20','output_layer/extra_dim','canvases','anchors','readFile\x20-\x20failed\x20to\x20require\x20fs\x20in\x20nodejs\x20environment\x20with\x20error:\x20','fetch','conv7','fc/age','stack','conv128_down','face','_name','getRightEyeBrow','runTinyYolov2','/conv','Dimensions.constructor\x20-\x20expected\x20width\x20and\x20height\x20to\x20be\x20valid\x20numbers,\x20instead\x20have\x20','blob','TOP_RIGHT','dense2','prediction_layer/conv_0','drawFaceExpressions\x20-\x20expected\x20faceExpressions\x20to\x20be\x20FaceExpressions\x20|\x20WithFaceExpressions<{}>\x20or\x20array\x20thereof','mobilenetv1/conv_2','from','getClassifierChannelsOut','object','conv32_down','box','FEMALE','Prediction','prediction_layer/conv_5','image/','rgba(255,\x200,\x20255,\x201)','classScore','mobilenetv1/conv_7','withSeparableConvs','reassignParamFromPath','boxIndex','Output/extra_dim','area','euclideanDistance:\x20arr1.length\x20!==\x20arr2.length','tinyYolov2','same','_inputDimensions','detect','conv_2','withFaceExpressions','getFrozenParams',')\x20and\x20height\x20(','fillRect','_depthwise','isBatchInput','replace','conv64_1','toNetInput\x20-','gender',',\x20for\x20url:\x20','exp','createCanvasElement\x20-\x20missing\x20Canvas\x20implementation\x20for\x20nodejs\x20environment','floor','conv_3','Variable','bias','/conv0','addEventListener','traversePropertyPath\x20-\x20parameter\x20is\x20not\x20a\x20tensor,\x20for\x20path\x20','stroke','backgroundColor','\x20-\x20invalid\x20box:\x20','conv_1','img','\x20-\x20expected\x20properties\x20score\x20(','batchSize','fetchImage\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20image/*,\x20instead\x20have:\x20','descriptors','toString','NetInput.constructor\x20-\x20expected\x20inputs\x20to\x20be\x20an\x20Array\x20of\x20TResolvedNetInput\x20or\x20to\x20be\x20instanceof\x20tf.Tensor4D,\x20instead\x20have\x20','forward','mobilenetv1/conv_3','tensor1d','top','cast','Image','params','entry_flow/reduction_block_1','mobileNetV1\x20-\x20output\x20of\x20conv\x20layer\x2011\x20is\x20null','/BatchNorm/beta','/conv1','conv11','3900296CmwpyM','depth\x20has\x20to\x20be\x20an\x20integer:\x20','predictAgeAndGender','getOwnPropertyNames','/pointwise_conv','imageToSquare\x20-\x20expected\x20arg0\x20to\x20be\x20HTMLImageElement\x20|\x20HTMLCanvasElement','url'];_0x441a=function(){return _0x9ed61d;};return _0x441a();}var AnchorPosition=(_0x487eb6=>{const _0x5885b6=_0x3556c3;return _0x487eb6[_0x5885b6(0x35a)]=_0x5885b6(0x35a),_0x487eb6['TOP_RIGHT']=_0x5885b6(0x223),_0x487eb6[_0x5885b6(0x17a)]='BOTTOM_LEFT',_0x487eb6[_0x5885b6(0x1d4)]=_0x5885b6(0x1d4),_0x487eb6;})(AnchorPosition||{}),DrawTextFieldOptions=class{constructor(_0x4e277f={}){const _0x635a09=_0x3556c3,{anchorPosition:_0x1caabd,backgroundColor:_0x25b0b3,fontColor:_0x250c66,fontSize:_0x1759ac,fontStyle:_0x52f8d9,padding:_0x363142}=_0x4e277f;this[_0x635a09(0x2be)]=_0x1caabd||'TOP_LEFT',this[_0x635a09(0x254)]=_0x25b0b3||_0x635a09(0x143),this['fontColor']=_0x250c66||_0x635a09(0xdf),this[_0x635a09(0x2a1)]=_0x1759ac||0xe,this[_0x635a09(0x359)]=_0x52f8d9||_0x635a09(0x343),this[_0x635a09(0x28f)]=_0x363142||0x4;}},DrawTextField=class{constructor(_0x5f4451,_0x151f88,_0x598059={}){const _0x5d7495=_0x3556c3;this[_0x5d7495(0x319)]=typeof _0x5f4451===_0x5d7495(0x2ca)?[_0x5f4451]:_0x5f4451 instanceof DrawTextField?_0x5f4451[_0x5d7495(0x319)]:_0x5f4451,this['anchor']=_0x151f88,this[_0x5d7495(0x2aa)]=new DrawTextFieldOptions(_0x598059);}[_0x3556c3(0x1da)](_0x356732){const _0x28bf08=_0x3556c3,{padding:_0x2f93b5}=this[_0x28bf08(0x2aa)];return this[_0x28bf08(0x319)][_0x28bf08(0x2b0)](_0x29c408=>_0x356732['measureText'](_0x29c408)[_0x28bf08(0x350)])[_0x28bf08(0x16f)]((_0x4021d0,_0x177e85)=>_0x4021d0<_0x177e85?_0x177e85:_0x4021d0,0x0)+0x2*_0x2f93b5;}['measureHeight'](){const _0x5b1fd3=_0x3556c3,{fontSize:_0x5b2cc9,padding:_0x1e516a}=this[_0x5b1fd3(0x2aa)];return this[_0x5b1fd3(0x319)]['length']*_0x5b2cc9+0x2*_0x1e516a;}[_0x3556c3(0x1fc)](_0x1e49a7,_0x12390f){const _0x93529a=_0x3556c3,{anchorPosition:_0x5d6456}=this[_0x93529a(0x2aa)],_0x20c561=_0x5d6456==='BOTTOM_RIGHT'||_0x5d6456===_0x93529a(0x223),_0x500ec3=_0x5d6456===_0x93529a(0x17a)||_0x5d6456==='BOTTOM_RIGHT',_0x214f4d=this['measureWidth'](_0x1e49a7),_0x55e191=this[_0x93529a(0x2f8)](),_0x40f037=_0x20c561?this[_0x93529a(0x1ee)]['x']-_0x214f4d:this[_0x93529a(0x1ee)]['x'],_0x5480fd=_0x500ec3?this[_0x93529a(0x1ee)]['y']-_0x55e191:this['anchor']['y'];if(_0x12390f){const {width:_0x5ee371,height:_0x190d4c}=_0x12390f,_0x206f47=Math['max'](Math['min'](_0x40f037,_0x5ee371-_0x214f4d),0x0),_0x362f2b=Math['max'](Math[_0x93529a(0x30e)](_0x5480fd,_0x190d4c-_0x55e191),0x0);return{'x':_0x206f47,'y':_0x362f2b};}return{'x':_0x40f037,'y':_0x5480fd};}['draw'](_0x13e7c2){const _0x37cf3e=_0x3556c3,_0x53b741=resolveInput(_0x13e7c2),_0xf9cf94=getContext2dOrThrow(_0x53b741),{backgroundColor:_0x3b3096,fontColor:_0x41a3d4,fontSize:_0x4329df,fontStyle:_0x3413b2,padding:_0x1474aa}=this['options'];_0xf9cf94['font']=_0x4329df+_0x37cf3e(0x192)+_0x3413b2;const _0x406b53=this[_0x37cf3e(0x1da)](_0xf9cf94),_0xcce344=this[_0x37cf3e(0x2f8)]();_0xf9cf94[_0x37cf3e(0x1dd)]=_0x3b3096;const _0xa4cd9c=this[_0x37cf3e(0x1fc)](_0xf9cf94,_0x53b741);_0xf9cf94[_0x37cf3e(0x242)](_0xa4cd9c['x'],_0xa4cd9c['y'],_0x406b53,_0xcce344),_0xf9cf94[_0x37cf3e(0x1dd)]=_0x41a3d4,this['text'][_0x37cf3e(0xe0)]((_0x342901,_0x23e46c)=>{const _0x41430e=_0x1474aa+_0xa4cd9c['x'],_0x4f48a2=_0x1474aa+_0xa4cd9c['y']+(_0x23e46c+0x1)*_0x4329df;_0xf9cf94['fillText'](_0x342901,_0x41430e,_0x4f48a2);});}},DrawBoxOptions=class{constructor(_0x12d59b={}){const _0x25783e=_0x3556c3,{boxColor:_0x22e03e,lineWidth:_0x57d889,label:_0x2f79e1,drawLabelOptions:_0xe2f3f1}=_0x12d59b;this[_0x25783e(0x351)]=_0x22e03e||_0x25783e(0x294),this['lineWidth']=_0x57d889||0x2,this[_0x25783e(0x183)]=_0x2f79e1;const _0x26a43e={'anchorPosition':'BOTTOM_LEFT','backgroundColor':this[_0x25783e(0x351)]};this[_0x25783e(0x1c5)]=new DrawTextFieldOptions({..._0x26a43e,..._0xe2f3f1});}},DrawBox=class{constructor(_0x5d3342,_0x2a9d4e={}){const _0x3232e6=_0x3556c3;this[_0x3232e6(0x22c)]=new Box(_0x5d3342),this['options']=new DrawBoxOptions(_0x2a9d4e);}['draw'](_0x495f75){const _0x21f57f=_0x3556c3,_0xa94656=getContext2dOrThrow(_0x495f75),{boxColor:_0x1a94cb,lineWidth:_0x405b85}=this['options'],{x:_0x4e6c7f,y:_0x326224,width:_0x177666,height:_0x4678b5}=this['box'];_0xa94656[_0x21f57f(0x186)]=_0x1a94cb,_0xa94656[_0x21f57f(0x316)]=_0x405b85,_0xa94656['strokeRect'](_0x4e6c7f,_0x326224,_0x177666,_0x4678b5);const {label:_0x58346c}=this[_0x21f57f(0x2aa)];_0x58346c&&new DrawTextField([_0x58346c],{'x':_0x4e6c7f-_0x405b85/0x2,'y':_0x326224},this[_0x21f57f(0x2aa)][_0x21f57f(0x1c5)])['draw'](_0x495f75);}};function drawDetections(_0x36072d,_0x56c2a1){const _0x124dd3=_0x3556c3,_0x2ea1e6=Array[_0x124dd3(0x2e2)](_0x56c2a1)?_0x56c2a1:[_0x56c2a1];_0x2ea1e6['forEach'](_0x4cec2c=>{const _0x1b7c20=_0x124dd3,_0x461d63=_0x4cec2c instanceof FaceDetection?_0x4cec2c[_0x1b7c20(0xf0)]:isWithFaceDetection(_0x4cec2c)?_0x4cec2c[_0x1b7c20(0xd8)][_0x1b7c20(0xf0)]:void 0x0,_0x165444=_0x4cec2c instanceof FaceDetection?_0x4cec2c['box']:isWithFaceDetection(_0x4cec2c)?_0x4cec2c[_0x1b7c20(0xd8)][_0x1b7c20(0x22c)]:new Box(_0x4cec2c),_0x12d8bf=_0x461d63?''+round(_0x461d63):void 0x0;new DrawBox(_0x165444,{'label':_0x12d8bf})[_0x1b7c20(0x2a8)](_0x36072d);});}var tf18=__toESM(require_tfjs_esm());function isMediaLoaded(_0x25d065){const _0x469eb8=_0x3556c3,{Image:_0x4fa2e5,Video:_0x207746}=env['getEnv']();return _0x25d065 instanceof _0x4fa2e5&&_0x25d065[_0x469eb8(0x329)]||_0x25d065 instanceof _0x207746&&_0x25d065[_0x469eb8(0x1ff)]>=0x3;}function awaitMediaLoaded(_0x5ced42){return new Promise((_0x2e58f0,_0x1feb65)=>{const _0x3f20cb=_0x29bb;if(_0x5ced42 instanceof env['getEnv']()['Canvas']||isMediaLoaded(_0x5ced42))_0x2e58f0(null);function _0x494ad0(_0x254d68){const _0x10d05a=_0x29bb;if(!_0x254d68[_0x10d05a(0x2c4)])return;_0x254d68[_0x10d05a(0x2c4)][_0x10d05a(0x32a)]('load',_0x43b66b),_0x254d68[_0x10d05a(0x2c4)][_0x10d05a(0x32a)](_0x10d05a(0x1f9),_0x494ad0),_0x1feb65(_0x254d68);}function _0x43b66b(_0x153ed3){const _0x3dbf20=_0x29bb;if(!_0x153ed3[_0x3dbf20(0x2c4)])return;_0x153ed3['currentTarget'][_0x3dbf20(0x32a)]('load',_0x43b66b),_0x153ed3[_0x3dbf20(0x2c4)][_0x3dbf20(0x32a)](_0x3dbf20(0x1f9),_0x494ad0),_0x2e58f0(_0x153ed3);}_0x5ced42[_0x3f20cb(0x251)](_0x3f20cb(0x12c),_0x43b66b),_0x5ced42[_0x3f20cb(0x251)](_0x3f20cb(0x1f9),_0x494ad0);});}function bufferToImage(_0x11113d){return new Promise((_0x191da7,_0x4e364d)=>{const _0x348296=_0x29bb;if(!(_0x11113d instanceof Blob))_0x4e364d(new Error(_0x348296(0x2a5)));const _0x1560cf=new FileReader();_0x1560cf[_0x348296(0x2c0)]=()=>{const _0x31cae9=_0x348296;if(typeof _0x1560cf[_0x31cae9(0x299)]!==_0x31cae9(0x2ca))_0x4e364d(new Error(_0x31cae9(0x19b)));const _0x50acb4=env[_0x31cae9(0x1f8)]()[_0x31cae9(0x2bd)]();_0x50acb4[_0x31cae9(0x2c0)]=()=>_0x191da7(_0x50acb4),_0x50acb4[_0x31cae9(0x10c)]=_0x4e364d,_0x50acb4['src']=_0x1560cf[_0x31cae9(0x299)];},_0x1560cf[_0x348296(0x10c)]=_0x4e364d,_0x1560cf[_0x348296(0x122)](_0x11113d);});}function getMediaDimensions(_0x72a543){const _0x388e9d=_0x3556c3,{Image:_0x30853c,Video:_0x5d31a7}=env[_0x388e9d(0x1f8)]();if(_0x72a543 instanceof _0x30853c)return new Dimensions(_0x72a543['naturalWidth'],_0x72a543[_0x388e9d(0x1c7)]);if(_0x72a543 instanceof _0x5d31a7)return new Dimensions(_0x72a543[_0x388e9d(0x326)],_0x72a543['videoHeight']);return new Dimensions(_0x72a543[_0x388e9d(0x350)],_0x72a543[_0x388e9d(0xf6)]);}function createCanvas({width:_0x30e2e0,height:_0x5df1d9}){const _0x5796ec=_0x3556c3,{createCanvasElement:_0x1ea032}=env['getEnv'](),_0x49c611=_0x1ea032();return _0x49c611[_0x5796ec(0x350)]=_0x30e2e0,_0x49c611['height']=_0x5df1d9,_0x49c611;}function createCanvasFromMedia(_0x505780,_0x325207){const _0xeef07b=_0x3556c3,{ImageData:_0x2cb656}=env[_0xeef07b(0x1f8)]();if(!(_0x505780 instanceof _0x2cb656)&&!isMediaLoaded(_0x505780))throw new Error(_0xeef07b(0x2d5));const {width:_0x316aad,height:_0x287727}=_0x325207||getMediaDimensions(_0x505780),_0x50e325=createCanvas({'width':_0x316aad,'height':_0x287727});return _0x505780 instanceof _0x2cb656?getContext2dOrThrow(_0x50e325)[_0xeef07b(0x2fe)](_0x505780,0x0,0x0):getContext2dOrThrow(_0x50e325)[_0xeef07b(0x16b)](_0x505780,0x0,0x0,_0x316aad,_0x287727),_0x50e325;}var tf4=__toESM(require_tfjs_esm());async function imageTensorToCanvas(_0x138ca7,_0x92ef9e){const _0xc3452e=_0x3556c3,_0x2de6b5=_0x92ef9e||env[_0xc3452e(0x1f8)]()['createCanvasElement'](),[_0x2551d6,_0x16558e,_0x162d9a]=_0x138ca7[_0xc3452e(0x166)][_0xc3452e(0xed)](isTensor4D(_0x138ca7)?0x1:0x0),_0x424b3b=tf4[_0xc3452e(0xd5)](()=>_0x138ca7['as3D'](_0x2551d6,_0x16558e,_0x162d9a)[_0xc3452e(0x102)]());return await tf4[_0xc3452e(0x160)]['toPixels'](_0x424b3b,_0x2de6b5),_0x424b3b[_0xc3452e(0x126)](),_0x2de6b5;}function isMediaElement(_0x3d615a){const _0x153083=_0x3556c3,{Image:_0x5cd8eb,Canvas:_0x17d6c6,Video:_0x3d6dd7}=env[_0x153083(0x1f8)]();return _0x3d615a instanceof _0x5cd8eb||_0x3d615a instanceof _0x17d6c6||_0x3d615a instanceof _0x3d6dd7;}var tf5=__toESM(require_tfjs_esm());function imageToSquare(_0x6adfca,_0x3760cd,_0x18c588=![]){const _0x482b41=_0x3556c3,{Image:_0x91f98b,Canvas:_0x4516f9}=env[_0x482b41(0x1f8)]();if(!(_0x6adfca instanceof _0x91f98b||_0x6adfca instanceof _0x4516f9))throw new Error(_0x482b41(0x26f));if(_0x3760cd<=0x0)return createCanvas({'width':0x1,'height':0x1});const _0x40b685=getMediaDimensions(_0x6adfca),_0x10fa89=_0x3760cd/Math[_0x482b41(0x2f4)](_0x40b685[_0x482b41(0xf6)],_0x40b685['width']),_0x5c9230=_0x10fa89*_0x40b685[_0x482b41(0x350)],_0x2c16d1=_0x10fa89*_0x40b685[_0x482b41(0xf6)],_0x1b89d5=createCanvas({'width':_0x3760cd,'height':_0x3760cd}),_0x3fad7c=_0x6adfca instanceof _0x4516f9?_0x6adfca:createCanvasFromMedia(_0x6adfca),_0x4b7e6a=Math[_0x482b41(0x1ec)](_0x5c9230-_0x2c16d1)/0x2,_0x117db8=_0x18c588&&_0x5c9230<_0x2c16d1?_0x4b7e6a:0x0,_0x3e3830=_0x18c588&&_0x2c16d1<_0x5c9230?_0x4b7e6a:0x0;if(_0x3fad7c[_0x482b41(0x350)]>0x0&&_0x3fad7c[_0x482b41(0xf6)]>0x0)getContext2dOrThrow(_0x1b89d5)[_0x482b41(0x16b)](_0x3fad7c,_0x117db8,_0x3e3830,_0x5c9230,_0x2c16d1);return _0x1b89d5;}var NetInput=class{constructor(_0xce1801,_0x1dac36=![]){const _0x29de85=_0x3556c3;this[_0x29de85(0x1c3)]=[],this[_0x29de85(0x340)]=[],this[_0x29de85(0x106)]=![],this[_0x29de85(0x23c)]=[],this[_0x29de85(0x28b)]=0x0;if(!Array[_0x29de85(0x2e2)](_0xce1801))throw new Error(_0x29de85(0x25d)+_0xce1801);this[_0x29de85(0x106)]=_0x1dac36,this[_0x29de85(0x271)]=_0xce1801[_0x29de85(0x14a)],_0xce1801[_0x29de85(0xe0)]((_0x2c7aba,_0x2ba6f5)=>{const _0x3372e9=_0x29de85;if(isTensor3D(_0x2c7aba)){this[_0x3372e9(0x1c3)][_0x2ba6f5]=_0x2c7aba,this[_0x3372e9(0x23c)][_0x2ba6f5]=_0x2c7aba['shape'];return;}if(isTensor4D(_0x2c7aba)){const _0x371b31=_0x2c7aba[_0x3372e9(0x166)][0x0];if(_0x371b31!==0x1)throw new Error(_0x3372e9(0x172)+_0x371b31+_0x3372e9(0x211));this['_imageTensors'][_0x2ba6f5]=_0x2c7aba,this['_inputDimensions'][_0x2ba6f5]=_0x2c7aba['shape']['slice'](0x1);return;}const _0x4c80a1=_0x2c7aba instanceof env[_0x3372e9(0x1f8)]()[_0x3372e9(0x13e)]?_0x2c7aba:createCanvasFromMedia(_0x2c7aba);this[_0x3372e9(0x340)][_0x2ba6f5]=_0x4c80a1,this[_0x3372e9(0x23c)][_0x2ba6f5]=[_0x4c80a1['height'],_0x4c80a1['width'],0x3];});}get[_0x3556c3(0xe1)](){return this['_imageTensors'];}get[_0x3556c3(0x214)](){const _0x2ca99e=_0x3556c3;return this[_0x2ca99e(0x340)];}get['isBatchInput'](){const _0x4a560a=_0x3556c3;return this[_0x4a560a(0x259)]>0x1||this[_0x4a560a(0x106)];}get['batchSize'](){const _0x21eceb=_0x3556c3;return this[_0x21eceb(0x271)];}get['inputDimensions'](){return this['_inputDimensions'];}get['inputSize'](){const _0x452c12=_0x3556c3;return this[_0x452c12(0x28b)];}get['reshapedInputDimensions'](){const _0x597ee1=_0x3556c3;return range(this[_0x597ee1(0x259)],0x0,0x1)[_0x597ee1(0x2b0)]((_0x4f010c,_0x18a74d)=>this['getReshapedInputDimensions'](_0x18a74d));}[_0x3556c3(0x104)](_0x1956d4){const _0x1b6209=_0x3556c3;return this[_0x1b6209(0x214)][_0x1956d4]||this[_0x1b6209(0xe1)][_0x1956d4];}[_0x3556c3(0x2c1)](_0x42d54b){return this['_inputDimensions'][_0x42d54b];}[_0x3556c3(0x1a7)](_0x2a6408){const _0x4fa797=_0x3556c3;return this[_0x4fa797(0x23c)][_0x2a6408][0x0];}[_0x3556c3(0x275)](_0x32f1db){const _0x103673=_0x3556c3;return this[_0x103673(0x23c)][_0x32f1db][0x1];}[_0x3556c3(0x113)](_0xea8c83){const _0x3ce6eb=_0x3556c3;if(typeof this[_0x3ce6eb(0x276)]!==_0x3ce6eb(0xe2))throw new Error(_0x3ce6eb(0x34f));const _0x55ef21=this[_0x3ce6eb(0x275)](_0xea8c83),_0x4d77e5=this[_0x3ce6eb(0x1a7)](_0xea8c83);return computeReshapedDimensions({'width':_0x55ef21,'height':_0x4d77e5},this[_0x3ce6eb(0x276)]);}[_0x3556c3(0x2ad)](_0xd6dea0,_0x2e0260=!![]){const _0x9ded0c=_0x3556c3;return this[_0x9ded0c(0x28b)]=_0xd6dea0,tf5[_0x9ded0c(0xd5)](()=>{const _0xc41c48=_0x9ded0c,_0x71accb=range(this[_0xc41c48(0x259)],0x0,0x1)[_0xc41c48(0x2b0)](_0xe9c414=>{const _0xc201f6=_0xc41c48,_0x564f5a=this['getInput'](_0xe9c414);if(_0x564f5a instanceof tf5['Tensor']){let _0x34ac42=isTensor4D(_0x564f5a)?_0x564f5a:tf5['expandDims'](_0x564f5a);return _0x34ac42=padToSquare(_0x34ac42,_0x2e0260),(_0x34ac42['shape'][0x1]!==_0xd6dea0||_0x34ac42[_0xc201f6(0x166)][0x2]!==_0xd6dea0)&&(_0x34ac42=tf5[_0xc201f6(0x2dd)][_0xc201f6(0x178)](_0x34ac42,[_0xd6dea0,_0xd6dea0],![],![])),_0x34ac42[_0xc201f6(0x1a0)](_0xd6dea0,_0xd6dea0,0x3);}if(_0x564f5a instanceof env[_0xc201f6(0x1f8)]()[_0xc201f6(0x13e)])return tf5['browser'][_0xc201f6(0x310)](imageToSquare(_0x564f5a,_0xd6dea0,_0x2e0260));throw new Error(_0xc201f6(0x207)+_0xe9c414+_0xc201f6(0x2c9)+_0x564f5a);}),_0x1cad71=tf5[_0xc41c48(0x21a)](_0x71accb['map'](_0x256b57=>tf5['cast'](_0x256b57,'float32')))[_0xc41c48(0x185)](this[_0xc41c48(0x259)],_0xd6dea0,_0xd6dea0,0x3);return _0x1cad71;});}};async function toNetInput(_0x1d6ee4){const _0x3fdcd6=_0x3556c3;if(_0x1d6ee4 instanceof NetInput)return _0x1d6ee4;const _0x5991af=Array['isArray'](_0x1d6ee4)?_0x1d6ee4:[_0x1d6ee4];if(!_0x5991af[_0x3fdcd6(0x14a)])throw new Error(_0x3fdcd6(0x1f1));const _0xa694b=_0x14db9f=>Array[_0x3fdcd6(0x2e2)](_0x1d6ee4)?'\x20at\x20input\x20index\x20'+_0x14db9f+':':'',_0x4e94fb=_0x5991af[_0x3fdcd6(0x2b0)](resolveInput);return _0x4e94fb['forEach']((_0x3ddd72,_0x3c6d39)=>{const _0x431f62=_0x3fdcd6;if(!isMediaElement(_0x3ddd72)&&!isTensor3D(_0x3ddd72)&&!isTensor4D(_0x3ddd72)){if(typeof _0x5991af[_0x3c6d39]===_0x431f62(0x2ca))throw new Error(_0x431f62(0x247)+_0xa694b(_0x3c6d39)+_0x431f62(0x2a7)+_0x5991af[_0x3c6d39]);throw new Error('toNetInput\x20-'+_0xa694b(_0x3c6d39)+_0x431f62(0x2e7));}if(isTensor4D(_0x3ddd72)){const _0x2827f0=_0x3ddd72[_0x431f62(0x166)][0x0];if(_0x2827f0!==0x1)throw new Error(_0x431f62(0x247)+_0xa694b(_0x3c6d39)+_0x431f62(0x1c2)+_0x2827f0+'\x20passed,\x20but\x20not\x20supported\x20in\x20input\x20array');}}),await Promise['all'](_0x4e94fb[_0x3fdcd6(0x2b0)](_0x2446df=>isMediaElement(_0x2446df)&&awaitMediaLoaded(_0x2446df))),new NetInput(_0x4e94fb,Array['isArray'](_0x1d6ee4));}async function extractFaces(_0xd3de5b,_0x5040a7){const _0x3aa789=_0x3556c3,{Canvas:_0x5e759c}=env['getEnv']();let _0x517daa=_0xd3de5b;if(!(_0xd3de5b instanceof _0x5e759c)){const _0x432062=await toNetInput(_0xd3de5b);if(_0x432062['batchSize']>0x1)throw new Error(_0x3aa789(0x34c));const _0x3eb9a6=_0x432062[_0x3aa789(0x104)](0x0);_0x517daa=_0x3eb9a6 instanceof _0x5e759c?_0x3eb9a6:await imageTensorToCanvas(_0x3eb9a6);}const _0x149691=getContext2dOrThrow(_0x517daa),_0x3b833e=_0x5040a7['map'](_0x32090f=>_0x32090f instanceof FaceDetection?_0x32090f[_0x3aa789(0x19f)](_0x517daa[_0x3aa789(0x350)],_0x517daa[_0x3aa789(0xf6)])[_0x3aa789(0x22c)][_0x3aa789(0x24c)]():_0x32090f)['map'](_0x5b2684=>_0x5b2684[_0x3aa789(0x129)](_0x517daa['width'],_0x517daa['height']));return _0x3b833e[_0x3aa789(0x2b0)](({x:_0x338b7a,y:_0x9a1cff,width:_0x4c766e,height:_0x513fe2})=>{const _0x29c725=_0x3aa789,_0xe59974=createCanvas({'width':_0x4c766e,'height':_0x513fe2});if(_0x4c766e>0x0&&_0x513fe2>0x0)getContext2dOrThrow(_0xe59974)[_0x29c725(0x2fe)](_0x149691[_0x29c725(0x1aa)](_0x338b7a,_0x9a1cff,_0x4c766e,_0x513fe2),0x0,0x0);return _0xe59974;});}var tf6=__toESM(require_tfjs_esm());async function extractFaceTensors(_0x85719f,_0x592a9d){const _0x2447cb=_0x3556c3;if(!isTensor3D(_0x85719f)&&!isTensor4D(_0x85719f))throw new Error('extractFaceTensors\x20-\x20expected\x20image\x20tensor\x20to\x20be\x203D\x20or\x204D');if(isTensor4D(_0x85719f)&&_0x85719f[_0x2447cb(0x166)][0x0]>0x1)throw new Error('extractFaceTensors\x20-\x20batchSize\x20>\x201\x20not\x20supported');return tf6['tidy'](()=>{const _0x12f75a=_0x2447cb,[_0x393fdc,_0x127c21,_0x297995]=_0x85719f[_0x12f75a(0x166)][_0x12f75a(0xed)](isTensor4D(_0x85719f)?0x1:0x0),_0x54a1d6=_0x592a9d[_0x12f75a(0x2b0)](_0x64ac08=>_0x64ac08 instanceof FaceDetection?_0x64ac08[_0x12f75a(0x19f)](_0x127c21,_0x393fdc)[_0x12f75a(0x22c)]:_0x64ac08)['map'](_0x35a79f=>_0x35a79f[_0x12f75a(0x129)](_0x127c21,_0x393fdc)),_0x5ceccb=_0x54a1d6[_0x12f75a(0x1eb)](_0x2e0f08=>_0x2e0f08[_0x12f75a(0x350)]>0x0&&_0x2e0f08[_0x12f75a(0xf6)]>0x0)[_0x12f75a(0x2b0)](({x:_0x4f9a9d,y:_0x44a53e,width:_0x2813f0,height:_0x22b677})=>tf6[_0x12f75a(0x144)](_0x85719f[_0x12f75a(0x1a0)](_0x393fdc,_0x127c21,_0x297995),[_0x44a53e,_0x4f9a9d,0x0],[_0x22b677,_0x2813f0,_0x297995]));return _0x5ceccb;});}async function fetchOrThrow(_0x39ad45,_0x3dd465){const _0x7f1c66=_0x3556c3,{fetch:_0x19f6a4}=env[_0x7f1c66(0x1f8)](),_0x5cfed4=await _0x19f6a4(_0x39ad45,_0x3dd465);if(!(_0x5cfed4[_0x7f1c66(0x1f4)]<0x190))throw new Error(_0x7f1c66(0x1c9)+_0x5cfed4[_0x7f1c66(0x1f4)]+')\x20'+_0x5cfed4[_0x7f1c66(0x1dc)]+_0x7f1c66(0x176)+_0x5cfed4[_0x7f1c66(0x270)]);return _0x5cfed4;}async function fetchImage(_0x489468){const _0x76c0f7=_0x3556c3,_0xa51cb9=await fetchOrThrow(_0x489468),_0x27258f=await _0xa51cb9[_0x76c0f7(0x222)]();if(!_0x27258f['type'][_0x76c0f7(0x1ad)](_0x76c0f7(0x230)))throw new Error(_0x76c0f7(0x25a)+_0x27258f[_0x76c0f7(0x1d0)]+_0x76c0f7(0x249)+_0xa51cb9[_0x76c0f7(0x270)]);return bufferToImage(_0x27258f);}async function fetchJson(_0xc92a85){return(await fetchOrThrow(_0xc92a85))['json']();}async function fetchNetWeights(_0x49ae31){const _0x45d6d2=_0x3556c3;return new Float32Array(await(await fetchOrThrow(_0x49ae31))[_0x45d6d2(0x193)]());}function bufferToVideo(_0xc1edc8){return new Promise((_0x4db924,_0x47bb12)=>{const _0x558886=_0x29bb;if(!(_0xc1edc8 instanceof Blob))_0x47bb12(new Error(_0x558886(0x101)));const _0x51488a=env[_0x558886(0x1f8)]()[_0x558886(0x18f)]();_0x51488a['oncanplay']=()=>_0x4db924(_0x51488a),_0x51488a[_0x558886(0x10c)]=_0x47bb12,_0x51488a[_0x558886(0x112)]=!![],_0x51488a[_0x558886(0x28c)]=!![],_0x51488a['src']=URL[_0x558886(0x18a)](_0xc1edc8),_0x51488a['play']();});}async function fetchVideo(_0xf141c0){const _0x53e572=_0x3556c3,_0x5be964=await fetchOrThrow(_0xf141c0),_0x321970=await _0x5be964[_0x53e572(0x222)]();if(!_0x321970['type'][_0x53e572(0x1ad)]('video/'))throw new Error('fetchVideo\x20-\x20expected\x20blob\x20type\x20to\x20be\x20of\x20type\x20video/*,\x20instead\x20have:\x20'+_0x321970['type']+_0x53e572(0x249)+_0x5be964['url']);return bufferToVideo(_0x321970);}var tf7=__toESM(require_tfjs_esm());function getModelUris(_0x2a4486,_0x516950){const _0xf5039d=_0x3556c3,_0x431548=_0x516950+'-weights_manifest.json';if(!_0x2a4486)return{'modelBaseUri':'','manifestUri':_0x431548};if(_0x2a4486==='/')return{'modelBaseUri':'/','manifestUri':'/'+_0x431548};const _0x1263ed=_0x2a4486['startsWith'](_0xf5039d(0x110))?_0xf5039d(0x110):_0x2a4486['startsWith'](_0xf5039d(0x153))?_0xf5039d(0x153):'';_0x2a4486=_0x2a4486[_0xf5039d(0x245)](_0x1263ed,'');const _0x91eda2=_0x2a4486[_0xf5039d(0x2ff)]('/')[_0xf5039d(0x1eb)](_0x10f2e4=>_0x10f2e4),_0x1d1efb=_0x2a4486[_0xf5039d(0x128)]('.json')?_0x91eda2[_0x91eda2[_0xf5039d(0x14a)]-0x1]:_0x431548;let _0x39ee84=_0x1263ed+(_0x2a4486[_0xf5039d(0x128)](_0xf5039d(0x1d1))?_0x91eda2[_0xf5039d(0xed)](0x0,_0x91eda2[_0xf5039d(0x14a)]-0x1):_0x91eda2)[_0xf5039d(0x318)]('/');return _0x39ee84=_0x2a4486['startsWith']('/')?'/'+_0x39ee84:_0x39ee84,{'modelBaseUri':_0x39ee84,'manifestUri':_0x39ee84==='/'?'/'+_0x1d1efb:_0x39ee84+'/'+_0x1d1efb};}async function loadWeightMap(_0x4fe828,_0x5edf0a){const _0x393cdd=_0x3556c3,{manifestUri:_0x52efa6,modelBaseUri:_0x4980f6}=getModelUris(_0x4fe828,_0x5edf0a),_0x3b7552=await fetchJson(_0x52efa6);return tf7['io'][_0x393cdd(0x139)](_0x3b7552,_0x4980f6);}function matchDimensions(_0x162427,_0x13a468,_0x3f5901=![]){const _0x570815=_0x3556c3,{width:_0x5ae80b,height:_0x256108}=_0x3f5901?getMediaDimensions(_0x13a468):_0x13a468;return _0x162427[_0x570815(0x350)]=_0x5ae80b,_0x162427[_0x570815(0xf6)]=_0x256108,{'width':_0x5ae80b,'height':_0x256108};}var tf15=__toESM(require_tfjs_esm()),tf8=__toESM(require_tfjs_esm()),NeuralNetwork=class{constructor(_0x59077c){const _0x6858e3=_0x3556c3;this[_0x6858e3(0x30f)]=void 0x0,this[_0x6858e3(0xeb)]=[],this[_0x6858e3(0x21d)]=_0x59077c;}get[_0x3556c3(0x264)](){const _0x2d8396=_0x3556c3;return this[_0x2d8396(0x30f)];}get[_0x3556c3(0x10b)](){const _0x55694d=_0x3556c3;return this[_0x55694d(0xeb)];}get[_0x3556c3(0x2b6)](){const _0x1c5baf=_0x3556c3;return!!this[_0x1c5baf(0x264)];}[_0x3556c3(0xf3)](_0x41fa83){const _0x5bd41f=_0x3556c3,{obj:_0x550260,objProp:_0x48b46d}=this[_0x5bd41f(0x1db)](_0x41fa83);return _0x550260[_0x48b46d];}[_0x3556c3(0x235)](_0x18ffb6,_0x54ddfc){const {obj:_0x3ddc07,objProp:_0x19128c}=this['traversePropertyPath'](_0x18ffb6);_0x3ddc07[_0x19128c]['dispose'](),_0x3ddc07[_0x19128c]=_0x54ddfc;}[_0x3556c3(0x31f)](){const _0x53dc31=_0x3556c3;return this[_0x53dc31(0xeb)][_0x53dc31(0x2b0)](({paramPath:_0x2102f6})=>({'path':_0x2102f6,'tensor':this[_0x53dc31(0xf3)](_0x2102f6)}));}['getTrainableParams'](){const _0x16e8fe=_0x3556c3;return this['getParamList']()[_0x16e8fe(0x1eb)](_0x37dedd=>_0x37dedd['tensor']instanceof tf8[_0x16e8fe(0x24e)]);}[_0x3556c3(0x240)](){const _0x237aef=_0x3556c3;return this['getParamList']()[_0x237aef(0x1eb)](_0x5d618b=>!(_0x5d618b['tensor']instanceof tf8[_0x237aef(0x24e)]));}[_0x3556c3(0x1ba)](){this['getFrozenParams']()['forEach'](({path:_0x2d5811,tensor:_0x4f180d})=>{const _0x3776fe=_0x29bb;this[_0x3776fe(0x235)](_0x2d5811,_0x4f180d[_0x3776fe(0x1ba)]());});}[_0x3556c3(0x2a0)](){const _0x49630f=_0x3556c3;this[_0x49630f(0x31c)]()[_0x49630f(0xe0)](({path:_0x2c73aa,tensor:_0x22317a})=>{const _0xf61860=_0x49630f,_0x913bba=tf8[_0xf61860(0x2a9)](_0x22317a['dataSync']());_0x22317a[_0xf61860(0x126)](),this[_0xf61860(0x235)](_0x2c73aa,_0x913bba);});}['dispose'](_0xe8c6ff=!![]){const _0x5698a9=_0x3556c3;this[_0x5698a9(0x31f)]()[_0x5698a9(0xe0)](_0x35265c=>{const _0x44828c=_0x5698a9;if(_0xe8c6ff&&_0x35265c[_0x44828c(0x2a9)][_0x44828c(0x204)])throw new Error(_0x44828c(0x279)+_0x35265c['path']);_0x35265c[_0x44828c(0x2a9)][_0x44828c(0x126)]();}),this[_0x5698a9(0x30f)]=void 0x0;}['serializeParams'](){const _0x561e24=_0x3556c3;return new Float32Array(this['getParamList']()[_0x561e24(0x2b0)](({tensor:_0x67717f})=>Array[_0x561e24(0x228)](_0x67717f['dataSync']()))[_0x561e24(0x16f)]((_0x4ceccb,_0xcbd09)=>_0x4ceccb[_0x561e24(0x116)](_0xcbd09)));}async['load'](_0x14f1b8){const _0x1f6309=_0x3556c3;if(_0x14f1b8 instanceof Float32Array){this[_0x1f6309(0x30b)](_0x14f1b8);return;}await this[_0x1f6309(0x1e0)](_0x14f1b8);}async[_0x3556c3(0x1e0)](_0x469b04){const _0x3adae7=_0x3556c3;if(_0x469b04&&typeof _0x469b04!==_0x3adae7(0x2ca))throw new Error(this[_0x3adae7(0x21d)]+_0x3adae7(0x2d1));const _0x234128=await loadWeightMap(_0x469b04,this[_0x3adae7(0x306)]());this[_0x3adae7(0x195)](_0x234128);}async[_0x3556c3(0x11c)](_0x4665d9){const _0x5535a0=_0x3556c3;if(_0x4665d9&&typeof _0x4665d9!==_0x5535a0(0x2ca))throw new Error(this[_0x5535a0(0x21d)]+_0x5535a0(0x155));const {readFile:_0x387d1b}=env['getEnv'](),{manifestUri:_0x1d9ae8,modelBaseUri:_0x4e2330}=getModelUris(_0x4665d9,this[_0x5535a0(0x306)]()),_0x2777ab=_0x370980=>Promise[_0x5535a0(0x10e)](_0x370980[_0x5535a0(0x2b0)](_0x154cc6=>_0x387d1b(_0x154cc6)[_0x5535a0(0x29b)](_0x1f49d1=>_0x1f49d1[_0x5535a0(0x180)]))),_0x118cbc=tf8['io']['weightsLoaderFactory'](_0x2777ab),_0x5197f1=JSON['parse']((await _0x387d1b(_0x1d9ae8))[_0x5535a0(0x25c)]()),_0x3d07c5=await _0x118cbc(_0x5197f1,_0x4e2330);this['loadFromWeightMap'](_0x3d07c5);}[_0x3556c3(0x195)](_0x2e44a5){const _0x3ae448=_0x3556c3,{paramMappings:_0x4bf515,params:_0x54ad0f}=this['extractParamsFromWeightMap'](_0x2e44a5);this[_0x3ae448(0xeb)]=_0x4bf515,this[_0x3ae448(0x30f)]=_0x54ad0f;}['extractWeights'](_0x1ca807){const _0x148b5e=_0x3556c3,{paramMappings:_0x36f297,params:_0x19f114}=this[_0x148b5e(0x1cd)](_0x1ca807);this[_0x148b5e(0xeb)]=_0x36f297,this[_0x148b5e(0x30f)]=_0x19f114;}[_0x3556c3(0x1db)](_0xe1de35){const _0x326a8d=_0x3556c3;if(!this['params'])throw new Error(_0x326a8d(0x2b1));const _0x11a7ba=_0xe1de35[_0x326a8d(0x2ff)]('/')['reduce']((_0x8494b9,_0x481600)=>{const _0x37df10=_0x326a8d;if(!_0x8494b9['nextObj'][_0x37df10(0x282)](_0x481600))throw new Error(_0x37df10(0x18d)+_0x481600+_0x37df10(0x173)+_0xe1de35);return{'obj':_0x8494b9[_0x37df10(0x11f)],'objProp':_0x481600,'nextObj':_0x8494b9[_0x37df10(0x11f)][_0x481600]};},{'nextObj':this[_0x326a8d(0x264)]}),{obj:_0x20d3fd,objProp:_0x4a6aa8}=_0x11a7ba;if(!_0x20d3fd||!_0x4a6aa8||!(_0x20d3fd[_0x4a6aa8]instanceof tf8[_0x326a8d(0x332)]))throw new Error(_0x326a8d(0x252)+_0xe1de35);return{'obj':_0x20d3fd,'objProp':_0x4a6aa8};}},tf10=__toESM(require_tfjs_esm()),tf9=__toESM(require_tfjs_esm());function depthwiseSeparableConv(_0x38401b,_0x9ed88d,_0x32917f){const _0x3479f4=_0x3556c3;return tf9[_0x3479f4(0xd5)](()=>{const _0x1c873a=_0x3479f4;let _0x19288d=tf9[_0x1c873a(0xde)](_0x38401b,_0x9ed88d[_0x1c873a(0x2fd)],_0x9ed88d['pointwise_filter'],_0x32917f,_0x1c873a(0x23b));return _0x19288d=tf9[_0x1c873a(0x15a)](_0x19288d,_0x9ed88d[_0x1c873a(0x24f)]),_0x19288d;});}function denseBlock3(_0x40e60c,_0x1f3f2e,_0x5de9d6=![]){const _0x1ccff5=_0x3556c3;return tf10[_0x1ccff5(0xd5)](()=>{const _0x39e402=_0x1ccff5,_0x599678=tf10['relu'](_0x5de9d6?tf10[_0x39e402(0x15a)](tf10[_0x39e402(0x124)](_0x40e60c,_0x1f3f2e[_0x39e402(0x12e)][_0x39e402(0x11a)],[0x2,0x2],_0x39e402(0x23b)),_0x1f3f2e[_0x39e402(0x12e)][_0x39e402(0x24f)]):depthwiseSeparableConv(_0x40e60c,_0x1f3f2e['conv0'],[0x2,0x2])),_0x2e4411=depthwiseSeparableConv(_0x599678,_0x1f3f2e['conv1'],[0x1,0x1]),_0x4cb858=tf10[_0x39e402(0x29c)](tf10['add'](_0x599678,_0x2e4411)),_0x4d0336=depthwiseSeparableConv(_0x4cb858,_0x1f3f2e[_0x39e402(0x123)],[0x1,0x1]);return tf10[_0x39e402(0x29c)](tf10[_0x39e402(0x15a)](_0x599678,tf10[_0x39e402(0x15a)](_0x2e4411,_0x4d0336)));});}function denseBlock4(_0x5d8b68,_0x4a5083,_0x140b89=![],_0x4e4be4=!![]){const _0x1cf50a=_0x3556c3;return tf10[_0x1cf50a(0xd5)](()=>{const _0x4c6f00=_0x1cf50a,_0x18430f=tf10[_0x4c6f00(0x29c)](_0x140b89?tf10['add'](tf10['conv2d'](_0x5d8b68,_0x4a5083[_0x4c6f00(0x12e)][_0x4c6f00(0x11a)],_0x4e4be4?[0x2,0x2]:[0x1,0x1],_0x4c6f00(0x23b)),_0x4a5083[_0x4c6f00(0x12e)]['bias']):depthwiseSeparableConv(_0x5d8b68,_0x4a5083[_0x4c6f00(0x12e)],_0x4e4be4?[0x2,0x2]:[0x1,0x1])),_0x239377=depthwiseSeparableConv(_0x18430f,_0x4a5083[_0x4c6f00(0x10a)],[0x1,0x1]),_0x2be1f1=tf10[_0x4c6f00(0x29c)](tf10[_0x4c6f00(0x15a)](_0x18430f,_0x239377)),_0x5668e5=depthwiseSeparableConv(_0x2be1f1,_0x4a5083[_0x4c6f00(0x123)],[0x1,0x1]),_0x25d2e8=tf10[_0x4c6f00(0x29c)](tf10[_0x4c6f00(0x15a)](_0x18430f,tf10['add'](_0x239377,_0x5668e5))),_0x1ee0ad=depthwiseSeparableConv(_0x25d2e8,_0x4a5083[_0x4c6f00(0x171)],[0x1,0x1]);return tf10['relu'](tf10[_0x4c6f00(0x15a)](_0x18430f,tf10['add'](_0x239377,tf10[_0x4c6f00(0x15a)](_0x5668e5,_0x1ee0ad))));});}var tf11=__toESM(require_tfjs_esm());function convLayer(_0x3877cc,_0x5e8542,_0x4e96c4=_0x3556c3(0x23b),_0x3a5e6=![]){const _0xeee0fc=_0x3556c3;return tf11[_0xeee0fc(0xd5)](()=>{const _0x54237e=_0xeee0fc,_0x208936=tf11['add'](tf11['conv2d'](_0x3877cc,_0x5e8542['filters'],[0x1,0x1],_0x4e96c4),_0x5e8542['bias']);return _0x3a5e6?tf11[_0x54237e(0x29c)](_0x208936):_0x208936;});}function disposeUnusedWeightTensors(_0x2d2e6d,_0x149b71){const _0x2c36c6=_0x3556c3;Object['keys'](_0x2d2e6d)[_0x2c36c6(0xe0)](_0x5f34cd=>{const _0x5a9900=_0x2c36c6;!_0x149b71['some'](_0x3e037a=>_0x3e037a[_0x5a9900(0x158)]===_0x5f34cd)&&_0x2d2e6d[_0x5f34cd][_0x5a9900(0x126)]();});}function _0x29bb(_0x3c1ecf,_0x2f95b9){const _0x441a67=_0x441a();return _0x29bb=function(_0x29bbfd,_0x2f4a38){_0x29bbfd=_0x29bbfd-0xd0;let _0x57ea26=_0x441a67[_0x29bbfd];return _0x57ea26;},_0x29bb(_0x3c1ecf,_0x2f95b9);}var tf12=__toESM(require_tfjs_esm());function extractConvParamsFactory(_0x210809,_0xd75a29){return(_0x277675,_0x1acc90,_0xff8a69,_0x232433)=>{const _0x2c5f6a=_0x29bb,_0x446a7c=tf12[_0x2c5f6a(0x133)](_0x210809(_0x277675*_0x1acc90*_0xff8a69*_0xff8a69),[_0xff8a69,_0xff8a69,_0x277675,_0x1acc90]),_0x52991c=tf12[_0x2c5f6a(0x260)](_0x210809(_0x1acc90));return _0xd75a29[_0x2c5f6a(0x2b3)]({'paramPath':_0x232433+'/filters'},{'paramPath':_0x232433+_0x2c5f6a(0x146)}),{'filters':_0x446a7c,'bias':_0x52991c};};}var tf13=__toESM(require_tfjs_esm());function extractFCParamsFactory(_0x5c3c56,_0x4abe9a){return(_0xa6e7d4,_0x25655e,_0x4fe636)=>{const _0xdcf89e=_0x29bb,_0xef4218=tf13['tensor2d'](_0x5c3c56(_0xa6e7d4*_0x25655e),[_0xa6e7d4,_0x25655e]),_0xccdbab=tf13['tensor1d'](_0x5c3c56(_0x25655e));return _0x4abe9a[_0xdcf89e(0x2b3)]({'paramPath':_0x4fe636+'/weights'},{'paramPath':_0x4fe636+_0xdcf89e(0x146)}),{'weights':_0xef4218,'bias':_0xccdbab};};}var tf14=__toESM(require_tfjs_esm()),SeparableConvParams=class{constructor(_0x28067f,_0x219d9a,_0x49eeb4){const _0x43997e=_0x3556c3;this[_0x43997e(0x2fd)]=_0x28067f,this[_0x43997e(0x1b6)]=_0x219d9a,this[_0x43997e(0x24f)]=_0x49eeb4;}};function extractSeparableConvParamsFactory(_0x4668d2,_0x1aed2d){return(_0x3463cb,_0x1b5bd5,_0x278775)=>{const _0x4d6e3e=_0x29bb,_0x5f2a87=tf14[_0x4d6e3e(0x133)](_0x4668d2(0x3*0x3*_0x3463cb),[0x3,0x3,_0x3463cb,0x1]),_0x6f752=tf14[_0x4d6e3e(0x133)](_0x4668d2(_0x3463cb*_0x1b5bd5),[0x1,0x1,_0x3463cb,_0x1b5bd5]),_0x59683b=tf14[_0x4d6e3e(0x260)](_0x4668d2(_0x1b5bd5));return _0x1aed2d['push']({'paramPath':_0x278775+_0x4d6e3e(0x140)},{'paramPath':_0x278775+_0x4d6e3e(0x2c8)},{'paramPath':_0x278775+'/bias'}),new SeparableConvParams(_0x5f2a87,_0x6f752,_0x59683b);};}function loadSeparableConvParamsFactory(_0x495d41){return _0x11a2ee=>{const _0x49adc4=_0x29bb,_0x470b1c=_0x495d41(_0x11a2ee+_0x49adc4(0x140),0x4),_0xc4a13f=_0x495d41(_0x11a2ee+_0x49adc4(0x2c8),0x4),_0x512fee=_0x495d41(_0x11a2ee+_0x49adc4(0x146),0x1);return new SeparableConvParams(_0x470b1c,_0xc4a13f,_0x512fee);};}function extractWeightEntryFactory(_0x24584c,_0x54a2fe){return(_0x3f7275,_0x2d9b96,_0xd6f0b6)=>{const _0x308a18=_0x29bb,_0x5d8f9b=_0x24584c[_0x3f7275];if(!isTensor(_0x5d8f9b,_0x2d9b96))throw new Error(_0x308a18(0x30c)+_0x3f7275+']\x20to\x20be\x20a\x20Tensor'+_0x2d9b96+_0x308a18(0x175)+_0x5d8f9b);return _0x54a2fe[_0x308a18(0x2b3)]({'originalPath':_0x3f7275,'paramPath':_0xd6f0b6||_0x3f7275}),_0x5d8f9b;};}function extractWeightsFactory(_0x28f112){let _0x41172d=_0x28f112;function _0x214231(_0x4c016b){const _0x3c592c=_0x29bb,_0x2108b4=_0x41172d[_0x3c592c(0xed)](0x0,_0x4c016b);return _0x41172d=_0x41172d[_0x3c592c(0xed)](_0x4c016b),_0x2108b4;}function _0x1dfe16(){return _0x41172d;}return{'extractWeights':_0x214231,'getRemainingWeights':_0x1dfe16};}function extractorsFactory(_0x4e8a84,_0x1b622f){const _0x54a885=extractConvParamsFactory(_0x4e8a84,_0x1b622f),_0x162037=extractSeparableConvParamsFactory(_0x4e8a84,_0x1b622f);function _0xa14d90(_0x22b093,_0x44785b,_0x27fd02,_0x179a75=![]){const _0x419b82=_0x29bb,_0x1e749f=_0x179a75?_0x54a885(_0x22b093,_0x44785b,0x3,_0x27fd02+'/conv0'):_0x162037(_0x22b093,_0x44785b,_0x27fd02+_0x419b82(0x250)),_0x53a539=_0x162037(_0x44785b,_0x44785b,_0x27fd02+_0x419b82(0x268)),_0xf12b54=_0x162037(_0x44785b,_0x44785b,_0x27fd02+_0x419b82(0xfc));return{'conv0':_0x1e749f,'conv1':_0x53a539,'conv2':_0xf12b54};}function _0x116904(_0x238f5e,_0x257293,_0x38cc27,_0x2eb52f=![]){const {conv0:_0x75742e,conv1:_0x443f14,conv2:_0x1486f8}=_0xa14d90(_0x238f5e,_0x257293,_0x38cc27,_0x2eb52f),_0x1d3b61=_0x162037(_0x257293,_0x257293,_0x38cc27+'/conv3');return{'conv0':_0x75742e,'conv1':_0x443f14,'conv2':_0x1486f8,'conv3':_0x1d3b61};}return{'extractDenseBlock3Params':_0xa14d90,'extractDenseBlock4Params':_0x116904};}function extractParams(_0x16be17){const _0x126c60=_0x3556c3,_0x332eea=[],{extractWeights:_0x236c60,getRemainingWeights:_0x400cbd}=extractWeightsFactory(_0x16be17),{extractDenseBlock4Params:_0x346a7d}=extractorsFactory(_0x236c60,_0x332eea),_0x4d4bae=_0x346a7d(0x3,0x20,'dense0',!![]),_0x48b37b=_0x346a7d(0x20,0x40,_0x126c60(0x303)),_0x48430d=_0x346a7d(0x40,0x80,'dense2'),_0x4bfb6b=_0x346a7d(0x80,0x100,_0x126c60(0x30d));if(_0x400cbd()[_0x126c60(0x14a)]!==0x0)throw new Error(_0x126c60(0xd0)+_0x400cbd()[_0x126c60(0x14a)]);return{'paramMappings':_0x332eea,'params':{'dense0':_0x4d4bae,'dense1':_0x48b37b,'dense2':_0x48430d,'dense3':_0x4bfb6b}};}function loadConvParamsFactory(_0x3f2065){return _0x4e5530=>{const _0x16141a=_0x29bb,_0x1032b4=_0x3f2065(_0x4e5530+_0x16141a(0x17d),0x4),_0x57a7dc=_0x3f2065(_0x4e5530+_0x16141a(0x146),0x1);return{'filters':_0x1032b4,'bias':_0x57a7dc};};}function loadParamsFactory(_0x28a7fb,_0x245a5c){const _0x39ec04=extractWeightEntryFactory(_0x28a7fb,_0x245a5c),_0x24f076=loadConvParamsFactory(_0x39ec04),_0xdc6a92=loadSeparableConvParamsFactory(_0x39ec04);function _0x40312d(_0x7e660d,_0x2fdc7d=![]){const _0x3c0b2e=_0x29bb,_0x3fbb3d=_0x2fdc7d?_0x24f076(_0x7e660d+_0x3c0b2e(0x250)):_0xdc6a92(_0x7e660d+'/conv0'),_0x46f8e5=_0xdc6a92(_0x7e660d+_0x3c0b2e(0x268)),_0xa5b586=_0xdc6a92(_0x7e660d+'/conv2');return{'conv0':_0x3fbb3d,'conv1':_0x46f8e5,'conv2':_0xa5b586};}function _0xba5cd6(_0x374b21,_0x12fee6=![]){const _0x2792cd=_0x29bb,_0x169227=_0x12fee6?_0x24f076(_0x374b21+_0x2792cd(0x250)):_0xdc6a92(_0x374b21+_0x2792cd(0x250)),_0x370cff=_0xdc6a92(_0x374b21+_0x2792cd(0x268)),_0x11794f=_0xdc6a92(_0x374b21+_0x2792cd(0xfc)),_0x232797=_0xdc6a92(_0x374b21+_0x2792cd(0x11b));return{'conv0':_0x169227,'conv1':_0x370cff,'conv2':_0x11794f,'conv3':_0x232797};}return{'extractDenseBlock3Params':_0x40312d,'extractDenseBlock4Params':_0xba5cd6};}function extractParamsFromWeightMap(_0x32f5d5){const _0x2d4b09=_0x3556c3,_0x581c75=[],{extractDenseBlock4Params:_0x49ce41}=loadParamsFactory(_0x32f5d5,_0x581c75),_0x25aa26={'dense0':_0x49ce41(_0x2d4b09(0x2f7),!![]),'dense1':_0x49ce41('dense1'),'dense2':_0x49ce41(_0x2d4b09(0x224)),'dense3':_0x49ce41(_0x2d4b09(0x30d))};return disposeUnusedWeightTensors(_0x32f5d5,_0x581c75),{'params':_0x25aa26,'paramMappings':_0x581c75};}var FaceFeatureExtractor=class extends NeuralNetwork{constructor(){super('FaceFeatureExtractor');}['forwardInput'](_0x52ce78){const _0x280a96=_0x3556c3,{params:_0x39a4bf}=this;if(!_0x39a4bf)throw new Error(_0x280a96(0x2cc));return tf15['tidy'](()=>{const _0x475559=_0x280a96,_0x3e8f26=tf15[_0x475559(0x262)](_0x52ce78['toBatchTensor'](0x70,!![]),_0x475559(0xe7)),_0x4b6d48=[122.782,117.001,104.298],_0x5307cb=normalize(_0x3e8f26,_0x4b6d48)['div'](0xff);let _0x370a33=denseBlock4(_0x5307cb,_0x39a4bf['dense0'],!![]);return _0x370a33=denseBlock4(_0x370a33,_0x39a4bf['dense1']),_0x370a33=denseBlock4(_0x370a33,_0x39a4bf['dense2']),_0x370a33=denseBlock4(_0x370a33,_0x39a4bf[_0x475559(0x30d)]),_0x370a33=tf15[_0x475559(0x132)](_0x370a33,[0x7,0x7],[0x2,0x2],_0x475559(0x320)),_0x370a33;});}async[_0x3556c3(0x25e)](_0x5ebef5){const _0x5c3cfb=_0x3556c3;return this[_0x5c3cfb(0x1de)](await toNetInput(_0x5ebef5));}[_0x3556c3(0x306)](){const _0x4fe5ed=_0x3556c3;return _0x4fe5ed(0x352);}['extractParamsFromWeightMap'](_0x2fa0d9){return extractParamsFromWeightMap(_0x2fa0d9);}[_0x3556c3(0x1cd)](_0x1b570c){return extractParams(_0x1b570c);}},tf17=__toESM(require_tfjs_esm()),tf16=__toESM(require_tfjs_esm());function fullyConnectedLayer(_0x7d3c69,_0x2282c5){const _0x15c9c9=_0x3556c3;return tf16[_0x15c9c9(0xd5)](()=>tf16[_0x15c9c9(0x15a)](tf16[_0x15c9c9(0x105)](_0x7d3c69,_0x2282c5['weights']),_0x2282c5['bias']));}function extractParams2(_0x58d9ca,_0x3a77bd,_0x183ff8){const _0x2f2e47=_0x3556c3,_0x4eaf74=[],{extractWeights:_0x36bcdf,getRemainingWeights:_0x465ee2}=extractWeightsFactory(_0x58d9ca),_0x1aab88=extractFCParamsFactory(_0x36bcdf,_0x4eaf74),_0x34b2dc=_0x1aab88(_0x3a77bd,_0x183ff8,'fc');if(_0x465ee2()['length']!==0x0)throw new Error(_0x2f2e47(0xd0)+_0x465ee2()[_0x2f2e47(0x14a)]);return{'paramMappings':_0x4eaf74,'params':{'fc':_0x34b2dc}};}function extractParamsFromWeightMap2(_0x296666){const _0xef30a5=[],_0x4f1d82=extractWeightEntryFactory(_0x296666,_0xef30a5);function _0x54cefb(_0x2e53e4){const _0x3ff932=_0x29bb,_0x144184=_0x4f1d82(_0x2e53e4+'/weights',0x2),_0x396851=_0x4f1d82(_0x2e53e4+_0x3ff932(0x146),0x1);return{'weights':_0x144184,'bias':_0x396851};}const _0x443470={'fc':_0x54cefb('fc')};return disposeUnusedWeightTensors(_0x296666,_0xef30a5),{'params':_0x443470,'paramMappings':_0xef30a5};}function seperateWeightMaps(_0x737153){const _0x3d0867={},_0x5b01be={};return Object['keys'](_0x737153)['forEach'](_0x515c02=>{const _0x33008d=_0x515c02['startsWith']('fc')?_0x5b01be:_0x3d0867;_0x33008d[_0x515c02]=_0x737153[_0x515c02];}),{'featureExtractorMap':_0x3d0867,'classifierMap':_0x5b01be};}var FaceProcessor=class extends NeuralNetwork{constructor(_0x7fd7cb,_0x4bbd3a){const _0x50cebf=_0x3556c3;super(_0x7fd7cb),this[_0x50cebf(0x170)]=_0x4bbd3a;}get[_0x3556c3(0x2f2)](){const _0x5a83f4=_0x3556c3;return this[_0x5a83f4(0x170)];}[_0x3556c3(0x1bc)](_0x597928){const _0x524446=_0x3556c3,{params:_0x21f330}=this;if(!_0x21f330)throw new Error(this[_0x524446(0x21d)]+'\x20-\x20load\x20model\x20before\x20inference');return tf17[_0x524446(0xd5)](()=>{const _0x3f8ad0=_0x524446,_0xcc5982=_0x597928 instanceof NetInput?this[_0x3f8ad0(0x2f2)]['forwardInput'](_0x597928):_0x597928;return fullyConnectedLayer(_0xcc5982[_0x3f8ad0(0x125)](_0xcc5982[_0x3f8ad0(0x166)][0x0],-0x1),_0x21f330['fc']);});}[_0x3556c3(0x126)](_0x42f203=!![]){const _0x2399a2=_0x3556c3;this[_0x2399a2(0x2f2)][_0x2399a2(0x126)](_0x42f203),super[_0x2399a2(0x126)](_0x42f203);}[_0x3556c3(0x2b4)](_0x23d635){const _0x541c27=_0x3556c3,{params:_0x28c25e,paramMappings:_0xb38f95}=this[_0x541c27(0xe9)](_0x23d635);this[_0x541c27(0x30f)]=_0x28c25e,this[_0x541c27(0xeb)]=_0xb38f95;}['extractClassifierParams'](_0x16f721){const _0x5d674b=_0x3556c3;return extractParams2(_0x16f721,this[_0x5d674b(0x151)](),this[_0x5d674b(0x229)]());}[_0x3556c3(0x2e5)](_0x586411){const _0x4c8e05=_0x3556c3,{featureExtractorMap:_0x16fe04,classifierMap:_0x379457}=seperateWeightMaps(_0x586411);return this['faceFeatureExtractor'][_0x4c8e05(0x195)](_0x16fe04),extractParamsFromWeightMap2(_0x379457);}['extractParams'](_0x36b447){const _0x3ec826=_0x3556c3,_0x4bb462=this[_0x3ec826(0x151)](),_0x1f2e5a=this[_0x3ec826(0x229)](),_0x370f92=_0x1f2e5a*_0x4bb462+_0x1f2e5a,_0x1742ce=_0x36b447['slice'](0x0,_0x36b447['length']-_0x370f92),_0x1a80b4=_0x36b447[_0x3ec826(0xed)](_0x36b447[_0x3ec826(0x14a)]-_0x370f92);return this[_0x3ec826(0x2f2)][_0x3ec826(0x30b)](_0x1742ce),this[_0x3ec826(0xe9)](_0x1a80b4);}},FACE_EXPRESSION_LABELS=[_0x3556c3(0x2e9),_0x3556c3(0x2f1),'sad',_0x3556c3(0x1a5),_0x3556c3(0x289),_0x3556c3(0x32f),_0x3556c3(0xf7)],FaceExpressions=class{constructor(_0x52f8c9){const _0x3014d2=_0x3556c3;this[_0x3014d2(0x2e9)]=0x0,this[_0x3014d2(0x2f1)]=0x0,this[_0x3014d2(0x20b)]=0x0,this[_0x3014d2(0x1a5)]=0x0,this[_0x3014d2(0x289)]=0x0,this['disgusted']=0x0,this['surprised']=0x0;if(_0x52f8c9['length']!==0x7)throw new Error(_0x3014d2(0x1b8)+_0x52f8c9[_0x3014d2(0x14a)]);FACE_EXPRESSION_LABELS[_0x3014d2(0xe0)]((_0x455826,_0x53c0bf)=>{this[_0x455826]=_0x52f8c9[_0x53c0bf];});}[_0x3556c3(0x300)](){const _0x44f74e=_0x3556c3;return FACE_EXPRESSION_LABELS['map'](_0x201aab=>({'expression':_0x201aab,'probability':this[_0x201aab]}))[_0x44f74e(0x199)]((_0x222107,_0xf7eb23)=>_0xf7eb23['probability']-_0x222107['probability']);}},FaceExpressionNet=class extends FaceProcessor{constructor(_0x363411=new FaceFeatureExtractor()){const _0x42f4a4=_0x3556c3;super(_0x42f4a4(0x200),_0x363411);}[_0x3556c3(0x1de)](_0x43c579){const _0x6cd87f=_0x3556c3;return tf18[_0x6cd87f(0xd5)](()=>tf18[_0x6cd87f(0x20d)](this[_0x6cd87f(0x1bc)](_0x43c579)));}async[_0x3556c3(0x25e)](_0x2c52c7){const _0x1fcaa1=_0x3556c3;return this[_0x1fcaa1(0x1de)](await toNetInput(_0x2c52c7));}async[_0x3556c3(0x2d0)](_0x17de38){const _0x200a7d=_0x3556c3,_0x33ce17=await toNetInput(_0x17de38),_0x3710e2=await this[_0x200a7d(0x1de)](_0x33ce17),_0x153f7a=await Promise[_0x200a7d(0x10e)](tf18[_0x200a7d(0x2bf)](_0x3710e2)[_0x200a7d(0x2b0)](async _0x1bafd0=>{const _0x286d82=_0x200a7d,_0x4f889d=_0x1bafd0[_0x286d82(0x1fd)]();return _0x1bafd0[_0x286d82(0x126)](),_0x4f889d;}));_0x3710e2[_0x200a7d(0x126)]();const _0x165c26=_0x153f7a[_0x200a7d(0x2b0)](_0xeee8bd=>new FaceExpressions(_0xeee8bd));return _0x33ce17[_0x200a7d(0x244)]?_0x165c26:_0x165c26[0x0];}['getDefaultModelName'](){const _0x1d1902=_0x3556c3;return _0x1d1902(0xff);}['getClassifierChannelsIn'](){return 0x100;}[_0x3556c3(0x229)](){return 0x7;}};function isWithFaceExpressions(_0x33cc58){const _0x23ef4f=_0x3556c3;return _0x33cc58[_0x23ef4f(0x292)]instanceof FaceExpressions;}function extendWithFaceExpressions(_0x5de9e5,_0x2124f3){const _0x89a49e={'expressions':_0x2124f3};return{..._0x5de9e5,..._0x89a49e};}function drawFaceExpressions(_0x4ff243,_0x15ae2d,_0x118e1d=0.1,_0x4e2948){const _0x2d9ec9=_0x3556c3,_0x40e55e=Array[_0x2d9ec9(0x2e2)](_0x15ae2d)?_0x15ae2d:[_0x15ae2d];_0x40e55e[_0x2d9ec9(0xe0)](_0x2f62e2=>{const _0x48a1e4=_0x2d9ec9,_0x55cf20=_0x2f62e2 instanceof FaceExpressions?_0x2f62e2:isWithFaceExpressions(_0x2f62e2)?_0x2f62e2[_0x48a1e4(0x292)]:void 0x0;if(!_0x55cf20)throw new Error(_0x48a1e4(0x226));const _0x2396e8=_0x55cf20['asSortedArray'](),_0x46a4a2=_0x2396e8[_0x48a1e4(0x1eb)](_0x3805e9=>_0x3805e9['probability']>_0x118e1d),_0x3d29e9=isWithFaceDetection(_0x2f62e2)?_0x2f62e2[_0x48a1e4(0xd8)][_0x48a1e4(0x22c)][_0x48a1e4(0x1a4)]:_0x4e2948||new Point(0x0,0x0),_0x454745=new DrawTextField(_0x46a4a2['map'](_0x21d262=>_0x21d262[_0x48a1e4(0x1ac)]+'\x20('+round(_0x21d262[_0x48a1e4(0x168)])+')'),_0x3d29e9);_0x454745[_0x48a1e4(0x2a8)](_0x4ff243);});}function isWithFaceLandmarks(_0x34e821){const _0x34134a=_0x3556c3;return isWithFaceDetection(_0x34e821)&&_0x34e821[_0x34134a(0x1be)]instanceof FaceLandmarks&&_0x34e821[_0x34134a(0x334)]instanceof FaceLandmarks&&_0x34e821[_0x34134a(0x357)]instanceof FaceDetection;}function calculateFaceAngle(_0x416fde){const _0x479b66=_0x3556c3,_0x56b181=(_0x110900,_0x4c6195,_0x4f588d,_0x71af2)=>Math[_0x479b66(0x201)](_0x71af2-_0x4c6195,_0x4f588d-_0x110900)%Math['PI'],_0x5996a2=_0x40d701=>_0x40d701*0xb4/Math['PI'],_0x476a27={'roll':void 0x0,'pitch':void 0x0,'yaw':void 0x0};if(!_0x416fde||!_0x416fde[_0x479b66(0x2c2)]||_0x416fde[_0x479b66(0x2c2)][_0x479b66(0x14a)]!==0x44)return _0x476a27;const _0x5cfe5d=_0x416fde[_0x479b66(0x2c2)];_0x476a27[_0x479b66(0x2c3)]=-_0x56b181(_0x5cfe5d[0x24]['_x'],_0x5cfe5d[0x24]['_y'],_0x5cfe5d[0x2d]['_x'],_0x5cfe5d[0x2d]['_y']),_0x476a27[_0x479b66(0x2e4)]=_0x56b181(0x0,Math[_0x479b66(0x1ec)](_0x5cfe5d[0x0]['_x']-_0x5cfe5d[0x1e]['_x'])/_0x5cfe5d[0x1e]['_x'],Math['PI'],Math[_0x479b66(0x1ec)](_0x5cfe5d[0x10]['_x']-_0x5cfe5d[0x1e]['_x'])/_0x5cfe5d[0x1e]['_x']);const _0x2a612c=_0x5cfe5d[_0x479b66(0x16f)]((_0x1c7ce6,_0x3b8e29)=>_0x1c7ce6<_0x3b8e29['_y']?_0x1c7ce6:_0x3b8e29['_y'],Infinity),_0x304116=_0x5cfe5d[_0x479b66(0x16f)]((_0x3f9bce,_0x2e9e91)=>_0x3f9bce>_0x2e9e91['_y']?_0x3f9bce:_0x2e9e91['_y'],-Infinity);return _0x476a27['yaw']=Math['PI']*(_0x416fde[_0x479b66(0x1ce)][_0x479b66(0x1bb)]/(_0x304116-_0x2a612c)/1.4-0x1),_0x476a27;}function extendWithFaceLandmarks(_0x2d1e1c,_0x50e51a){const _0x4575ce=_0x3556c3,{box:_0x2a1984}=_0x2d1e1c[_0x4575ce(0xd8)],_0x43356c=_0x50e51a[_0x4575ce(0x142)](_0x2a1984['x'],_0x2a1984['y']),_0x25811d=_0x43356c[_0x4575ce(0x148)](),{imageDims:_0x54e838}=_0x2d1e1c[_0x4575ce(0xd8)],_0x52c6c2=new FaceDetection(_0x2d1e1c['detection'][_0x4575ce(0xf0)],_0x25811d[_0x4575ce(0xd9)](_0x54e838[_0x4575ce(0x2ec)]()),_0x54e838),_0x293a34=calculateFaceAngle(_0x50e51a),_0x30c5d3={'landmarks':_0x43356c,'unshiftedLandmarks':_0x50e51a,'alignedRect':_0x52c6c2,'angle':_0x293a34};return{..._0x2d1e1c,..._0x30c5d3};}var DrawFaceLandmarksOptions=class{constructor(_0x240e73={}){const _0x48b2ae=_0x3556c3,{drawLines:drawLines=!![],drawPoints:drawPoints=!![],lineWidth:_0x2a0257,lineColor:_0x220139,pointSize:_0x48171f,pointColor:_0x1ce349}=_0x240e73;this[_0x48b2ae(0x1ae)]=drawLines,this[_0x48b2ae(0x17b)]=drawPoints,this[_0x48b2ae(0x316)]=_0x2a0257||0x1,this[_0x48b2ae(0x1f3)]=_0x48171f||0x2,this[_0x48b2ae(0x119)]=_0x220139||'rgba(0,\x20255,\x20255,\x201)',this[_0x48b2ae(0x1f0)]=_0x1ce349||_0x48b2ae(0x231);}},DrawFaceLandmarks=class{constructor(_0x4df412,_0x59474c={}){const _0x5c298d=_0x3556c3;this[_0x5c298d(0x1b2)]=_0x4df412,this[_0x5c298d(0x2aa)]=new DrawFaceLandmarksOptions(_0x59474c);}[_0x3556c3(0x2a8)](_0x43ce2e){const _0x352386=_0x3556c3,_0x2078bd=getContext2dOrThrow(_0x43ce2e),{drawLines:_0x3a64e9,drawPoints:_0x127e47,lineWidth:_0x3d12b6,lineColor:_0x5d3255,pointSize:_0x363f6a,pointColor:_0x592451}=this['options'];_0x3a64e9&&this[_0x352386(0x1b2)]instanceof FaceLandmarks68&&(_0x2078bd[_0x352386(0x186)]=_0x5d3255,_0x2078bd[_0x352386(0x316)]=_0x3d12b6,drawContour(_0x2078bd,this[_0x352386(0x1b2)]['getJawOutline']()),drawContour(_0x2078bd,this[_0x352386(0x1b2)][_0x352386(0x130)]()),drawContour(_0x2078bd,this[_0x352386(0x1b2)][_0x352386(0x21e)]()),drawContour(_0x2078bd,this['faceLandmarks']['getNose']()),drawContour(_0x2078bd,this[_0x352386(0x1b2)][_0x352386(0x12a)](),!![]),drawContour(_0x2078bd,this['faceLandmarks']['getRightEye'](),!![]),drawContour(_0x2078bd,this[_0x352386(0x1b2)][_0x352386(0x1ab)](),!![]));if(_0x127e47){_0x2078bd[_0x352386(0x186)]=_0x592451,_0x2078bd[_0x352386(0x1dd)]=_0x592451;const _0x1317c1=_0x89bac1=>{const _0x19bf70=_0x352386;_0x2078bd['beginPath'](),_0x2078bd['arc'](_0x89bac1['x'],_0x89bac1['y'],_0x363f6a,0x0,0x2*Math['PI']),_0x2078bd[_0x19bf70(0x1d3)]();};this[_0x352386(0x1b2)][_0x352386(0x10f)][_0x352386(0xe0)](_0x1317c1);}}};function drawFaceLandmarks(_0x3e7720,_0x53238d){const _0x485ded=_0x3556c3,_0x5606b9=Array[_0x485ded(0x2e2)](_0x53238d)?_0x53238d:[_0x53238d];_0x5606b9[_0x485ded(0xe0)](_0x532728=>{const _0x206662=_0x485ded,_0x41469b=_0x532728 instanceof FaceLandmarks?_0x532728:isWithFaceLandmarks(_0x532728)?_0x532728[_0x206662(0x1be)]:void 0x0;if(!_0x41469b)throw new Error(_0x206662(0x302));new DrawFaceLandmarks(_0x41469b)['draw'](_0x3e7720);});}var version='1.7.3',tf20=__toESM(require_tfjs_esm()),tf19=__toESM(require_tfjs_esm());function extractorsFactory2(_0x43db42,_0x17d5f9){const _0x325058=extractConvParamsFactory(_0x43db42,_0x17d5f9),_0x3adb66=extractSeparableConvParamsFactory(_0x43db42,_0x17d5f9);function _0xcd3157(_0x5a930b,_0x382921,_0x5d6217){const _0x66a0e6=_0x29bb,_0x2c8b27=_0x3adb66(_0x5a930b,_0x382921,_0x5d6217+'/separable_conv0'),_0x2ac3a9=_0x3adb66(_0x382921,_0x382921,_0x5d6217+_0x66a0e6(0x342)),_0x350e33=_0x325058(_0x5a930b,_0x382921,0x1,_0x5d6217+_0x66a0e6(0x339));return{'separable_conv0':_0x2c8b27,'separable_conv1':_0x2ac3a9,'expansion_conv':_0x350e33};}function _0x2f79ee(_0x407b5c,_0x4d74c9){const _0x24f11f=_0x29bb,_0x28535e=_0x3adb66(_0x407b5c,_0x407b5c,_0x4d74c9+_0x24f11f(0x335)),_0x13794d=_0x3adb66(_0x407b5c,_0x407b5c,_0x4d74c9+_0x24f11f(0x342)),_0x48c779=_0x3adb66(_0x407b5c,_0x407b5c,_0x4d74c9+'/separable_conv2');return{'separable_conv0':_0x28535e,'separable_conv1':_0x13794d,'separable_conv2':_0x48c779};}return{'extractConvParams':_0x325058,'extractSeparableConvParams':_0x3adb66,'extractReductionBlockParams':_0xcd3157,'extractMainBlockParams':_0x2f79ee};}function extractParams3(_0x4175e6,_0x431016){const _0x4a4b4a=_0x3556c3,_0x2d21f7=[],{extractWeights:_0x551779,getRemainingWeights:_0x1c7455}=extractWeightsFactory(_0x4175e6),{extractConvParams:_0x46a3e4,extractSeparableConvParams:_0x411cfb,extractReductionBlockParams:_0x47add9,extractMainBlockParams:_0x35ba13}=extractorsFactory2(_0x551779,_0x2d21f7),_0x591222=_0x46a3e4(0x3,0x20,0x3,_0x4a4b4a(0x2ac)),_0x270c36=_0x47add9(0x20,0x40,_0x4a4b4a(0x10d)),_0x261cdf=_0x47add9(0x40,0x80,_0x4a4b4a(0x265)),_0x43e952={'conv_in':_0x591222,'reduction_block_0':_0x270c36,'reduction_block_1':_0x261cdf},_0x338321={};range(_0x431016,0x0,0x1)[_0x4a4b4a(0xe0)](_0x3ace8c=>{const _0xfb57de=_0x4a4b4a;_0x338321['main_block_'+_0x3ace8c]=_0x35ba13(0x80,_0xfb57de(0xdb)+_0x3ace8c);});const _0x62d652=_0x47add9(0x80,0x100,_0x4a4b4a(0x1f2)),_0xe9a341=_0x411cfb(0x100,0x200,_0x4a4b4a(0x296)),_0x31a2e7={'reduction_block':_0x62d652,'separable_conv':_0xe9a341};if(_0x1c7455()[_0x4a4b4a(0x14a)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x1c7455()[_0x4a4b4a(0x14a)]);return{'paramMappings':_0x2d21f7,'params':{'entry_flow':_0x43e952,'middle_flow':_0x338321,'exit_flow':_0x31a2e7}};}function loadParamsFactory2(_0x544820,_0x44977f){const _0x23e3af=extractWeightEntryFactory(_0x544820,_0x44977f),_0x215260=loadConvParamsFactory(_0x23e3af),_0x55f377=loadSeparableConvParamsFactory(_0x23e3af);function _0xd0b3ae(_0x449fdd){const _0x5674b2=_0x29bb,_0x2b9186=_0x55f377(_0x449fdd+_0x5674b2(0x335)),_0x1880b0=_0x55f377(_0x449fdd+_0x5674b2(0x342)),_0x37f5da=_0x215260(_0x449fdd+_0x5674b2(0x339));return{'separable_conv0':_0x2b9186,'separable_conv1':_0x1880b0,'expansion_conv':_0x37f5da};}function _0x110e5b(_0x79a91b){const _0x206417=_0x29bb,_0xbc779d=_0x55f377(_0x79a91b+_0x206417(0x335)),_0x1e8a93=_0x55f377(_0x79a91b+_0x206417(0x342)),_0x53768a=_0x55f377(_0x79a91b+_0x206417(0x19c));return{'separable_conv0':_0xbc779d,'separable_conv1':_0x1e8a93,'separable_conv2':_0x53768a};}return{'extractConvParams':_0x215260,'extractSeparableConvParams':_0x55f377,'extractReductionBlockParams':_0xd0b3ae,'extractMainBlockParams':_0x110e5b};}function extractParamsFromWeightMap3(_0x4d6398,_0x10f314){const _0x3b8ea6=_0x3556c3,_0x3ab774=[],{extractConvParams:_0xd86438,extractSeparableConvParams:_0x10be31,extractReductionBlockParams:_0x2560b5,extractMainBlockParams:_0x314d0d}=loadParamsFactory2(_0x4d6398,_0x3ab774),_0x3ac7fb=_0xd86438(_0x3b8ea6(0x2ac)),_0x498970=_0x2560b5('entry_flow/reduction_block_0'),_0xab246e=_0x2560b5(_0x3b8ea6(0x265)),_0x35534c={'conv_in':_0x3ac7fb,'reduction_block_0':_0x498970,'reduction_block_1':_0xab246e},_0x4c9c76={};range(_0x10f314,0x0,0x1)[_0x3b8ea6(0xe0)](_0x531c19=>{const _0x1fb723=_0x3b8ea6;_0x4c9c76[_0x1fb723(0x164)+_0x531c19]=_0x314d0d('middle_flow/main_block_'+_0x531c19);});const _0x4924f4=_0x2560b5(_0x3b8ea6(0x1f2)),_0x26e112=_0x10be31(_0x3b8ea6(0x296)),_0x3c237f={'reduction_block':_0x4924f4,'separable_conv':_0x26e112};return disposeUnusedWeightTensors(_0x4d6398,_0x3ab774),{'params':{'entry_flow':_0x35534c,'middle_flow':_0x4c9c76,'exit_flow':_0x3c237f},'paramMappings':_0x3ab774};}function conv(_0x24b204,_0x299df7,_0x239c28){const _0x26bef4=_0x3556c3;return tf19[_0x26bef4(0x15a)](tf19[_0x26bef4(0x124)](_0x24b204,_0x299df7[_0x26bef4(0x11a)],_0x239c28,_0x26bef4(0x23b)),_0x299df7[_0x26bef4(0x24f)]);}function reductionBlock(_0x2417ad,_0x193522,_0x318d5a=!![]){const _0x2f8d5d=_0x3556c3;let _0x3df54e=_0x318d5a?tf19[_0x2f8d5d(0x29c)](_0x2417ad):_0x2417ad;return _0x3df54e=depthwiseSeparableConv(_0x3df54e,_0x193522[_0x2f8d5d(0x2bb)],[0x1,0x1]),_0x3df54e=depthwiseSeparableConv(tf19['relu'](_0x3df54e),_0x193522[_0x2f8d5d(0x1b0)],[0x1,0x1]),_0x3df54e=tf19['maxPool'](_0x3df54e,[0x3,0x3],[0x2,0x2],_0x2f8d5d(0x23b)),_0x3df54e=tf19['add'](_0x3df54e,conv(_0x2417ad,_0x193522[_0x2f8d5d(0x2d8)],[0x2,0x2])),_0x3df54e;}function mainBlock(_0x5420a3,_0x145c88){const _0x591d45=_0x3556c3;let _0x4df006=depthwiseSeparableConv(tf19[_0x591d45(0x29c)](_0x5420a3),_0x145c88[_0x591d45(0x2bb)],[0x1,0x1]);return _0x4df006=depthwiseSeparableConv(tf19['relu'](_0x4df006),_0x145c88[_0x591d45(0x1b0)],[0x1,0x1]),_0x4df006=depthwiseSeparableConv(tf19[_0x591d45(0x29c)](_0x4df006),_0x145c88[_0x591d45(0x348)],[0x1,0x1]),_0x4df006=tf19['add'](_0x4df006,_0x5420a3),_0x4df006;}var TinyXception=class extends NeuralNetwork{constructor(_0x1d5769){const _0x2921b0=_0x3556c3;super(_0x2921b0(0x2cf)),this[_0x2921b0(0x109)]=_0x1d5769;}[_0x3556c3(0x1de)](_0x4bd823){const _0x204722=_0x3556c3,{params:_0x1d1180}=this;if(!_0x1d1180)throw new Error(_0x204722(0xfb));return tf19['tidy'](()=>{const _0x1cc5f8=_0x204722,_0x36c84f=tf19['cast'](_0x4bd823['toBatchTensor'](0x70,!![]),_0x1cc5f8(0xe7)),_0x3ee32c=[122.782,117.001,104.298],_0x3f7166=normalize(_0x36c84f,_0x3ee32c)[_0x1cc5f8(0x17e)](0xff);let _0x22e349=tf19[_0x1cc5f8(0x29c)](conv(_0x3f7166,_0x1d1180[_0x1cc5f8(0x1c4)][_0x1cc5f8(0xd7)],[0x2,0x2]));return _0x22e349=reductionBlock(_0x22e349,_0x1d1180[_0x1cc5f8(0x1c4)][_0x1cc5f8(0xd6)],![]),_0x22e349=reductionBlock(_0x22e349,_0x1d1180[_0x1cc5f8(0x1c4)][_0x1cc5f8(0x288)]),range(this[_0x1cc5f8(0x109)],0x0,0x1)[_0x1cc5f8(0xe0)](_0x27a873=>{const _0x23506b=_0x1cc5f8;_0x22e349=mainBlock(_0x22e349,_0x1d1180[_0x23506b(0x2da)]['main_block_'+_0x27a873]);}),_0x22e349=reductionBlock(_0x22e349,_0x1d1180['exit_flow'][_0x1cc5f8(0x14c)]),_0x22e349=tf19['relu'](depthwiseSeparableConv(_0x22e349,_0x1d1180[_0x1cc5f8(0x2ab)][_0x1cc5f8(0x290)],[0x1,0x1])),_0x22e349;});}async['forward'](_0x15a0c0){return this['forwardInput'](await toNetInput(_0x15a0c0));}[_0x3556c3(0x306)](){const _0x3f88f4=_0x3556c3;return _0x3f88f4(0x13d);}[_0x3556c3(0x2e5)](_0x5954ca){const _0x4f1e1b=_0x3556c3;return extractParamsFromWeightMap3(_0x5954ca,this[_0x4f1e1b(0x109)]);}[_0x3556c3(0x1cd)](_0x1f2e8d){const _0x494368=_0x3556c3;return extractParams3(_0x1f2e8d,this[_0x494368(0x109)]);}};function extractParams4(_0x3372c4){const _0x1feb3f=_0x3556c3,_0x3ee5a0=[],{extractWeights:_0x4e8393,getRemainingWeights:_0x55fa13}=extractWeightsFactory(_0x3372c4),_0x4d6525=extractFCParamsFactory(_0x4e8393,_0x3ee5a0),_0x1c1528=_0x4d6525(0x200,0x1,_0x1feb3f(0x219)),_0xb424a5=_0x4d6525(0x200,0x2,_0x1feb3f(0x121));if(_0x55fa13()[_0x1feb3f(0x14a)]!==0x0)throw new Error(_0x1feb3f(0xd0)+_0x55fa13()[_0x1feb3f(0x14a)]);return{'paramMappings':_0x3ee5a0,'params':{'fc':{'age':_0x1c1528,'gender':_0xb424a5}}};}function extractParamsFromWeightMap4(_0x576fd7){const _0x492bb6=_0x3556c3,_0x526b72=[],_0x177ccb=extractWeightEntryFactory(_0x576fd7,_0x526b72);function _0x5ce503(_0x5d4f72){const _0x47bd4d=_0x29bb,_0x33b686=_0x177ccb(_0x5d4f72+_0x47bd4d(0x152),0x2),_0x2c6dc1=_0x177ccb(_0x5d4f72+'/bias',0x1);return{'weights':_0x33b686,'bias':_0x2c6dc1};}const _0x32031e={'fc':{'age':_0x5ce503(_0x492bb6(0x219)),'gender':_0x5ce503('fc/gender')}};return disposeUnusedWeightTensors(_0x576fd7,_0x526b72),{'params':_0x32031e,'paramMappings':_0x526b72};}var Gender=(_0x7b07fc=>{const _0x114349=_0x3556c3;return _0x7b07fc[_0x114349(0x22d)]='female',_0x7b07fc['MALE']=_0x114349(0x197),_0x7b07fc;})(Gender||{}),AgeGenderNet=class extends NeuralNetwork{constructor(_0x1e7eba=new TinyXception(0x2)){const _0x4d3b7b=_0x3556c3;super(_0x4d3b7b(0x1cf)),this[_0x4d3b7b(0x170)]=_0x1e7eba;}get[_0x3556c3(0x2f2)](){const _0x4c1df7=_0x3556c3;return this[_0x4c1df7(0x170)];}[_0x3556c3(0x1bc)](_0x154d28){const _0x5d89fd=_0x3556c3,{params:_0xbc12d3}=this;if(!_0xbc12d3)throw new Error(this[_0x5d89fd(0x21d)]+'\x20-\x20load\x20model\x20before\x20inference');return tf20[_0x5d89fd(0xd5)](()=>{const _0x3b5909=_0x5d89fd,_0x2b1a34=_0x154d28 instanceof NetInput?this['faceFeatureExtractor'][_0x3b5909(0x1de)](_0x154d28):_0x154d28,_0x5b06b2=tf20[_0x3b5909(0x132)](_0x2b1a34,[0x7,0x7],[0x2,0x2],_0x3b5909(0x320))['as2D'](_0x2b1a34[_0x3b5909(0x166)][0x0],-0x1),_0x189f74=fullyConnectedLayer(_0x5b06b2,_0xbc12d3['fc'][_0x3b5909(0x1a3)])[_0x3b5909(0x2e0)](),_0x55e6c2=fullyConnectedLayer(_0x5b06b2,_0xbc12d3['fc'][_0x3b5909(0x248)]);return{'age':_0x189f74,'gender':_0x55e6c2};});}[_0x3556c3(0x1de)](_0x57ca8c){const _0x213145=_0x3556c3;return tf20[_0x213145(0xd5)](()=>{const _0x4304db=_0x213145,{age:_0x2d921a,gender:_0x594bbc}=this['runNet'](_0x57ca8c);return{'age':_0x2d921a,'gender':tf20[_0x4304db(0x20d)](_0x594bbc)};});}async[_0x3556c3(0x25e)](_0x47af7e){return this['forwardInput'](await toNetInput(_0x47af7e));}async[_0x3556c3(0x26c)](_0x282e41){const _0x12332a=_0x3556c3,_0x4f1c7e=await toNetInput(_0x282e41),_0x382f4c=await this['forwardInput'](_0x4f1c7e),_0x6104fe=tf20[_0x12332a(0x2bf)](_0x382f4c['age']),_0x5c93f4=tf20[_0x12332a(0x2bf)](_0x382f4c[_0x12332a(0x248)]),_0x2dc98d=_0x6104fe['map']((_0x1bc92d,_0xf2d8bc)=>({'ageTensor':_0x1bc92d,'genderTensor':_0x5c93f4[_0xf2d8bc]})),_0x5d8ace=await Promise[_0x12332a(0x10e)](_0x2dc98d[_0x12332a(0x2b0)](async({ageTensor:_0x406778,genderTensor:_0x2e2755})=>{const _0x18e92=_0x12332a,_0x273164=_0x406778[_0x18e92(0x1fd)]()[0x0],_0x37b859=_0x2e2755[_0x18e92(0x1fd)]()[0x0],_0x17d6f8=_0x37b859>0.5,_0x3b9102=_0x17d6f8?'male':'female',_0x5a773a=_0x17d6f8?_0x37b859:0x1-_0x37b859;return _0x406778[_0x18e92(0x126)](),_0x2e2755[_0x18e92(0x126)](),{'age':_0x273164,'gender':_0x3b9102,'genderProbability':_0x5a773a};}));return _0x382f4c['age'][_0x12332a(0x126)](),_0x382f4c['gender']['dispose'](),_0x4f1c7e['isBatchInput']?_0x5d8ace:_0x5d8ace[0x0];}['getDefaultModelName'](){const _0x2718ee=_0x3556c3;return _0x2718ee(0x111);}[_0x3556c3(0x126)](_0x57b426=!![]){const _0x41274f=_0x3556c3;this[_0x41274f(0x2f2)][_0x41274f(0x126)](_0x57b426),super['dispose'](_0x57b426);}['loadClassifierParams'](_0x44a69f){const _0x4e1fe4=_0x3556c3,{params:_0x834f68,paramMappings:_0xa4a5bf}=this[_0x4e1fe4(0xe9)](_0x44a69f);this[_0x4e1fe4(0x30f)]=_0x834f68,this[_0x4e1fe4(0xeb)]=_0xa4a5bf;}[_0x3556c3(0xe9)](_0x1f65e7){return extractParams4(_0x1f65e7);}['extractParamsFromWeightMap'](_0x369950){const _0x1c55ec=_0x3556c3,{featureExtractorMap:_0x34a183,classifierMap:_0x24bc63}=seperateWeightMaps(_0x369950);return this[_0x1c55ec(0x2f2)]['loadFromWeightMap'](_0x34a183),extractParamsFromWeightMap4(_0x24bc63);}[_0x3556c3(0x1cd)](_0x40b632){const _0x311295=_0x3556c3,_0x1a5f23=0x200*0x1+0x1+(0x200*0x2+0x2),_0x51700b=_0x40b632[_0x311295(0xed)](0x0,_0x40b632[_0x311295(0x14a)]-_0x1a5f23),_0x4ff552=_0x40b632[_0x311295(0xed)](_0x40b632['length']-_0x1a5f23);return this['faceFeatureExtractor'][_0x311295(0x30b)](_0x51700b),this[_0x311295(0xe9)](_0x4ff552);}},tf21=__toESM(require_tfjs_esm()),FaceLandmark68NetBase=class extends FaceProcessor{[_0x3556c3(0x2e3)](_0xcb5037,_0x37271e,_0x4f2581){const _0x40357a=_0x3556c3,_0x4fecae=_0x4f2581[_0x40357a(0x2b0)](({width:_0x415822,height:_0x5c64ef})=>{const _0x51c75c=_0x40357a,_0x19a6f1=_0x37271e/Math[_0x51c75c(0x2f4)](_0x5c64ef,_0x415822);return{'width':_0x415822*_0x19a6f1,'height':_0x5c64ef*_0x19a6f1};}),_0xa10df5=_0x4fecae[_0x40357a(0x14a)];return tf21[_0x40357a(0xd5)](()=>{const _0x2677cd=_0x40357a,_0x178b83=(_0x1c3a44,_0x1370a2)=>tf21[_0x2677cd(0x21a)]([tf21[_0x2677cd(0x1d3)]([0x44],_0x1c3a44,_0x2677cd(0xe7)),tf21['fill']([0x44],_0x1370a2,'float32')],0x1)['as2D'](0x1,0x88)['as1D'](),_0x1b576d=(_0x37ea8a,_0x5e5baf)=>{const {width:_0x103507,height:_0x23e5ad}=_0x4fecae[_0x37ea8a];return _0x5e5baf(_0x103507,_0x23e5ad)?Math['abs'](_0x103507-_0x23e5ad)/0x2:0x0;},_0x233b26=_0x1e20fa=>_0x1b576d(_0x1e20fa,(_0x356439,_0x485049)=>_0x356439<_0x485049),_0x5c63a7=_0x4ac36b=>_0x1b576d(_0x4ac36b,(_0x3f1cb6,_0x4812db)=>_0x4812db<_0x3f1cb6),_0x57f68a=_0xcb5037[_0x2677cd(0x27b)](tf21['fill']([_0xa10df5,0x88],_0x37271e,_0x2677cd(0xe7)))[_0x2677cd(0x18e)](tf21[_0x2677cd(0x21a)](Array[_0x2677cd(0x228)](Array(_0xa10df5),(_0x478d44,_0x35def3)=>_0x178b83(_0x233b26(_0x35def3),_0x5c63a7(_0x35def3)))))[_0x2677cd(0x17e)](tf21[_0x2677cd(0x21a)](Array[_0x2677cd(0x228)](Array(_0xa10df5),(_0x3cb40a,_0x299df9)=>_0x178b83(_0x4fecae[_0x299df9][_0x2677cd(0x350)],_0x4fecae[_0x299df9][_0x2677cd(0xf6)]))));return _0x57f68a;});}['forwardInput'](_0x1017b4){const _0x19ff3f=_0x3556c3;return tf21[_0x19ff3f(0xd5)](()=>{const _0x1ec4bd=_0x19ff3f,_0xe6877=this[_0x1ec4bd(0x1bc)](_0x1017b4);return this[_0x1ec4bd(0x2e3)](_0xe6877,_0x1017b4[_0x1ec4bd(0x276)],_0x1017b4[_0x1ec4bd(0x2ef)]['map'](([_0x35a39e,_0x5e0738])=>({'height':_0x35a39e,'width':_0x5e0738})));});}async[_0x3556c3(0x25e)](_0x69dcfa){const _0x455ac3=_0x3556c3;return this[_0x455ac3(0x1de)](await toNetInput(_0x69dcfa));}async[_0x3556c3(0xe8)](_0x39ea5a){const _0xbf2ae=_0x3556c3,_0x56373b=await toNetInput(_0x39ea5a),_0x26109f=tf21[_0xbf2ae(0xd5)](()=>tf21['unstack'](this[_0xbf2ae(0x1de)](_0x56373b))),_0x3f18ad=await Promise[_0xbf2ae(0x10e)](_0x26109f[_0xbf2ae(0x2b0)](async(_0x2b9de9,_0x1c1b48)=>{const _0x252835=_0xbf2ae,_0x28c75d=Array[_0x252835(0x228)](_0x2b9de9['dataSync']()),_0x243f7a=_0x28c75d['filter']((_0x1f461e,_0x2964c7)=>isEven(_0x2964c7)),_0xa74e96=_0x28c75d[_0x252835(0x1eb)]((_0x2aec49,_0x53275f)=>!isEven(_0x53275f));return new FaceLandmarks68(Array(0x44)[_0x252835(0x1d3)](0x0)[_0x252835(0x2b0)]((_0x554fb6,_0x3d1cab)=>new Point(_0x243f7a[_0x3d1cab],_0xa74e96[_0x3d1cab])),{'height':_0x56373b[_0x252835(0x1a7)](_0x1c1b48),'width':_0x56373b['getInputWidth'](_0x1c1b48)});}));return _0x26109f[_0xbf2ae(0xe0)](_0x2e41b6=>_0x2e41b6['dispose']()),_0x56373b[_0xbf2ae(0x244)]?_0x3f18ad:_0x3f18ad[0x0];}[_0x3556c3(0x229)](){return 0x88;}},FaceLandmark68Net=class extends FaceLandmark68NetBase{constructor(_0x50787f=new FaceFeatureExtractor()){const _0x53d562=_0x3556c3;super(_0x53d562(0x286),_0x50787f);}[_0x3556c3(0x306)](){return'face_landmark_68_model';}[_0x3556c3(0x151)](){return 0x100;}},tf22=__toESM(require_tfjs_esm());function extractParamsFromWeightMapTiny(_0x52e024){const _0x10547c=_0x3556c3,_0x51fe84=[],{extractDenseBlock3Params:_0xb1f7e0}=loadParamsFactory(_0x52e024,_0x51fe84),_0xe772d4={'dense0':_0xb1f7e0(_0x10547c(0x2f7),!![]),'dense1':_0xb1f7e0('dense1'),'dense2':_0xb1f7e0(_0x10547c(0x224))};return disposeUnusedWeightTensors(_0x52e024,_0x51fe84),{'params':_0xe772d4,'paramMappings':_0x51fe84};}function extractParamsTiny(_0x1fcc56){const _0x1537c4=_0x3556c3,_0x465424=[],{extractWeights:_0x22cccf,getRemainingWeights:_0x513016}=extractWeightsFactory(_0x1fcc56),{extractDenseBlock3Params:_0x4a6bd6}=extractorsFactory(_0x22cccf,_0x465424),_0x57c944=_0x4a6bd6(0x3,0x20,'dense0',!![]),_0x28941b=_0x4a6bd6(0x20,0x40,'dense1'),_0x5a9192=_0x4a6bd6(0x40,0x80,_0x1537c4(0x224));if(_0x513016()[_0x1537c4(0x14a)]!==0x0)throw new Error(_0x1537c4(0xd0)+_0x513016()[_0x1537c4(0x14a)]);return{'paramMappings':_0x465424,'params':{'dense0':_0x57c944,'dense1':_0x28941b,'dense2':_0x5a9192}};}var TinyFaceFeatureExtractor=class extends NeuralNetwork{constructor(){const _0x3dd983=_0x3556c3;super(_0x3dd983(0xfa));}[_0x3556c3(0x1de)](_0x1ae01c){const _0x6554f3=_0x3556c3,{params:_0x5cd302}=this;if(!_0x5cd302)throw new Error(_0x6554f3(0x131));return tf22[_0x6554f3(0xd5)](()=>{const _0x4aac4a=_0x6554f3,_0x4596e0=tf22[_0x4aac4a(0x262)](_0x1ae01c[_0x4aac4a(0x2ad)](0x70,!![]),_0x4aac4a(0xe7)),_0x214342=[122.782,117.001,104.298],_0x32534b=normalize(_0x4596e0,_0x214342)[_0x4aac4a(0x17e)](0xff);let _0x1faf04=denseBlock3(_0x32534b,_0x5cd302['dense0'],!![]);return _0x1faf04=denseBlock3(_0x1faf04,_0x5cd302[_0x4aac4a(0x303)]),_0x1faf04=denseBlock3(_0x1faf04,_0x5cd302[_0x4aac4a(0x224)]),_0x1faf04=tf22[_0x4aac4a(0x132)](_0x1faf04,[0xe,0xe],[0x2,0x2],_0x4aac4a(0x320)),_0x1faf04;});}async[_0x3556c3(0x25e)](_0x142672){const _0x5f0c77=_0x3556c3;return this[_0x5f0c77(0x1de)](await toNetInput(_0x142672));}[_0x3556c3(0x306)](){return'face_feature_extractor_tiny_model';}[_0x3556c3(0x2e5)](_0x3e28f9){return extractParamsFromWeightMapTiny(_0x3e28f9);}['extractParams'](_0x1b0460){return extractParamsTiny(_0x1b0460);}},FaceLandmark68TinyNet=class extends FaceLandmark68NetBase{constructor(_0x1a90a7=new TinyFaceFeatureExtractor()){const _0x829ef4=_0x3556c3;super(_0x829ef4(0x2fc),_0x1a90a7);}['getDefaultModelName'](){return'face_landmark_68_tiny_model';}[_0x3556c3(0x151)](){return 0x80;}},FaceLandmarkNet=class extends FaceLandmark68Net{},tf27=__toESM(require_tfjs_esm()),tf24=__toESM(require_tfjs_esm()),tf23=__toESM(require_tfjs_esm());function scale(_0x4490ba,_0x5bff7e){const _0x10864a=_0x3556c3;return tf23[_0x10864a(0x15a)](tf23[_0x10864a(0x27b)](_0x4490ba,_0x5bff7e[_0x10864a(0x34a)]),_0x5bff7e[_0x10864a(0x137)]);}function convLayer2(_0x5d17ef,_0x1c8764,_0x466691,_0x5dc2d2,_0x30a1f9=_0x3556c3(0x23b)){const _0x3a5e92=_0x3556c3,{filters:_0x5ec740,bias:_0x4d03f0}=_0x1c8764[_0x3a5e92(0x317)];let _0x33a1bc=tf24[_0x3a5e92(0x124)](_0x5d17ef,_0x5ec740,_0x466691,_0x30a1f9);return _0x33a1bc=tf24[_0x3a5e92(0x15a)](_0x33a1bc,_0x4d03f0),_0x33a1bc=scale(_0x33a1bc,_0x1c8764[_0x3a5e92(0x1a2)]),_0x5dc2d2?tf24['relu'](_0x33a1bc):_0x33a1bc;}function conv2(_0x27b5fb,_0x2e2b44){return convLayer2(_0x27b5fb,_0x2e2b44,[0x1,0x1],!![]);}function convNoRelu(_0x42d51b,_0x1bd51f){return convLayer2(_0x42d51b,_0x1bd51f,[0x1,0x1],![]);}function convDown(_0x4b13bb,_0x1ecd3d){const _0x29d4f5=_0x3556c3;return convLayer2(_0x4b13bb,_0x1ecd3d,[0x2,0x2],!![],_0x29d4f5(0x320));}var tf25=__toESM(require_tfjs_esm());function extractorsFactory3(_0x1a11d8,_0x31c77b){function _0x3caef6(_0x4509a5,_0x22c6ba,_0x5418e9){const _0x2bfb6f=_0x29bb,_0x25a3e9=_0x1a11d8(_0x4509a5),_0x410808=_0x25a3e9['length']/(_0x22c6ba*_0x5418e9*_0x5418e9);if(isFloat(_0x410808))throw new Error(_0x2bfb6f(0x26b)+_0x410808+_0x2bfb6f(0x1d7)+_0x25a3e9['length']+_0x2bfb6f(0x196)+_0x22c6ba+_0x2bfb6f(0x212)+_0x5418e9);return tf25['tidy'](()=>tf25[_0x2bfb6f(0x285)](tf25[_0x2bfb6f(0x133)](_0x25a3e9,[_0x22c6ba,_0x410808,_0x5418e9,_0x5418e9]),[0x2,0x3,0x1,0x0]));}function _0x3e4d10(_0x49dcd9,_0x2b236a,_0x45230f,_0x4973d1){const _0x20cb52=_0x29bb,_0x186e63=_0x3caef6(_0x49dcd9,_0x2b236a,_0x45230f),_0x3cf466=tf25[_0x20cb52(0x260)](_0x1a11d8(_0x2b236a));return _0x31c77b['push']({'paramPath':_0x4973d1+'/filters'},{'paramPath':_0x4973d1+'/bias'}),{'filters':_0x186e63,'bias':_0x3cf466};}function _0x448539(_0x148a93,_0xad5527){const _0x30848=_0x29bb,_0x4f0b05=tf25['tensor1d'](_0x1a11d8(_0x148a93)),_0x5b8176=tf25[_0x30848(0x260)](_0x1a11d8(_0x148a93));return _0x31c77b[_0x30848(0x2b3)]({'paramPath':_0xad5527+'/weights'},{'paramPath':_0xad5527+_0x30848(0x17c)}),{'weights':_0x4f0b05,'biases':_0x5b8176};}function _0x1ac449(_0x54814c,_0xb815c3,_0x32dd23,_0x22b432){const _0xc6baa7=_0x29bb,_0xcb8d2=_0x3e4d10(_0x54814c,_0xb815c3,_0x32dd23,_0x22b432+_0xc6baa7(0x220)),_0x3fbc5a=_0x448539(_0xb815c3,_0x22b432+_0xc6baa7(0x145));return{'conv':_0xcb8d2,'scale':_0x3fbc5a};}function _0x144e2b(_0x5a0573,_0x2c2a12,_0xfaf69a,_0x522b2e,_0x1d88e8=![]){const _0xbc25e2=_0x29bb,_0x37444a=_0x1ac449((_0x1d88e8?0.5:0x1)*_0x5a0573,_0x2c2a12,_0xfaf69a,_0x522b2e+'/conv1'),_0x482085=_0x1ac449(_0x5a0573,_0x2c2a12,_0xfaf69a,_0x522b2e+_0xbc25e2(0xfc));return{'conv1':_0x37444a,'conv2':_0x482085};}return{'extractConvLayerParams':_0x1ac449,'extractResidualLayerParams':_0x144e2b};}function extractParams5(_0x759ec){const _0x199a6a=_0x3556c3,{extractWeights:_0x37d465,getRemainingWeights:_0x5b4552}=extractWeightsFactory(_0x759ec),_0x2b2c73=[],{extractConvLayerParams:_0x161109,extractResidualLayerParams:_0x126eea}=extractorsFactory3(_0x37d465,_0x2b2c73),_0x575b18=_0x161109(0x1260,0x20,0x7,'conv32_down'),_0x51f00d=_0x126eea(0x2400,0x20,0x3,_0x199a6a(0x2db)),_0x59ab9f=_0x126eea(0x2400,0x20,0x3,_0x199a6a(0x189)),_0x38d43c=_0x126eea(0x2400,0x20,0x3,_0x199a6a(0x2f9)),_0x50948e=_0x126eea(0x9000,0x40,0x3,_0x199a6a(0x1e9),!![]),_0x1f77e2=_0x126eea(0x9000,0x40,0x3,_0x199a6a(0x246)),_0x537365=_0x126eea(0x9000,0x40,0x3,_0x199a6a(0x1a9)),_0x360ba5=_0x126eea(0x9000,0x40,0x3,_0x199a6a(0x1e3)),_0x35b2c7=_0x126eea(0x24000,0x80,0x3,_0x199a6a(0x21b),!![]),_0x7ef1d6=_0x126eea(0x24000,0x80,0x3,_0x199a6a(0x2b2)),_0x3720ea=_0x126eea(0x24000,0x80,0x3,_0x199a6a(0x337)),_0x28f3e7=_0x126eea(0x90000,0x100,0x3,_0x199a6a(0x283),!![]),_0x403ce5=_0x126eea(0x90000,0x100,0x3,'conv256_1'),_0x1deb54=_0x126eea(0x90000,0x100,0x3,_0x199a6a(0x312)),_0x284753=_0x126eea(0x90000,0x100,0x3,'conv256_down_out'),_0x4689fa=tf25[_0x199a6a(0xd5)](()=>tf25[_0x199a6a(0x285)](tf25['tensor2d'](_0x37d465(0x100*0x80),[0x80,0x100]),[0x1,0x0]));_0x2b2c73[_0x199a6a(0x2b3)]({'paramPath':'fc'});if(_0x5b4552()[_0x199a6a(0x14a)]!==0x0)throw new Error('weights\x20remaing\x20after\x20extract:\x20'+_0x5b4552()[_0x199a6a(0x14a)]);const _0x1038d4={'conv32_down':_0x575b18,'conv32_1':_0x51f00d,'conv32_2':_0x59ab9f,'conv32_3':_0x38d43c,'conv64_down':_0x50948e,'conv64_1':_0x1f77e2,'conv64_2':_0x537365,'conv64_3':_0x360ba5,'conv128_down':_0x35b2c7,'conv128_1':_0x7ef1d6,'conv128_2':_0x3720ea,'conv256_down':_0x28f3e7,'conv256_1':_0x403ce5,'conv256_2':_0x1deb54,'conv256_down_out':_0x284753,'fc':_0x4689fa};return{'params':_0x1038d4,'paramMappings':_0x2b2c73};}function extractorsFactory4(_0x31bca7,_0x5391fd){const _0x21eb2f=extractWeightEntryFactory(_0x31bca7,_0x5391fd);function _0x27a0fa(_0x47c8f9){const _0x4a77df=_0x29bb,_0x47642a=_0x21eb2f(_0x47c8f9+_0x4a77df(0x1cc),0x1),_0x1305e5=_0x21eb2f(_0x47c8f9+'/scale/biases',0x1);return{'weights':_0x47642a,'biases':_0x1305e5};}function _0x40a0bc(_0x4d81da){const _0xed6b47=_0x29bb,_0x598bf2=_0x21eb2f(_0x4d81da+_0xed6b47(0x33a),0x4),_0xf8cfb2=_0x21eb2f(_0x4d81da+'/conv/bias',0x1),_0x5b84f0=_0x27a0fa(_0x4d81da);return{'conv':{'filters':_0x598bf2,'bias':_0xf8cfb2},'scale':_0x5b84f0};}function _0x2012e5(_0xbb88bf){const _0x24fa75=_0x29bb;return{'conv1':_0x40a0bc(_0xbb88bf+_0x24fa75(0x268)),'conv2':_0x40a0bc(_0xbb88bf+'/conv2')};}return{'extractConvLayerParams':_0x40a0bc,'extractResidualLayerParams':_0x2012e5};}function extractParamsFromWeightMap5(_0x546a4e){const _0x1cbf4f=_0x3556c3,_0x1c7e7f=[],{extractConvLayerParams:_0x22b2d6,extractResidualLayerParams:_0x4a9e2c}=extractorsFactory4(_0x546a4e,_0x1c7e7f),_0xa119b=_0x22b2d6(_0x1cbf4f(0x22b)),_0x2d7f20=_0x4a9e2c(_0x1cbf4f(0x2db)),_0x2e9d20=_0x4a9e2c(_0x1cbf4f(0x189)),_0x3f4d88=_0x4a9e2c(_0x1cbf4f(0x2f9)),_0x2b4d55=_0x4a9e2c(_0x1cbf4f(0x1e9)),_0x225f78=_0x4a9e2c(_0x1cbf4f(0x246)),_0x21ae78=_0x4a9e2c(_0x1cbf4f(0x1a9)),_0x375458=_0x4a9e2c(_0x1cbf4f(0x1e3)),_0x4eb259=_0x4a9e2c(_0x1cbf4f(0x21b)),_0x14e542=_0x4a9e2c(_0x1cbf4f(0x2b2)),_0x5b6f4f=_0x4a9e2c('conv128_2'),_0x32cc7e=_0x4a9e2c(_0x1cbf4f(0x283)),_0x2164c6=_0x4a9e2c(_0x1cbf4f(0x14b)),_0x1df70b=_0x4a9e2c(_0x1cbf4f(0x312)),_0x305f80=_0x4a9e2c(_0x1cbf4f(0x13a)),{fc:_0x33ebf0}=_0x546a4e;_0x1c7e7f[_0x1cbf4f(0x2b3)]({'originalPath':'fc','paramPath':'fc'});if(!isTensor2D(_0x33ebf0))throw new Error(_0x1cbf4f(0x167)+_0x33ebf0);const _0x5e3a3c={'conv32_down':_0xa119b,'conv32_1':_0x2d7f20,'conv32_2':_0x2e9d20,'conv32_3':_0x3f4d88,'conv64_down':_0x2b4d55,'conv64_1':_0x225f78,'conv64_2':_0x21ae78,'conv64_3':_0x375458,'conv128_down':_0x4eb259,'conv128_1':_0x14e542,'conv128_2':_0x5b6f4f,'conv256_down':_0x32cc7e,'conv256_1':_0x2164c6,'conv256_2':_0x1df70b,'conv256_down_out':_0x305f80,'fc':_0x33ebf0};return disposeUnusedWeightTensors(_0x546a4e,_0x1c7e7f),{'params':_0x5e3a3c,'paramMappings':_0x1c7e7f};}var tf26=__toESM(require_tfjs_esm());function residual(_0x5ac471,_0x42fc79){const _0x3aeb29=_0x3556c3;let _0x4ea642=conv2(_0x5ac471,_0x42fc79[_0x3aeb29(0x10a)]);return _0x4ea642=convNoRelu(_0x4ea642,_0x42fc79[_0x3aeb29(0x123)]),_0x4ea642=tf26[_0x3aeb29(0x15a)](_0x4ea642,_0x5ac471),_0x4ea642=tf26[_0x3aeb29(0x29c)](_0x4ea642),_0x4ea642;}function residualDown(_0x19e205,_0xd29bbd){const _0xca1c02=_0x3556c3;let _0x179631=convDown(_0x19e205,_0xd29bbd[_0xca1c02(0x10a)]);_0x179631=convNoRelu(_0x179631,_0xd29bbd[_0xca1c02(0x123)]);let _0x4b40f0=tf26[_0xca1c02(0x132)](_0x19e205,0x2,0x2,_0xca1c02(0x320));const _0x422411=tf26[_0xca1c02(0x15f)](_0x4b40f0[_0xca1c02(0x166)]),_0x46f361=_0x4b40f0[_0xca1c02(0x166)][0x3]!==_0x179631['shape'][0x3],_0x4b132c=_0x4b40f0[_0xca1c02(0x166)][0x1]!==_0x179631[_0xca1c02(0x166)][0x1]||_0x4b40f0[_0xca1c02(0x166)][0x2]!==_0x179631[_0xca1c02(0x166)][0x2];if(_0x4b132c){const _0x3f9053=[..._0x179631[_0xca1c02(0x166)]];_0x3f9053[0x1]=0x1;const _0x550302=tf26[_0xca1c02(0x15f)](_0x3f9053);_0x179631=tf26[_0xca1c02(0x116)]([_0x179631,_0x550302],0x1);const _0x2fd209=[..._0x179631[_0xca1c02(0x166)]];_0x2fd209[0x2]=0x1;const _0x45f392=tf26['zeros'](_0x2fd209);_0x179631=tf26[_0xca1c02(0x116)]([_0x179631,_0x45f392],0x2);}return _0x4b40f0=_0x46f361?tf26['concat']([_0x4b40f0,_0x422411],0x3):_0x4b40f0,_0x179631=tf26[_0xca1c02(0x15a)](_0x4b40f0,_0x179631),_0x179631=tf26['relu'](_0x179631),_0x179631;}var FaceRecognitionNet=class extends NeuralNetwork{constructor(){super('FaceRecognitionNet');}[_0x3556c3(0x1de)](_0x54fb75){const _0x3c8ad3=_0x3556c3,{params:_0x3e51f1}=this;if(!_0x3e51f1)throw new Error(_0x3c8ad3(0xf4));return tf27[_0x3c8ad3(0xd5)](()=>{const _0x491360=_0x3c8ad3,_0x69cf07=tf27[_0x491360(0x262)](_0x54fb75[_0x491360(0x2ad)](0x96,!![]),_0x491360(0xe7)),_0x2db7f0=[122.782,117.001,104.298],_0x2b179b=normalize(_0x69cf07,_0x2db7f0)[_0x491360(0x17e)](0xff);let _0xf27616=convDown(_0x2b179b,_0x3e51f1['conv32_down']);_0xf27616=tf27['maxPool'](_0xf27616,0x3,0x2,_0x491360(0x320)),_0xf27616=residual(_0xf27616,_0x3e51f1[_0x491360(0x2db)]),_0xf27616=residual(_0xf27616,_0x3e51f1[_0x491360(0x189)]),_0xf27616=residual(_0xf27616,_0x3e51f1['conv32_3']),_0xf27616=residualDown(_0xf27616,_0x3e51f1['conv64_down']),_0xf27616=residual(_0xf27616,_0x3e51f1[_0x491360(0x246)]),_0xf27616=residual(_0xf27616,_0x3e51f1[_0x491360(0x1a9)]),_0xf27616=residual(_0xf27616,_0x3e51f1['conv64_3']),_0xf27616=residualDown(_0xf27616,_0x3e51f1[_0x491360(0x21b)]),_0xf27616=residual(_0xf27616,_0x3e51f1[_0x491360(0x2b2)]),_0xf27616=residual(_0xf27616,_0x3e51f1['conv128_2']),_0xf27616=residualDown(_0xf27616,_0x3e51f1[_0x491360(0x283)]),_0xf27616=residual(_0xf27616,_0x3e51f1['conv256_1']),_0xf27616=residual(_0xf27616,_0x3e51f1[_0x491360(0x312)]),_0xf27616=residualDown(_0xf27616,_0x3e51f1[_0x491360(0x13a)]);const _0x65839d=_0xf27616[_0x491360(0xd1)]([0x1,0x2]),_0xc6240b=tf27[_0x491360(0x105)](_0x65839d,_0x3e51f1['fc']);return _0xc6240b;});}async[_0x3556c3(0x25e)](_0x5c9786){const _0x530316=_0x3556c3;return this[_0x530316(0x1de)](await toNetInput(_0x5c9786));}async[_0x3556c3(0x27c)](_0x4272cc){const _0x29fe70=_0x3556c3;var _0x4a5fdb;if((_0x4a5fdb=_0x4272cc==null?void 0x0:_0x4272cc['shape'])==null?void 0x0:_0x4a5fdb[_0x29fe70(0x156)](_0x29f4f7=>_0x29f4f7<=0x0))return new Float32Array(0x80);const _0x18a3be=await toNetInput(_0x4272cc),_0x271ab4=tf27[_0x29fe70(0xd5)](()=>tf27['unstack'](this[_0x29fe70(0x1de)](_0x18a3be))),_0x364a15=await Promise[_0x29fe70(0x10e)](_0x271ab4[_0x29fe70(0x2b0)](_0x21a6b2=>_0x21a6b2['data']()));return _0x271ab4[_0x29fe70(0xe0)](_0x38bcdb=>_0x38bcdb[_0x29fe70(0x126)]()),_0x18a3be[_0x29fe70(0x244)]?_0x364a15:_0x364a15[0x0];}[_0x3556c3(0x306)](){return'face_recognition_model';}[_0x3556c3(0x2e5)](_0x59e4cf){return extractParamsFromWeightMap5(_0x59e4cf);}['extractParams'](_0x36103e){return extractParams5(_0x36103e);}};function createFaceRecognitionNet(_0xa94839){const _0x1cd426=_0x3556c3,_0x70e750=new FaceRecognitionNet();return _0x70e750[_0x1cd426(0x30b)](_0xa94839),_0x70e750;}function extendWithFaceDescriptor(_0x560ff5,_0x281364){const _0x1d8973={'descriptor':_0x281364};return{..._0x560ff5,..._0x1d8973};}function isWithAge(_0x32e59b){const _0x32e84c=_0x3556c3;return typeof _0x32e59b['age']===_0x32e84c(0xe2);}function extendWithAge(_0x44bcb4,_0x10eec9){const _0x38d344={'age':_0x10eec9};return{..._0x44bcb4,..._0x38d344};}function isWithGender(_0xde741a){const _0x485cf6=_0x3556c3;return(_0xde741a[_0x485cf6(0x248)]===_0x485cf6(0x197)||_0xde741a['gender']===_0x485cf6(0x33c))&&isValidProbablitiy(_0xde741a['genderProbability']);}function extendWithGender(_0x19f8b4,_0x107b7b,_0x57d9b8){const _0x94a41a={'gender':_0x107b7b,'genderProbability':_0x57d9b8};return{..._0x19f8b4,..._0x94a41a};}var tf34=__toESM(require_tfjs_esm()),tf28=__toESM(require_tfjs_esm());function extractorsFactory5(_0x5d2211,_0x2297c0){function _0x3afdc5(_0x350110,_0x4ba28a){const _0x8cba65=_0x29bb,_0x3a461e=tf28['tensor4d'](_0x5d2211(0x3*0x3*_0x350110),[0x3,0x3,_0x350110,0x1]),_0xee86f9=tf28[_0x8cba65(0x260)](_0x5d2211(_0x350110)),_0x90c7f9=tf28['tensor1d'](_0x5d2211(_0x350110)),_0x3e47e4=tf28[_0x8cba65(0x260)](_0x5d2211(_0x350110)),_0x2032e7=tf28[_0x8cba65(0x260)](_0x5d2211(_0x350110));return _0x2297c0[_0x8cba65(0x2b3)]({'paramPath':_0x4ba28a+_0x8cba65(0x17d)},{'paramPath':_0x4ba28a+'/batch_norm_scale'},{'paramPath':_0x4ba28a+_0x8cba65(0x11d)},{'paramPath':_0x4ba28a+'/batch_norm_mean'},{'paramPath':_0x4ba28a+'/batch_norm_variance'}),{'filters':_0x3a461e,'batch_norm_scale':_0xee86f9,'batch_norm_offset':_0x90c7f9,'batch_norm_mean':_0x3e47e4,'batch_norm_variance':_0x2032e7};}function _0x34496a(_0x533652,_0x5da91a,_0x434969,_0x3d1abe,_0x77eaf4){const _0x249c33=_0x29bb,_0x5a2474=tf28[_0x249c33(0x133)](_0x5d2211(_0x533652*_0x5da91a*_0x434969*_0x434969),[_0x434969,_0x434969,_0x533652,_0x5da91a]),_0x2f395b=tf28[_0x249c33(0x260)](_0x5d2211(_0x5da91a));return _0x2297c0[_0x249c33(0x2b3)]({'paramPath':_0x3d1abe+'/filters'},{'paramPath':_0x3d1abe+'/'+(_0x77eaf4?_0x249c33(0x2ea):_0x249c33(0x24f))}),{'filters':_0x5a2474,'bias':_0x2f395b};}function _0x38814e(_0x308623,_0x1eaf8d,_0x583416,_0x21bcb8){const {filters:_0x285834,bias:_0x1aec57}=_0x34496a(_0x308623,_0x1eaf8d,_0x583416,_0x21bcb8,!![]);return{'filters':_0x285834,'batch_norm_offset':_0x1aec57};}function _0x5e25d4(_0x22271c,_0x22b2dc,_0x584665){const _0xa29f1e=_0x29bb,_0x3b26d6=_0x3afdc5(_0x22271c,_0x584665+_0xa29f1e(0x1e7)),_0x342840=_0x38814e(_0x22271c,_0x22b2dc,0x1,_0x584665+_0xa29f1e(0x26e));return{'depthwise_conv':_0x3b26d6,'pointwise_conv':_0x342840};}function _0x176517(){const _0x4472aa=_0x29bb,_0xc2e609=_0x38814e(0x3,0x20,0x3,'mobilenetv1/conv_0'),_0x4f0b88=_0x5e25d4(0x20,0x40,_0x4472aa(0x34b)),_0x5761ab=_0x5e25d4(0x40,0x80,_0x4472aa(0x227)),_0x374ee1=_0x5e25d4(0x80,0x80,_0x4472aa(0x25f)),_0x1046d3=_0x5e25d4(0x80,0x100,_0x4472aa(0x138)),_0x1efb6c=_0x5e25d4(0x100,0x100,'mobilenetv1/conv_5'),_0x4b0525=_0x5e25d4(0x100,0x200,_0x4472aa(0x2f5)),_0x3d3780=_0x5e25d4(0x200,0x200,_0x4472aa(0x233)),_0x536416=_0x5e25d4(0x200,0x200,_0x4472aa(0x194)),_0xb5b745=_0x5e25d4(0x200,0x200,_0x4472aa(0x273)),_0x3ee542=_0x5e25d4(0x200,0x200,_0x4472aa(0x1e8)),_0x2f1d5d=_0x5e25d4(0x200,0x200,'mobilenetv1/conv_11'),_0x2fce0f=_0x5e25d4(0x200,0x400,'mobilenetv1/conv_12'),_0x2f93f9=_0x5e25d4(0x400,0x400,_0x4472aa(0x1fb));return{'conv_0':_0xc2e609,'conv_1':_0x4f0b88,'conv_2':_0x5761ab,'conv_3':_0x374ee1,'conv_4':_0x1046d3,'conv_5':_0x1efb6c,'conv_6':_0x4b0525,'conv_7':_0x3d3780,'conv_8':_0x536416,'conv_9':_0xb5b745,'conv_10':_0x3ee542,'conv_11':_0x2f1d5d,'conv_12':_0x2fce0f,'conv_13':_0x2f93f9};}function _0x1a7634(){const _0x4b8410=_0x29bb,_0x4d792f=_0x38814e(0x400,0x100,0x1,_0x4b8410(0x225)),_0x57158a=_0x38814e(0x100,0x200,0x3,_0x4b8410(0x2cd)),_0x1fa1f8=_0x38814e(0x200,0x80,0x1,_0x4b8410(0x333)),_0x142f77=_0x38814e(0x80,0x100,0x3,'prediction_layer/conv_3'),_0xd585a5=_0x38814e(0x100,0x80,0x1,'prediction_layer/conv_4'),_0x2e2d0b=_0x38814e(0x80,0x100,0x3,_0x4b8410(0x22f)),_0xaa1434=_0x38814e(0x100,0x40,0x1,'prediction_layer/conv_6'),_0x15c028=_0x38814e(0x40,0x80,0x3,'prediction_layer/conv_7'),_0x2a5b7e=_0x34496a(0x200,0xc,0x1,_0x4b8410(0x1c0)),_0x4e82f7=_0x34496a(0x200,0x9,0x1,_0x4b8410(0x29a)),_0x4dcbf7=_0x34496a(0x400,0x18,0x1,_0x4b8410(0x209)),_0x4e835e=_0x34496a(0x400,0x12,0x1,'prediction_layer/box_predictor_1/class_predictor'),_0x506a47=_0x34496a(0x200,0x18,0x1,_0x4b8410(0x2de)),_0xb58ffa=_0x34496a(0x200,0x12,0x1,_0x4b8410(0x287)),_0x5861c1=_0x34496a(0x100,0x18,0x1,_0x4b8410(0x2af)),_0x2bde56=_0x34496a(0x100,0x12,0x1,_0x4b8410(0x32d)),_0x21d018=_0x34496a(0x100,0x18,0x1,'prediction_layer/box_predictor_4/box_encoding_predictor'),_0x3790db=_0x34496a(0x100,0x12,0x1,_0x4b8410(0x2d3)),_0x2cf8f1=_0x34496a(0x80,0x18,0x1,_0x4b8410(0x118)),_0x975970=_0x34496a(0x80,0x12,0x1,_0x4b8410(0x181)),_0x2ceab4={'box_encoding_predictor':_0x2a5b7e,'class_predictor':_0x4e82f7},_0x216fd9={'box_encoding_predictor':_0x4dcbf7,'class_predictor':_0x4e835e},_0x17506a={'box_encoding_predictor':_0x506a47,'class_predictor':_0xb58ffa},_0xde71f={'box_encoding_predictor':_0x5861c1,'class_predictor':_0x2bde56},_0x4842c5={'box_encoding_predictor':_0x21d018,'class_predictor':_0x3790db},_0x985fba={'box_encoding_predictor':_0x2cf8f1,'class_predictor':_0x975970};return{'conv_0':_0x4d792f,'conv_1':_0x57158a,'conv_2':_0x1fa1f8,'conv_3':_0x142f77,'conv_4':_0xd585a5,'conv_5':_0x2e2d0b,'conv_6':_0xaa1434,'conv_7':_0x15c028,'box_predictor_0':_0x2ceab4,'box_predictor_1':_0x216fd9,'box_predictor_2':_0x17506a,'box_predictor_3':_0xde71f,'box_predictor_4':_0x4842c5,'box_predictor_5':_0x985fba};}return{'extractMobilenetV1Params':_0x176517,'extractPredictionLayerParams':_0x1a7634};}function extractParams6(_0x26acfc){const _0x4500f7=_0x3556c3,_0x26f912=[],{extractWeights:_0x113834,getRemainingWeights:_0xc1123c}=extractWeightsFactory(_0x26acfc),{extractMobilenetV1Params:_0x11090d,extractPredictionLayerParams:_0x4859c1}=extractorsFactory5(_0x113834,_0x26f912),_0x20dcb4=_0x11090d(),_0x3e79f5=_0x4859c1(),_0x23e4e1=tf28['tensor3d'](_0x113834(0x13fe*0x4),[0x1,0x13fe,0x4]),_0x38f8ba={'extra_dim':_0x23e4e1};_0x26f912[_0x4500f7(0x2b3)]({'paramPath':'output_layer/extra_dim'});if(_0xc1123c()[_0x4500f7(0x14a)]!==0x0)throw new Error(_0x4500f7(0xd0)+_0xc1123c()[_0x4500f7(0x14a)]);return{'params':{'mobilenetv1':_0x20dcb4,'prediction_layer':_0x3e79f5,'output_layer':_0x38f8ba},'paramMappings':_0x26f912};}function extractorsFactory6(_0x50604d,_0x28b40e){const _0x3078fd=extractWeightEntryFactory(_0x50604d,_0x28b40e);function _0x374fbc(_0x1649d0,_0x381dd8,_0x37ef7e){const _0x3f491a=_0x29bb,_0x2449b7=_0x3078fd(_0x1649d0+_0x3f491a(0x356)+_0x381dd8+_0x3f491a(0x190),0x4,_0x37ef7e+_0x3f491a(0x17d)),_0x17481b=_0x3078fd(_0x1649d0+'/Conv2d_'+_0x381dd8+_0x3f491a(0x272),0x1,_0x37ef7e+'/batch_norm_offset');return{'filters':_0x2449b7,'batch_norm_offset':_0x17481b};}function _0x22c0f0(_0x3c8f31){const _0x185e5c=_0x29bb,_0x2c46c3='mobilenetv1/conv_'+_0x3c8f31,_0x474584=_0x185e5c(0x2f6)+_0x3c8f31+_0x185e5c(0x243),_0x9ef579=_0x2c46c3+_0x185e5c(0x1e7),_0x313d9b=_0x2c46c3+'/pointwise_conv',_0x28a291=_0x3078fd(_0x474584+'/depthwise_weights',0x4,_0x9ef579+_0x185e5c(0x17d)),_0x406e3f=_0x3078fd(_0x474584+_0x185e5c(0x17f),0x1,_0x9ef579+'/batch_norm_scale'),_0x1d00e6=_0x3078fd(_0x474584+_0x185e5c(0x267),0x1,_0x9ef579+_0x185e5c(0x11d)),_0x4a85d2=_0x3078fd(_0x474584+_0x185e5c(0x1d8),0x1,_0x9ef579+'/batch_norm_mean'),_0x247032=_0x3078fd(_0x474584+_0x185e5c(0x127),0x1,_0x9ef579+_0x185e5c(0x31a));return{'depthwise_conv':{'filters':_0x28a291,'batch_norm_scale':_0x406e3f,'batch_norm_offset':_0x1d00e6,'batch_norm_mean':_0x4a85d2,'batch_norm_variance':_0x247032},'pointwise_conv':_0x374fbc(_0x185e5c(0x117),_0x3c8f31,_0x313d9b)};}function _0x5cc3e0(){const _0xbde845=_0x29bb;return{'conv_0':_0x374fbc(_0xbde845(0x117),0x0,_0xbde845(0xda)),'conv_1':_0x22c0f0(0x1),'conv_2':_0x22c0f0(0x2),'conv_3':_0x22c0f0(0x3),'conv_4':_0x22c0f0(0x4),'conv_5':_0x22c0f0(0x5),'conv_6':_0x22c0f0(0x6),'conv_7':_0x22c0f0(0x7),'conv_8':_0x22c0f0(0x8),'conv_9':_0x22c0f0(0x9),'conv_10':_0x22c0f0(0xa),'conv_11':_0x22c0f0(0xb),'conv_12':_0x22c0f0(0xc),'conv_13':_0x22c0f0(0xd)};}function _0x318fe9(_0x12b748,_0x2ee330){const _0x102f1d=_0x29bb,_0x128920=_0x3078fd(_0x12b748+_0x102f1d(0x152),0x4,_0x2ee330+_0x102f1d(0x17d)),_0x3b05c2=_0x3078fd(_0x12b748+_0x102f1d(0x17c),0x1,_0x2ee330+_0x102f1d(0x146));return{'filters':_0x128920,'bias':_0x3b05c2};}function _0x184069(_0xbfe646){const _0x5e2350=_0x29bb,_0x324c13=_0x318fe9(_0x5e2350(0x1f6)+_0xbfe646+_0x5e2350(0x32e),_0x5e2350(0x103)+_0xbfe646+'/box_encoding_predictor'),_0x4509f4=_0x318fe9(_0x5e2350(0x1f6)+_0xbfe646+_0x5e2350(0x278),_0x5e2350(0x103)+_0xbfe646+_0x5e2350(0x2b9));return{'box_encoding_predictor':_0x324c13,'class_predictor':_0x4509f4};}function _0x121dea(){const _0x3140ff=_0x29bb;return{'conv_0':_0x374fbc(_0x3140ff(0x22e),0x0,_0x3140ff(0x225)),'conv_1':_0x374fbc('Prediction',0x1,_0x3140ff(0x2cd)),'conv_2':_0x374fbc(_0x3140ff(0x22e),0x2,_0x3140ff(0x333)),'conv_3':_0x374fbc('Prediction',0x3,_0x3140ff(0x2ba)),'conv_4':_0x374fbc(_0x3140ff(0x22e),0x4,_0x3140ff(0x274)),'conv_5':_0x374fbc(_0x3140ff(0x22e),0x5,_0x3140ff(0x22f)),'conv_6':_0x374fbc('Prediction',0x6,_0x3140ff(0x324)),'conv_7':_0x374fbc(_0x3140ff(0x22e),0x7,_0x3140ff(0xd4)),'box_predictor_0':_0x184069(0x0),'box_predictor_1':_0x184069(0x1),'box_predictor_2':_0x184069(0x2),'box_predictor_3':_0x184069(0x3),'box_predictor_4':_0x184069(0x4),'box_predictor_5':_0x184069(0x5)};}return{'extractMobilenetV1Params':_0x5cc3e0,'extractPredictionLayerParams':_0x121dea};}function extractParamsFromWeightMap6(_0x11e1a0){const _0xa65863=_0x3556c3,_0x4f0b39=[],{extractMobilenetV1Params:_0x3a2020,extractPredictionLayerParams:_0x191b96}=extractorsFactory6(_0x11e1a0,_0x4f0b39),_0x23d3b8=_0x11e1a0['Output/extra_dim'];_0x4f0b39[_0xa65863(0x2b3)]({'originalPath':_0xa65863(0x237),'paramPath':_0xa65863(0x213)});if(!isTensor3D(_0x23d3b8))throw new Error(_0xa65863(0x1b1)+_0x23d3b8);const _0x3bf287={'mobilenetv1':_0x3a2020(),'prediction_layer':_0x191b96(),'output_layer':{'extra_dim':_0x23d3b8}};return disposeUnusedWeightTensors(_0x11e1a0,_0x4f0b39),{'params':_0x3bf287,'paramMappings':_0x4f0b39};}var tf30=__toESM(require_tfjs_esm()),tf29=__toESM(require_tfjs_esm());function pointwiseConvLayer(_0x5b5ceb,_0xad3c41,_0x32a708){const _0x4e9a2e=_0x3556c3;return tf29[_0x4e9a2e(0xd5)](()=>{const _0x1d9c33=_0x4e9a2e;let _0x566fc0=tf29[_0x1d9c33(0x124)](_0x5b5ceb,_0xad3c41[_0x1d9c33(0x11a)],_0x32a708,_0x1d9c33(0x23b));return _0x566fc0=tf29[_0x1d9c33(0x15a)](_0x566fc0,_0xad3c41[_0x1d9c33(0x2ea)]),tf29[_0x1d9c33(0x19a)](_0x566fc0,0x0,0x6);});}var epsilon=0.0010000000474974513;function depthwiseConvLayer(_0x3e4cbf,_0x21f5c6,_0x3f9879){const _0x41e389=_0x3556c3;return tf30[_0x41e389(0xd5)](()=>{const _0x9e8bdc=_0x41e389;let _0x3159c6=tf30[_0x9e8bdc(0x2b5)](_0x3e4cbf,_0x21f5c6[_0x9e8bdc(0x11a)],_0x3f9879,_0x9e8bdc(0x23b));return _0x3159c6=tf30[_0x9e8bdc(0x1bd)](_0x3159c6,_0x21f5c6[_0x9e8bdc(0x1f7)],_0x21f5c6[_0x9e8bdc(0x281)],_0x21f5c6[_0x9e8bdc(0x2ea)],_0x21f5c6[_0x9e8bdc(0x30a)],epsilon),tf30[_0x9e8bdc(0x19a)](_0x3159c6,0x0,0x6);});}function getStridesForLayerIdx(_0x466206){const _0x4158ce=_0x3556c3;return[0x2,0x4,0x6,0xc][_0x4158ce(0x156)](_0x458e74=>_0x458e74===_0x466206)?[0x2,0x2]:[0x1,0x1];}function mobileNetV1(_0x2c9ce5,_0x3567e1){const _0x2d378e=_0x3556c3;return tf30[_0x2d378e(0xd5)](()=>{const _0x114cea=_0x2d378e;let _0x446349,_0x1acf0b=pointwiseConvLayer(_0x2c9ce5,_0x3567e1['conv_0'],[0x2,0x2]);const _0x186691=[_0x3567e1[_0x114cea(0x256)],_0x3567e1[_0x114cea(0x23e)],_0x3567e1[_0x114cea(0x24d)],_0x3567e1[_0x114cea(0x304)],_0x3567e1[_0x114cea(0x328)],_0x3567e1['conv_6'],_0x3567e1['conv_7'],_0x3567e1['conv_8'],_0x3567e1[_0x114cea(0xea)],_0x3567e1[_0x114cea(0x277)],_0x3567e1[_0x114cea(0x27a)],_0x3567e1['conv_12'],_0x3567e1[_0x114cea(0x16a)]];_0x186691[_0x114cea(0xe0)]((_0x17d560,_0x1b28b3)=>{const _0x3e70dd=_0x114cea,_0x566c80=_0x1b28b3+0x1,_0x28a491=getStridesForLayerIdx(_0x566c80);_0x1acf0b=depthwiseConvLayer(_0x1acf0b,_0x17d560[_0x3e70dd(0x32c)],_0x28a491),_0x1acf0b=pointwiseConvLayer(_0x1acf0b,_0x17d560[_0x3e70dd(0x14d)],[0x1,0x1]);if(_0x566c80===0xb)_0x446349=_0x1acf0b;});if(_0x446349===null)throw new Error(_0x114cea(0x266));return{'out':_0x1acf0b,'conv11':_0x446349};});}function IOU(_0x10519a,_0x21291a,_0x37b880){const _0x45986b=_0x3556c3,_0x30704b=_0x10519a[_0x45986b(0x15b)](),_0x10e67f=Math[_0x45986b(0x30e)](_0x30704b[_0x21291a][0x0],_0x30704b[_0x21291a][0x2]),_0x112127=Math[_0x45986b(0x30e)](_0x30704b[_0x21291a][0x1],_0x30704b[_0x21291a][0x3]),_0x187342=Math[_0x45986b(0x2f4)](_0x30704b[_0x21291a][0x0],_0x30704b[_0x21291a][0x2]),_0x7469e=Math[_0x45986b(0x2f4)](_0x30704b[_0x21291a][0x1],_0x30704b[_0x21291a][0x3]),_0x4bf539=Math['min'](_0x30704b[_0x37b880][0x0],_0x30704b[_0x37b880][0x2]),_0x33e50d=Math[_0x45986b(0x30e)](_0x30704b[_0x37b880][0x1],_0x30704b[_0x37b880][0x3]),_0x10908f=Math[_0x45986b(0x2f4)](_0x30704b[_0x37b880][0x0],_0x30704b[_0x37b880][0x2]),_0x487335=Math['max'](_0x30704b[_0x37b880][0x1],_0x30704b[_0x37b880][0x3]),_0x5bac1f=(_0x187342-_0x10e67f)*(_0x7469e-_0x112127),_0x2d1c2c=(_0x10908f-_0x4bf539)*(_0x487335-_0x33e50d);if(_0x5bac1f<=0x0||_0x2d1c2c<=0x0)return 0x0;const _0x3dd48b=Math[_0x45986b(0x2f4)](_0x10e67f,_0x4bf539),_0x420b5d=Math[_0x45986b(0x2f4)](_0x112127,_0x33e50d),_0x47bfe9=Math[_0x45986b(0x30e)](_0x187342,_0x10908f),_0x5cac67=Math[_0x45986b(0x30e)](_0x7469e,_0x487335),_0x42e937=Math['max'](_0x47bfe9-_0x3dd48b,0x0)*Math[_0x45986b(0x2f4)](_0x5cac67-_0x420b5d,0x0);return _0x42e937/(_0x5bac1f+_0x2d1c2c-_0x42e937);}function nonMaxSuppression2(_0x1fd172,_0x2fde53,_0x3133da,_0x4bcddd,_0x4b41f0){const _0x14e007=_0x3556c3,_0x2f1da6=_0x1fd172[_0x14e007(0x166)][0x0],_0x10dfca=Math[_0x14e007(0x30e)](_0x3133da,_0x2f1da6),_0x297b96=_0x2fde53['map']((_0x32bf94,_0x1e58f8)=>({'score':_0x32bf94,'boxIndex':_0x1e58f8}))[_0x14e007(0x1eb)](_0x3635e5=>_0x3635e5[_0x14e007(0xf0)]>_0x4b41f0)[_0x14e007(0x199)]((_0x17213b,_0xc67287)=>_0xc67287['score']-_0x17213b[_0x14e007(0xf0)]),_0x18048e=_0x2d432f=>_0x2d432f<=_0x4bcddd?0x1:0x0,_0x2cfb9e=[];return _0x297b96[_0x14e007(0xe0)](_0x14cca6=>{const _0x3e91a2=_0x14e007;if(_0x2cfb9e[_0x3e91a2(0x14a)]>=_0x10dfca)return;const _0x5b1908=_0x14cca6[_0x3e91a2(0xf0)];for(let _0x4f3051=_0x2cfb9e[_0x3e91a2(0x14a)]-0x1;_0x4f3051>=0x0;--_0x4f3051){const _0x4ed177=IOU(_0x1fd172,_0x14cca6[_0x3e91a2(0x236)],_0x2cfb9e[_0x4f3051]);if(_0x4ed177===0x0)continue;_0x14cca6[_0x3e91a2(0xf0)]*=_0x18048e(_0x4ed177);if(_0x14cca6[_0x3e91a2(0xf0)]<=_0x4b41f0)break;}_0x5b1908===_0x14cca6[_0x3e91a2(0xf0)]&&_0x2cfb9e[_0x3e91a2(0x2b3)](_0x14cca6[_0x3e91a2(0x236)]);}),_0x2cfb9e;}var tf31=__toESM(require_tfjs_esm());function getCenterCoordinatesAndSizesLayer(_0x2b5b82){const _0x236f36=_0x3556c3,_0x5ebdd8=tf31[_0x236f36(0x2bf)](tf31['transpose'](_0x2b5b82,[0x1,0x0])),_0x3bbc30=[tf31[_0x236f36(0x18e)](_0x5ebdd8[0x2],_0x5ebdd8[0x0]),tf31['sub'](_0x5ebdd8[0x3],_0x5ebdd8[0x1])],_0x1f51de=[tf31[_0x236f36(0x15a)](_0x5ebdd8[0x0],tf31['div'](_0x3bbc30[0x0],0x2)),tf31[_0x236f36(0x15a)](_0x5ebdd8[0x1],tf31[_0x236f36(0x17e)](_0x3bbc30[0x1],0x2))];return{'sizes':_0x3bbc30,'centers':_0x1f51de};}function decodeBoxesLayer(_0x1180f9,_0x5c3ff6){const _0x43a48a=_0x3556c3,{sizes:_0x5afe7b,centers:_0x5e4057}=getCenterCoordinatesAndSizesLayer(_0x1180f9),_0x341492=tf31['unstack'](tf31['transpose'](_0x5c3ff6,[0x1,0x0])),_0x544ea6=tf31['div'](tf31[_0x43a48a(0x27b)](tf31[_0x43a48a(0x24a)](tf31[_0x43a48a(0x17e)](_0x341492[0x2],0x5)),_0x5afe7b[0x0]),0x2),_0x4f04bb=tf31[_0x43a48a(0x15a)](tf31['mul'](tf31[_0x43a48a(0x17e)](_0x341492[0x0],0xa),_0x5afe7b[0x0]),_0x5e4057[0x0]),_0x4d1c06=tf31[_0x43a48a(0x17e)](tf31[_0x43a48a(0x27b)](tf31[_0x43a48a(0x24a)](tf31[_0x43a48a(0x17e)](_0x341492[0x3],0x5)),_0x5afe7b[0x1]),0x2),_0x31dc43=tf31['add'](tf31[_0x43a48a(0x27b)](tf31[_0x43a48a(0x17e)](_0x341492[0x1],0xa),_0x5afe7b[0x1]),_0x5e4057[0x1]);return tf31['transpose'](tf31[_0x43a48a(0x21a)]([tf31[_0x43a48a(0x18e)](_0x4f04bb,_0x544ea6),tf31[_0x43a48a(0x18e)](_0x31dc43,_0x4d1c06),tf31[_0x43a48a(0x15a)](_0x4f04bb,_0x544ea6),tf31['add'](_0x31dc43,_0x4d1c06)]),[0x1,0x0]);}function outputLayer(_0x2c0de2,_0x9dc64d,_0x3a4f5a){return tf31['tidy'](()=>{const _0xeb50b0=_0x29bb,_0x10c0ca=_0x2c0de2['shape'][0x0];let _0x1ea6ae=decodeBoxesLayer(tf31[_0xeb50b0(0x210)](tf31[_0xeb50b0(0x154)](_0x3a4f5a[_0xeb50b0(0x165)],[_0x10c0ca,0x1,0x1]),[-0x1,0x4]),tf31[_0xeb50b0(0x210)](_0x2c0de2,[-0x1,0x4]));_0x1ea6ae=tf31[_0xeb50b0(0x210)](_0x1ea6ae,[_0x10c0ca,_0x1ea6ae[_0xeb50b0(0x166)][0x0]/_0x10c0ca,0x4]);const _0x24445c=tf31[_0xeb50b0(0x2a2)](tf31[_0xeb50b0(0xed)](_0x9dc64d,[0x0,0x0,0x1],[-0x1,-0x1,-0x1]));let _0x9c6d06=tf31[_0xeb50b0(0xed)](_0x24445c,[0x0,0x0,0x0],[-0x1,-0x1,0x1]);_0x9c6d06=tf31[_0xeb50b0(0x210)](_0x9c6d06,[_0x10c0ca,_0x9c6d06['shape'][0x1]]);const _0x1cef1d=tf31[_0xeb50b0(0x2bf)](_0x1ea6ae),_0x23a61c=tf31[_0xeb50b0(0x2bf)](_0x9c6d06);return{'boxes':_0x1cef1d,'scores':_0x23a61c};});}var tf33=__toESM(require_tfjs_esm()),tf32=__toESM(require_tfjs_esm());function boxPredictionLayer(_0x181e93,_0x2adf5c){return tf32['tidy'](()=>{const _0x577bbf=_0x29bb,_0x6fed78=_0x181e93[_0x577bbf(0x166)][0x0],_0x44968a=tf32[_0x577bbf(0x210)](convLayer(_0x181e93,_0x2adf5c['box_encoding_predictor']),[_0x6fed78,-0x1,0x1,0x4]),_0x13406e=tf32[_0x577bbf(0x210)](convLayer(_0x181e93,_0x2adf5c['class_predictor']),[_0x6fed78,-0x1,0x3]);return{'boxPredictionEncoding':_0x44968a,'classPrediction':_0x13406e};});}function predictionLayer(_0x58a9b7,_0x192e6f,_0x19c22b){return tf33['tidy'](()=>{const _0x351fec=_0x29bb,_0x255627=pointwiseConvLayer(_0x58a9b7,_0x19c22b['conv_0'],[0x1,0x1]),_0x17049e=pointwiseConvLayer(_0x255627,_0x19c22b[_0x351fec(0x256)],[0x2,0x2]),_0x5bafe7=pointwiseConvLayer(_0x17049e,_0x19c22b[_0x351fec(0x23e)],[0x1,0x1]),_0x2b0fdf=pointwiseConvLayer(_0x5bafe7,_0x19c22b[_0x351fec(0x24d)],[0x2,0x2]),_0x35a800=pointwiseConvLayer(_0x2b0fdf,_0x19c22b[_0x351fec(0x304)],[0x1,0x1]),_0x65644a=pointwiseConvLayer(_0x35a800,_0x19c22b[_0x351fec(0x328)],[0x2,0x2]),_0x14f9fa=pointwiseConvLayer(_0x65644a,_0x19c22b[_0x351fec(0x114)],[0x1,0x1]),_0x46abcb=pointwiseConvLayer(_0x14f9fa,_0x19c22b[_0x351fec(0x354)],[0x2,0x2]),_0x1bf641=boxPredictionLayer(_0x192e6f,_0x19c22b[_0x351fec(0x100)]),_0x4c9f3c=boxPredictionLayer(_0x58a9b7,_0x19c22b['box_predictor_1']),_0x5428a5=boxPredictionLayer(_0x17049e,_0x19c22b[_0x351fec(0x13f)]),_0x11de89=boxPredictionLayer(_0x2b0fdf,_0x19c22b[_0x351fec(0xee)]),_0x407a65=boxPredictionLayer(_0x65644a,_0x19c22b[_0x351fec(0xef)]),_0x3c1b13=boxPredictionLayer(_0x46abcb,_0x19c22b[_0x351fec(0x33f)]),_0x2aa628=tf33['concat']([_0x1bf641['boxPredictionEncoding'],_0x4c9f3c[_0x351fec(0x19e)],_0x5428a5[_0x351fec(0x19e)],_0x11de89[_0x351fec(0x19e)],_0x407a65['boxPredictionEncoding'],_0x3c1b13['boxPredictionEncoding']],0x1),_0x443cfa=tf33[_0x351fec(0x116)]([_0x1bf641[_0x351fec(0x188)],_0x4c9f3c[_0x351fec(0x188)],_0x5428a5[_0x351fec(0x188)],_0x11de89['classPrediction'],_0x407a65['classPrediction'],_0x3c1b13['classPrediction']],0x1);return{'boxPredictions':_0x2aa628,'classPredictions':_0x443cfa};});}var SsdMobilenetv1Options=class{constructor({minConfidence:_0x47c2fc,maxResults:_0x138968}={}){const _0x462835=_0x3556c3;this[_0x462835(0x21d)]=_0x462835(0x20c),this[_0x462835(0x2e1)]=_0x47c2fc||0.5,this[_0x462835(0x347)]=_0x138968||0x64;if(typeof this[_0x462835(0x2e1)]!==_0x462835(0xe2)||this[_0x462835(0x2e1)]<=0x0||this[_0x462835(0x2e1)]>=0x1)throw new Error(this['_name']+_0x462835(0x2c6));if(typeof this[_0x462835(0x347)]!==_0x462835(0xe2))throw new Error(this['_name']+'\x20-\x20expected\x20maxResults\x20to\x20be\x20a\x20number');}get[_0x3556c3(0x327)](){const _0x33f53c=_0x3556c3;return this[_0x33f53c(0x2e1)];}get['maxResults'](){return this['_maxResults'];}},SsdMobilenetv1=class extends NeuralNetwork{constructor(){const _0x157290=_0x3556c3;super(_0x157290(0x336));}[_0x3556c3(0x1de)](_0xc4ae8a){const _0x1c684a=_0x3556c3,{params:_0x4eff04}=this;if(!_0x4eff04)throw new Error(_0x1c684a(0x1c8));return tf34[_0x1c684a(0xd5)](()=>{const _0x343fb0=_0x1c684a,_0x15a3fe=tf34[_0x343fb0(0x262)](_0xc4ae8a[_0x343fb0(0x2ad)](0x200,![]),_0x343fb0(0xe7)),_0x2369cb=tf34[_0x343fb0(0x18e)](tf34[_0x343fb0(0x17e)](_0x15a3fe,127.5),0x1),_0xe09bc5=mobileNetV1(_0x2369cb,_0x4eff04[_0x343fb0(0x31d)]),{boxPredictions:_0x61db3b,classPredictions:_0x4c00ca}=predictionLayer(_0xe09bc5[_0x343fb0(0x2ae)],_0xe09bc5[_0x343fb0(0x269)],_0x4eff04[_0x343fb0(0x2e6)]);return outputLayer(_0x61db3b,_0x4c00ca,_0x4eff04['output_layer']);});}async[_0x3556c3(0x25e)](_0x1a819c){const _0x17e76a=_0x3556c3;return this[_0x17e76a(0x1de)](await toNetInput(_0x1a819c));}async['locateFaces'](_0x554ccc,_0x3aef2f={}){const _0x247a97=_0x3556c3,{maxResults:_0x471bfe,minConfidence:_0x34e9ea}=new SsdMobilenetv1Options(_0x3aef2f),_0x727982=await toNetInput(_0x554ccc),{boxes:_0x149686,scores:_0x20b90c}=this[_0x247a97(0x1de)](_0x727982),_0x4efe52=_0x149686[0x0],_0x3f5dde=_0x20b90c[0x0];for(let _0x160fb5=0x1;_0x160fb5<_0x149686[_0x247a97(0x14a)];_0x160fb5++){_0x149686[_0x160fb5][_0x247a97(0x126)](),_0x20b90c[_0x160fb5][_0x247a97(0x126)]();}const _0x5ce7e3=Array[_0x247a97(0x228)](_0x3f5dde[_0x247a97(0x1fd)]()),_0x3af62c=0.5,_0x46c4e1=nonMaxSuppression2(_0x4efe52,_0x5ce7e3,_0x471bfe,_0x3af62c,_0x34e9ea),_0x1ca277=_0x727982['getReshapedInputDimensions'](0x0),_0x1358d6=_0x727982['inputSize'],_0x5a708d=_0x1358d6/_0x1ca277[_0x247a97(0x350)],_0x54d515=_0x1358d6/_0x1ca277[_0x247a97(0xf6)],_0x4fb39b=_0x4efe52[_0x247a97(0x15b)](),_0x1e5fd9=_0x46c4e1[_0x247a97(0x2b0)](_0xeaee7f=>{const _0xc38afe=_0x247a97,[_0x5bf5e5,_0x550dfe]=[Math[_0xc38afe(0x2f4)](0x0,_0x4fb39b[_0xeaee7f][0x0]),Math['min'](0x1,_0x4fb39b[_0xeaee7f][0x2])][_0xc38afe(0x2b0)](_0x2a2b3b=>_0x2a2b3b*_0x54d515),[_0x416b93,_0x148fc9]=[Math[_0xc38afe(0x2f4)](0x0,_0x4fb39b[_0xeaee7f][0x1]),Math[_0xc38afe(0x30e)](0x1,_0x4fb39b[_0xeaee7f][0x3])][_0xc38afe(0x2b0)](_0x3b71ea=>_0x3b71ea*_0x5a708d);return new FaceDetection(_0x5ce7e3[_0xeaee7f],new Rect(_0x416b93,_0x5bf5e5,_0x148fc9-_0x416b93,_0x550dfe-_0x5bf5e5),{'height':_0x727982[_0xc38afe(0x1a7)](0x0),'width':_0x727982[_0xc38afe(0x275)](0x0)});});return _0x4efe52[_0x247a97(0x126)](),_0x3f5dde['dispose'](),_0x1e5fd9;}[_0x3556c3(0x306)](){const _0x5f02b4=_0x3556c3;return _0x5f02b4(0x2eb);}[_0x3556c3(0x2e5)](_0x5612f0){return extractParamsFromWeightMap6(_0x5612f0);}['extractParams'](_0xd26ec5){return extractParams6(_0xd26ec5);}};function createSsdMobilenetv1(_0xb6d544){const _0x3d61ea=_0x3556c3,_0x5e7efa=new SsdMobilenetv1();return _0x5e7efa[_0x3d61ea(0x30b)](_0xb6d544),_0x5e7efa;}function createFaceDetectionNet(_0x24f7e1){return createSsdMobilenetv1(_0x24f7e1);}var FaceDetectionNet=class extends SsdMobilenetv1{},IOU_THRESHOLD=0.4,BOX_ANCHORS=[new Point(0.738768,0.874946),new Point(2.42204,2.65704),new Point(4.30971,7.04493),new Point(10.246,4.59428),new Point(12.6868,11.8741)],BOX_ANCHORS_SEPARABLE=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB_SEPARABLE=[117.001,114.697,97.404],DEFAULT_MODEL_NAME=_0x3556c3(0x2d2),DEFAULT_MODEL_NAME_SEPARABLE_CONV=_0x3556c3(0x34d),tf39=__toESM(require_tfjs_esm()),isNumber=_0x594245=>typeof _0x594245==='number';function validateConfig(_0xeaf72e){const _0x24d090=_0x3556c3;if(!_0xeaf72e)throw new Error(_0x24d090(0x34e)+_0xeaf72e);if(typeof _0xeaf72e[_0x24d090(0x234)]!==_0x24d090(0x2d7))throw new Error(_0x24d090(0x1df)+_0xeaf72e[_0x24d090(0x234)]);if(!isNumber(_0xeaf72e[_0x24d090(0x2bc)])||_0xeaf72e['iouThreshold']<0x0||_0xeaf72e[_0x24d090(0x2bc)]>0x1)throw new Error(_0x24d090(0x115)+_0xeaf72e[_0x24d090(0x2bc)]);if(!Array[_0x24d090(0x2e2)](_0xeaf72e['classes'])||!_0xeaf72e[_0x24d090(0xf1)][_0x24d090(0x14a)]||!_0xeaf72e[_0x24d090(0xf1)][_0x24d090(0x1a8)](_0x3e4630=>typeof _0x3e4630===_0x24d090(0x2ca)))throw new Error('config.classes\x20has\x20to\x20be\x20an\x20array\x20class\x20names:\x20string[],\x20have:\x20'+JSON[_0x24d090(0x2dc)](_0xeaf72e[_0x24d090(0xf1)]));if(!Array[_0x24d090(0x2e2)](_0xeaf72e[_0x24d090(0x215)])||!_0xeaf72e['anchors']['length']||!_0xeaf72e[_0x24d090(0x215)]['map'](_0x7be109=>_0x7be109||{})[_0x24d090(0x1a8)](_0x1ff205=>isNumber(_0x1ff205['x'])&&isNumber(_0x1ff205['y'])))throw new Error(_0x24d090(0x315)+JSON[_0x24d090(0x2dc)](_0xeaf72e[_0x24d090(0x215)]));if(_0xeaf72e['meanRgb']&&(!Array[_0x24d090(0x2e2)](_0xeaf72e[_0x24d090(0xfd)])||_0xeaf72e['meanRgb'][_0x24d090(0x14a)]!==0x3||!_0xeaf72e[_0x24d090(0xfd)][_0x24d090(0x1a8)](isNumber)))throw new Error(_0x24d090(0x33d)+JSON['stringify'](_0xeaf72e[_0x24d090(0xfd)]));}var tf36=__toESM(require_tfjs_esm()),tf35=__toESM(require_tfjs_esm());function leaky(_0x2fc912){const _0x230f71=_0x3556c3;return tf35[_0x230f71(0xd5)](()=>{const _0x401021=_0x230f71,_0x25fded=tf35[_0x401021(0x27b)](_0x2fc912,tf35[_0x401021(0x1bf)](0.10000000149011612));return tf35[_0x401021(0x15a)](tf35[_0x401021(0x29c)](tf35['sub'](_0x2fc912,_0x25fded)),_0x25fded);});}function convWithBatchNorm(_0x35ab02,_0x4f3a34){const _0x43078d=_0x3556c3;return tf36[_0x43078d(0xd5)](()=>{const _0x191aec=_0x43078d;let _0x16d123=tf36[_0x191aec(0x161)](_0x35ab02,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x16d123=tf36['conv2d'](_0x16d123,_0x4f3a34['conv'][_0x191aec(0x11a)],[0x1,0x1],_0x191aec(0x320)),_0x16d123=tf36[_0x191aec(0x18e)](_0x16d123,_0x4f3a34['bn'][_0x191aec(0x18e)]),_0x16d123=tf36[_0x191aec(0x27b)](_0x16d123,_0x4f3a34['bn'][_0x191aec(0x136)]),_0x16d123=tf36['add'](_0x16d123,_0x4f3a34[_0x191aec(0x317)][_0x191aec(0x24f)]),leaky(_0x16d123);});}var tf37=__toESM(require_tfjs_esm());function depthwiseSeparableConv2(_0x4e1501,_0x567110){return tf37['tidy'](()=>{const _0x11ec59=_0x29bb;let _0x7fdc89=tf37[_0x11ec59(0x161)](_0x4e1501,[[0x0,0x0],[0x1,0x1],[0x1,0x1],[0x0,0x0]]);return _0x7fdc89=tf37['separableConv2d'](_0x7fdc89,_0x567110[_0x11ec59(0x2fd)],_0x567110[_0x11ec59(0x1b6)],[0x1,0x1],_0x11ec59(0x320)),_0x7fdc89=tf37['add'](_0x7fdc89,_0x567110[_0x11ec59(0x24f)]),leaky(_0x7fdc89);});}var tf38=__toESM(require_tfjs_esm());function extractorsFactory7(_0x4e1235,_0x5efaea){const _0x2ae9d4=extractConvParamsFactory(_0x4e1235,_0x5efaea);function _0x426463(_0x544e93,_0x4edfd4){const _0x3475a1=_0x29bb,_0xefdacb=tf38[_0x3475a1(0x260)](_0x4e1235(_0x544e93)),_0x48df03=tf38[_0x3475a1(0x260)](_0x4e1235(_0x544e93));return _0x5efaea[_0x3475a1(0x2b3)]({'paramPath':_0x4edfd4+_0x3475a1(0x2c5)},{'paramPath':_0x4edfd4+_0x3475a1(0xec)}),{'sub':_0xefdacb,'truediv':_0x48df03};}function _0x277300(_0x2a9338,_0x5a8f2b,_0x32f0fa){const _0x5a6581=_0x29bb,_0x5b733d=_0x2ae9d4(_0x2a9338,_0x5a8f2b,0x3,_0x32f0fa+_0x5a6581(0x220)),_0x380ce6=_0x426463(_0x5a8f2b,_0x32f0fa+_0x5a6581(0x2e8));return{'conv':_0x5b733d,'bn':_0x380ce6};}const _0x37b828=extractSeparableConvParamsFactory(_0x4e1235,_0x5efaea);return{'extractConvParams':_0x2ae9d4,'extractConvWithBatchNormParams':_0x277300,'extractSeparableConvParams':_0x37b828};}function extractParams7(_0x17ea2b,_0x5d383f,_0x153a3a,_0x5512e0){const _0x240eef=_0x3556c3,{extractWeights:_0x237687,getRemainingWeights:_0x10823e}=extractWeightsFactory(_0x17ea2b),_0x2909c8=[],{extractConvParams:_0x1cf7e8,extractConvWithBatchNormParams:_0x5ef189,extractSeparableConvParams:_0x5d38af}=extractorsFactory7(_0x237687,_0x2909c8);let _0x220bc1;if(_0x5d383f[_0x240eef(0x234)]){const [_0x279b24,_0x5e1cdc,_0x4d845f,_0x391aca,_0x6090e2,_0x27e173,_0x4b5ae6,_0x45fd9c,_0xb7d855]=_0x5512e0,_0x4282e4=_0x5d383f[_0x240eef(0x20a)]?_0x1cf7e8(_0x279b24,_0x5e1cdc,0x3,_0x240eef(0x12e)):_0x5d38af(_0x279b24,_0x5e1cdc,_0x240eef(0x12e)),_0x586494=_0x5d38af(_0x5e1cdc,_0x4d845f,_0x240eef(0x10a)),_0x1d58eb=_0x5d38af(_0x4d845f,_0x391aca,_0x240eef(0x123)),_0x38dfb8=_0x5d38af(_0x391aca,_0x6090e2,'conv3'),_0x3ba7cc=_0x5d38af(_0x6090e2,_0x27e173,_0x240eef(0x33e)),_0x14e9af=_0x5d38af(_0x27e173,_0x4b5ae6,_0x240eef(0x13b)),_0x3c7d81=_0x45fd9c?_0x5d38af(_0x4b5ae6,_0x45fd9c,_0x240eef(0x1fa)):void 0x0,_0x552624=_0xb7d855?_0x5d38af(_0x45fd9c,_0xb7d855,_0x240eef(0x218)):void 0x0,_0x39782a=_0x1cf7e8(_0xb7d855||_0x45fd9c||_0x4b5ae6,0x5*_0x153a3a,0x1,_0x240eef(0x174));_0x220bc1={'conv0':_0x4282e4,'conv1':_0x586494,'conv2':_0x1d58eb,'conv3':_0x38dfb8,'conv4':_0x3ba7cc,'conv5':_0x14e9af,'conv6':_0x3c7d81,'conv7':_0x552624,'conv8':_0x39782a};}else{const [_0x4ed6f6,_0x42ed6e,_0xf7a4db,_0xda4a16,_0x30db8e,_0x20f2cb,_0x5169b8,_0x2f0b9f,_0x2e7763]=_0x5512e0,_0x388f42=_0x5ef189(_0x4ed6f6,_0x42ed6e,_0x240eef(0x12e)),_0x549001=_0x5ef189(_0x42ed6e,_0xf7a4db,_0x240eef(0x10a)),_0xc5f7da=_0x5ef189(_0xf7a4db,_0xda4a16,_0x240eef(0x123)),_0xf58937=_0x5ef189(_0xda4a16,_0x30db8e,'conv3'),_0x505dbd=_0x5ef189(_0x30db8e,_0x20f2cb,'conv4'),_0x3bcb04=_0x5ef189(_0x20f2cb,_0x5169b8,_0x240eef(0x13b)),_0x18b816=_0x5ef189(_0x5169b8,_0x2f0b9f,_0x240eef(0x1fa)),_0x3d17c5=_0x5ef189(_0x2f0b9f,_0x2e7763,_0x240eef(0x218)),_0x2108f5=_0x1cf7e8(_0x2e7763,0x5*_0x153a3a,0x1,_0x240eef(0x174));_0x220bc1={'conv0':_0x388f42,'conv1':_0x549001,'conv2':_0xc5f7da,'conv3':_0xf58937,'conv4':_0x505dbd,'conv5':_0x3bcb04,'conv6':_0x18b816,'conv7':_0x3d17c5,'conv8':_0x2108f5};}if(_0x10823e()[_0x240eef(0x14a)]!==0x0)throw new Error(_0x240eef(0xd0)+_0x10823e()['length']);return{'params':_0x220bc1,'paramMappings':_0x2909c8};}function extractorsFactory8(_0x58e582,_0x2d3f83){const _0xaf4301=extractWeightEntryFactory(_0x58e582,_0x2d3f83);function _0x3b5675(_0x4846d6){const _0x2b80b9=_0x29bb,_0x857e27=_0xaf4301(_0x4846d6+_0x2b80b9(0x2c5),0x1),_0x4e761e=_0xaf4301(_0x4846d6+_0x2b80b9(0xec),0x1);return{'sub':_0x857e27,'truediv':_0x4e761e};}function _0x3552e7(_0x6ccf30){const _0x402e36=_0x29bb,_0x2944f0=_0xaf4301(_0x6ccf30+_0x402e36(0x17d),0x4),_0x471524=_0xaf4301(_0x6ccf30+_0x402e36(0x146),0x1);return{'filters':_0x2944f0,'bias':_0x471524};}function _0x3ed1b2(_0x40bae3){const _0x4776a7=_0x29bb,_0x27dfd6=_0x3552e7(_0x40bae3+_0x4776a7(0x220)),_0x26e0df=_0x3b5675(_0x40bae3+_0x4776a7(0x2e8));return{'conv':_0x27dfd6,'bn':_0x26e0df};}const _0x3ed971=loadSeparableConvParamsFactory(_0xaf4301);return{'extractConvParams':_0x3552e7,'extractConvWithBatchNormParams':_0x3ed1b2,'extractSeparableConvParams':_0x3ed971};}function extractParamsFromWeightMap7(_0x3da296,_0x2ab816){const _0x2157da=_0x3556c3,_0x537533=[],{extractConvParams:_0x30c84c,extractConvWithBatchNormParams:_0xb38ba6,extractSeparableConvParams:_0x66b94b}=extractorsFactory8(_0x3da296,_0x537533);let _0x5f5d00;if(_0x2ab816['withSeparableConvs']){const _0x5b3495=_0x2ab816[_0x2157da(0x311)]&&_0x2ab816[_0x2157da(0x311)]['length']||0x9;_0x5f5d00={'conv0':_0x2ab816[_0x2157da(0x20a)]?_0x30c84c(_0x2157da(0x12e)):_0x66b94b('conv0'),'conv1':_0x66b94b(_0x2157da(0x10a)),'conv2':_0x66b94b('conv2'),'conv3':_0x66b94b(_0x2157da(0x171)),'conv4':_0x66b94b('conv4'),'conv5':_0x66b94b('conv5'),'conv6':_0x5b3495>0x7?_0x66b94b(_0x2157da(0x1fa)):void 0x0,'conv7':_0x5b3495>0x8?_0x66b94b('conv7'):void 0x0,'conv8':_0x30c84c(_0x2157da(0x174))};}else _0x5f5d00={'conv0':_0xb38ba6(_0x2157da(0x12e)),'conv1':_0xb38ba6(_0x2157da(0x10a)),'conv2':_0xb38ba6('conv2'),'conv3':_0xb38ba6(_0x2157da(0x171)),'conv4':_0xb38ba6(_0x2157da(0x33e)),'conv5':_0xb38ba6('conv5'),'conv6':_0xb38ba6(_0x2157da(0x1fa)),'conv7':_0xb38ba6(_0x2157da(0x218)),'conv8':_0x30c84c(_0x2157da(0x174))};return disposeUnusedWeightTensors(_0x3da296,_0x537533),{'params':_0x5f5d00,'paramMappings':_0x537533};}var TinyYolov2Options=class{constructor({inputSize:_0x22ff53,scoreThreshold:_0xc27a36}={}){const _0x239ec0=_0x3556c3;this[_0x239ec0(0x21d)]=_0x239ec0(0x1e1),this[_0x239ec0(0x28b)]=_0x22ff53||0x1a0,this[_0x239ec0(0x1ca)]=_0xc27a36||0.5;if(typeof this['_inputSize']!=='number'||this['_inputSize']%0x20!==0x0)throw new Error(this['_name']+'\x20-\x20expected\x20inputSize\x20to\x20be\x20a\x20number\x20divisible\x20by\x2032');if(typeof this['_scoreThreshold']!=='number'||this[_0x239ec0(0x1ca)]<=0x0||this['_scoreThreshold']>=0x1)throw new Error(this[_0x239ec0(0x21d)]+_0x239ec0(0x331));}get[_0x3556c3(0x276)](){const _0x39a729=_0x3556c3;return this[_0x39a729(0x28b)];}get[_0x3556c3(0x1fe)](){const _0xf3b2bd=_0x3556c3;return this[_0xf3b2bd(0x1ca)];}},_TinyYolov2Base=class extends NeuralNetwork{constructor(_0xd37d4c){const _0x24b934=_0x3556c3;super(_0x24b934(0x33b)),validateConfig(_0xd37d4c),this[_0x24b934(0x27d)]=_0xd37d4c;}get[_0x3556c3(0x1f5)](){const _0x5149cf=_0x3556c3;return this[_0x5149cf(0x27d)];}get[_0x3556c3(0x1d9)](){const _0x22ef18=_0x3556c3;return this[_0x22ef18(0x1f5)][_0x22ef18(0x1d9)]||this['config'][_0x22ef18(0xf1)][_0x22ef18(0x14a)]>0x1;}get[_0x3556c3(0x14f)](){const _0x4517af=_0x3556c3;return 0x5+(this[_0x4517af(0x1d9)]?this['config'][_0x4517af(0xf1)][_0x4517af(0x14a)]:0x0);}[_0x3556c3(0x21f)](_0x4ae8c0,_0xc25cee){const _0x32fc27=_0x3556c3;let _0x15039c=convWithBatchNorm(_0x4ae8c0,_0xc25cee[_0x32fc27(0x12e)]);return _0x15039c=tf39['maxPool'](_0x15039c,[0x2,0x2],[0x2,0x2],_0x32fc27(0x23b)),_0x15039c=convWithBatchNorm(_0x15039c,_0xc25cee[_0x32fc27(0x10a)]),_0x15039c=tf39[_0x32fc27(0xdd)](_0x15039c,[0x2,0x2],[0x2,0x2],_0x32fc27(0x23b)),_0x15039c=convWithBatchNorm(_0x15039c,_0xc25cee[_0x32fc27(0x123)]),_0x15039c=tf39['maxPool'](_0x15039c,[0x2,0x2],[0x2,0x2],_0x32fc27(0x23b)),_0x15039c=convWithBatchNorm(_0x15039c,_0xc25cee[_0x32fc27(0x171)]),_0x15039c=tf39['maxPool'](_0x15039c,[0x2,0x2],[0x2,0x2],'same'),_0x15039c=convWithBatchNorm(_0x15039c,_0xc25cee[_0x32fc27(0x33e)]),_0x15039c=tf39[_0x32fc27(0xdd)](_0x15039c,[0x2,0x2],[0x2,0x2],_0x32fc27(0x23b)),_0x15039c=convWithBatchNorm(_0x15039c,_0xc25cee[_0x32fc27(0x13b)]),_0x15039c=tf39[_0x32fc27(0xdd)](_0x15039c,[0x2,0x2],[0x1,0x1],_0x32fc27(0x23b)),_0x15039c=convWithBatchNorm(_0x15039c,_0xc25cee['conv6']),_0x15039c=convWithBatchNorm(_0x15039c,_0xc25cee[_0x32fc27(0x218)]),convLayer(_0x15039c,_0xc25cee[_0x32fc27(0x174)],_0x32fc27(0x320),![]);}[_0x3556c3(0x2a4)](_0x39f6ce,_0x4f109b){const _0xb5e1f1=_0x3556c3;let _0x1af423=this[_0xb5e1f1(0x1f5)][_0xb5e1f1(0x20a)]?leaky(convLayer(_0x39f6ce,_0x4f109b[_0xb5e1f1(0x12e)],_0xb5e1f1(0x320),![])):depthwiseSeparableConv2(_0x39f6ce,_0x4f109b['conv0']);return _0x1af423=tf39[_0xb5e1f1(0xdd)](_0x1af423,[0x2,0x2],[0x2,0x2],_0xb5e1f1(0x23b)),_0x1af423=depthwiseSeparableConv2(_0x1af423,_0x4f109b[_0xb5e1f1(0x10a)]),_0x1af423=tf39['maxPool'](_0x1af423,[0x2,0x2],[0x2,0x2],_0xb5e1f1(0x23b)),_0x1af423=depthwiseSeparableConv2(_0x1af423,_0x4f109b['conv2']),_0x1af423=tf39[_0xb5e1f1(0xdd)](_0x1af423,[0x2,0x2],[0x2,0x2],_0xb5e1f1(0x23b)),_0x1af423=depthwiseSeparableConv2(_0x1af423,_0x4f109b[_0xb5e1f1(0x171)]),_0x1af423=tf39[_0xb5e1f1(0xdd)](_0x1af423,[0x2,0x2],[0x2,0x2],_0xb5e1f1(0x23b)),_0x1af423=depthwiseSeparableConv2(_0x1af423,_0x4f109b[_0xb5e1f1(0x33e)]),_0x1af423=tf39[_0xb5e1f1(0xdd)](_0x1af423,[0x2,0x2],[0x2,0x2],_0xb5e1f1(0x23b)),_0x1af423=depthwiseSeparableConv2(_0x1af423,_0x4f109b[_0xb5e1f1(0x13b)]),_0x1af423=tf39[_0xb5e1f1(0xdd)](_0x1af423,[0x2,0x2],[0x1,0x1],'same'),_0x1af423=_0x4f109b[_0xb5e1f1(0x1fa)]?depthwiseSeparableConv2(_0x1af423,_0x4f109b['conv6']):_0x1af423,_0x1af423=_0x4f109b[_0xb5e1f1(0x218)]?depthwiseSeparableConv2(_0x1af423,_0x4f109b[_0xb5e1f1(0x218)]):_0x1af423,convLayer(_0x1af423,_0x4f109b[_0xb5e1f1(0x174)],'valid',![]);}[_0x3556c3(0x1de)](_0x33ac76,_0x283c38){const _0x13fef4=_0x3556c3,{params:_0x26d3c2}=this;if(!_0x26d3c2)throw new Error(_0x13fef4(0x1af));return tf39[_0x13fef4(0xd5)](()=>{const _0x47b9ec=_0x13fef4;let _0x505401=tf39[_0x47b9ec(0x262)](_0x33ac76['toBatchTensor'](_0x283c38,![]),'float32');return _0x505401=this[_0x47b9ec(0x1f5)]['meanRgb']?normalize(_0x505401,this[_0x47b9ec(0x1f5)][_0x47b9ec(0xfd)]):_0x505401,_0x505401=_0x505401[_0x47b9ec(0x17e)](0xff),this['config'][_0x47b9ec(0x234)]?this[_0x47b9ec(0x2a4)](_0x505401,_0x26d3c2):this[_0x47b9ec(0x21f)](_0x505401,_0x26d3c2);});}async[_0x3556c3(0x25e)](_0x3e9a21,_0x5b2d44){const _0x36070a=_0x3556c3;return this[_0x36070a(0x1de)](await toNetInput(_0x3e9a21),_0x5b2d44);}async[_0x3556c3(0x23d)](_0x32f271,_0x594236={}){const _0x34dea5=_0x3556c3,{inputSize:_0x2c3d49,scoreThreshold:_0x3f7cb7}=new TinyYolov2Options(_0x594236),_0x1810e7=await toNetInput(_0x32f271),_0x50910e=await this[_0x34dea5(0x1de)](_0x1810e7,_0x2c3d49),_0x6663e6=tf39[_0x34dea5(0xd5)](()=>tf39['unstack'](_0x50910e)[0x0]['expandDims']()),_0x4e3be9={'width':_0x1810e7[_0x34dea5(0x275)](0x0),'height':_0x1810e7[_0x34dea5(0x1a7)](0x0)},_0x2e13e0=await this['extractBoxes'](_0x6663e6,_0x1810e7[_0x34dea5(0x113)](0x0),_0x3f7cb7);_0x50910e['dispose'](),_0x6663e6[_0x34dea5(0x126)]();const _0x32fcf5=_0x2e13e0[_0x34dea5(0x2b0)](_0x4cc6fc=>_0x4cc6fc[_0x34dea5(0x22c)]),_0x5246a5=_0x2e13e0['map'](_0x290bfe=>_0x290bfe[_0x34dea5(0xf0)]),_0x1551a9=_0x2e13e0[_0x34dea5(0x2b0)](_0x1e0c08=>_0x1e0c08['classScore']),_0x204f19=_0x2e13e0[_0x34dea5(0x2b0)](_0x25ca27=>this[_0x34dea5(0x1f5)][_0x34dea5(0xf1)][_0x25ca27['label']]),_0x548d65=nonMaxSuppression(_0x32fcf5['map'](_0x49d40a=>_0x49d40a['rescale'](_0x2c3d49)),_0x5246a5,this[_0x34dea5(0x1f5)][_0x34dea5(0x2bc)],!![]),_0x5b746a=_0x548d65[_0x34dea5(0x2b0)](_0x159e94=>new ObjectDetection(_0x5246a5[_0x159e94],_0x1551a9[_0x159e94],_0x204f19[_0x159e94],_0x32fcf5[_0x159e94],_0x4e3be9));return _0x5b746a;}[_0x3556c3(0x306)](){return'';}[_0x3556c3(0x2e5)](_0x22740d){const _0x3d2368=_0x3556c3;return extractParamsFromWeightMap7(_0x22740d,this[_0x3d2368(0x1f5)]);}[_0x3556c3(0x1cd)](_0x2d3e65){const _0x48c4b9=_0x3556c3,_0xa6d3b4=this[_0x48c4b9(0x1f5)][_0x48c4b9(0x311)]||_TinyYolov2Base['DEFAULT_FILTER_SIZES'],_0x367138=_0xa6d3b4?_0xa6d3b4[_0x48c4b9(0x14a)]:void 0x0;if(_0x367138!==0x7&&_0x367138!==0x8&&_0x367138!==0x9)throw new Error('TinyYolov2\x20-\x20expected\x207\x20|\x208\x20|\x209\x20convolutional\x20filters,\x20but\x20found\x20'+_0x367138+'\x20filterSizes\x20in\x20config');return extractParams7(_0x2d3e65,this[_0x48c4b9(0x1f5)],this[_0x48c4b9(0x14f)],_0xa6d3b4);}async[_0x3556c3(0x321)](_0x72acd2,_0x3c7405,_0x32d99d){const _0x3b4dd8=_0x3556c3,{width:_0x292671,height:_0xe55d65}=_0x3c7405,_0x492743=Math['max'](_0x292671,_0xe55d65),_0x18245a=_0x492743/_0x292671,_0x3338ef=_0x492743/_0xe55d65,_0x39bc72=_0x72acd2[_0x3b4dd8(0x166)][0x1],_0x4d3848=this[_0x3b4dd8(0x1f5)][_0x3b4dd8(0x215)][_0x3b4dd8(0x14a)],[_0x5e010e,_0x1e0110,_0x19d558]=tf39[_0x3b4dd8(0xd5)](()=>{const _0x490c66=_0x3b4dd8,_0x33b1d4=_0x72acd2[_0x490c66(0x210)]([_0x39bc72,_0x39bc72,_0x4d3848,this[_0x490c66(0x14f)]]),_0x4b013d=_0x33b1d4[_0x490c66(0xed)]([0x0,0x0,0x0,0x0],[_0x39bc72,_0x39bc72,_0x4d3848,0x4]),_0x25d1f7=_0x33b1d4['slice']([0x0,0x0,0x0,0x4],[_0x39bc72,_0x39bc72,_0x4d3848,0x1]),_0x3081fa=this[_0x490c66(0x1d9)]?tf39[_0x490c66(0x20d)](_0x33b1d4['slice']([0x0,0x0,0x0,0x5],[_0x39bc72,_0x39bc72,_0x4d3848,this[_0x490c66(0x1f5)]['classes']['length']]),0x3):tf39[_0x490c66(0x1bf)](0x0);return[_0x4b013d,_0x25d1f7,_0x3081fa];}),_0x3093b8=[],_0x188c53=await _0x1e0110['array'](),_0x4720ab=await _0x5e010e[_0x3b4dd8(0x35b)]();for(let _0x480e9c=0x0;_0x480e9c<_0x39bc72;_0x480e9c++){for(let _0x1fc2a0=0x0;_0x1fc2a0<_0x39bc72;_0x1fc2a0++){for(let _0x121397=0x0;_0x121397<_0x4d3848;_0x121397++){const _0xade2b5=sigmoid(_0x188c53[_0x480e9c][_0x1fc2a0][_0x121397][0x0]);if(!_0x32d99d||_0xade2b5>_0x32d99d){const _0x557ff1=(_0x1fc2a0+sigmoid(_0x4720ab[_0x480e9c][_0x1fc2a0][_0x121397][0x0]))/_0x39bc72*_0x18245a,_0x4d3b3f=(_0x480e9c+sigmoid(_0x4720ab[_0x480e9c][_0x1fc2a0][_0x121397][0x1]))/_0x39bc72*_0x3338ef,_0x48349c=Math[_0x3b4dd8(0x24a)](_0x4720ab[_0x480e9c][_0x1fc2a0][_0x121397][0x2])*this['config'][_0x3b4dd8(0x215)][_0x121397]['x']/_0x39bc72*_0x18245a,_0x226c1e=Math[_0x3b4dd8(0x24a)](_0x4720ab[_0x480e9c][_0x1fc2a0][_0x121397][0x3])*this[_0x3b4dd8(0x1f5)]['anchors'][_0x121397]['y']/_0x39bc72*_0x3338ef,_0x55e6f5=_0x557ff1-_0x48349c/0x2,_0x3a638c=_0x4d3b3f-_0x226c1e/0x2,_0x302fec={'row':_0x480e9c,'col':_0x1fc2a0,'anchor':_0x121397},{classScore:_0x3368a5,label:_0x4d0fa7}=this[_0x3b4dd8(0x1d9)]?await this[_0x3b4dd8(0x293)](_0x19d558,_0x302fec):{'classScore':0x1,'label':0x0};_0x3093b8[_0x3b4dd8(0x2b3)]({'box':new BoundingBox(_0x55e6f5,_0x3a638c,_0x55e6f5+_0x48349c,_0x3a638c+_0x226c1e),'score':_0xade2b5,'classScore':_0xade2b5*_0x3368a5,'label':_0x4d0fa7,..._0x302fec});}}}}return _0x5e010e[_0x3b4dd8(0x126)](),_0x1e0110[_0x3b4dd8(0x126)](),_0x19d558[_0x3b4dd8(0x126)](),_0x3093b8;}async[_0x3556c3(0x293)](_0x582571,_0x201bcd){const _0x588118=_0x3556c3,{row:_0x57765a,col:_0x1170bf,anchor:_0x5968d8}=_0x201bcd,_0x391828=await _0x582571[_0x588118(0x35b)]();return Array(this[_0x588118(0x1f5)][_0x588118(0xf1)][_0x588118(0x14a)])[_0x588118(0x1d3)](0x0)[_0x588118(0x2b0)]((_0x53d2fe,_0x36bd5c)=>_0x391828[_0x57765a][_0x1170bf][_0x5968d8][_0x36bd5c])[_0x588118(0x2b0)]((_0x325c73,_0xb6992a)=>({'classScore':_0x325c73,'label':_0xb6992a}))[_0x588118(0x16f)]((_0x13beee,_0x22f43d)=>_0x13beee[_0x588118(0x232)]>_0x22f43d[_0x588118(0x232)]?_0x13beee:_0x22f43d);}},TinyYolov2Base=_TinyYolov2Base;TinyYolov2Base[_0x3556c3(0x184)]=[0x3,0x10,0x20,0x40,0x80,0x100,0x200,0x400,0x400];var TinyYolov2=class extends TinyYolov2Base{constructor(_0x3cdb1c=!![]){const _0x33d8ea=_0x3556c3,_0x2c49ab={'withSeparableConvs':_0x3cdb1c,'iouThreshold':IOU_THRESHOLD,'classes':[_0x33d8ea(0x21c)],..._0x3cdb1c?{'anchors':BOX_ANCHORS_SEPARABLE,'meanRgb':MEAN_RGB_SEPARABLE}:{'anchors':BOX_ANCHORS,'withClassScores':!![]}};super(_0x2c49ab);}get[_0x3556c3(0x234)](){const _0x346443=_0x3556c3;return this['config'][_0x346443(0x234)];}get[_0x3556c3(0x215)](){const _0x31f2e7=_0x3556c3;return this[_0x31f2e7(0x1f5)][_0x31f2e7(0x215)];}async['locateFaces'](_0x54f84a,_0x416762){const _0x1b2210=_0x3556c3,_0x5081c9=await this[_0x1b2210(0x23d)](_0x54f84a,_0x416762);return _0x5081c9['map'](_0x38d8c6=>new FaceDetection(_0x38d8c6[_0x1b2210(0xf0)],_0x38d8c6[_0x1b2210(0x16c)],{'width':_0x38d8c6[_0x1b2210(0x338)],'height':_0x38d8c6[_0x1b2210(0x20f)]}));}[_0x3556c3(0x306)](){const _0xcb436a=_0x3556c3;return this[_0xcb436a(0x234)]?DEFAULT_MODEL_NAME_SEPARABLE_CONV:DEFAULT_MODEL_NAME;}[_0x3556c3(0x2e5)](_0x59d206){const _0x313b16=_0x3556c3;return super[_0x313b16(0x2e5)](_0x59d206);}};function createTinyYolov2(_0x518dff,_0x334032=!![]){const _0x510f3e=new TinyYolov2(_0x334032);return _0x510f3e['extractWeights'](_0x518dff),_0x510f3e;}var TinyFaceDetectorOptions=class extends TinyYolov2Options{constructor(){const _0x119173=_0x3556c3;super(...arguments),this[_0x119173(0x21d)]='TinyFaceDetectorOptions';}},ComposableTask=class{async[_0x3556c3(0x29b)](_0x432768){const _0x221c90=_0x3556c3;return _0x432768(await this[_0x221c90(0x1cb)]());}async[_0x3556c3(0x1cb)](){throw new Error('ComposableTask\x20-\x20run\x20is\x20not\x20implemented');}},tf41=__toESM(require_tfjs_esm()),tf40=__toESM(require_tfjs_esm());async function extractAllFacesAndComputeResults(_0x4a38cd,_0x2a23cd,_0x1bf050,_0x109320,_0x4f7596=({alignedRect:_0x4890c5})=>_0x4890c5){const _0x17ac02=_0x3556c3,_0x2459aa=_0x4a38cd[_0x17ac02(0x2b0)](_0x531f9c=>isWithFaceLandmarks(_0x531f9c)?_0x4f7596(_0x531f9c):_0x531f9c[_0x17ac02(0xd8)]),_0x4bc948=_0x109320||(_0x2a23cd instanceof tf40[_0x17ac02(0x332)]?await extractFaceTensors(_0x2a23cd,_0x2459aa):await extractFaces(_0x2a23cd,_0x2459aa)),_0x33ce93=await _0x1bf050(_0x4bc948);return _0x4bc948[_0x17ac02(0xe0)](_0x3ea53c=>_0x3ea53c instanceof tf40[_0x17ac02(0x332)]&&_0x3ea53c[_0x17ac02(0x126)]()),_0x33ce93;}async function extractSingleFaceAndComputeResult(_0x42dfe0,_0x152e29,_0x1ba950,_0x222d34,_0x1ea0c8){return extractAllFacesAndComputeResults([_0x42dfe0],_0x152e29,async _0x25359d=>_0x1ba950(_0x25359d[0x0]),_0x222d34,_0x1ea0c8);}var IOU_THRESHOLD2=0.4,BOX_ANCHORS2=[new Point(1.603231,2.094468),new Point(6.041143,7.080126),new Point(2.882459,3.518061),new Point(4.266906,5.178857),new Point(9.041765,10.66308)],MEAN_RGB=[117.001,114.697,97.404],TinyFaceDetector=class extends TinyYolov2Base{constructor(){const _0x23d102=_0x3556c3,_0x2af751={'withSeparableConvs':!![],'iouThreshold':IOU_THRESHOLD2,'classes':[_0x23d102(0x21c)],'anchors':BOX_ANCHORS2,'meanRgb':MEAN_RGB,'isFirstLayerConv2d':!![],'filterSizes':[0x3,0x10,0x20,0x40,0x80,0x100,0x200]};super(_0x2af751);}get['anchors'](){const _0x28c4b2=_0x3556c3;return this[_0x28c4b2(0x1f5)][_0x28c4b2(0x215)];}async[_0x3556c3(0x134)](_0x3b068e,_0x19fa6d){const _0x15256b=_0x3556c3,_0x23b579=await this[_0x15256b(0x23d)](_0x3b068e,_0x19fa6d);return _0x23b579['map'](_0x53ca53=>new FaceDetection(_0x53ca53['score'],_0x53ca53['relativeBox'],{'width':_0x53ca53['imageWidth'],'height':_0x53ca53[_0x15256b(0x20f)]}));}['getDefaultModelName'](){const _0x5a19ab=_0x3556c3;return _0x5a19ab(0x159);}[_0x3556c3(0x2e5)](_0x203a76){const _0x1a6f43=_0x3556c3;return super[_0x1a6f43(0x2e5)](_0x203a76);}},nets={'ssdMobilenetv1':new SsdMobilenetv1(),'tinyFaceDetector':new TinyFaceDetector(),'tinyYolov2':new TinyYolov2(),'faceLandmark68Net':new FaceLandmark68Net(),'faceLandmark68TinyNet':new FaceLandmark68TinyNet(),'faceRecognitionNet':new FaceRecognitionNet(),'faceExpressionNet':new FaceExpressionNet(),'ageGenderNet':new AgeGenderNet()},ssdMobilenetv1=(_0x5c6c0a,_0x2e8ec6)=>nets[_0x3556c3(0x29d)][_0x3556c3(0x134)](_0x5c6c0a,_0x2e8ec6),tinyFaceDetector=(_0x15cd3b,_0x43be9c)=>nets[_0x3556c3(0x1b7)]['locateFaces'](_0x15cd3b,_0x43be9c),tinyYolov2=(_0x2379d2,_0x59f9d9)=>nets[_0x3556c3(0x23a)][_0x3556c3(0x134)](_0x2379d2,_0x59f9d9),detectFaceLandmarks=_0x5aa929=>nets[_0x3556c3(0x107)][_0x3556c3(0xe8)](_0x5aa929),detectFaceLandmarksTiny=_0x53d632=>nets['faceLandmark68TinyNet'][_0x3556c3(0xe8)](_0x53d632),computeFaceDescriptor=_0x312200=>nets['faceRecognitionNet'][_0x3556c3(0x27c)](_0x312200),recognizeFaceExpressions=_0x371ac1=>nets['faceExpressionNet'][_0x3556c3(0x2d0)](_0x371ac1),predictAgeAndGender=_0x566722=>nets[_0x3556c3(0x291)][_0x3556c3(0x26c)](_0x566722),loadSsdMobilenetv1Model=_0x2c8898=>nets[_0x3556c3(0x29d)][_0x3556c3(0x12c)](_0x2c8898),loadTinyFaceDetectorModel=_0x193229=>nets[_0x3556c3(0x1b7)][_0x3556c3(0x12c)](_0x193229),loadTinyYolov2Model=_0x4c3803=>nets['tinyYolov2'][_0x3556c3(0x12c)](_0x4c3803),loadFaceLandmarkModel=_0x3bda2b=>nets[_0x3556c3(0x107)]['load'](_0x3bda2b),loadFaceLandmarkTinyModel=_0x30585=>nets['faceLandmark68TinyNet'][_0x3556c3(0x12c)](_0x30585),loadFaceRecognitionModel=_0x2906a9=>nets[_0x3556c3(0x2ce)][_0x3556c3(0x12c)](_0x2906a9),loadFaceExpressionModel=_0x162fe0=>nets[_0x3556c3(0x1e6)][_0x3556c3(0x12c)](_0x162fe0),loadAgeGenderModel=_0x3c192d=>nets[_0x3556c3(0x291)][_0x3556c3(0x12c)](_0x3c192d),loadFaceDetectionModel=loadSsdMobilenetv1Model,locateFaces=ssdMobilenetv1,detectLandmarks=detectFaceLandmarks,PredictFaceExpressionsTaskBase=class extends ComposableTask{constructor(_0x5a4e29,_0x1ede05,_0x329f33){const _0x3e829c=_0x3556c3;super(),this[_0x3e829c(0x1b4)]=_0x5a4e29,this[_0x3e829c(0x12d)]=_0x1ede05,this[_0x3e829c(0x12b)]=_0x329f33;}},PredictAllFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x3556c3(0x1cb)](){const _0xa48b72=_0x3556c3,_0x43548f=await this['parentTask'],_0x431ca7=await extractAllFacesAndComputeResults(_0x43548f,this[_0xa48b72(0x12d)],async _0x7fa788=>Promise[_0xa48b72(0x10e)](_0x7fa788[_0xa48b72(0x2b0)](_0x397a76=>nets[_0xa48b72(0x1e6)]['predictExpressions'](_0x397a76))),this[_0xa48b72(0x12b)]);return _0x43548f[_0xa48b72(0x2b0)]((_0x2758d3,_0x5d030a)=>extendWithFaceExpressions(_0x2758d3,_0x431ca7[_0x5d030a]));}[_0x3556c3(0xe3)](){const _0x11a252=_0x3556c3;return new PredictAllAgeAndGenderTask(this,this[_0x11a252(0x12d)]);}},PredictSingleFaceExpressionsTask=class extends PredictFaceExpressionsTaskBase{async[_0x3556c3(0x1cb)](){const _0x56a5a0=_0x3556c3,_0x50c0e6=await this['parentTask'];if(!_0x50c0e6)return void 0x0;const _0x2335ea=await extractSingleFaceAndComputeResult(_0x50c0e6,this['input'],_0xeb3c28=>nets[_0x56a5a0(0x1e6)][_0x56a5a0(0x2d0)](_0xeb3c28),this[_0x56a5a0(0x12b)]);return extendWithFaceExpressions(_0x50c0e6,_0x2335ea);}['withAgeAndGender'](){return new PredictSingleAgeAndGenderTask(this,this['input']);}},PredictAllFaceExpressionsWithFaceAlignmentTask=class extends PredictAllFaceExpressionsTask{['withAgeAndGender'](){const _0x1c8d1d=_0x3556c3;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x1c8d1d(0x12d)]);}[_0x3556c3(0x18b)](){const _0x19faa1=_0x3556c3;return new ComputeAllFaceDescriptorsTask(this,this[_0x19faa1(0x12d)]);}},PredictSingleFaceExpressionsWithFaceAlignmentTask=class extends PredictSingleFaceExpressionsTask{[_0x3556c3(0xe3)](){const _0x2612db=_0x3556c3;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x2612db(0x12d)]);}[_0x3556c3(0x297)](){const _0x2fdf52=_0x3556c3;return new ComputeSingleFaceDescriptorTask(this,this[_0x2fdf52(0x12d)]);}},PredictAgeAndGenderTaskBase=class extends ComposableTask{constructor(_0xf9792d,_0xaa735f,_0x54fbce){const _0xad3d04=_0x3556c3;super(),this[_0xad3d04(0x1b4)]=_0xf9792d,this[_0xad3d04(0x12d)]=_0xaa735f,this[_0xad3d04(0x12b)]=_0x54fbce;}},PredictAllAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x3556c3(0x1cb)](){const _0x4f70f7=_0x3556c3,_0x51aefd=await this['parentTask'],_0x5bf985=await extractAllFacesAndComputeResults(_0x51aefd,this[_0x4f70f7(0x12d)],async _0x14c480=>Promise[_0x4f70f7(0x10e)](_0x14c480['map'](_0x38caca=>nets[_0x4f70f7(0x291)][_0x4f70f7(0x26c)](_0x38caca))),this['extractedFaces']);return _0x51aefd[_0x4f70f7(0x2b0)]((_0x44c318,_0x743f75)=>{const {age:_0x492833,gender:_0x5b4257,genderProbability:_0xc3371b}=_0x5bf985[_0x743f75];return extendWithAge(extendWithGender(_0x44c318,_0x5b4257,_0xc3371b),_0x492833);});}[_0x3556c3(0x23f)](){return new PredictAllFaceExpressionsTask(this,this['input']);}},PredictSingleAgeAndGenderTask=class extends PredictAgeAndGenderTaskBase{async[_0x3556c3(0x1cb)](){const _0x4ba9b7=_0x3556c3,_0x4704da=await this[_0x4ba9b7(0x1b4)];if(!_0x4704da)return void 0x0;const {age:_0x4207fa,gender:_0x3b9831,genderProbability:_0x9305d6}=await extractSingleFaceAndComputeResult(_0x4704da,this[_0x4ba9b7(0x12d)],_0x93a6e6=>nets[_0x4ba9b7(0x291)][_0x4ba9b7(0x26c)](_0x93a6e6),this['extractedFaces']);return extendWithAge(extendWithGender(_0x4704da,_0x3b9831,_0x9305d6),_0x4207fa);}[_0x3556c3(0x23f)](){return new PredictSingleFaceExpressionsTask(this,this['input']);}},PredictAllAgeAndGenderWithFaceAlignmentTask=class extends PredictAllAgeAndGenderTask{[_0x3556c3(0x23f)](){const _0x2ec086=_0x3556c3;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x2ec086(0x12d)]);}[_0x3556c3(0x18b)](){const _0x5bf27a=_0x3556c3;return new ComputeAllFaceDescriptorsTask(this,this[_0x5bf27a(0x12d)]);}},PredictSingleAgeAndGenderWithFaceAlignmentTask=class extends PredictSingleAgeAndGenderTask{['withFaceExpressions'](){const _0x453dde=_0x3556c3;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x453dde(0x12d)]);}[_0x3556c3(0x297)](){const _0x28c671=_0x3556c3;return new ComputeSingleFaceDescriptorTask(this,this[_0x28c671(0x12d)]);}},ComputeFaceDescriptorsTaskBase=class extends ComposableTask{constructor(_0xb95832,_0x35ffdc){const _0x143d8e=_0x3556c3;super(),this[_0x143d8e(0x1b4)]=_0xb95832,this[_0x143d8e(0x12d)]=_0x35ffdc;}},ComputeAllFaceDescriptorsTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x3556c3(0x1cb)](){const _0x1cd4ff=_0x3556c3,_0x5a865d=await this[_0x1cd4ff(0x1b4)],_0x4d422c=await extractAllFacesAndComputeResults(_0x5a865d,this['input'],_0x212335=>Promise[_0x1cd4ff(0x10e)](_0x212335[_0x1cd4ff(0x2b0)](_0x3729bd=>nets[_0x1cd4ff(0x2ce)][_0x1cd4ff(0x27c)](_0x3729bd))),null,_0xbaefb8=>_0xbaefb8[_0x1cd4ff(0x1be)][_0x1cd4ff(0x148)](null,{'useDlibAlignment':!![]}));return _0x4d422c[_0x1cd4ff(0x2b0)]((_0x1b6f6a,_0x45cc52)=>extendWithFaceDescriptor(_0x5a865d[_0x45cc52],_0x1b6f6a));}[_0x3556c3(0x23f)](){const _0x264ff2=_0x3556c3;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x264ff2(0x12d)]);}['withAgeAndGender'](){const _0x1c9525=_0x3556c3;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x1c9525(0x12d)]);}},ComputeSingleFaceDescriptorTask=class extends ComputeFaceDescriptorsTaskBase{async[_0x3556c3(0x1cb)](){const _0x7301a8=_0x3556c3,_0x217f17=await this[_0x7301a8(0x1b4)];if(!_0x217f17)return void 0x0;const _0x4523d9=await extractSingleFaceAndComputeResult(_0x217f17,this['input'],_0x1f78e0=>nets[_0x7301a8(0x2ce)]['computeFaceDescriptor'](_0x1f78e0),null,_0x4a53a0=>_0x4a53a0[_0x7301a8(0x1be)]['align'](null,{'useDlibAlignment':!![]}));return extendWithFaceDescriptor(_0x217f17,_0x4523d9);}[_0x3556c3(0x23f)](){return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this['input']);}['withAgeAndGender'](){const _0x13bc73=_0x3556c3;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x13bc73(0x12d)]);}},DetectFaceLandmarksTaskBase=class extends ComposableTask{constructor(_0x13509a,_0x2eb2b1,_0x5b231e){const _0xb15c50=_0x3556c3;super(),this[_0xb15c50(0x1b4)]=_0x13509a,this['input']=_0x2eb2b1,this['useTinyLandmarkNet']=_0x5b231e;}get['landmarkNet'](){const _0x1e8f31=_0x3556c3;return this[_0x1e8f31(0x120)]?nets[_0x1e8f31(0x325)]:nets['faceLandmark68Net'];}},DetectAllFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x3556c3(0x1cb)](){const _0x5ed496=_0x3556c3,_0x181512=await this[_0x5ed496(0x1b4)],_0x1412ab=_0x181512[_0x5ed496(0x2b0)](_0x4646d5=>_0x4646d5[_0x5ed496(0xd8)]),_0x468995=this[_0x5ed496(0x12d)]instanceof tf41[_0x5ed496(0x332)]?await extractFaceTensors(this[_0x5ed496(0x12d)],_0x1412ab):await extractFaces(this[_0x5ed496(0x12d)],_0x1412ab),_0x7abed5=await Promise[_0x5ed496(0x10e)](_0x468995[_0x5ed496(0x2b0)](_0x1eac1d=>this[_0x5ed496(0x2ed)][_0x5ed496(0xe8)](_0x1eac1d)));_0x468995[_0x5ed496(0xe0)](_0x20ca74=>_0x20ca74 instanceof tf41[_0x5ed496(0x332)]&&_0x20ca74[_0x5ed496(0x126)]());const _0x268179=_0x181512[_0x5ed496(0x1eb)]((_0x4a4d26,_0x257f40)=>_0x7abed5[_0x257f40])['map']((_0x34391e,_0x59283d)=>extendWithFaceLandmarks(_0x34391e,_0x7abed5[_0x59283d]));return _0x268179;}['withFaceExpressions'](){const _0x115ffd=_0x3556c3;return new PredictAllFaceExpressionsWithFaceAlignmentTask(this,this[_0x115ffd(0x12d)]);}[_0x3556c3(0xe3)](){const _0x2cd719=_0x3556c3;return new PredictAllAgeAndGenderWithFaceAlignmentTask(this,this[_0x2cd719(0x12d)]);}[_0x3556c3(0x18b)](){return new ComputeAllFaceDescriptorsTask(this,this['input']);}},DetectSingleFaceLandmarksTask=class extends DetectFaceLandmarksTaskBase{async[_0x3556c3(0x1cb)](){const _0x2ccede=_0x3556c3,_0xeb792e=await this['parentTask'];if(!_0xeb792e)return void 0x0;const {detection:_0x303eec}=_0xeb792e,_0x62b18e=this[_0x2ccede(0x12d)]instanceof tf41['Tensor']?await extractFaceTensors(this[_0x2ccede(0x12d)],[_0x303eec]):await extractFaces(this[_0x2ccede(0x12d)],[_0x303eec]),_0x293b10=await this[_0x2ccede(0x2ed)]['detectLandmarks'](_0x62b18e[0x0]);return _0x62b18e['forEach'](_0x11e3f9=>_0x11e3f9 instanceof tf41[_0x2ccede(0x332)]&&_0x11e3f9[_0x2ccede(0x126)]()),extendWithFaceLandmarks(_0xeb792e,_0x293b10);}['withFaceExpressions'](){const _0x52b780=_0x3556c3;return new PredictSingleFaceExpressionsWithFaceAlignmentTask(this,this[_0x52b780(0x12d)]);}[_0x3556c3(0xe3)](){const _0x2a4bf6=_0x3556c3;return new PredictSingleAgeAndGenderWithFaceAlignmentTask(this,this[_0x2a4bf6(0x12d)]);}[_0x3556c3(0x297)](){const _0x3eb663=_0x3556c3;return new ComputeSingleFaceDescriptorTask(this,this[_0x3eb663(0x12d)]);}},DetectFacesTaskBase=class extends ComposableTask{constructor(_0x4a31e8,_0x4b143e=new SsdMobilenetv1Options()){const _0x392f0f=_0x3556c3;super(),this[_0x392f0f(0x12d)]=_0x4a31e8,this['options']=_0x4b143e;}},DetectAllFacesTask=class extends DetectFacesTaskBase{async[_0x3556c3(0x1cb)](){const _0xa00de8=_0x3556c3,{input:_0x3deee7,options:_0x199893}=this;let _0x52e842;if(_0x199893 instanceof TinyFaceDetectorOptions)_0x52e842=nets[_0xa00de8(0x1b7)]['locateFaces'](_0x3deee7,_0x199893);else{if(_0x199893 instanceof SsdMobilenetv1Options)_0x52e842=nets[_0xa00de8(0x29d)]['locateFaces'](_0x3deee7,_0x199893);else{if(_0x199893 instanceof TinyYolov2Options)_0x52e842=nets[_0xa00de8(0x23a)][_0xa00de8(0x134)](_0x3deee7,_0x199893);else throw new Error(_0xa00de8(0x28a));}}return _0x52e842;}[_0x3556c3(0x15d)](){return new Promise((_0x19ba9a,_0x4cfb07)=>{const _0x56de5b=_0x29bb;this['run']()[_0x56de5b(0x29b)](_0x101f6c=>_0x19ba9a(_0x101f6c['map'](_0x24bc0d=>extendWithFaceDetection({},_0x24bc0d))))['catch'](_0x82af49=>_0x4cfb07(_0x82af49));});}[_0x3556c3(0x27e)](_0x2ab13d=![]){const _0x4b3af1=_0x3556c3;return new DetectAllFaceLandmarksTask(this[_0x4b3af1(0x15d)](),this[_0x4b3af1(0x12d)],_0x2ab13d);}[_0x3556c3(0x23f)](){const _0x4a4c21=_0x3556c3;return new PredictAllFaceExpressionsTask(this['runAndExtendWithFaceDetections'](),this[_0x4a4c21(0x12d)]);}[_0x3556c3(0xe3)](){const _0x1ce87d=_0x3556c3;return new PredictAllAgeAndGenderTask(this[_0x1ce87d(0x15d)](),this['input']);}},DetectSingleFaceTask=class extends DetectFacesTaskBase{async[_0x3556c3(0x1cb)](){const _0xee8a2e=_0x3556c3,_0x4ea1d6=await new DetectAllFacesTask(this[_0xee8a2e(0x12d)],this[_0xee8a2e(0x2aa)]);let _0x451498=_0x4ea1d6[0x0];return _0x4ea1d6[_0xee8a2e(0xe0)](_0x412f59=>{const _0x54b1df=_0xee8a2e;if(_0x412f59[_0x54b1df(0xf0)]>_0x451498['score'])_0x451498=_0x412f59;}),_0x451498;}[_0x3556c3(0x1d6)](){return new Promise(async _0x498518=>{const _0x1cde7b=await this['run']();_0x498518(_0x1cde7b?extendWithFaceDetection({},_0x1cde7b):void 0x0);});}[_0x3556c3(0x27e)](_0x2b604a=![]){const _0x4ee057=_0x3556c3;return new DetectSingleFaceLandmarksTask(this[_0x4ee057(0x1d6)](),this[_0x4ee057(0x12d)],_0x2b604a);}[_0x3556c3(0x23f)](){const _0x466d29=_0x3556c3;return new PredictSingleFaceExpressionsTask(this[_0x466d29(0x1d6)](),this['input']);}['withAgeAndGender'](){const _0x46f8c3=_0x3556c3;return new PredictSingleAgeAndGenderTask(this[_0x46f8c3(0x1d6)](),this[_0x46f8c3(0x12d)]);}};function detectSingleFace(_0x34c898,_0x5a1eb3=new SsdMobilenetv1Options()){return new DetectSingleFaceTask(_0x34c898,_0x5a1eb3);}function detectAllFaces(_0x5127c8,_0x4f29c1=new SsdMobilenetv1Options()){return new DetectAllFacesTask(_0x5127c8,_0x4f29c1);}async function allFacesSsdMobilenetv1(_0x583224,_0x39b331){const _0x2aab43=_0x3556c3;return detectAllFaces(_0x583224,new SsdMobilenetv1Options(_0x39b331?{'minConfidence':_0x39b331}:{}))[_0x2aab43(0x27e)]()['withFaceDescriptors']();}async function allFacesTinyYolov2(_0x5dc50f,_0x187668={}){const _0x1317b8=_0x3556c3;return detectAllFaces(_0x5dc50f,new TinyYolov2Options(_0x187668))[_0x1317b8(0x27e)]()[_0x1317b8(0x18b)]();}var allFaces=allFacesSsdMobilenetv1;function euclideanDistance(_0x57f589,_0xd91e4f){const _0x15e7f1=_0x3556c3;if(_0x57f589[_0x15e7f1(0x14a)]!==_0xd91e4f[_0x15e7f1(0x14a)])throw new Error(_0x15e7f1(0x239));const _0x251261=Array[_0x15e7f1(0x228)](_0x57f589),_0x244176=Array[_0x15e7f1(0x228)](_0xd91e4f);return Math[_0x15e7f1(0x2f3)](_0x251261[_0x15e7f1(0x2b0)]((_0x306bfd,_0x4a6444)=>_0x306bfd-_0x244176[_0x4a6444])[_0x15e7f1(0x16f)]((_0x3e751e,_0x1c8808)=>_0x3e751e+_0x1c8808**0x2,0x0));}var FaceMatcher=class{constructor(_0x5d82e2,_0x4e86da=0.6){const _0x2172bd=_0x3556c3;this[_0x2172bd(0x203)]=_0x4e86da;const _0x5f1e77=Array['isArray'](_0x5d82e2)?_0x5d82e2:[_0x5d82e2];if(!_0x5f1e77[_0x2172bd(0x14a)])throw new Error(_0x2172bd(0x1c1));let _0x3f5729=0x1;const _0x5171f0=()=>'person\x20'+_0x3f5729++;this[_0x2172bd(0x341)]=_0x5f1e77[_0x2172bd(0x2b0)](_0x11aae1=>{const _0x16291f=_0x2172bd;if(_0x11aae1 instanceof LabeledFaceDescriptors)return _0x11aae1;if(_0x11aae1 instanceof Float32Array)return new LabeledFaceDescriptors(_0x5171f0(),[_0x11aae1]);if(_0x11aae1[_0x16291f(0xf8)]&&_0x11aae1[_0x16291f(0xf8)]instanceof Float32Array)return new LabeledFaceDescriptors(_0x5171f0(),[_0x11aae1[_0x16291f(0xf8)]]);throw new Error(_0x16291f(0x322));});}get[_0x3556c3(0x187)](){const _0x1e83dc=_0x3556c3;return this[_0x1e83dc(0x341)];}get[_0x3556c3(0x313)](){const _0x21f870=_0x3556c3;return this[_0x21f870(0x203)];}[_0x3556c3(0x11e)](_0x91233,_0x3ae21f){const _0x3d6279=_0x3556c3;return _0x3ae21f[_0x3d6279(0x2b0)](_0x4ff245=>euclideanDistance(_0x4ff245,_0x91233))['reduce']((_0x563330,_0x429bb3)=>_0x563330+_0x429bb3,0x0)/(_0x3ae21f['length']||0x1);}[_0x3556c3(0x29e)](_0x50dc71){const _0x69311=_0x3556c3;return this[_0x69311(0x187)]['map'](({descriptors:_0x520f9d,label:_0x35048c})=>new FaceMatch(_0x35048c,this[_0x69311(0x11e)](_0x50dc71,_0x520f9d)))['reduce']((_0x15f1f5,_0xe44ec8)=>_0x15f1f5[_0x69311(0x2b8)]<_0xe44ec8['distance']?_0x15f1f5:_0xe44ec8);}[_0x3556c3(0x349)](_0x2ab01f){const _0x59059e=_0x3556c3,_0x2b7ca0=this['matchDescriptor'](_0x2ab01f);return _0x2b7ca0[_0x59059e(0x2b8)]<this[_0x59059e(0x203)]?_0x2b7ca0:new FaceMatch('unknown',_0x2b7ca0[_0x59059e(0x2b8)]);}[_0x3556c3(0x308)](){const _0x1d70e5=_0x3556c3;return{'distanceThreshold':this[_0x1d70e5(0x203)],'labeledDescriptors':this['_labeledDescriptors'][_0x1d70e5(0x2b0)](_0x38f056=>_0x38f056[_0x1d70e5(0x308)]())};}static['fromJSON'](_0x1624d6){const _0x4e7bba=_0x3556c3,_0x23adbf=_0x1624d6[_0x4e7bba(0x187)][_0x4e7bba(0x2b0)](_0x1f7a7e=>LabeledFaceDescriptors[_0x4e7bba(0x12f)](_0x1f7a7e));return new FaceMatcher(_0x23adbf,_0x1624d6[_0x4e7bba(0x313)]);}};function createTinyFaceDetector(_0x10eb6b){const _0xef8712=_0x3556c3,_0x51175c=new TinyFaceDetector();return _0x51175c[_0xef8712(0x30b)](_0x10eb6b),_0x51175c;}function resizeResults(_0x389022,_0x524309){const _0x9c4a62=_0x3556c3,{width:_0x325f3c,height:_0x496cba}=new Dimensions(_0x524309[_0x9c4a62(0x350)],_0x524309[_0x9c4a62(0xf6)]);if(_0x325f3c<=0x0||_0x496cba<=0x0)throw new Error(_0x9c4a62(0x2c7)+JSON[_0x9c4a62(0x2dc)]({'width':_0x325f3c,'height':_0x496cba}));if(Array[_0x9c4a62(0x2e2)](_0x389022))return _0x389022[_0x9c4a62(0x2b0)](_0x5d88ed=>resizeResults(_0x5d88ed,{'width':_0x325f3c,'height':_0x496cba}));if(isWithFaceLandmarks(_0x389022)){const _0x4c1080=_0x389022[_0x9c4a62(0xd8)][_0x9c4a62(0x19f)](_0x325f3c,_0x496cba),_0x213315=_0x389022['unshiftedLandmarks'][_0x9c4a62(0x19f)](_0x4c1080['box'][_0x9c4a62(0x350)],_0x4c1080[_0x9c4a62(0x22c)]['height']);return extendWithFaceLandmarks(extendWithFaceDetection(_0x389022,_0x4c1080),_0x213315);}if(isWithFaceDetection(_0x389022))return extendWithFaceDetection(_0x389022,_0x389022['detection'][_0x9c4a62(0x19f)](_0x325f3c,_0x496cba));if(_0x389022 instanceof FaceLandmarks||_0x389022 instanceof FaceDetection)return _0x389022[_0x9c4a62(0x19f)](_0x325f3c,_0x496cba);return _0x389022;}var version2=version;0x0&&(module[_0x3556c3(0x1e5)]={'AgeGenderNet':AgeGenderNet,'BoundingBox':BoundingBox,'Box':Box,'ComposableTask':ComposableTask,'ComputeAllFaceDescriptorsTask':ComputeAllFaceDescriptorsTask,'ComputeFaceDescriptorsTaskBase':ComputeFaceDescriptorsTaskBase,'ComputeSingleFaceDescriptorTask':ComputeSingleFaceDescriptorTask,'DetectAllFaceLandmarksTask':DetectAllFaceLandmarksTask,'DetectAllFacesTask':DetectAllFacesTask,'DetectFaceLandmarksTaskBase':DetectFaceLandmarksTaskBase,'DetectFacesTaskBase':DetectFacesTaskBase,'DetectSingleFaceLandmarksTask':DetectSingleFaceLandmarksTask,'DetectSingleFaceTask':DetectSingleFaceTask,'Dimensions':Dimensions,'FACE_EXPRESSION_LABELS':FACE_EXPRESSION_LABELS,'FaceDetection':FaceDetection,'FaceDetectionNet':FaceDetectionNet,'FaceExpressionNet':FaceExpressionNet,'FaceExpressions':FaceExpressions,'FaceLandmark68Net':FaceLandmark68Net,'FaceLandmark68TinyNet':FaceLandmark68TinyNet,'FaceLandmarkNet':FaceLandmarkNet,'FaceLandmarks':FaceLandmarks,'FaceLandmarks5':FaceLandmarks5,'FaceLandmarks68':FaceLandmarks68,'FaceMatch':FaceMatch,'FaceMatcher':FaceMatcher,'FaceRecognitionNet':FaceRecognitionNet,'Gender':Gender,'LabeledBox':LabeledBox,'LabeledFaceDescriptors':LabeledFaceDescriptors,'NetInput':NetInput,'NeuralNetwork':NeuralNetwork,'ObjectDetection':ObjectDetection,'Point':Point,'PredictedBox':PredictedBox,'Rect':Rect,'SsdMobilenetv1':SsdMobilenetv1,'SsdMobilenetv1Options':SsdMobilenetv1Options,'TinyFaceDetector':TinyFaceDetector,'TinyFaceDetectorOptions':TinyFaceDetectorOptions,'TinyYolov2':TinyYolov2,'TinyYolov2Options':TinyYolov2Options,'allFaces':allFaces,'allFacesSsdMobilenetv1':allFacesSsdMobilenetv1,'allFacesTinyYolov2':allFacesTinyYolov2,'awaitMediaLoaded':awaitMediaLoaded,'bufferToImage':bufferToImage,'computeFaceDescriptor':computeFaceDescriptor,'createCanvas':createCanvas,'createCanvasFromMedia':createCanvasFromMedia,'createFaceDetectionNet':createFaceDetectionNet,'createFaceRecognitionNet':createFaceRecognitionNet,'createSsdMobilenetv1':createSsdMobilenetv1,'createTinyFaceDetector':createTinyFaceDetector,'createTinyYolov2':createTinyYolov2,'detectAllFaces':detectAllFaces,'detectFaceLandmarks':detectFaceLandmarks,'detectFaceLandmarksTiny':detectFaceLandmarksTiny,'detectLandmarks':detectLandmarks,'detectSingleFace':detectSingleFace,'draw':draw,'env':env,'euclideanDistance':euclideanDistance,'extendWithAge':extendWithAge,'extendWithFaceDescriptor':extendWithFaceDescriptor,'extendWithFaceDetection':extendWithFaceDetection,'extendWithFaceExpressions':extendWithFaceExpressions,'extendWithFaceLandmarks':extendWithFaceLandmarks,'extendWithGender':extendWithGender,'extractFaceTensors':extractFaceTensors,'extractFaces':extractFaces,'fetchImage':fetchImage,'fetchJson':fetchJson,'fetchNetWeights':fetchNetWeights,'fetchOrThrow':fetchOrThrow,'fetchVideo':fetchVideo,'getContext2dOrThrow':getContext2dOrThrow,'getMediaDimensions':getMediaDimensions,'imageTensorToCanvas':imageTensorToCanvas,'imageToSquare':imageToSquare,'inverseSigmoid':inverseSigmoid,'iou':iou,'isMediaElement':isMediaElement,'isMediaLoaded':isMediaLoaded,'isWithAge':isWithAge,'isWithFaceDetection':isWithFaceDetection,'isWithFaceExpressions':isWithFaceExpressions,'isWithFaceLandmarks':isWithFaceLandmarks,'isWithGender':isWithGender,'loadAgeGenderModel':loadAgeGenderModel,'loadFaceDetectionModel':loadFaceDetectionModel,'loadFaceExpressionModel':loadFaceExpressionModel,'loadFaceLandmarkModel':loadFaceLandmarkModel,'loadFaceLandmarkTinyModel':loadFaceLandmarkTinyModel,'loadFaceRecognitionModel':loadFaceRecognitionModel,'loadSsdMobilenetv1Model':loadSsdMobilenetv1Model,'loadTinyFaceDetectorModel':loadTinyFaceDetectorModel,'loadTinyYolov2Model':loadTinyYolov2Model,'loadWeightMap':loadWeightMap,'locateFaces':locateFaces,'matchDimensions':matchDimensions,'minBbox':minBbox,'nets':nets,'nonMaxSuppression':nonMaxSuppression,'normalize':normalize,'padToSquare':padToSquare,'predictAgeAndGender':predictAgeAndGender,'recognizeFaceExpressions':recognizeFaceExpressions,'resizeResults':resizeResults,'resolveInput':resolveInput,'shuffleArray':shuffleArray,'sigmoid':sigmoid,'ssdMobilenetv1':ssdMobilenetv1,'tf':tf,'tinyFaceDetector':tinyFaceDetector,'tinyYolov2':tinyYolov2,'toNetInput':toNetInput,'utils':utils,'validateConfig':validateConfig,'version':version});