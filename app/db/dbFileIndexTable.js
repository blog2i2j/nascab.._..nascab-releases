const _0xe45834=_0x3d31;function _0x572c(){const _0x2d2cb0=['getAllByWhere','COCO_CLASS_MIN_SCORE','getCountByWhere','INDEX_TABLE_NAME_MUSIC','map','getFaceInSql','file_index_music','INDEX_TABLE_NAME_PHOTO','trim','(type=1\x20OR\x20type=2)','updateBySql','title','updateById','prepare','\x20WHERE\x20path=?','all','3837524UWutiK','orderTypeAllowList','\x20SET\x20in_trash=?,in_trash_time=?\x20WHERE\x20id\x20IN\x20','geohash2','getTimeLineDateList','95xBxtWl','length','\x20WHERE\x20path=?\x20AND\x20filename=?','deleteByPathAndFileName','stream_info','INDEX_TABLE_NAME_BOOK','\x20WHERE\x20path=?\x20AND\x20is_file=1\x20AND\x20type=2\x20AND\x20is_tvplay=1','artist','10ddeEql','getByWhere','coverPath','getAllByWhereAndField','toLowerCase','duration','mtime','filenameNumber','getIndexTableNameByType','substring',',a.face_id\x20FROM\x20photo_faces2index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.photo_index_id=f.id\x20WHERE\x20a.face_id\x20in\x20','original_date','getRawImageIndex','getTvPlayListByPath','%\x27\x20GROUP\x20BY\x20mode\x20LIMIT\x2020','SELECT\x20count(*)\x20as\x20count\x20\x20FROM\x20','show_name','movie','\x20WHERE\x20','push','file_index_photo','file_index_movie','ctime','width','raw_filename','5732136qwEUbF','updateCtime','=?\x20WHERE\x20path=?\x20OR\x20path\x20like\x20?','filename','SELECT\x20count(*)\x20as\x20count,original_date,max(original_time)\x20as\x20original_time\x20FROM\x20file_index_photo\x20WHERE','9XFxggs','4CvdqJx','\x20\x20AND','SELECT\x20count(*)\x20as\x20count\x20FROM\x20album_ordinary_index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.index_id=f.id\x20WHERE\x20album_id=?\x20AND\x20','getLivePhotoIndex','getTime','includes','1028239NbIyww','getPathAll','geohash4','music','orderFieldAllowList','INDEX_TABLE_NAME_MOVIE','getCount','total_page','SELECT\x20','318876WyIXJo','UPDATE\x20','album','\x20WHERE\x20mode\x20like\x20\x27%','(check_time,path,is_file,ctime,mtime,filename,ext,birthtime,size,type,publisher,language,title,artist,year,genre,cover_path,album,metadata_state,total_page,publish_date,isbn,tag,introduction)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)','SELECT\x20*\x20FROM\x20','getById','\x20as\x20f\x20WHERE\x20','\x20SET\x20ctime=?,birthtime=?,filename=?,size=?,path=?\x20WHERE\x20id=?\x20','(check_time,path,is_file,ctime,mtime,filename,ext,birthtime,size,type,duration,stream_info,title,artist,year,genre,cover_path,album,lyrics,file_cover_path)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)','isbn','language','app','inOutTrash','\x20set\x20','last_play_time','updateByPath','lastIndexOf','SELECT\x20count(*)\x20as\x20count,original_date,original_time\x20FROM\x20ai_classes2index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.photo_index_id=f.id\x20WHERE\x20a.class_id=','size','show_in_list','is_file','genre','UPDATE\x20file_index_photo\x20SET\x20is_livephoto=0,is_show=1\x20WHERE\x20id=','lyrics','is_tvplay','birthtime','geohash3','getAllByWhereAndFieldFromOrdinaryAlbum','getAllByWhereAndFieldFromOrdinaryAlbumCount','\x20\x20WHERE\x20id=?','book','publish_date','run','DELETE\x20FROM\x20ai_classes2index','introduction','returnErrMsg','type','\x20AND\x20\x20','\x20FROM\x20','6130552xnhduS','desc','\x20AND\x20is_livephoto!=1)','is_livephoto','is_show','\x20WHERE\x20path=?\x20and\x20filename=?','\x20WHERE\x20id=?','\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20','metadata_state','\x20WHERE\x20path\x20like\x20?\x20OR\x20path=?','mode','(check_time,path,is_file,ctime,mtime,filename,ext,birthtime,size,type,width,height,original_time,original_date,duration,stream_info,is_tvplay,show_in_list,show_name,filename_number)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)','fileCoverPath','\x20GROUP\x20BY\x20original_date\x20ORDER\x20BY\x20original_time\x20','sep','\x20AND\x20','getAllByWhereAndFieldFromAiClassesToIndex','getAllByWhereAndFieldFromFaceIndex','SELECT\x20count(*)\x20as\x20count,original_date,original_time\x20FROM\x20photo_faces2index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.photo_index_id=f.id\x20WHERE\x20face_id\x20in\x20','geohash','11403436XkHXJO','publisher','DELETE\x20FROM\x20','get','\x20original_time\x20>\x200\x20AND\x20original_time\x20!=\x27NaN\x27\x20AND\x20original_date\x20!=\x27Nan-0Nan-0Nan\x27\x20AND\x20original_date\x20LIKE\x20?\x20AND\x20is_file=1\x20AND\x20type=?\x20','\x20\x20AND\x20f.in_trash=0\x20and\x20a.score>','tag','is_livephoto=1','(check_time,path,geohash,geohash5,geohash4,geohash3,geohash2,is_file,ctime,mtime,filename,ext,birthtime,size,type,mode,latitude,longitude,width,height,original_time,original_date,duration,stream_info,is_raw)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)','asc','file_index_book','SELECT\x20count(*)\x20as\x20count,original_date,original_time\x20FROM\x20album_ordinary_index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.index_id=f.id\x20WHERE\x20album_id=','\x20AND','updateIndexInfo','6833610ejRMbe','exports','create','error\x20orderType\x20','check_time','REPLACE\x20INTO\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','SELECT\x20id\x20from\x20photo_faces\x20WHERE\x20belong_face_id\x20=\x20?\x20','clearTable','ext','\x20AND\x20f.in_trash=0\x20AND','searchMode','original_time','path','\x20FROM\x20ai_classes2index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.photo_index_id=f.id\x20WHERE\x20\x20a.class_id=?\x20and\x20a.score>?\x20AND\x20','SELECT\x20mode\x20FROM\x20','height','checkOrderParams','year'];_0x572c=function(){return _0x2d2cb0;};return _0x572c();}function _0x3d31(_0x9707e0,_0x471a18){const _0x572c81=_0x572c();return _0x3d31=function(_0x3d3158,_0x594577){_0x3d3158=_0x3d3158-0xe9;let _0x267523=_0x572c81[_0x3d3158];return _0x267523;},_0x3d31(_0x9707e0,_0x471a18);}(function(_0x56a1c4,_0x38176f){const _0x2dc504=_0x3d31,_0x2ddcbc=_0x56a1c4();while(!![]){try{const _0x552e23=-parseInt(_0x2dc504(0x123))/0x1+parseInt(_0x2dc504(0xf1))/0x2+-parseInt(_0x2dc504(0x117))/0x3*(-parseInt(_0x2dc504(0x11d))/0x4)+parseInt(_0x2dc504(0xf6))/0x5*(-parseInt(_0x2dc504(0x12c))/0x6)+parseInt(_0x2dc504(0x176))/0x7+parseInt(_0x2dc504(0x154))/0x8*(-parseInt(_0x2dc504(0x11c))/0x9)+parseInt(_0x2dc504(0xfe))/0xa*(-parseInt(_0x2dc504(0x168))/0xb);if(_0x552e23===_0x38176f)break;else _0x2ddcbc['push'](_0x2ddcbc['shift']());}catch(_0x2b7190){_0x2ddcbc['push'](_0x2ddcbc['shift']());}}}(_0x572c,0xeb858));let path=require(_0xe45834(0x182));class dbFileIndexTable{static [_0xe45834(0x128)]=_0xe45834(0x113);static ['INDEX_TABLE_NAME_PHOTO']=_0xe45834(0x112);static [_0xe45834(0x18b)]=_0xe45834(0x18e);static [_0xe45834(0xfb)]=_0xe45834(0x172);static [_0xe45834(0x127)]=['in_trash_time',_0xe45834(0x181),'id',_0xe45834(0x11a),_0xe45834(0x17a),'play_count',_0xe45834(0x13b),_0xe45834(0x12e),_0xe45834(0xfd),_0xe45834(0x187),_0xe45834(0x13f),_0xe45834(0x115),_0xe45834(0x185),_0xe45834(0x103),_0xe45834(0x114),_0xe45834(0x104)];static [_0xe45834(0xf2)]=[_0xe45834(0x171),_0xe45834(0x155)];static[_0xe45834(0x186)](_0x245eca,_0x110951,_0x33a5f1,_0x1bdc8b){const _0x3d578c=_0xe45834;if(!this[_0x3d578c(0x127)]['includes'](_0x33a5f1))return _0x245eca[_0x3d578c(0x138)]['returnErrMsg'](_0x110951,'error\x20orderField\x20'+_0x33a5f1);if(!this[_0x3d578c(0xf2)][_0x3d578c(0x122)](_0x1bdc8b))return _0x245eca[_0x3d578c(0x138)][_0x3d578c(0x150)](_0x110951,_0x3d578c(0x179)+_0x1bdc8b);return!![];}static[_0xe45834(0x106)](_0x38d6cf){const _0x1c51f0=_0xe45834;let _0x4ad58e=dbFileIndexTable[_0x1c51f0(0x18f)];if(_0x38d6cf==_0x1c51f0(0x10f))_0x4ad58e=dbFileIndexTable[_0x1c51f0(0x128)];else{if(_0x38d6cf==_0x1c51f0(0x126))_0x4ad58e=dbFileIndexTable['INDEX_TABLE_NAME_MUSIC'];else _0x38d6cf==_0x1c51f0(0x14b)&&(_0x4ad58e=dbFileIndexTable[_0x1c51f0(0xfb)]);}return _0x4ad58e;}static [_0xe45834(0x189)]=0.9;static[_0xe45834(0x17d)](_0x2f1503,_0x2556a2){const _0xb91db9=_0xe45834;return!_0x2556a2&&(_0x2556a2=dbFileIndexTable[_0xb91db9(0x18f)]),_0x2f1503[_0xb91db9(0xee)](_0xb91db9(0x16a)+_0x2556a2)[_0xb91db9(0x14d)]();}static[_0xe45834(0x132)](_0x4cec10,_0x451824,_0x153584){const _0x57fd3f=_0xe45834;return!_0x153584&&(_0x153584=dbFileIndexTable[_0x57fd3f(0x18f)]),_0x4cec10[_0x57fd3f(0xee)](_0x57fd3f(0x131)+_0x153584+_0x57fd3f(0x15a))[_0x57fd3f(0x16b)](_0x451824);}static['getByPath'](_0x551aab,_0x148e35,_0x169b98,_0x4e1b12){const _0x555ce1=_0xe45834;!_0x4e1b12&&(_0x4e1b12=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']);let _0x335e75='SELECT\x20*\x20FROM\x20'+_0x4e1b12+_0x555ce1(0xf8);return _0x551aab[_0x555ce1(0xee)](_0x335e75)[_0x555ce1(0x16b)](_0x148e35,_0x169b98);}static[_0xe45834(0x139)](_0x34fabf,_0x195321,_0x3209cd,_0x23570b){const _0x30714f=_0xe45834;!_0x23570b&&(_0x23570b=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']);let _0x24f068=new Date()[_0x30714f(0x121)](),_0x58f909=_0x30714f(0x12d)+_0x23570b+_0x30714f(0xf3)+_0x195321;return _0x34fabf[_0x30714f(0xee)](_0x58f909)[_0x30714f(0x14d)](_0x3209cd,_0x24f068);}static[_0xe45834(0x178)](_0x6bbc97,_0x36f31f,_0x5d9063){const _0x23b1d8=_0xe45834;!_0x5d9063&&(_0x5d9063=dbFileIndexTable[_0x23b1d8(0x18f)]);if(_0x5d9063==dbFileIndexTable[_0x23b1d8(0x18f)]){const _0x105b86=_0x23b1d8(0x17b)+_0x5d9063+_0x23b1d8(0x170);return _0x6bbc97[_0x23b1d8(0xee)](_0x105b86)['run'](''+_0x36f31f[_0x23b1d8(0x17a)],''+_0x36f31f[_0x23b1d8(0x182)],''+_0x36f31f[_0x23b1d8(0x167)],''+_0x36f31f['geohash5'],''+_0x36f31f[_0x23b1d8(0x125)],''+_0x36f31f[_0x23b1d8(0x147)],''+_0x36f31f[_0x23b1d8(0xf4)],''+_0x36f31f[_0x23b1d8(0x141)],''+_0x36f31f[_0x23b1d8(0x114)],''+_0x36f31f[_0x23b1d8(0x104)],''+_0x36f31f['filename'],''+_0x36f31f[_0x23b1d8(0x17e)],''+_0x36f31f[_0x23b1d8(0x146)],''+_0x36f31f[_0x23b1d8(0x13f)],''+_0x36f31f[_0x23b1d8(0x151)],''+_0x36f31f[_0x23b1d8(0x15e)],''+_0x36f31f['latitude'],''+_0x36f31f['longitude'],''+_0x36f31f['width'],''+_0x36f31f['height'],''+_0x36f31f['original_time'],''+_0x36f31f[_0x23b1d8(0x109)],''+_0x36f31f[_0x23b1d8(0x103)],''+_0x36f31f[_0x23b1d8(0xfa)],_0x36f31f['is_raw']==0x1?0x1:0x0);}else{if(_0x5d9063==dbFileIndexTable[_0x23b1d8(0x128)]){_0x36f31f['is_tvplay']=_0x36f31f['is_tvplay']==null?0x0:_0x36f31f[_0x23b1d8(0x145)],_0x36f31f[_0x23b1d8(0x140)]=_0x36f31f['show_in_list']==null?0x1:_0x36f31f['show_in_list'],_0x36f31f[_0x23b1d8(0x10e)]=_0x36f31f[_0x23b1d8(0x10e)]?_0x36f31f[_0x23b1d8(0x10e)][_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0x105)]=_0x36f31f[_0x23b1d8(0x105)]?_0x36f31f['filenameNumber']:0x0;const _0x3d3d41='REPLACE\x20INTO\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x5d9063+_0x23b1d8(0x15f);return _0x6bbc97['prepare'](_0x3d3d41)[_0x23b1d8(0x14d)](_0x36f31f[_0x23b1d8(0x17a)],_0x36f31f[_0x23b1d8(0x182)],_0x36f31f[_0x23b1d8(0x141)],_0x36f31f[_0x23b1d8(0x114)],_0x36f31f[_0x23b1d8(0x104)],_0x36f31f[_0x23b1d8(0x11a)],_0x36f31f[_0x23b1d8(0x17e)],_0x36f31f[_0x23b1d8(0x146)],_0x36f31f['size'],_0x36f31f['type'],_0x36f31f[_0x23b1d8(0x115)],_0x36f31f[_0x23b1d8(0x185)],_0x36f31f[_0x23b1d8(0x181)],_0x36f31f[_0x23b1d8(0x109)],_0x36f31f['duration'],_0x36f31f[_0x23b1d8(0xfa)],_0x36f31f[_0x23b1d8(0x145)],_0x36f31f[_0x23b1d8(0x140)],_0x36f31f[_0x23b1d8(0x10e)],_0x36f31f[_0x23b1d8(0x105)]);}else{if(_0x5d9063==dbFileIndexTable[_0x23b1d8(0x18b)]){_0x36f31f[_0x23b1d8(0x12e)]=_0x36f31f[_0x23b1d8(0x12e)]?_0x36f31f['album']+''[_0x23b1d8(0xe9)]():'',_0x36f31f['title']=_0x36f31f[_0x23b1d8(0xec)]?_0x36f31f[_0x23b1d8(0xec)]+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0xfd)]=_0x36f31f[_0x23b1d8(0xfd)]?_0x36f31f['artist']+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0x187)]=_0x36f31f[_0x23b1d8(0x187)]?_0x36f31f['year']+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0x142)]=_0x36f31f[_0x23b1d8(0x142)]?_0x36f31f['genre']+''[_0x23b1d8(0x102)]():'',_0x36f31f[_0x23b1d8(0x100)]=_0x36f31f['coverPath']?_0x36f31f[_0x23b1d8(0x100)]:'',_0x36f31f[_0x23b1d8(0x144)]=_0x36f31f[_0x23b1d8(0x144)]?_0x36f31f[_0x23b1d8(0x144)]:'',_0x36f31f[_0x23b1d8(0x151)]=_0x36f31f['type']?_0x36f31f[_0x23b1d8(0x151)]:'',_0x36f31f[_0x23b1d8(0x160)]=_0x36f31f[_0x23b1d8(0x160)]?_0x36f31f['fileCoverPath']:'';const _0x530078=_0x23b1d8(0x17b)+_0x5d9063+_0x23b1d8(0x135);return _0x6bbc97[_0x23b1d8(0xee)](_0x530078)[_0x23b1d8(0x14d)](''+_0x36f31f['check_time'],''+_0x36f31f[_0x23b1d8(0x182)],''+_0x36f31f[_0x23b1d8(0x141)],''+_0x36f31f[_0x23b1d8(0x114)],''+_0x36f31f['mtime'],''+_0x36f31f[_0x23b1d8(0x11a)],''+_0x36f31f[_0x23b1d8(0x17e)],''+_0x36f31f[_0x23b1d8(0x146)],''+_0x36f31f[_0x23b1d8(0x13f)],''+_0x36f31f[_0x23b1d8(0x151)],''+_0x36f31f[_0x23b1d8(0x103)],''+_0x36f31f['stream_info'],''+_0x36f31f[_0x23b1d8(0xec)],''+_0x36f31f['artist'],''+_0x36f31f['year'],''+_0x36f31f[_0x23b1d8(0x142)],''+_0x36f31f[_0x23b1d8(0x100)],''+_0x36f31f[_0x23b1d8(0x12e)],''+_0x36f31f[_0x23b1d8(0x144)],''+_0x36f31f[_0x23b1d8(0x160)]);}else{if(_0x5d9063==dbFileIndexTable[_0x23b1d8(0xfb)]){_0x36f31f[_0x23b1d8(0x12e)]=_0x36f31f['album']?_0x36f31f[_0x23b1d8(0x12e)]+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0xec)]=_0x36f31f[_0x23b1d8(0xec)]?_0x36f31f[_0x23b1d8(0xec)]+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0xfd)]=_0x36f31f[_0x23b1d8(0xfd)]?_0x36f31f['artist']+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0x187)]=_0x36f31f[_0x23b1d8(0x187)]?_0x36f31f[_0x23b1d8(0x187)]+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0x142)]=_0x36f31f[_0x23b1d8(0x142)]?_0x36f31f['genre']+''[_0x23b1d8(0x102)]():'',_0x36f31f[_0x23b1d8(0x100)]=_0x36f31f[_0x23b1d8(0x100)]?_0x36f31f[_0x23b1d8(0x100)]:'',_0x36f31f[_0x23b1d8(0x151)]=_0x36f31f['type']?_0x36f31f['type']:'',_0x36f31f['publisher']=_0x36f31f['publisher']?_0x36f31f['publisher']+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0x137)]=_0x36f31f['language']?_0x36f31f[_0x23b1d8(0x137)]+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0x15c)]=_0x36f31f[_0x23b1d8(0x15c)]?_0x36f31f['metadata_state']:0x0,_0x36f31f[_0x23b1d8(0x12a)]=_0x36f31f[_0x23b1d8(0x12a)]?_0x36f31f[_0x23b1d8(0x12a)]:0x0,_0x36f31f[_0x23b1d8(0x14c)]=_0x36f31f[_0x23b1d8(0x14c)]?_0x36f31f['publish_date']+''[_0x23b1d8(0xe9)]():'',_0x36f31f['isbn']=_0x36f31f['isbn']?_0x36f31f[_0x23b1d8(0x136)]+''[_0x23b1d8(0xe9)]():'',_0x36f31f['tag']=_0x36f31f['tag']?_0x36f31f[_0x23b1d8(0x16e)]+''[_0x23b1d8(0xe9)]():'',_0x36f31f[_0x23b1d8(0x14f)]=_0x36f31f['introduction']?_0x36f31f['introduction']+''['trim']():'';const _0x17c0d3='REPLACE\x20INTO\x20\x20'+_0x5d9063+_0x23b1d8(0x130);return _0x6bbc97[_0x23b1d8(0xee)](_0x17c0d3)[_0x23b1d8(0x14d)](_0x36f31f['check_time'],_0x36f31f['path'],_0x36f31f[_0x23b1d8(0x141)],_0x36f31f[_0x23b1d8(0x114)],_0x36f31f['mtime'],_0x36f31f[_0x23b1d8(0x11a)],_0x36f31f[_0x23b1d8(0x17e)],_0x36f31f[_0x23b1d8(0x146)],_0x36f31f[_0x23b1d8(0x13f)],_0x36f31f[_0x23b1d8(0x151)],_0x36f31f[_0x23b1d8(0x169)],_0x36f31f['language'],_0x36f31f[_0x23b1d8(0xec)],_0x36f31f[_0x23b1d8(0xfd)],_0x36f31f[_0x23b1d8(0x187)],_0x36f31f[_0x23b1d8(0x142)],_0x36f31f['coverPath'],_0x36f31f[_0x23b1d8(0x12e)],_0x36f31f[_0x23b1d8(0x15c)],_0x36f31f[_0x23b1d8(0x12a)],_0x36f31f[_0x23b1d8(0x14c)],_0x36f31f[_0x23b1d8(0x136)],_0x36f31f[_0x23b1d8(0x16e)],_0x36f31f[_0x23b1d8(0x14f)]);}}}}}static['delete'](_0x3f1a8b,_0x587c79,_0x5d0fa6){const _0x161373=_0xe45834;!_0x5d0fa6&&(_0x5d0fa6=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']);if(!_0x587c79)return;return _0x3f1a8b[_0x161373(0xee)]('DELETE\x20FROM\x20'+_0x5d0fa6+_0x161373(0x15a))[_0x161373(0x14d)](_0x587c79);}static[_0xe45834(0xf9)](_0x2db143,_0x28db85,_0x350215,_0x443b6e){const _0x57da75=_0xe45834;return!_0x443b6e&&(_0x443b6e=dbFileIndexTable[_0x57da75(0x18f)]),_0x2db143[_0x57da75(0xee)](_0x57da75(0x16a)+_0x443b6e+_0x57da75(0x159))[_0x57da75(0x14d)](_0x28db85,_0x350215);}static['deletePathAll'](_0x39728b,_0x416228,_0x35fd5a){const _0x2d4ce7=_0xe45834;!_0x35fd5a&&(_0x35fd5a=dbFileIndexTable[_0x2d4ce7(0x18f)]);let _0x466249=_0x2d4ce7(0x16a)+_0x35fd5a+_0x2d4ce7(0x15d);return _0x39728b[_0x2d4ce7(0xee)](_0x466249)['run'](_0x416228+path['sep']+'%',_0x416228);}static[_0xe45834(0x124)](_0x14c092,_0x30d07f,_0xdd4649,_0x2edb3d){const _0x4e1af2=_0xe45834;if(!_0x2edb3d)_0x2edb3d='*';return!_0xdd4649&&(_0xdd4649=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']),_0x14c092[_0x4e1af2(0xee)](_0x4e1af2(0x12b)+_0x2edb3d+_0x4e1af2(0x153)+_0xdd4649+'\x20WHERE\x20path\x20like\x20?\x20OR\x20path=?')[_0x4e1af2(0xf0)](_0x30d07f+path[_0x4e1af2(0x162)]+'%',_0x30d07f);}static['getPathAllOnlyChild'](_0x4644ed,_0x376800,_0x4c6669,_0x3d813b){const _0x443f69=_0xe45834;if(!_0x3d813b)_0x3d813b='*';return!_0x4c6669&&(_0x4c6669=dbFileIndexTable[_0x443f69(0x18f)]),_0x4644ed['prepare'](_0x443f69(0x12b)+_0x3d813b+'\x20FROM\x20'+_0x4c6669+_0x443f69(0xef))['all'](_0x376800);}static[_0xe45834(0x118)](_0x149289,_0x4165f6,_0x59c2e8,_0xce2d38){const _0x3c3ccb=_0xe45834;!_0xce2d38&&(_0xce2d38=dbFileIndexTable[_0x3c3ccb(0x18f)]);const _0x125413=_0x3c3ccb(0x15b)+_0xce2d38+'\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20SET\x20ctime=?\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?\x0a\x09\x20\x20\x20\x20';return _0x149289[_0x3c3ccb(0xee)](_0x125413)[_0x3c3ccb(0x14d)](_0x4165f6,_0x59c2e8);}static[_0xe45834(0x13c)](_0x330847,_0x564e6c,_0x2858ed,_0x4aee5a,_0x54142a){const _0x53db89=_0xe45834;return!_0x54142a&&(_0x54142a=dbFileIndexTable[_0x53db89(0x18f)]),_0x330847[_0x53db89(0xee)](_0x53db89(0x12d)+_0x54142a+'\x20set\x20'+_0x2858ed+_0x53db89(0x119))['run'](_0x4aee5a,_0x564e6c,_0x564e6c+path['sep']+'%');}static[_0xe45834(0xeb)](_0x1e5f1f,_0x8ab811,_0x57c198,_0x54c385){const _0x449bb2=_0xe45834;return!_0x54c385&&(_0x54c385=dbFileIndexTable[_0x449bb2(0x18f)]),_0x1e5f1f[_0x449bb2(0xee)](_0x449bb2(0x12d)+_0x54c385+_0x449bb2(0x13a)+_0x57c198+_0x449bb2(0x14a))['run'](_0x8ab811);}static[_0xe45834(0xed)](_0x12a19b,_0x9928e6,_0xdb8350,_0x21422b,_0x5de985){const _0x1c6527=_0xe45834;return!_0x5de985&&(_0x5de985=dbFileIndexTable[_0x1c6527(0x18f)]),_0x12a19b[_0x1c6527(0xee)](_0x1c6527(0x12d)+_0x5de985+'\x20set\x20'+_0xdb8350+'=?\x20WHERE\x20id=?\x20')['run'](_0x21422b,_0x9928e6);}static[_0xe45834(0x175)](_0x404ec5,_0x56a309,_0x4b8a4d,_0x527046){const _0x1999a5=_0xe45834;!_0x527046&&(_0x527046=dbFileIndexTable[_0x1999a5(0x18f)]);const _0x61be1e=_0x1999a5(0x12d)+_0x527046+_0x1999a5(0x134);return _0x404ec5['prepare'](_0x61be1e)[_0x1999a5(0x14d)](_0x4b8a4d[_0x1999a5(0x114)],_0x4b8a4d[_0x1999a5(0x146)],_0x4b8a4d[_0x1999a5(0x11a)],_0x4b8a4d['size'],_0x4b8a4d[_0x1999a5(0x182)],_0x56a309);}static[_0xe45834(0xff)](_0x6b35d5,_0x3fe6bb,_0x2e3473,_0x58785b){const _0x3b2ae6=_0xe45834;!_0x58785b&&(_0x58785b=dbFileIndexTable[_0x3b2ae6(0x18f)]);let _0x261944='SELECT\x20*\x20FROM\x20'+_0x58785b+_0x3b2ae6(0x110)+_0x3fe6bb;return _0x2e3473&&(_0x261944='SELECT\x20'+_0x2e3473+_0x3b2ae6(0x153)+_0x58785b+_0x3b2ae6(0x110)+_0x3fe6bb),_0x6b35d5[_0x3b2ae6(0xee)](_0x261944)[_0x3b2ae6(0x16b)]();}static[_0xe45834(0x18a)](_0x1de7c6,_0x501735,_0x53f500){const _0x4539c4=_0xe45834;!_0x53f500&&(_0x53f500=dbFileIndexTable[_0x4539c4(0x18f)]);let _0x4cb3f9=_0x4539c4(0x10d)+_0x53f500+_0x4539c4(0x110)+_0x501735;return _0x1de7c6[_0x4539c4(0xee)](_0x4cb3f9)[_0x4539c4(0x16b)]();}static['getTvCount'](_0x3940da,_0x192ae6){const _0xa2aba=_0xe45834;let _0x3d9520=_0xa2aba(0x10d)+dbFileIndexTable[_0xa2aba(0x128)]+_0xa2aba(0xfc);return _0x3940da[_0xa2aba(0xee)](_0x3d9520)['get'](_0x192ae6[_0xa2aba(0x182)]);}static[_0xe45834(0x129)](_0x4f7b41,_0x28b28f){const _0x1e1f76=_0xe45834;!_0x28b28f&&(_0x28b28f=dbFileIndexTable[_0x1e1f76(0x18f)]);let _0x200b5e=_0x1e1f76(0x10d)+_0x28b28f+'\x20';return _0x4f7b41[_0x1e1f76(0xee)](_0x200b5e)[_0x1e1f76(0x16b)]();}static[_0xe45834(0x188)](_0x4325bd,_0x5bd6ad,_0x4c9eec,_0x1d480e){const _0x4d350e=_0xe45834;!_0x1d480e&&(_0x1d480e=dbFileIndexTable[_0x4d350e(0x18f)]);!_0x4c9eec&&(_0x4c9eec='*');let _0x3d8656=_0x4d350e(0x12b)+_0x4c9eec+_0x4d350e(0x153)+_0x1d480e+_0x4d350e(0x110)+_0x5bd6ad;return _0x4325bd['prepare'](_0x3d8656)['all']();}static[_0xe45834(0x10a)](_0x1a7598,_0x8a5790,_0x3a3341){const _0x43daff=_0xe45834;let _0x4915ce=_0x1a7598['prepare'](_0x43daff(0x12b)+_0x3a3341+'\x20FROM\x20file_index_photo\x20as\x20f\x20WHERE\x20path=?\x20AND\x20filename=?\x20AND\x20is_raw=1\x20AND\x20in_trash!=1')[_0x43daff(0x16b)](_0x8a5790[_0x43daff(0x182)],_0x8a5790[_0x43daff(0x116)]);return _0x4915ce;}static[_0xe45834(0x120)](_0x2485a3,_0x271fb8,_0x2784df='*'){const _0x56b641=_0xe45834;let _0x268995=dbFileIndexTable[_0x56b641(0x18f)],_0x26e347=_0x271fb8[_0x56b641(0x181)]-0xc*0x3c*0x3c*0x3e9,_0x2b5353=_0x271fb8['original_time']+0xc*0x3c*0x3c*0x3e9,_0x244fde=_0x271fb8[_0x56b641(0x11a)][_0x56b641(0x13d)](_0x271fb8[_0x56b641(0x17e)]),_0xd41a96=_0x271fb8[_0x56b641(0x11a)][_0x56b641(0x107)](0x0,_0x244fde),_0x5dc62d=_0x56b641(0x12b)+_0x2784df+_0x56b641(0x153)+_0x268995+'\x20as\x20f\x20WHERE\x20is_file=1\x20AND\x20path=?\x20AND\x20filename\x20LIKE\x20?\x20AND\x20original_time\x20BETWEEN\x20'+_0x26e347+_0x56b641(0x152)+_0x2b5353,_0x247bad=_0x2485a3[_0x56b641(0xee)](_0x5dc62d)['all'](_0x271fb8['path'],_0xd41a96+'.%'),_0x2b8533='',_0xdab70a='';for(let _0x15c68b of _0x247bad){if(_0x15c68b['type']==0x1)_0x2b8533=_0x15c68b;else _0x15c68b[_0x56b641(0x151)]==0x2&&(_0xdab70a=_0x15c68b);if(_0x2b8533&&_0xdab70a)break;}return!_0x2b8533&&_0xdab70a&&(_0x2485a3[_0x56b641(0xee)](_0x56b641(0x143)+_0xdab70a['id'])[_0x56b641(0x14d)](),_0x271fb8[_0x56b641(0x151)]==0x2&&_0xdab70a['id']==_0x271fb8['id']&&(_0x271fb8[_0x56b641(0x157)]=0x0,_0x271fb8[_0x56b641(0x158)]=0x1)),_0x2b8533&&!_0xdab70a&&(_0x2485a3['prepare'](_0x56b641(0x143)+_0x2b8533['id'])[_0x56b641(0x14d)](),_0x271fb8[_0x56b641(0x151)]==0x1&&_0x2b8533['id']==_0x271fb8['id']&&(_0x271fb8['is_livephoto']=0x0,_0x271fb8[_0x56b641(0x158)]=0x1)),{'photoIndex':_0x2b8533,'videoIndex':_0xdab70a};}static[_0xe45834(0x101)](_0x444e14,_0x563f7a,_0x1a73ae,_0x351d16,_0x28cbec){const _0xa937be=_0xe45834;!_0x351d16&&(_0x351d16=dbFileIndexTable[_0xa937be(0x18f)]);!_0x1a73ae&&(_0x1a73ae='*');!_0x28cbec&&(_0x28cbec=[]);let _0x2a1fbb=_0xa937be(0x12b)+_0x1a73ae+'\x20FROM\x20'+_0x351d16+_0xa937be(0x133)+_0x563f7a;return _0x444e14['prepare'](_0x2a1fbb)[_0xa937be(0xf0)](_0x28cbec);}static[_0xe45834(0x10b)](_0x43935f,_0xc861e0,_0x1a7203,_0x259da2,_0x3cc22d){const _0x101b68=_0xe45834;!_0x259da2&&(_0x259da2=dbFileIndexTable[_0x101b68(0x18f)]);!_0x1a7203&&(_0x1a7203='*');let _0x3d8ee=_0x101b68(0x12b)+_0x1a7203+'\x20FROM\x20'+_0x259da2+'\x20as\x20f\x20WHERE\x20'+_0xc861e0;return _0x43935f[_0x101b68(0xee)](_0x3d8ee)[_0x101b68(0xf0)](_0x3cc22d);}static[_0xe45834(0x180)](_0xb0a2c3,_0x240fba){const _0x4e896a=_0xe45834;return _0xb0a2c3[_0x4e896a(0xee)](_0x4e896a(0x184)+dbFileIndexTable[_0x4e896a(0x18f)]+_0x4e896a(0x12f)+_0x240fba+_0x4e896a(0x10c))[_0x4e896a(0xf0)]();}static[_0xe45834(0x148)](_0x208707,_0x2a172a,_0x5cee9d,_0x53e1f8,_0x507285){const _0x26976c=_0xe45834;!_0x507285&&(_0x507285=[]);!_0x53e1f8&&(_0x53e1f8='*');let _0x1a6169=_0x26976c(0x12b)+_0x53e1f8+'\x20FROM\x20album_ordinary_index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.index_id=f.id\x20WHERE\x20album_id='+_0x2a172a+_0x26976c(0x163)+_0x5cee9d;return _0x208707[_0x26976c(0xee)](_0x1a6169)[_0x26976c(0xf0)](_0x507285);}static[_0xe45834(0x164)](_0x5c9704,_0x228288,_0x50ff06,_0x20c59d,_0x17bb03){const _0x59de0f=_0xe45834;!_0x17bb03&&(_0x17bb03=[]);!_0x20c59d&&(_0x20c59d='*');let _0x8949a=_0x59de0f(0x12b)+_0x20c59d+_0x59de0f(0x183)+_0x50ff06+'\x20';return _0x5c9704[_0x59de0f(0xee)](_0x8949a)['all']([_0x228288,dbFileIndexTable[_0x59de0f(0x189)],..._0x17bb03]);}static['clearAiToIndex'](_0x5e2fa2){const _0x45c2f3=_0xe45834;_0x5e2fa2['prepare'](_0x45c2f3(0x14e))[_0x45c2f3(0x14d)](),_0x5e2fa2[_0x45c2f3(0xee)]('DELETE\x20FROM\x20photo_faces2index')['run'](),_0x5e2fa2[_0x45c2f3(0xee)]('DELETE\x20FROM\x20photo_phash_similar')[_0x45c2f3(0x14d)]();}static['getFaceInSql'](_0x8146e8,_0x1a714b){const _0x396a2e=_0xe45834;let _0x5657e3=_0x8146e8['prepare'](_0x396a2e(0x17c))[_0x396a2e(0xf0)](parseInt(_0x1a714b));_0x5657e3[_0x396a2e(0x111)]({'id':_0x1a714b});let _0x23adef=_0x5657e3[_0x396a2e(0x18c)](_0x52b0ea=>_0x52b0ea['id']),_0x9113c7='(';for(let _0x5966ef in _0x23adef){_0x9113c7+=_0x23adef[_0x5966ef],_0x5966ef!=_0x23adef[_0x396a2e(0xf7)]-0x1&&(_0x9113c7+=',');}return _0x9113c7+=')',_0x9113c7;}static[_0xe45834(0x165)](_0x28e3db,_0x585c99,_0x51d3b4,_0x36da86,_0xac906f){const _0x2c0b89=_0xe45834;!_0xac906f&&(_0xac906f=[]);!_0x36da86&&(_0x36da86='*');let _0x591ca7=dbFileIndexTable[_0x2c0b89(0x18d)](_0x28e3db,_0x585c99),_0xaa01a9='SELECT\x20'+_0x36da86+_0x2c0b89(0x108)+_0x591ca7+_0x2c0b89(0x163)+_0x51d3b4+'\x20';return _0x28e3db[_0x2c0b89(0xee)](_0xaa01a9)[_0x2c0b89(0xf0)](_0xac906f);}static[_0xe45834(0x149)](_0x1237e7,_0x32cc55,_0x2b9b0d){const _0xf670fb=_0xe45834;let _0x5a9cc6=_0xf670fb(0x11f)+_0x2b9b0d;return _0x1237e7['prepare'](_0x5a9cc6)['get'](_0x32cc55);}static[_0xe45834(0xf5)](_0x5f3a06,_0x16ab04,_0x147983,_0x52c914,_0xae5cfe,_0x347739,_0xae25e3,_0x599952,_0x44132f){const _0x2fce1e=_0xe45834;!_0x44132f&&(_0x44132f='desc');let _0x4ec8f6=_0x2fce1e(0x11b);if(_0xae5cfe)_0x4ec8f6=_0x2fce1e(0x173)+_0xae5cfe+_0x2fce1e(0x174);else{if(_0x347739)_0x4ec8f6=_0x2fce1e(0x13e)+_0x347739+_0x2fce1e(0x16d)+dbFileIndexTable[_0x2fce1e(0x189)]+_0x2fce1e(0x11e);else{if(_0xae25e3){let _0x505fb3=dbFileIndexTable[_0x2fce1e(0x18d)](_0x5f3a06,_0xae25e3);_0x4ec8f6=_0x2fce1e(0x166)+_0x505fb3+_0x2fce1e(0x17f);}}}if(_0x16ab04){let _0x2edb65=_0x4ec8f6+_0x2fce1e(0x16c);return _0x52c914&&(_0x2edb65+=_0x52c914),_0x2edb65+=_0x2fce1e(0x161)+_0x44132f,_0x5f3a06['prepare'](_0x2edb65)['all'](_0x16ab04+'%',_0x147983);}else{if(!_0x147983)_0x147983=_0x2fce1e(0xea);else{if(_0x147983==0x1||_0x147983==0x2)_0x147983='(type='+_0x147983+_0x2fce1e(0x156);else _0x147983==0x3&&(_0x147983=_0x2fce1e(0x16f));}let _0x1f4209=_0x4ec8f6+'\x20original_time\x20>\x200\x20AND\x20original_time\x20!=\x27NaN\x27\x20\x20AND\x20original_date\x20!=\x27Nan-0Nan-0Nan\x27\x20AND\x20is_file=1\x20AND\x20'+_0x147983+'\x20';return _0x52c914&&(_0x1f4209+=_0x52c914),_0x1f4209+='\x20GROUP\x20BY\x20original_date\x20ORDER\x20BY\x20original_time\x20'+_0x44132f,_0x5f3a06[_0x2fce1e(0xee)](_0x1f4209)[_0x2fce1e(0xf0)](_0x599952);}}}module[_0xe45834(0x177)]=dbFileIndexTable;