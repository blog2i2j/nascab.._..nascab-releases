const _0x2ce942=_0x3565;(function(_0x369744,_0x675d6d){const _0x3ce9bc=_0x3565,_0x4d2e7c=_0x369744();while(!![]){try{const _0x12cd9c=parseInt(_0x3ce9bc(0x181))/0x1+-parseInt(_0x3ce9bc(0x1bc))/0x2*(-parseInt(_0x3ce9bc(0x154))/0x3)+-parseInt(_0x3ce9bc(0x1e5))/0x4+-parseInt(_0x3ce9bc(0x190))/0x5*(parseInt(_0x3ce9bc(0x1aa))/0x6)+parseInt(_0x3ce9bc(0x1e3))/0x7*(parseInt(_0x3ce9bc(0x1d4))/0x8)+-parseInt(_0x3ce9bc(0x156))/0x9*(-parseInt(_0x3ce9bc(0x185))/0xa)+-parseInt(_0x3ce9bc(0x16e))/0xb;if(_0x12cd9c===_0x675d6d)break;else _0x4d2e7c['push'](_0x4d2e7c['shift']());}catch(_0x464ea3){_0x4d2e7c['push'](_0x4d2e7c['shift']());}}}(_0x370f,0x39d7c));function _0x370f(){const _0x56bda7=['updateBySql','%\x27\x20GROUP\x20BY\x20mode\x20LIMIT\x2020','album','type','DELETE\x20FROM\x20ai_classes2index','title','SELECT\x20','checkOrderParams','tag','SELECT\x20count(*)\x20as\x20count\x20\x20FROM\x20','492690lsQlsC','stream_info','music','birthtime','\x20\x20WHERE\x20id=?','metadata_state','SELECT\x20count(*)\x20as\x20count,original_date,original_time\x20FROM\x20file_index_photo\x20WHERE','getAllByWhereAndFieldFromFaceIndex','is_livephoto','file_index_music','getTime','SELECT\x20count(*)\x20as\x20count,original_date,original_time\x20FROM\x20album_ordinary_index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.index_id=f.id\x20WHERE\x20album_id=','SELECT\x20*\x20FROM\x20','filename','play_count','getCount','=?\x20WHERE\x20path=?\x20OR\x20path\x20like\x20?','geohash2','269006DXMOIv','\x20WHERE\x20id=?','SELECT\x20count(*)\x20as\x20count,original_date,original_time\x20FROM\x20photo_faces2index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.photo_index_id=f.id\x20WHERE\x20face_id\x20in\x20','INDEX_TABLE_NAME_MUSIC','\x20set\x20','getPathAll','\x20AND\x20f.in_trash=0\x20AND','file_index_movie','geohash5','updateIndexInfo','coverPath','original_date','introduction','\x20original_time\x20>\x200\x20AND\x20original_time\x20!=\x27NaN\x27\x20AND\x20original_date\x20!=\x27Nan-0Nan-0Nan\x27\x20AND\x20original_date\x20LIKE\x20?\x20AND\x20is_file=1\x20AND\x20type=?\x20','total_page','\x20WHERE\x20path=?','getIndexTableNameByType','\x20FROM\x20file_index_photo\x20as\x20f\x20WHERE\x20path=?\x20AND\x20filename=?\x20AND\x20is_raw=1\x20AND\x20in_trash!=1','map','year','ext','DELETE\x20FROM\x20','length','path','1384ByLKDf','getAllByWhereAndFieldFromOrdinaryAlbum','\x20AND\x20\x20','duration','last_play_time','geohash3','INDEX_TABLE_NAME_PHOTO','publisher','run','getTvPlayListByPath','\x20FROM\x20ai_classes2index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.photo_index_id=f.id\x20WHERE\x20\x20a.class_id=?\x20and\x20a.score>?\x20AND\x20','REPLACE\x20INTO\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','orderFieldAllowList','trim','\x20\x20AND','6965dPchWc','\x20\x20AND\x20f.in_trash=0\x20and\x20a.score>','1165264eerLKj','file_index_photo','\x20GROUP\x20BY\x20original_date\x20ORDER\x20BY\x20original_time\x20','asc','getAllByWhereAndFieldFromOrdinaryAlbumCount','orderTypeAllowList','latitude','publish_date','updateCtime','UPDATE\x20file_index_photo\x20SET\x20is_livephoto=0,is_show=1\x20WHERE\x20id=','language','getPathAllOnlyChild','lastIndexOf','\x20WHERE\x20path=?\x20AND\x20is_file=1\x20AND\x20type=2\x20AND\x20is_tvplay=1','\x20WHERE\x20path=?\x20AND\x20filename=?','isbn','3mflUxF','(check_time,path,is_file,ctime,mtime,filename,ext,birthtime,size,type,publisher,language,title,artist,year,genre,cover_path,album,metadata_state,total_page,publish_date,isbn,tag,introduction)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)','2934awSdHV','\x20AND','longitude','create','show_name','\x20AND\x20is_livephoto!=1)','UPDATE\x20','SELECT\x20count(*)\x20as\x20count,original_date,original_time\x20FROM\x20ai_classes2index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.photo_index_id=f.id\x20WHERE\x20a.class_id=','clearTable','(check_time,path,is_file,ctime,mtime,filename,ext,birthtime,size,type,width,height,original_time,original_date,duration,stream_info,is_tvplay,show_in_list,show_name,filename_number)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)','filenameNumber','getCountByWhere','deleteByPathAndFileName','check_time','\x20WHERE\x20','toLowerCase','desc','inOutTrash','getRawImageIndex','SELECT\x20count(*)\x20as\x20count\x20FROM\x20album_ordinary_index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.index_id=f.id\x20WHERE\x20album_id=?\x20AND\x20','DELETE\x20FROM\x20photo_phash_similar','push','original_time','height','2762309ijlldK','prepare','get','\x20WHERE\x20path=?\x20and\x20filename=?','\x20as\x20f\x20WHERE\x20','(check_time,path,is_file,ctime,mtime,filename,ext,birthtime,size,type,duration,stream_info,title,artist,year,genre,cover_path,album,lyrics,file_cover_path)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)','\x20FROM\x20','\x20FROM\x20album_ordinary_index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.index_id=f.id\x20WHERE\x20album_id=','includes','getFaceInSql','app','is_file','SELECT\x20id\x20from\x20photo_faces\x20WHERE\x20belong_face_id\x20=\x20?\x20','getByPath','\x20WHERE\x20path\x20like\x20?\x20OR\x20path=?','all','\x20AND\x20','getByWhere','ctime','470365hFCfCD','returnErrMsg','INDEX_TABLE_NAME_MOVIE','artist','5110mAgbSS','searchMode','getLivePhotoIndex','delete','genre','size','updateById','\x20SET\x20in_trash=?,in_trash_time=?\x20WHERE\x20id\x20IN\x20','lyrics','mtime','COCO_CLASS_MIN_SCORE','10ZfjmFE','sep','\x20as\x20f\x20WHERE\x20is_file=1\x20AND\x20path=?\x20AND\x20filename\x20LIKE\x20?\x20AND\x20original_time\x20BETWEEN\x20','INDEX_TABLE_NAME_BOOK','show_in_list','in_trash_time','updateByPath','fileCoverPath','is_livephoto=1','getAllByWhereAndFieldFromAiClassesToIndex','width','getTvCount','file_index_book','getTimeLineDateList','(type=','is_tvplay'];_0x370f=function(){return _0x56bda7;};return _0x370f();}function _0x3565(_0x350f7d,_0x4a3088){const _0x370f57=_0x370f();return _0x3565=function(_0x3565a5,_0x2c37cc){_0x3565a5=_0x3565a5-0x14a;let _0x23a5aa=_0x370f57[_0x3565a5];return _0x23a5aa;},_0x3565(_0x350f7d,_0x4a3088);}let path=require(_0x2ce942(0x1d3));class dbFileIndexTable{static [_0x2ce942(0x183)]=_0x2ce942(0x1c3);static [_0x2ce942(0x1da)]=_0x2ce942(0x1e6);static [_0x2ce942(0x1bf)]=_0x2ce942(0x1b3);static ['INDEX_TABLE_NAME_BOOK']=_0x2ce942(0x19c);static [_0x2ce942(0x1e0)]=[_0x2ce942(0x195),_0x2ce942(0x16c),'id',_0x2ce942(0x1b7),_0x2ce942(0x163),_0x2ce942(0x1b8),_0x2ce942(0x1d8),_0x2ce942(0x1a2),_0x2ce942(0x184),_0x2ce942(0x1cf),_0x2ce942(0x18a),_0x2ce942(0x19a),'height',_0x2ce942(0x1d7),_0x2ce942(0x180),_0x2ce942(0x18e)];static [_0x2ce942(0x1ea)]=[_0x2ce942(0x1e8),_0x2ce942(0x166)];static[_0x2ce942(0x1a7)](_0x3e6333,_0x4c742d,_0x341a61,_0x1757c3){const _0x191200=_0x2ce942;if(!this[_0x191200(0x1e0)][_0x191200(0x176)](_0x341a61))return _0x3e6333['app'][_0x191200(0x182)](_0x4c742d,'error\x20orderField\x20'+_0x341a61);if(!this[_0x191200(0x1ea)]['includes'](_0x1757c3))return _0x3e6333[_0x191200(0x178)][_0x191200(0x182)](_0x4c742d,'error\x20orderType\x20'+_0x1757c3);return!![];}static[_0x2ce942(0x1cc)](_0x311b52){const _0x5a8fa7=_0x2ce942;let _0x51306a=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO'];if(_0x311b52=='movie')_0x51306a=dbFileIndexTable[_0x5a8fa7(0x183)];else{if(_0x311b52==_0x5a8fa7(0x1ac))_0x51306a=dbFileIndexTable[_0x5a8fa7(0x1bf)];else _0x311b52=='book'&&(_0x51306a=dbFileIndexTable[_0x5a8fa7(0x193)]);}return _0x51306a;}static [_0x2ce942(0x18f)]=0.9;static[_0x2ce942(0x15e)](_0x3f77df,_0x461210){const _0x4a065a=_0x2ce942;return!_0x461210&&(_0x461210=dbFileIndexTable[_0x4a065a(0x1da)]),_0x3f77df[_0x4a065a(0x16f)](_0x4a065a(0x1d1)+_0x461210)['run']();}static['getById'](_0x4a9abd,_0x104495,_0x46540b){const _0x2e1781=_0x2ce942;return!_0x46540b&&(_0x46540b=dbFileIndexTable[_0x2e1781(0x1da)]),_0x4a9abd[_0x2e1781(0x16f)]('SELECT\x20*\x20FROM\x20'+_0x46540b+_0x2e1781(0x1bd))[_0x2e1781(0x170)](_0x104495);}static[_0x2ce942(0x17b)](_0x51c3c4,_0x5d2a7e,_0x1ae23e,_0x511b8c){const _0x5c3c09=_0x2ce942;!_0x511b8c&&(_0x511b8c=dbFileIndexTable[_0x5c3c09(0x1da)]);let _0x53f74f=_0x5c3c09(0x1b6)+_0x511b8c+_0x5c3c09(0x152);return _0x51c3c4[_0x5c3c09(0x16f)](_0x53f74f)['get'](_0x5d2a7e,_0x1ae23e);}static[_0x2ce942(0x167)](_0x2984ca,_0x5fb25a,_0xe4ecf6,_0x147aa0){const _0x19767b=_0x2ce942;!_0x147aa0&&(_0x147aa0=dbFileIndexTable[_0x19767b(0x1da)]);let _0x3624a7=new Date()[_0x19767b(0x1b4)](),_0x43321e=_0x19767b(0x15c)+_0x147aa0+_0x19767b(0x18c)+_0x5fb25a;return _0x2984ca[_0x19767b(0x16f)](_0x43321e)[_0x19767b(0x1dc)](_0xe4ecf6,_0x3624a7);}static[_0x2ce942(0x159)](_0x4b09c1,_0x353907,_0x4b34cf){const _0x58aefe=_0x2ce942;!_0x4b34cf&&(_0x4b34cf=dbFileIndexTable[_0x58aefe(0x1da)]);if(_0x4b34cf==dbFileIndexTable[_0x58aefe(0x1da)]){const _0x244246='REPLACE\x20INTO\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b34cf+'(check_time,path,geohash,geohash5,geohash4,geohash3,geohash2,is_file,ctime,mtime,filename,ext,birthtime,size,type,mode,latitude,longitude,width,height,original_time,original_date,duration,stream_info,is_raw)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)';return _0x4b09c1['prepare'](_0x244246)[_0x58aefe(0x1dc)](''+_0x353907[_0x58aefe(0x163)],''+_0x353907[_0x58aefe(0x1d3)],''+_0x353907['geohash'],''+_0x353907[_0x58aefe(0x1c4)],''+_0x353907['geohash4'],''+_0x353907[_0x58aefe(0x1d9)],''+_0x353907[_0x58aefe(0x1bb)],''+_0x353907[_0x58aefe(0x179)],''+_0x353907['ctime'],''+_0x353907[_0x58aefe(0x18e)],''+_0x353907[_0x58aefe(0x1b7)],''+_0x353907[_0x58aefe(0x1d0)],''+_0x353907['birthtime'],''+_0x353907[_0x58aefe(0x18a)],''+_0x353907[_0x58aefe(0x1a3)],''+_0x353907['mode'],''+_0x353907[_0x58aefe(0x14a)],''+_0x353907[_0x58aefe(0x158)],''+_0x353907[_0x58aefe(0x19a)],''+_0x353907[_0x58aefe(0x16d)],''+_0x353907[_0x58aefe(0x16c)],''+_0x353907[_0x58aefe(0x1c7)],''+_0x353907['duration'],''+_0x353907[_0x58aefe(0x1ab)],_0x353907['is_raw']==0x1?0x1:0x0);}else{if(_0x4b34cf==dbFileIndexTable['INDEX_TABLE_NAME_MOVIE']){_0x353907[_0x58aefe(0x19f)]=_0x353907[_0x58aefe(0x19f)]==null?0x0:_0x353907[_0x58aefe(0x19f)],_0x353907['show_in_list']=_0x353907['show_in_list']==null?0x1:_0x353907[_0x58aefe(0x194)],_0x353907[_0x58aefe(0x15a)]=_0x353907[_0x58aefe(0x15a)]?_0x353907[_0x58aefe(0x15a)]['trim']():'',_0x353907[_0x58aefe(0x160)]=_0x353907[_0x58aefe(0x160)]?_0x353907[_0x58aefe(0x160)]:0x0;const _0xff3041='REPLACE\x20INTO\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x4b34cf+_0x58aefe(0x15f);return _0x4b09c1['prepare'](_0xff3041)['run'](_0x353907[_0x58aefe(0x163)],_0x353907[_0x58aefe(0x1d3)],_0x353907[_0x58aefe(0x179)],_0x353907[_0x58aefe(0x180)],_0x353907[_0x58aefe(0x18e)],_0x353907['filename'],_0x353907[_0x58aefe(0x1d0)],_0x353907[_0x58aefe(0x1ad)],_0x353907['size'],_0x353907['type'],_0x353907[_0x58aefe(0x19a)],_0x353907[_0x58aefe(0x16d)],_0x353907[_0x58aefe(0x16c)],_0x353907[_0x58aefe(0x1c7)],_0x353907[_0x58aefe(0x1d7)],_0x353907[_0x58aefe(0x1ab)],_0x353907[_0x58aefe(0x19f)],_0x353907[_0x58aefe(0x194)],_0x353907['show_name'],_0x353907[_0x58aefe(0x160)]);}else{if(_0x4b34cf==dbFileIndexTable[_0x58aefe(0x1bf)]){_0x353907[_0x58aefe(0x1a2)]=_0x353907[_0x58aefe(0x1a2)]?_0x353907['album']+''[_0x58aefe(0x1e1)]():'',_0x353907[_0x58aefe(0x1a5)]=_0x353907[_0x58aefe(0x1a5)]?_0x353907[_0x58aefe(0x1a5)]+''[_0x58aefe(0x1e1)]():'',_0x353907[_0x58aefe(0x184)]=_0x353907['artist']?_0x353907['artist']+''['trim']():'',_0x353907[_0x58aefe(0x1cf)]=_0x353907[_0x58aefe(0x1cf)]?_0x353907[_0x58aefe(0x1cf)]+''[_0x58aefe(0x1e1)]():'',_0x353907['genre']=_0x353907[_0x58aefe(0x189)]?_0x353907[_0x58aefe(0x189)]+''[_0x58aefe(0x165)]():'',_0x353907['coverPath']=_0x353907[_0x58aefe(0x1c6)]?_0x353907[_0x58aefe(0x1c6)]:'',_0x353907[_0x58aefe(0x18d)]=_0x353907['lyrics']?_0x353907['lyrics']:'',_0x353907[_0x58aefe(0x1a3)]=_0x353907[_0x58aefe(0x1a3)]?_0x353907[_0x58aefe(0x1a3)]:'',_0x353907[_0x58aefe(0x197)]=_0x353907[_0x58aefe(0x197)]?_0x353907[_0x58aefe(0x197)]:'';const _0x1b656f=_0x58aefe(0x1df)+_0x4b34cf+_0x58aefe(0x173);return _0x4b09c1[_0x58aefe(0x16f)](_0x1b656f)['run'](''+_0x353907[_0x58aefe(0x163)],''+_0x353907['path'],''+_0x353907[_0x58aefe(0x179)],''+_0x353907[_0x58aefe(0x180)],''+_0x353907[_0x58aefe(0x18e)],''+_0x353907[_0x58aefe(0x1b7)],''+_0x353907[_0x58aefe(0x1d0)],''+_0x353907[_0x58aefe(0x1ad)],''+_0x353907[_0x58aefe(0x18a)],''+_0x353907[_0x58aefe(0x1a3)],''+_0x353907[_0x58aefe(0x1d7)],''+_0x353907['stream_info'],''+_0x353907[_0x58aefe(0x1a5)],''+_0x353907[_0x58aefe(0x184)],''+_0x353907[_0x58aefe(0x1cf)],''+_0x353907[_0x58aefe(0x189)],''+_0x353907[_0x58aefe(0x1c6)],''+_0x353907[_0x58aefe(0x1a2)],''+_0x353907[_0x58aefe(0x18d)],''+_0x353907['fileCoverPath']);}else{if(_0x4b34cf==dbFileIndexTable[_0x58aefe(0x193)]){_0x353907[_0x58aefe(0x1a2)]=_0x353907[_0x58aefe(0x1a2)]?_0x353907[_0x58aefe(0x1a2)]+''[_0x58aefe(0x1e1)]():'',_0x353907[_0x58aefe(0x1a5)]=_0x353907[_0x58aefe(0x1a5)]?_0x353907[_0x58aefe(0x1a5)]+''[_0x58aefe(0x1e1)]():'',_0x353907[_0x58aefe(0x184)]=_0x353907[_0x58aefe(0x184)]?_0x353907[_0x58aefe(0x184)]+''[_0x58aefe(0x1e1)]():'',_0x353907[_0x58aefe(0x1cf)]=_0x353907['year']?_0x353907[_0x58aefe(0x1cf)]+''['trim']():'',_0x353907[_0x58aefe(0x189)]=_0x353907[_0x58aefe(0x189)]?_0x353907[_0x58aefe(0x189)]+''[_0x58aefe(0x165)]():'',_0x353907['coverPath']=_0x353907[_0x58aefe(0x1c6)]?_0x353907['coverPath']:'',_0x353907[_0x58aefe(0x1a3)]=_0x353907['type']?_0x353907[_0x58aefe(0x1a3)]:'',_0x353907[_0x58aefe(0x1db)]=_0x353907[_0x58aefe(0x1db)]?_0x353907['publisher']+''[_0x58aefe(0x1e1)]():'',_0x353907['language']=_0x353907['language']?_0x353907[_0x58aefe(0x14e)]+''[_0x58aefe(0x1e1)]():'',_0x353907['metadata_state']=_0x353907[_0x58aefe(0x1af)]?_0x353907['metadata_state']:0x0,_0x353907[_0x58aefe(0x1ca)]=_0x353907[_0x58aefe(0x1ca)]?_0x353907[_0x58aefe(0x1ca)]:0x0,_0x353907[_0x58aefe(0x14b)]=_0x353907[_0x58aefe(0x14b)]?_0x353907['publish_date']+''['trim']():'',_0x353907[_0x58aefe(0x153)]=_0x353907[_0x58aefe(0x153)]?_0x353907[_0x58aefe(0x153)]+''['trim']():'',_0x353907[_0x58aefe(0x1a8)]=_0x353907['tag']?_0x353907[_0x58aefe(0x1a8)]+''[_0x58aefe(0x1e1)]():'',_0x353907['introduction']=_0x353907[_0x58aefe(0x1c8)]?_0x353907[_0x58aefe(0x1c8)]+''[_0x58aefe(0x1e1)]():'';const _0x29ea5e='REPLACE\x20INTO\x20\x20'+_0x4b34cf+_0x58aefe(0x155);return _0x4b09c1['prepare'](_0x29ea5e)[_0x58aefe(0x1dc)](_0x353907['check_time'],_0x353907['path'],_0x353907[_0x58aefe(0x179)],_0x353907['ctime'],_0x353907[_0x58aefe(0x18e)],_0x353907[_0x58aefe(0x1b7)],_0x353907[_0x58aefe(0x1d0)],_0x353907['birthtime'],_0x353907['size'],_0x353907[_0x58aefe(0x1a3)],_0x353907[_0x58aefe(0x1db)],_0x353907[_0x58aefe(0x14e)],_0x353907['title'],_0x353907[_0x58aefe(0x184)],_0x353907['year'],_0x353907['genre'],_0x353907['coverPath'],_0x353907[_0x58aefe(0x1a2)],_0x353907[_0x58aefe(0x1af)],_0x353907['total_page'],_0x353907[_0x58aefe(0x14b)],_0x353907[_0x58aefe(0x153)],_0x353907[_0x58aefe(0x1a8)],_0x353907['introduction']);}}}}}static[_0x2ce942(0x188)](_0x31eb83,_0x2e1da0,_0x371e95){const _0x522d95=_0x2ce942;!_0x371e95&&(_0x371e95=dbFileIndexTable[_0x522d95(0x1da)]);if(!_0x2e1da0)return;return _0x31eb83['prepare'](_0x522d95(0x1d1)+_0x371e95+_0x522d95(0x1bd))[_0x522d95(0x1dc)](_0x2e1da0);}static[_0x2ce942(0x162)](_0x56cf74,_0x46e1cb,_0x3edeb9,_0x2ae6d8){const _0x508a72=_0x2ce942;return!_0x2ae6d8&&(_0x2ae6d8=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']),_0x56cf74[_0x508a72(0x16f)](_0x508a72(0x1d1)+_0x2ae6d8+_0x508a72(0x171))[_0x508a72(0x1dc)](_0x46e1cb,_0x3edeb9);}static['deletePathAll'](_0xfadfec,_0x51e2e0,_0x6d5164){const _0x2cd968=_0x2ce942;!_0x6d5164&&(_0x6d5164=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']);let _0x130923='DELETE\x20FROM\x20'+_0x6d5164+_0x2cd968(0x17c);return _0xfadfec[_0x2cd968(0x16f)](_0x130923)[_0x2cd968(0x1dc)](_0x51e2e0+path[_0x2cd968(0x191)]+'%',_0x51e2e0);}static[_0x2ce942(0x1c1)](_0x1101fd,_0x58d363,_0xd17fb0,_0x13e133){const _0x366e7e=_0x2ce942;if(!_0x13e133)_0x13e133='*';return!_0xd17fb0&&(_0xd17fb0=dbFileIndexTable[_0x366e7e(0x1da)]),_0x1101fd[_0x366e7e(0x16f)](_0x366e7e(0x1a6)+_0x13e133+_0x366e7e(0x174)+_0xd17fb0+'\x20WHERE\x20path\x20like\x20?\x20OR\x20path=?')[_0x366e7e(0x17d)](_0x58d363+path[_0x366e7e(0x191)]+'%',_0x58d363);}static[_0x2ce942(0x14f)](_0x90388a,_0x1f4d02,_0x4bf668,_0x31c964){const _0xe042a4=_0x2ce942;if(!_0x31c964)_0x31c964='*';return!_0x4bf668&&(_0x4bf668=dbFileIndexTable[_0xe042a4(0x1da)]),_0x90388a[_0xe042a4(0x16f)](_0xe042a4(0x1a6)+_0x31c964+_0xe042a4(0x174)+_0x4bf668+_0xe042a4(0x1cb))[_0xe042a4(0x17d)](_0x1f4d02);}static[_0x2ce942(0x14c)](_0x3306e8,_0x5362ee,_0x2a7310,_0x59039a){const _0x46f9cf=_0x2ce942;!_0x59039a&&(_0x59039a=dbFileIndexTable[_0x46f9cf(0x1da)]);const _0x40b277='\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20'+_0x59039a+'\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20SET\x20ctime=?\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?\x0a\x09\x20\x20\x20\x20';return _0x3306e8[_0x46f9cf(0x16f)](_0x40b277)['run'](_0x5362ee,_0x2a7310);}static[_0x2ce942(0x196)](_0x156d0c,_0x73950f,_0x5dc882,_0x5d3fc9,_0x46a522){const _0x3e1b79=_0x2ce942;return!_0x46a522&&(_0x46a522=dbFileIndexTable[_0x3e1b79(0x1da)]),_0x156d0c['prepare']('UPDATE\x20'+_0x46a522+_0x3e1b79(0x1c0)+_0x5dc882+_0x3e1b79(0x1ba))[_0x3e1b79(0x1dc)](_0x5d3fc9,_0x73950f,_0x73950f+path[_0x3e1b79(0x191)]+'%');}static[_0x2ce942(0x1a0)](_0x201c18,_0x2d163c,_0x183bc7,_0x1438b7){const _0x4fd06b=_0x2ce942;return!_0x1438b7&&(_0x1438b7=dbFileIndexTable[_0x4fd06b(0x1da)]),_0x201c18[_0x4fd06b(0x16f)]('UPDATE\x20'+_0x1438b7+'\x20set\x20'+_0x183bc7+_0x4fd06b(0x1ae))[_0x4fd06b(0x1dc)](_0x2d163c);}static[_0x2ce942(0x18b)](_0x11ed2c,_0x4e275e,_0x1618b0,_0x525b74,_0x3be7a0){const _0xf731c9=_0x2ce942;return!_0x3be7a0&&(_0x3be7a0=dbFileIndexTable[_0xf731c9(0x1da)]),_0x11ed2c[_0xf731c9(0x16f)](_0xf731c9(0x15c)+_0x3be7a0+_0xf731c9(0x1c0)+_0x1618b0+'=?\x20WHERE\x20id=?\x20')[_0xf731c9(0x1dc)](_0x525b74,_0x4e275e);}static[_0x2ce942(0x1c5)](_0x268e9e,_0x405070,_0x4935cd,_0x3c3e86){const _0x4e0c79=_0x2ce942;!_0x3c3e86&&(_0x3c3e86=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']);const _0x12a582=_0x4e0c79(0x15c)+_0x3c3e86+'\x20SET\x20ctime=?,birthtime=?,filename=?,size=?,path=?\x20WHERE\x20id=?\x20';return _0x268e9e[_0x4e0c79(0x16f)](_0x12a582)[_0x4e0c79(0x1dc)](_0x4935cd['ctime'],_0x4935cd[_0x4e0c79(0x1ad)],_0x4935cd[_0x4e0c79(0x1b7)],_0x4935cd[_0x4e0c79(0x18a)],_0x4935cd[_0x4e0c79(0x1d3)],_0x405070);}static[_0x2ce942(0x17f)](_0x1a0124,_0x423612,_0xf91c2a,_0x18ec96){const _0x39c680=_0x2ce942;!_0x18ec96&&(_0x18ec96=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']);let _0x2a0dda=_0x39c680(0x1b6)+_0x18ec96+_0x39c680(0x164)+_0x423612;return _0xf91c2a&&(_0x2a0dda=_0x39c680(0x1a6)+_0xf91c2a+'\x20FROM\x20'+_0x18ec96+_0x39c680(0x164)+_0x423612),_0x1a0124[_0x39c680(0x16f)](_0x2a0dda)['get']();}static[_0x2ce942(0x161)](_0x29578c,_0x696d36,_0x2941b9){const _0x418057=_0x2ce942;!_0x2941b9&&(_0x2941b9=dbFileIndexTable[_0x418057(0x1da)]);let _0x18b119=_0x418057(0x1a9)+_0x2941b9+_0x418057(0x164)+_0x696d36;return _0x29578c[_0x418057(0x16f)](_0x18b119)[_0x418057(0x170)]();}static[_0x2ce942(0x19b)](_0x48304e,_0x475ff8){const _0x51a2b3=_0x2ce942;let _0x1b6880='SELECT\x20count(*)\x20as\x20count\x20\x20FROM\x20'+dbFileIndexTable[_0x51a2b3(0x183)]+_0x51a2b3(0x151);return _0x48304e[_0x51a2b3(0x16f)](_0x1b6880)[_0x51a2b3(0x170)](_0x475ff8[_0x51a2b3(0x1d3)]);}static[_0x2ce942(0x1b9)](_0xcce6a5,_0x1cd7e3){const _0x195fa5=_0x2ce942;!_0x1cd7e3&&(_0x1cd7e3=dbFileIndexTable['INDEX_TABLE_NAME_PHOTO']);let _0x3a1c32=_0x195fa5(0x1a9)+_0x1cd7e3+'\x20';return _0xcce6a5[_0x195fa5(0x16f)](_0x3a1c32)[_0x195fa5(0x170)]();}static['getAllByWhere'](_0x1470a0,_0x4ec4a7,_0x21701e,_0x507147){const _0xcc3d87=_0x2ce942;!_0x507147&&(_0x507147=dbFileIndexTable[_0xcc3d87(0x1da)]);!_0x21701e&&(_0x21701e='*');let _0x129813=_0xcc3d87(0x1a6)+_0x21701e+_0xcc3d87(0x174)+_0x507147+_0xcc3d87(0x164)+_0x4ec4a7;return _0x1470a0['prepare'](_0x129813)[_0xcc3d87(0x17d)]();}static[_0x2ce942(0x168)](_0x5d35a2,_0x434b76,_0x1f8db0){const _0x3fc238=_0x2ce942;let _0x795066=_0x5d35a2[_0x3fc238(0x16f)](_0x3fc238(0x1a6)+_0x1f8db0+_0x3fc238(0x1cd))['get'](_0x434b76[_0x3fc238(0x1d3)],_0x434b76['raw_filename']);return _0x795066;}static[_0x2ce942(0x187)](_0x3cad73,_0x69dedc,_0x40b9e3='*'){const _0x3f0818=_0x2ce942;let _0x577c16=dbFileIndexTable[_0x3f0818(0x1da)],_0x506651=_0x69dedc[_0x3f0818(0x16c)]-0xc*0x3c*0x3c*0x3e9,_0x3a0f58=_0x69dedc[_0x3f0818(0x16c)]+0xc*0x3c*0x3c*0x3e9,_0x395cdf=_0x69dedc['filename'][_0x3f0818(0x150)](_0x69dedc['ext']),_0x480298=_0x69dedc[_0x3f0818(0x1b7)]['substring'](0x0,_0x395cdf),_0x66147b='SELECT\x20'+_0x40b9e3+_0x3f0818(0x174)+_0x577c16+_0x3f0818(0x192)+_0x506651+_0x3f0818(0x1d6)+_0x3a0f58,_0x22dee7=_0x3cad73[_0x3f0818(0x16f)](_0x66147b)['all'](_0x69dedc[_0x3f0818(0x1d3)],_0x480298+'.%'),_0x3b89ec='',_0x4bc3a2='';for(let _0x5b88ee of _0x22dee7){if(_0x5b88ee[_0x3f0818(0x1a3)]==0x1)_0x3b89ec=_0x5b88ee;else _0x5b88ee['type']==0x2&&(_0x4bc3a2=_0x5b88ee);if(_0x3b89ec&&_0x4bc3a2)break;}return!_0x3b89ec&&_0x4bc3a2&&(_0x3cad73[_0x3f0818(0x16f)]('UPDATE\x20file_index_photo\x20SET\x20is_livephoto=0,is_show=1\x20WHERE\x20id='+_0x4bc3a2['id'])[_0x3f0818(0x1dc)](),_0x69dedc[_0x3f0818(0x1a3)]==0x2&&_0x4bc3a2['id']==_0x69dedc['id']&&(_0x69dedc[_0x3f0818(0x1b2)]=0x0,_0x69dedc['is_show']=0x1)),_0x3b89ec&&!_0x4bc3a2&&(_0x3cad73[_0x3f0818(0x16f)](_0x3f0818(0x14d)+_0x3b89ec['id'])[_0x3f0818(0x1dc)](),_0x69dedc[_0x3f0818(0x1a3)]==0x1&&_0x3b89ec['id']==_0x69dedc['id']&&(_0x69dedc[_0x3f0818(0x1b2)]=0x0,_0x69dedc['is_show']=0x1)),{'photoIndex':_0x3b89ec,'videoIndex':_0x4bc3a2};}static['getAllByWhereAndField'](_0x3b291d,_0x292021,_0x1e0fc8,_0x53c1e1,_0x92256d){const _0xc488b6=_0x2ce942;!_0x53c1e1&&(_0x53c1e1=dbFileIndexTable[_0xc488b6(0x1da)]);!_0x1e0fc8&&(_0x1e0fc8='*');!_0x92256d&&(_0x92256d=[]);let _0x3b349f='SELECT\x20'+_0x1e0fc8+_0xc488b6(0x174)+_0x53c1e1+_0xc488b6(0x172)+_0x292021;return _0x3b291d[_0xc488b6(0x16f)](_0x3b349f)[_0xc488b6(0x17d)](_0x92256d);}static[_0x2ce942(0x1dd)](_0x4e0dc8,_0x1620a2,_0x312b18,_0x53d442,_0x35a0f0){const _0x43bcb9=_0x2ce942;!_0x53d442&&(_0x53d442=dbFileIndexTable[_0x43bcb9(0x1da)]);!_0x312b18&&(_0x312b18='*');let _0x133415=_0x43bcb9(0x1a6)+_0x312b18+'\x20FROM\x20'+_0x53d442+'\x20as\x20f\x20WHERE\x20'+_0x1620a2;return _0x4e0dc8[_0x43bcb9(0x16f)](_0x133415)[_0x43bcb9(0x17d)](_0x35a0f0);}static[_0x2ce942(0x186)](_0x169e56,_0x478d8c){const _0x1ac543=_0x2ce942;return _0x169e56[_0x1ac543(0x16f)]('SELECT\x20mode\x20FROM\x20'+dbFileIndexTable[_0x1ac543(0x1da)]+'\x20WHERE\x20mode\x20like\x20\x27%'+_0x478d8c+_0x1ac543(0x1a1))[_0x1ac543(0x17d)]();}static[_0x2ce942(0x1d5)](_0x276b41,_0x3b408b,_0x4521b4,_0x49fdba,_0x3a70a5){const _0x464350=_0x2ce942;!_0x3a70a5&&(_0x3a70a5=[]);!_0x49fdba&&(_0x49fdba='*');let _0x3c7209=_0x464350(0x1a6)+_0x49fdba+_0x464350(0x175)+_0x3b408b+_0x464350(0x17e)+_0x4521b4;return _0x276b41['prepare'](_0x3c7209)[_0x464350(0x17d)](_0x3a70a5);}static[_0x2ce942(0x199)](_0x5df21f,_0x32549c,_0x20270a,_0xfdfeab,_0x4189f3){const _0x3b27ee=_0x2ce942;!_0x4189f3&&(_0x4189f3=[]);!_0xfdfeab&&(_0xfdfeab='*');let _0x5e46ac=_0x3b27ee(0x1a6)+_0xfdfeab+_0x3b27ee(0x1de)+_0x20270a+'\x20';return _0x5df21f[_0x3b27ee(0x16f)](_0x5e46ac)['all']([_0x32549c,dbFileIndexTable[_0x3b27ee(0x18f)],..._0x4189f3]);}static['clearAiToIndex'](_0x45b61e){const _0x1009fc=_0x2ce942;_0x45b61e[_0x1009fc(0x16f)](_0x1009fc(0x1a4))['run'](),_0x45b61e['prepare']('DELETE\x20FROM\x20photo_faces2index')[_0x1009fc(0x1dc)](),_0x45b61e['prepare'](_0x1009fc(0x16a))['run']();}static[_0x2ce942(0x177)](_0x16ee3d,_0x1f2e78){const _0x12a339=_0x2ce942;let _0x132108=_0x16ee3d[_0x12a339(0x16f)](_0x12a339(0x17a))[_0x12a339(0x17d)](parseInt(_0x1f2e78));_0x132108[_0x12a339(0x16b)]({'id':_0x1f2e78});let _0x56cd42=_0x132108[_0x12a339(0x1ce)](_0x4490bc=>_0x4490bc['id']),_0x38be6d='(';for(let _0x2226bf in _0x56cd42){_0x38be6d+=_0x56cd42[_0x2226bf],_0x2226bf!=_0x56cd42[_0x12a339(0x1d2)]-0x1&&(_0x38be6d+=',');}return _0x38be6d+=')',_0x38be6d;}static[_0x2ce942(0x1b1)](_0x259c1a,_0x3e66d5,_0x359b01,_0x14379f,_0x5e7198){const _0x2130a5=_0x2ce942;!_0x5e7198&&(_0x5e7198=[]);!_0x14379f&&(_0x14379f='*');let _0x4fdaf0=dbFileIndexTable[_0x2130a5(0x177)](_0x259c1a,_0x3e66d5),_0x1fcc98='SELECT\x20'+_0x14379f+',a.face_id\x20FROM\x20photo_faces2index\x20as\x20a\x20INNER\x20JOIN\x20file_index_photo\x20as\x20f\x20ON\x20a.photo_index_id=f.id\x20WHERE\x20a.face_id\x20in\x20'+_0x4fdaf0+_0x2130a5(0x17e)+_0x359b01+'\x20';return _0x259c1a[_0x2130a5(0x16f)](_0x1fcc98)['all'](_0x5e7198);}static[_0x2ce942(0x1e9)](_0x1d6363,_0x532dc1,_0x11f326){const _0x557b9c=_0x2ce942;let _0x245488=_0x557b9c(0x169)+_0x11f326;return _0x1d6363[_0x557b9c(0x16f)](_0x245488)['get'](_0x532dc1);}static[_0x2ce942(0x19d)](_0x3f0f8b,_0x80b3d7,_0x356811,_0x878d5,_0x5a2016,_0x1f74c3,_0x9120c7,_0x3bbde2,_0x3fccc2){const _0x545e9f=_0x2ce942;!_0x3fccc2&&(_0x3fccc2='desc');let _0x225488=_0x545e9f(0x1b0);if(_0x5a2016)_0x225488=_0x545e9f(0x1b5)+_0x5a2016+_0x545e9f(0x157);else{if(_0x1f74c3)_0x225488=_0x545e9f(0x15d)+_0x1f74c3+_0x545e9f(0x1e4)+dbFileIndexTable[_0x545e9f(0x18f)]+_0x545e9f(0x1e2);else{if(_0x9120c7){let _0x139645=dbFileIndexTable[_0x545e9f(0x177)](_0x3f0f8b,_0x9120c7);_0x225488=_0x545e9f(0x1be)+_0x139645+_0x545e9f(0x1c2);}}}if(_0x80b3d7){let _0x461172=_0x225488+_0x545e9f(0x1c9);return _0x878d5&&(_0x461172+=_0x878d5),_0x461172+=_0x545e9f(0x1e7)+_0x3fccc2,_0x3f0f8b[_0x545e9f(0x16f)](_0x461172)[_0x545e9f(0x17d)](_0x80b3d7+'%',_0x356811);}else{if(!_0x356811)_0x356811='(type=1\x20OR\x20type=2)';else{if(_0x356811==0x1||_0x356811==0x2)_0x356811=_0x545e9f(0x19e)+_0x356811+_0x545e9f(0x15b);else _0x356811==0x3&&(_0x356811=_0x545e9f(0x198));}let _0x3e1b26=_0x225488+'\x20original_time\x20>\x200\x20AND\x20original_time\x20!=\x27NaN\x27\x20\x20AND\x20original_date\x20!=\x27Nan-0Nan-0Nan\x27\x20AND\x20is_file=1\x20AND\x20'+_0x356811+'\x20';return _0x878d5&&(_0x3e1b26+=_0x878d5),_0x3e1b26+=_0x545e9f(0x1e7)+_0x3fccc2,_0x3f0f8b['prepare'](_0x3e1b26)[_0x545e9f(0x17d)](_0x3bbde2);}}}module['exports']=dbFileIndexTable;