const _0x2d033d=_0x1d77;function _0x1d77(_0x234277,_0x1932a7){const _0x1bd69c=_0x1bd6();return _0x1d77=function(_0x1d778d,_0x1daaa0){_0x1d778d=_0x1d778d-0x153;let _0x14d2e1=_0x1bd69c[_0x1d778d];return _0x14d2e1;},_0x1d77(_0x234277,_0x1932a7);}(function(_0x4b1257,_0x2c687a){const _0x10606f=_0x1d77,_0x5999c2=_0x4b1257();while(!![]){try{const _0x44c54a=parseInt(_0x10606f(0x167))/0x1+-parseInt(_0x10606f(0x16e))/0x2+parseInt(_0x10606f(0x179))/0x3+parseInt(_0x10606f(0x182))/0x4+parseInt(_0x10606f(0x158))/0x5*(parseInt(_0x10606f(0x161))/0x6)+-parseInt(_0x10606f(0x172))/0x7+parseInt(_0x10606f(0x17b))/0x8;if(_0x44c54a===_0x2c687a)break;else _0x5999c2['push'](_0x5999c2['shift']());}catch(_0x14a31b){_0x5999c2['push'](_0x5999c2['shift']());}}}(_0x1bd6,0xd8832));function _0x1bd6(){const _0x5f2a01=['ignore_match_info','all','delete','create','245QKMNDw','DELETE\x20FROM\x20source_folder\x20WHERE\x20id=?','sep','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20REPLACE\x20INTO\x20\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_folder(path,type,ctime,ignore_match_info,media_type)\x20\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?)','movie','path','getByPathAndType','ctime','\x20AND\x20','68412pjqbfL','getPathByType','\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20source_folder\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20SET\x20','getCount','getByPath','DELETE\x20FROM\x20source_folder\x20where\x20type=?','759963fuChZS','clearTable','deleteSourceAndChilden','prepare','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20path=?\x20or\x20path\x20like\x20?','getAll','media_type','3531206kQseZT','length','\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20UPDATE\x20source_folder\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20SET\x20ctime=?\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?\x0a\x09\x20\x20\x20\x20','updateCtime','5150208mbSERo','getExcludePathWhereStr','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20','join','DELETE\x20FROM\x20source_folder','SELECT\x20count(*)\x20as\x20count\x20FROM\x20source_folder','get','2050377QfPhny','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20path=?','11015856vfxyHW','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20id=?','type','run','SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20ORDER\x20BY\x20id\x20ASC','count','DELETE\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20(path=?\x20OR\x20path\x20like\x20?)','36316FEWewJ','\x20not\x20like\x20\x27%','value','getPathByTypeAndWhere','缺少参数id','updateByWhere'];_0x1bd6=function(){return _0x5f2a01;};return _0x1bd6();}let path=require(_0x2d033d(0x15d));const dbConfigTable=require('../db/dbConfigTable');class dbSourceFolderTable{static[_0x2d033d(0x162)](_0x552e6e,_0x563fab){const _0x1279d4=_0x2d033d;return _0x552e6e[_0x1279d4(0x16a)](_0x1279d4(0x17f))[_0x1279d4(0x155)](_0x563fab);}static[_0x2d033d(0x185)](_0xa38fcf,_0x1db3a8,_0x30479a){const _0x686257=_0x2d033d;return _0xa38fcf[_0x686257(0x16a)](_0x686257(0x174)+_0x30479a)['all'](_0x1db3a8);}static[_0x2d033d(0x15e)](_0x92a7a2,_0x509cb8,_0x36ea21){const _0x415def=_0x2d033d;return _0x92a7a2[_0x415def(0x16a)](_0x415def(0x17a))[_0x415def(0x178)](_0x509cb8,_0x36ea21);}static['getPathByWhere'](_0x120f5a,_0x1b6c94,_0x2dbe61){const _0x317dd3=_0x2d033d;return _0x120f5a[_0x317dd3(0x16a)]('SELECT\x20*\x20FROM\x20source_folder\x20WHERE\x20type=?\x20AND\x20'+_0x2dbe61)[_0x317dd3(0x178)](_0x1b6c94);}static[_0x2d033d(0x165)](_0x273578,_0x2729b5){const _0x1d2d66=_0x2d033d;let _0x3313a5=_0x1d2d66(0x16b);return _0x273578[_0x1d2d66(0x16a)](_0x3313a5)['get'](_0x2729b5,_0x2729b5+path[_0x1d2d66(0x15a)]+'%');}static[_0x2d033d(0x16c)](_0x1c2dd4){return _0x1c2dd4['prepare']('SELECT\x20*\x20FROM\x20source_folder')['all']();}static[_0x2d033d(0x164)](_0x4bf4df,_0xc6ae31){const _0x33cfe5=_0x2d033d;if(!_0xc6ae31){let _0x46a04e=_0x4bf4df[_0x33cfe5(0x16a)](_0x33cfe5(0x177))[_0x33cfe5(0x178)]();return _0x46a04e[_0x33cfe5(0x180)];}else{let _0x4170f2=_0x4bf4df[_0x33cfe5(0x16a)]('SELECT\x20count(*)\x20as\x20count\x20FROM\x20source_folder\x20WHERE\x20type=?')[_0x33cfe5(0x178)](_0xc6ae31);return _0x4170f2[_0x33cfe5(0x180)];}}static['getById'](_0x395b15,_0x97fc47){const _0x46c908=_0x2d033d;return _0x395b15[_0x46c908(0x16a)](_0x46c908(0x17c))[_0x46c908(0x178)](_0x97fc47);}static[_0x2d033d(0x157)](_0x20ddd8,_0x20d5ff){const _0x2f930c=_0x2d033d;let _0x518ea6=path[_0x2f930c(0x175)](_0x20d5ff['path']);_0x20d5ff[_0x2f930c(0x16d)]=_0x20d5ff[_0x2f930c(0x16d)]?_0x20d5ff[_0x2f930c(0x16d)]:_0x2f930c(0x15c);const _0x37ad34=_0x2f930c(0x15b);return _0x20ddd8['prepare'](_0x37ad34)['run'](_0x518ea6,_0x20d5ff[_0x2f930c(0x17d)],_0x20d5ff[_0x2f930c(0x15f)],_0x20d5ff['ignore_match_info']&&_0x20d5ff[_0x2f930c(0x154)]==0x1?0x1:0x0,_0x20d5ff[_0x2f930c(0x16d)]);}static[_0x2d033d(0x156)](_0xb654c1,_0x319c5b){const _0x5285a1=_0x2d033d;if(!_0x319c5b)return cb(new Error(_0x5285a1(0x186)));return _0xb654c1[_0x5285a1(0x16a)](_0x5285a1(0x159))[_0x5285a1(0x17e)](_0x319c5b);}static[_0x2d033d(0x168)](_0x3a0542,_0x3420d6){const _0x3e7be1=_0x2d033d;return _0x3420d6?_0x3a0542[_0x3e7be1(0x16a)](_0x3e7be1(0x166))[_0x3e7be1(0x17e)](_0x3420d6):_0x3a0542['prepare'](_0x3e7be1(0x176))[_0x3e7be1(0x17e)]();}static[_0x2d033d(0x169)](_0x33d6c5,_0x1d75a7,_0x23af79){const _0x16b89b=_0x2d033d;return _0x33d6c5[_0x16b89b(0x16a)](_0x16b89b(0x181))['run'](_0x23af79,_0x1d75a7,_0x1d75a7+path[_0x16b89b(0x15a)]+'%');}static[_0x2d033d(0x153)](_0x41fed4,_0xeec085,_0x30a7ef,_0x111014){const _0xa68012=_0x2d033d,_0x39f2d1=_0xa68012(0x163)+_0xeec085+'=\x27'+_0x30a7ef+'\x27\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id=?\x0a\x09\x20\x20\x20\x20';return _0x41fed4[_0xa68012(0x16a)](_0x39f2d1)[_0xa68012(0x17e)](_0x111014);}static[_0x2d033d(0x171)](_0x5c3455,_0x4d876c,_0x200d8d){const _0xb8cc44=_0x2d033d,_0x298701=_0xb8cc44(0x170);return _0x5c3455['prepare'](_0x298701)[_0xb8cc44(0x17e)](_0x4d876c,_0x200d8d);}static[_0x2d033d(0x173)](_0x300a49,_0x2cfb61,_0x3451a8){const _0x273a18=_0x2d033d;try{let _0x47fc94=dbConfigTable['findByTitle'](_0x300a49,_0x3451a8);if(_0x47fc94&&_0x47fc94[_0x273a18(0x184)]){let _0x226fc8=JSON['parse'](_0x47fc94[_0x273a18(0x184)]);if(!_0x226fc8||_0x226fc8[_0x273a18(0x16f)]<0x1)return'';let _0x323674='\x20(';for(let _0x577d79 in _0x226fc8){_0x323674+='\x20'+_0x2cfb61+_0x273a18(0x183)+_0x226fc8[_0x577d79]+'%\x27',_0x577d79!=_0x226fc8['length']-0x1&&(_0x323674+=_0x273a18(0x160));}return _0x323674+=')',_0x323674;}}catch(_0x4f01f1){return'';}}}module['exports']=dbSourceFolderTable;