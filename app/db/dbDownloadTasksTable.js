const _0x23ed75=_0x518e;(function(_0x18a1b1,_0x4a4e07){const _0x50e4ee=_0x518e,_0x4e3d2f=_0x18a1b1();while(!![]){try{const _0x3cb295=-parseInt(_0x50e4ee(0x1f7))/0x1+-parseInt(_0x50e4ee(0x1f5))/0x2*(parseInt(_0x50e4ee(0x202))/0x3)+parseInt(_0x50e4ee(0x223))/0x4+parseInt(_0x50e4ee(0x208))/0x5*(parseInt(_0x50e4ee(0x216))/0x6)+parseInt(_0x50e4ee(0x1f1))/0x7+-parseInt(_0x50e4ee(0x1ef))/0x8*(parseInt(_0x50e4ee(0x211))/0x9)+parseInt(_0x50e4ee(0x1f6))/0xa;if(_0x3cb295===_0x4a4e07)break;else _0x4e3d2f['push'](_0x4e3d2f['shift']());}catch(_0xd7d93b){_0x4e3d2f['push'](_0x4e3d2f['shift']());}}}(_0x156f,0x557ad));class dbDownloadTasksTable{static ['TYPE_HTTP']=_0x23ed75(0x1f8);static [_0x23ed75(0x200)]=_0x23ed75(0x20a);static [_0x23ed75(0x1f0)]='TORRENT';static [_0x23ed75(0x21e)]=0x0;static ['STATE_WAITING_SELECT_FILE']=0x1;static [_0x23ed75(0x215)]=0x2;static [_0x23ed75(0x21c)]=0x3;static [_0x23ed75(0x1f3)]=0x4;static [_0x23ed75(0x210)]=0x5;static ['STATE_COMPLETED']=0x9;static [_0x23ed75(0x1fb)]=0xa;static ['FIELD_LIST']='id,save_path,task_name,task_type,task_state,download_speed,upload_speed,uploaded,downloaded,total_size,downloaded,create_time,torrent_path';static [_0x23ed75(0x212)]=[_0x23ed75(0x221),'task_state',_0x23ed75(0x20f),_0x23ed75(0x20e),_0x23ed75(0x1eb),_0x23ed75(0x1ee),_0x23ed75(0x222)];static [_0x23ed75(0x207)]=['id',_0x23ed75(0x221),'task_state',_0x23ed75(0x20e),_0x23ed75(0x1eb),'create_time'];static [_0x23ed75(0x201)]=[_0x23ed75(0x226),_0x23ed75(0x1fd)];static['addTask'](_0x3c99f9,_0xbdb3fc,_0x3d10fa,_0x55cd50,_0x4749b8,_0x3ad53f,_0xc23451='',_0x457d66='',_0xefa53=''){const _0x27311a=_0x23ed75,_0x363474=_0x27311a(0x214);return _0x3c99f9['prepare'](_0x363474)[_0x27311a(0x1fe)](_0xbdb3fc,_0x3d10fa,_0x55cd50,_0x4749b8,_0x3ad53f,Date[_0x27311a(0x21d)](),_0xc23451,_0x457d66,_0xefa53);}static[_0x23ed75(0x1fc)](_0x2d97b0,_0x96f82a,_0x40ab6b,_0x253700){const _0x423369=_0x23ed75;if(dbDownloadTasksTable[_0x423369(0x212)][_0x423369(0x224)](_0x40ab6b)){const _0xefc549='UPDATE\x20download_tasks\x20SET\x20'+_0x40ab6b+_0x423369(0x219);return _0x2d97b0[_0x423369(0x20d)](_0xefc549)['run'](_0x96f82a,_0x253700);}}static['updateProgress'](_0x4383ea,_0x504865,_0xf65ced,_0x576609,_0x4a7ccd,_0x4fbb11,_0x197fbb){const _0x5dafc0=_0x23ed75,_0x5dc255=_0x5dafc0(0x209);return _0x4383ea[_0x5dafc0(0x20d)](_0x5dc255)['run'](_0x4fbb11,_0x4a7ccd,_0xf65ced,_0x576609,_0x197fbb,_0x504865);}static[_0x23ed75(0x1f4)](_0x3e1097){const _0x1a4405=_0x23ed75,_0x238717=_0x1a4405(0x213);return _0x3e1097[_0x1a4405(0x20d)](_0x238717)[_0x1a4405(0x1fe)](this[_0x1a4405(0x1f3)],this[_0x1a4405(0x21c)],this[_0x1a4405(0x215)]);}static['updateTaskField'](_0x47ff71,_0x2c39b8,_0x16a37b,_0x1d98f9){const _0x223009=_0x23ed75;if(dbDownloadTasksTable[_0x223009(0x212)][_0x223009(0x224)](_0x16a37b)){const _0x5136b4=_0x223009(0x220)+_0x16a37b+_0x223009(0x219);return _0x47ff71[_0x223009(0x20d)](_0x5136b4)[_0x223009(0x1fe)](_0x1d98f9,_0x2c39b8);}else console[_0x223009(0x20c)]('更新字段不在允许列表',_0x16a37b);}static[_0x23ed75(0x225)](_0x23ac20,_0x521638){const _0x24882f=_0x23ed75;let _0xec2d99='';if(_0x521638&&_0x521638==this[_0x24882f(0x21c)])_0xec2d99+=_0x24882f(0x1e9)+parseInt(this['STATE_COMPLETED']);else _0x521638&&_0x521638>=0x0&&(_0xec2d99+=_0x24882f(0x21b)+parseInt(_0x521638));const _0x445769=_0x24882f(0x1f9)+_0xec2d99;return _0x23ac20[_0x24882f(0x20d)](_0x445769)[_0x24882f(0x1fe)]();}static[_0x23ed75(0x1ff)](_0x2f643b,_0x413584){const _0x377e33=_0x23ed75,_0x30e122=_0x377e33(0x203);return _0x2f643b['prepare'](_0x30e122)[_0x377e33(0x1fe)](_0x413584);}static[_0x23ed75(0x20b)](_0x3f6978,_0x54cb5b,_0x310fea){const _0x2c4a87=_0x23ed75;let _0x5e4514='';for(let _0x2b9293 in _0x54cb5b){_0x5e4514+='\x20'+_0x54cb5b[_0x2b9293]+'=?';}let _0x4d8eb8=_0x2c4a87(0x204)+_0x5e4514+_0x2c4a87(0x218);return _0x3f6978[_0x2c4a87(0x20d)](_0x4d8eb8)[_0x2c4a87(0x1ed)](_0x310fea);}static[_0x23ed75(0x1ec)](_0x50ceb5,_0x408aea){const _0x5b3159=_0x23ed75;return _0x50ceb5['prepare'](_0x5b3159(0x1f2))[_0x5b3159(0x1ed)](_0x408aea);}static['getTaskList'](_0x3d8277,_0x45616b,_0x6307a9,_0x2d412f,_0xcd03c6,_0x437ec0,_0x88d88a){const _0x3b68b3=_0x23ed75;!_0x45616b&&(_0x45616b=dbDownloadTasksTable[_0x3b68b3(0x21a)]);if(!this[_0x3b68b3(0x207)][_0x3b68b3(0x224)](_0xcd03c6)||!this['ALLOW_ORDER_TYPE'][_0x3b68b3(0x224)](_0x437ec0))return console[_0x3b68b3(0x20c)]('order\x20field\x20/\x20type\x20error',_0xcd03c6,_0x437ec0),[];let _0x45abe0='';if(_0x88d88a&&_0x88d88a==this[_0x3b68b3(0x21c)])_0x45abe0+='WHERE\x20task_state\x20<\x20'+parseInt(this[_0x3b68b3(0x21f)]);else _0x88d88a&&_0x88d88a>=0x0&&(_0x45abe0+=_0x3b68b3(0x21b)+parseInt(_0x88d88a));let _0x9045b5=_0x3b68b3(0x1fa)+_0x45616b+_0x3b68b3(0x205)+_0x45abe0+'\x20ORDER\x20BY\x20'+_0xcd03c6+'\x20'+_0x437ec0+_0x3b68b3(0x217);return _0x3d8277[_0x3b68b3(0x20d)](_0x9045b5)[_0x3b68b3(0x1ea)](_0x6307a9,_0x2d412f);}}function _0x518e(_0x1a2293,_0x28974a){const _0x156fea=_0x156f();return _0x518e=function(_0x518e76,_0x3360e3){_0x518e76=_0x518e76-0x1e9;let _0x1df41a=_0x156fea[_0x518e76];return _0x1df41a;},_0x518e(_0x1a2293,_0x28974a);}module[_0x23ed75(0x206)]=dbDownloadTasksTable;function _0x156f(){const _0x5d7ec1=['desc','run','deleteTask','TYPE_MAGNET','ALLOW_ORDER_TYPE','3FaIKka','DELETE\x20FROM\x20download_tasks\x20\x20WHERE\x20id=?','SELECT\x20*\x20FROM\x20download_tasks\x20WHERE\x20','\x20FROM\x20download_tasks\x20','exports','ALLOW_ORDER_FIELD','85LZYEss','UPDATE\x20download_tasks\x20SET\x20upload_speed=?,download_speed=?,downloaded=?,uploaded=?,task_state=?\x20WHERE\x20id=?','MAGNET','getDownloadingTaskByWhere','log','prepare','total_size','task_file_list','STATE_FAILD','1235349PenflU','ALLOW_UPDATE_FIELD','UPDATE\x20download_tasks\x20SET\x20task_state=?\x20WHERE\x20task_state=?\x20or\x20task_state=?','INSERT\x20INTO\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20download_tasks(user_id,task_name,task_type,task_state,save_path,create_time,magnet,http_url,torrent_path)\x20\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20VALUES(?,?,?,?,?,?,?,?,?)','STATE_WAITING','94086rNwpYY','\x20LIMIT\x20?\x20OFFSET\x20?','\x20AND\x20task_state','=?\x20WHERE\x20id=?','FIELD_LIST','WHERE\x20task_state=','STATE_DOWNLOADING','now','STATE_PARSING','STATE_COMPLETED','UPDATE\x20download_tasks\x20SET\x20','task_name','last_downloaded','1524808mMTyGf','includes','deleteAllTaskByState','asc','WHERE\x20task_state\x20<\x20','all','downloaded','getTaskById','get','save_path','16Gyklov','TYPE_TORRENT','3393852XtZsCG','SELECT\x20*\x20FROM\x20download_tasks\x20WHERE\x20id=?','STATE_PAUSE','setAllDownloadingTaskToPause','731054vdOElJ','4088710LKBOnD','551312LmAiSN','HTTP','DELETE\x20FROM\x20download_tasks\x20','SELECT\x20','STATE_DELETED','updateTaskField'];_0x156f=function(){return _0x5d7ec1;};return _0x156f();}