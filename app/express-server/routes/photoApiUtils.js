function _0x114d(){const _0x2e517b=['getExcludePathWhereStr','getAlbumWhereStr','21193ibdVbZ','\x20>\x200','getAllByWhereAndFieldFromOrdinaryAlbum','dbOther','1864746XhWdVS','267364usrsqv','raw_filename','\x20f.id,path,is_livephoto,is_raw,raw_filename,check_time,original_time,in_trash_time,original_date,filename,ext,type,f.width,f.height,duration,size,latitude,longitude,geohash,mode,tiny_path','faceId','getAllByWhereAndFieldFromFaceIndex','photo','desc','get','getUserPathWhere','filename','path','excludeIdsJson','ordinaryAlbumId','../../db/dbFileIndexTable','\x20AND\x20is_livephoto=1','SELECT\x20*\x20FROM\x20photo_library\x20WHERE\x20id=?','sortType','../../db/dbAlbumTable','Params\x20error\x20:\x20albumId','getAllByWhereAndField','2139568BHSFHJ','INDEX_TABLE_NAME_PHOTO','<=?\x20AND\x20','452475ZutJDW','excludeFilenamePhoto','excludePathPhoto','Params\x20error\x20:\x20timestamp\x20/\x20timeType','\x20AND\x20in_trash=1','log','getAllByWhereAndFieldFromAiClassesToIndex','420VwJlpo','isNumber','\x20AND\x20geohash\x20LIKE\x20?\x20','../../db/dbSourceFolderTable','aiClassId','app','asc','push','\x20AND\x20','dbFileIndex','albumId','body','fileType','\x20GROUP\x20BY\x20f.id','\x20AND\x20is_show=1','libraryId','is_raw','Params\x20error\x20:\x20count','19356NTLuhj','6khKqnS','searchStr','excludeIds','../utils/checkUtil','timestamp','path_list','exports','2KkQJWj','getRawImageIndex','\x20AND\x20in_trash=0','../../db/dbUserTable','power_get','rawImageIndex','4122060RuVzdg','doUserCanGet','is_livephoto','parse','\x20AND\x20(filename\x20LIKE\x20?\x20OR\x20mode\x20\x20LIKE\x20?)','timeType','sourceFolderList','length','Params\x20error\x20:\x20fileType','\x20AND\x20f.id\x20NOT\x20IN\x20(','\x20AND\x20(type=?\x20\x20and\x20is_livephoto!=1)','count'];_0x114d=function(){return _0x2e517b;};return _0x114d();}const _0x52d46d=_0xaa94;(function(_0x4c0167,_0x4e6920){const _0x5aa483=_0xaa94,_0x4cde91=_0x4c0167();while(!![]){try{const _0x54ff5=-parseInt(_0x5aa483(0x8e))/0x1*(parseInt(_0x5aa483(0xcb))/0x2)+-parseInt(_0x5aa483(0xc4))/0x3*(-parseInt(_0x5aa483(0x93))/0x4)+-parseInt(_0x5aa483(0xaa))/0x5+parseInt(_0x5aa483(0xc3))/0x6*(-parseInt(_0x5aa483(0xb1))/0x7)+-parseInt(_0x5aa483(0xa7))/0x8+parseInt(_0x5aa483(0x92))/0x9+parseInt(_0x5aa483(0xd1))/0xa;if(_0x54ff5===_0x4e6920)break;else _0x4cde91['push'](_0x4cde91['shift']());}catch(_0x4e30a3){_0x4cde91['push'](_0x4cde91['shift']());}}}(_0x114d,0x2c0a4));let photoApiUtil={};const dbFileIndexTable=require(_0x52d46d(0xa0)),dbSourceFolderTable=require(_0x52d46d(0xb4));function _0xaa94(_0x489e8a,_0x2b9b4b){const _0x114d02=_0x114d();return _0xaa94=function(_0xaa943b,_0x5206f4){_0xaa943b=_0xaa943b-0x85;let _0x5218a8=_0x114d02[_0xaa943b];return _0x5218a8;},_0xaa94(_0x489e8a,_0x2b9b4b);}let checkUtil=require(_0x52d46d(0xc7));const dbUserTable=require(_0x52d46d(0xce)),dbAlbumTable=require(_0x52d46d(0xa4));photoApiUtil['getPhotoByParams']=function(_0x15b3b0,_0x5bd094){const _0x402ebb=_0x52d46d;if(dbUserTable[_0x402ebb(0xd2)](_0x15b3b0,_0x5bd094,'photo',_0x402ebb(0xcf),'',!![])!=!![])return[];let _0x3d0185=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0x86)],_0x1911cb=dbUserTable[_0x402ebb(0x9b)](_0x15b3b0,_0x402ebb(0x98),'power_get',!![],_0x3d0185),_0x502ecd=_0x402ebb(0x95),_0x29d781=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xc8)],_0x208887=_0x15b3b0['body'][_0x402ebb(0x85)],_0x4cf431=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0x8b)],_0x5eb524=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xbd)],_0x460172=_0x15b3b0[_0x402ebb(0xbc)]['trash'],_0x2a190d=_0x15b3b0['body']['sortField'],_0xd61135=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xa3)],_0x5444ce=_0x15b3b0[_0x402ebb(0xbc)]['geohash'],_0x2b4898=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xc5)],_0x2d8cdb=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xc0)];if(dbFileIndexTable['checkOrderParams'](_0x15b3b0,_0x5bd094,_0x2a190d,_0xd61135)!==!![])return[];if(!checkUtil['arrayInCheck']([_0x402ebb(0xb7),_0x402ebb(0x99)],_0xd61135))return console['log']('Params\x20error\x20:\x20sortType'),[];if(!checkUtil[_0x402ebb(0xb2)](_0x29d781)||!checkUtil['isNumber'](_0x208887))return console['log'](_0x402ebb(0xad)),[];let _0x2d5d5f=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xc6)];if(!_0x208887||!_0x29d781)return[];let _0x2c178a='',_0x43e06c=[];_0x208887==0x1?(_0x2c178a+='\x20'+_0x2a190d+_0x402ebb(0xa9)+_0x2a190d+_0x402ebb(0x8f),_0x43e06c[_0x402ebb(0xb8)](_0x29d781)):(_0x2c178a+='\x20'+_0x2a190d+'>=?',_0x43e06c[_0x402ebb(0xb8)](_0x29d781));let _0x37e697=_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0x9e)];if(_0x37e697)try{_0x2d5d5f=JSON[_0x402ebb(0xd4)](_0x37e697);}catch(_0x21a56){console[_0x402ebb(0xaf)](_0x21a56);}if(_0x2d5d5f&&_0x2d5d5f[_0x402ebb(0x87)]>0x0){_0x2c178a+=_0x402ebb(0x89);for(let _0x120eb4=0x0;_0x120eb4<_0x2d5d5f[_0x402ebb(0x87)];_0x120eb4++){_0x2c178a+=_0x2d5d5f[_0x120eb4],_0x120eb4!=_0x2d5d5f[_0x402ebb(0x87)]-0x1&&(_0x2c178a+=',');}_0x2c178a+=')';}_0x5444ce&&(_0x2c178a+=_0x402ebb(0xb3),_0x43e06c[_0x402ebb(0xb8)](_0x5444ce+'%'));let _0x5951f7=dbSourceFolderTable[_0x402ebb(0x8c)](_0x15b3b0['app'][_0x402ebb(0x91)],_0x402ebb(0x9d),_0x402ebb(0xac));_0x5951f7&&(_0x2c178a+=_0x402ebb(0xb9)+_0x5951f7);let _0x318870=dbSourceFolderTable[_0x402ebb(0x8c)](_0x15b3b0[_0x402ebb(0xb6)][_0x402ebb(0x91)],_0x402ebb(0x9c),_0x402ebb(0xab));_0x318870&&(_0x2c178a+=_0x402ebb(0xb9)+_0x318870);if(_0x5eb524==0x0||!_0x5eb524)_0x2c178a+='\x20AND\x20(type=1\x20or\x20type=2)';else{if(_0x5eb524==0x1||_0x5eb524==0x2){if(!checkUtil['isNumber'](_0x5eb524))return console[_0x402ebb(0xaf)](_0x402ebb(0x88)),[];_0x2c178a+=_0x402ebb(0x8a),_0x43e06c[_0x402ebb(0xb8)](_0x5eb524);}else _0x5eb524==0x3&&(_0x2c178a+=_0x402ebb(0xa1));}_0x2b4898&&(_0x2c178a+=_0x402ebb(0xd5),_0x43e06c[_0x402ebb(0xb8)]('%'+_0x2b4898+'%'),_0x43e06c[_0x402ebb(0xb8)]('%'+_0x2b4898+'%'));!_0x460172||_0x460172==0x0?(_0x2c178a+=_0x402ebb(0xcd),_0x2c178a+=_0x402ebb(0xbf)):_0x2c178a+=_0x402ebb(0xae);if(_0x2d8cdb){let _0x4ff572=_0x15b3b0[_0x402ebb(0xb6)][_0x402ebb(0xba)]['prepare'](_0x402ebb(0xa2))[_0x402ebb(0x9a)](_0x2d8cdb);if(_0x4ff572)try{let _0x46d62b=JSON['parse'](_0x4ff572[_0x402ebb(0xc9)]),_0x2212f3=dbUserTable['getPathWhere'](!![],_0x46d62b);_0x2c178a+=_0x2212f3;}catch(_0xcb0309){console['log'](_0xcb0309);}}if(_0x15b3b0[_0x402ebb(0xbc)]['albumId']){if(!checkUtil[_0x402ebb(0xb2)](_0x15b3b0[_0x402ebb(0xbc)]['albumId']))return console['log'](_0x402ebb(0xa5)),[];let _0x46c520=dbAlbumTable[_0x402ebb(0x8d)](_0x15b3b0[_0x402ebb(0xb6)][_0x402ebb(0x91)],_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xbb)]);_0x46c520&&(_0x2c178a+=_0x402ebb(0xb9)+_0x46c520);}_0x2c178a+=_0x1911cb,_0x2c178a+='\x20\x20AND\x20is_file=1\x20\x20';(_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xb5)]||_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0x96)])&&(_0x2c178a+=_0x402ebb(0xbe));_0x2c178a+='\x20ORDER\x20BY\x20'+_0x2a190d+'\x20'+_0xd61135;!_0x4cf431&&(_0x4cf431=0x32);if(!checkUtil['isNumber'](_0x4cf431))return console[_0x402ebb(0xaf)](_0x402ebb(0xc2)),[];_0x2c178a+='\x20LIMIT\x20?',_0x43e06c[_0x402ebb(0xb8)](_0x4cf431);let _0x33a940=[];if(_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0x9f)])_0x33a940=dbFileIndexTable[_0x402ebb(0x90)](_0x15b3b0['app'][_0x402ebb(0xba)],_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0x9f)],_0x2c178a,_0x502ecd,_0x43e06c);else{if(_0x15b3b0['body']['aiClassId'])_0x33a940=dbFileIndexTable[_0x402ebb(0xb0)](_0x15b3b0[_0x402ebb(0xb6)][_0x402ebb(0xba)],_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0xb5)],_0x2c178a,_0x502ecd,_0x43e06c);else _0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0x96)]?_0x33a940=dbFileIndexTable[_0x402ebb(0x97)](_0x15b3b0[_0x402ebb(0xb6)][_0x402ebb(0xba)],_0x15b3b0[_0x402ebb(0xbc)][_0x402ebb(0x96)],_0x2c178a,_0x502ecd,_0x43e06c):_0x33a940=dbFileIndexTable[_0x402ebb(0xa6)](_0x15b3b0[_0x402ebb(0xb6)]['dbFileIndex'],_0x2c178a,_0x502ecd,dbFileIndexTable[_0x402ebb(0xa8)],_0x43e06c);}if(_0x33a940&&_0x33a940['length']>0x0)for(let _0x29ff15 in _0x33a940){_0x33a940[_0x29ff15][_0x402ebb(0xd3)]==0x1&&(_0x33a940[_0x29ff15]['livephotoIndex']=dbFileIndexTable['getLivePhotoIndex'](_0x15b3b0[_0x402ebb(0xb6)]['dbFileIndex'],_0x33a940[_0x29ff15],_0x502ecd));if(_0x33a940[_0x29ff15][_0x402ebb(0xc1)]==0x0&&_0x33a940[_0x29ff15][_0x402ebb(0x94)]!=null&&_0x33a940[_0x29ff15][_0x402ebb(0x94)]!=''){let _0x1e47e4=dbFileIndexTable[_0x402ebb(0xcc)](_0x15b3b0[_0x402ebb(0xb6)][_0x402ebb(0xba)],_0x33a940[_0x29ff15],_0x502ecd);_0x1e47e4&&(_0x33a940[_0x29ff15][_0x402ebb(0xd0)]=_0x1e47e4);}}return _0x33a940;},module[_0x52d46d(0xca)]=photoApiUtil;