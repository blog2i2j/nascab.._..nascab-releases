const _0x5145fa=_0x50b5;function _0x50b5(_0x3d7e11,_0x3fae17){const _0x4aefe3=_0x4aef();return _0x50b5=function(_0x50b56b,_0x5edd1e){_0x50b56b=_0x50b56b-0xf2;let _0x50844e=_0x4aefe3[_0x50b56b];return _0x50844e;},_0x50b5(_0x3d7e11,_0x3fae17);}(function(_0x256179,_0x23563e){const _0x488def=_0x50b5,_0x2c6023=_0x256179();while(!![]){try{const _0x5732bc=parseInt(_0x488def(0xf2))/0x1+parseInt(_0x488def(0xfb))/0x2*(parseInt(_0x488def(0xf5))/0x3)+parseInt(_0x488def(0x100))/0x4+parseInt(_0x488def(0x118))/0x5*(parseInt(_0x488def(0xff))/0x6)+parseInt(_0x488def(0x115))/0x7*(parseInt(_0x488def(0xf7))/0x8)+parseInt(_0x488def(0x116))/0x9+-parseInt(_0x488def(0x113))/0xa;if(_0x5732bc===_0x23563e)break;else _0x2c6023['push'](_0x2c6023['shift']());}catch(_0x471247){_0x2c6023['push'](_0x2c6023['shift']());}}}(_0x4aef,0xbfb07));var express=require(_0x5145fa(0x105)),router=express['Router']();let config=require(_0x5145fa(0x10f)),dbNoticeCenterTable=require(_0x5145fa(0x117));router[_0x5145fa(0x10e)](_0x5145fa(0x10b),(_0x58fe07,_0x1d7f03,_0x5817d0)=>{const _0x13a4bb=_0x5145fa;let _0x2299bb=_0x58fe07[_0x13a4bb(0x103)]['id'],_0x2c245d=_0x58fe07[_0x13a4bb(0x103)][_0x13a4bb(0x108)],_0x2515e9=_0x58fe07[_0x13a4bb(0x103)][_0x13a4bb(0xf3)];!_0x2299bb&&(_0x2299bb=0x9184e729fff);let _0x544d2a=[_0x13a4bb(0x10d),_0x13a4bb(0x10a)];if(!_0x2515e9||!_0x544d2a['includes'](_0x2515e9))return _0x58fe07[_0x13a4bb(0x101)][_0x13a4bb(0x110)](_0x1d7f03,_0x1d7f03['__'](_0x13a4bb(0x112)));let _0x25dd4b='',_0x574418=[];_0x25dd4b+=_0x13a4bb(0x106),_0x574418[_0x13a4bb(0x109)](_0x2515e9),_0x574418[_0x13a4bb(0x109)](_0x2299bb),_0x574418[_0x13a4bb(0x109)](_0x2c245d);let _0x119242=dbNoticeCenterTable[_0x13a4bb(0x102)](_0x58fe07['app'][_0x13a4bb(0xfe)],_0x25dd4b,_0x574418),_0x2cc6b9=dbNoticeCenterTable[_0x13a4bb(0x114)](_0x58fe07[_0x13a4bb(0x101)][_0x13a4bb(0xfe)],_0x13a4bb(0x10d)),_0x275b85=dbNoticeCenterTable[_0x13a4bb(0x114)](_0x58fe07[_0x13a4bb(0x101)][_0x13a4bb(0xfe)],_0x13a4bb(0x10a));_0x1d7f03[_0x13a4bb(0xfa)]({'code':0x0,'data':_0x119242,'infoUnReadCount':_0x2cc6b9[_0x13a4bb(0x108)],'errorUnReadCount':_0x275b85[_0x13a4bb(0x108)]});}),router[_0x5145fa(0x10e)](_0x5145fa(0xfd),(_0x298808,_0x33aa5f,_0x38be77)=>{const _0xdf6cae=_0x5145fa;let _0x5e6487=_0x298808['body']['level'],_0x497120=dbNoticeCenterTable['getUnReadCount'](_0x298808['app'][_0xdf6cae(0xfe)],_0x5e6487);_0x33aa5f['json']({'code':0x0,'unReadCount':_0x497120[_0xdf6cae(0x108)]});}),router[_0x5145fa(0x10e)](_0x5145fa(0x107),(_0x4cd9ba,_0x29c69a,_0x2da05c)=>{const _0x5a73fb=_0x5145fa;let _0x1e6b5a=_0x4cd9ba[_0x5a73fb(0x103)]['id'],_0x778a7e=_0x4cd9ba['body'][_0x5a73fb(0x104)],_0x66826b=_0x4cd9ba[_0x5a73fb(0x103)][_0x5a73fb(0xf4)];_0x778a7e?dbNoticeCenterTable[_0x5a73fb(0x111)](_0x4cd9ba[_0x5a73fb(0x101)][_0x5a73fb(0xfe)],_0x66826b):dbNoticeCenterTable[_0x5a73fb(0xfc)](_0x4cd9ba['app'][_0x5a73fb(0xfe)],_0x1e6b5a),_0x29c69a['json']({'code':0x0});}),router[_0x5145fa(0x10e)](_0x5145fa(0xf6),(_0x5f3eef,_0x33d391,_0x15dcc5)=>{const _0x41dd78=_0x5145fa;if(_0x5f3eef[_0x41dd78(0xf8)]['is_admin']!=0x1)return _0x33d391['json']({'code':0x66});let _0x453606=_0x5f3eef[_0x41dd78(0x103)]['id'],_0x3592ad=_0x5f3eef['body']['isAll'],_0xbd804d=_0x5f3eef[_0x41dd78(0x103)][_0x41dd78(0xf4)];_0x3592ad?dbNoticeCenterTable[_0x41dd78(0xf9)](_0x5f3eef[_0x41dd78(0x101)][_0x41dd78(0xfe)],_0xbd804d):dbNoticeCenterTable['delete'](_0x5f3eef['app'][_0x41dd78(0xfe)],_0x453606),_0x33d391[_0x41dd78(0xfa)]({'code':0x0});}),module[_0x5145fa(0x10c)]=router;function _0x4aef(){const _0x1d308a=['error','/getMessage','exports','info','post','../../myConfig/config','returnErrMsg','refreshRead','operationFail','41589940shSwtD','getUnReadCount','1547WpMTxK','7951473ICDvkX','../../db/dbNoticeCenterTable','175nEvmIv','607047oQnQqD','msgType','level','3mTrkxY','/delete','41496OjgtlW','currentUser','clearAllByLevel','json','2184562ygmxfM','refreshReadById','/getUnReadCount','dbOther','96936agoEsM','2598164HJdAeS','app','getByWhere','body','isAll','express','\x20level=?\x20AND\x20id\x20<\x20?\x20ORDER\x20BY\x20create_time\x20DESC\x20LIMIT\x20?\x20','/read','count','push'];_0x4aef=function(){return _0x1d308a;};return _0x4aef();}