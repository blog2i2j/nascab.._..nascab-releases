function _0x5889(_0xf08c4c,_0x2c65d4){const _0x550e0b=_0x550e();return _0x5889=function(_0x5889af,_0xddf947){_0x5889af=_0x5889af-0xa5;let _0xd4098f=_0x550e0b[_0x5889af];return _0xd4098f;},_0x5889(_0xf08c4c,_0x2c65d4);}const _0x21649c=_0x5889;(function(_0x5ae4b8,_0x46c83e){const _0x1e985a=_0x5889,_0x27ac5d=_0x5ae4b8();while(!![]){try{const _0x14ea66=-parseInt(_0x1e985a(0xc3))/0x1+parseInt(_0x1e985a(0xbe))/0x2+-parseInt(_0x1e985a(0xb7))/0x3*(parseInt(_0x1e985a(0xbf))/0x4)+parseInt(_0x1e985a(0xc0))/0x5*(parseInt(_0x1e985a(0xb9))/0x6)+parseInt(_0x1e985a(0xad))/0x7*(-parseInt(_0x1e985a(0xa6))/0x8)+-parseInt(_0x1e985a(0xbd))/0x9+-parseInt(_0x1e985a(0xb2))/0xa*(-parseInt(_0x1e985a(0xc5))/0xb);if(_0x14ea66===_0x46c83e)break;else _0x27ac5d['push'](_0x27ac5d['shift']());}catch(_0x2ae211){_0x27ac5d['push'](_0x27ac5d['shift']());}}}(_0x550e,0xc07cc));function _0x550e(){const _0x2821c3=['../../db/dbNoticeCenterTable','1092246brTuHc','/getMessage','3312426nquMeF','msgType','error','body','8642376kKlITl','2686156iylsdb','8EMgWNf','10VskHeA','includes','clearAllByLevel','1036089PtMJGs','/read','3421lcWwLK','operationFail','getUnReadCount','info','exports','Router','../../myConfig/config','112ErgENa','refreshRead','count','returnErrMsg','refreshReadById','app','dbOther','660289KKKtCy','level','\x20level=?\x20AND\x20id\x20<\x20?\x20ORDER\x20BY\x20create_time\x20DESC\x20LIMIT\x20?\x20','express','push','76730AiTTUa','post','isAll','json'];_0x550e=function(){return _0x2821c3;};return _0x550e();}var express=require(_0x21649c(0xb0)),router=express[_0x21649c(0xca)]();let config=require(_0x21649c(0xa5)),dbNoticeCenterTable=require(_0x21649c(0xb6));router[_0x21649c(0xb3)](_0x21649c(0xb8),(_0x372726,_0x51f3d0,_0x1c95d1)=>{const _0x26a1a8=_0x21649c;let _0x285de7=_0x372726[_0x26a1a8(0xbc)]['id'],_0x5b141a=_0x372726[_0x26a1a8(0xbc)][_0x26a1a8(0xa8)],_0x57d31d=_0x372726[_0x26a1a8(0xbc)][_0x26a1a8(0xba)];!_0x285de7&&(_0x285de7=0x9184e729fff);let _0x21e284=[_0x26a1a8(0xc8),_0x26a1a8(0xbb)];if(!_0x57d31d||!_0x21e284[_0x26a1a8(0xc1)](_0x57d31d))return _0x372726['app'][_0x26a1a8(0xa9)](_0x51f3d0,_0x51f3d0['__'](_0x26a1a8(0xc6)));let _0x434dcb='',_0x260885=[];_0x434dcb+=_0x26a1a8(0xaf),_0x260885[_0x26a1a8(0xb1)](_0x57d31d),_0x260885[_0x26a1a8(0xb1)](_0x285de7),_0x260885[_0x26a1a8(0xb1)](_0x5b141a);let _0x4b1efe=dbNoticeCenterTable['getByWhere'](_0x372726[_0x26a1a8(0xab)][_0x26a1a8(0xac)],_0x434dcb,_0x260885),_0x58b053=dbNoticeCenterTable[_0x26a1a8(0xc7)](_0x372726[_0x26a1a8(0xab)]['dbOther'],_0x26a1a8(0xc8)),_0x2cb5bf=dbNoticeCenterTable['getUnReadCount'](_0x372726[_0x26a1a8(0xab)]['dbOther'],_0x26a1a8(0xbb));_0x51f3d0['json']({'code':0x0,'data':_0x4b1efe,'infoUnReadCount':_0x58b053[_0x26a1a8(0xa8)],'errorUnReadCount':_0x2cb5bf[_0x26a1a8(0xa8)]});}),router['post']('/getUnReadCount',(_0xbc1bb7,_0x2c0af1,_0x3a0210)=>{const _0x4d4521=_0x21649c;let _0x439f69=_0xbc1bb7['body'][_0x4d4521(0xae)],_0x3e706c=dbNoticeCenterTable[_0x4d4521(0xc7)](_0xbc1bb7[_0x4d4521(0xab)][_0x4d4521(0xac)],_0x439f69);_0x2c0af1['json']({'code':0x0,'unReadCount':_0x3e706c[_0x4d4521(0xa8)]});}),router['post'](_0x21649c(0xc4),(_0x497193,_0x2c3dd4,_0x5ebe91)=>{const _0x16385f=_0x21649c;let _0x106f21=_0x497193[_0x16385f(0xbc)]['id'],_0x2556b6=_0x497193[_0x16385f(0xbc)][_0x16385f(0xb4)],_0x8b9e48=_0x497193[_0x16385f(0xbc)][_0x16385f(0xae)];_0x2556b6?dbNoticeCenterTable[_0x16385f(0xa7)](_0x497193['app'][_0x16385f(0xac)],_0x8b9e48):dbNoticeCenterTable[_0x16385f(0xaa)](_0x497193[_0x16385f(0xab)][_0x16385f(0xac)],_0x106f21),_0x2c3dd4[_0x16385f(0xb5)]({'code':0x0});}),router[_0x21649c(0xb3)]('/delete',(_0x3a7817,_0x364f37,_0x4264d1)=>{const _0x2adfea=_0x21649c;if(_0x3a7817['currentUser']['is_admin']!=0x1)return _0x364f37['json']({'code':0x66});let _0x4e0412=_0x3a7817['body']['id'],_0x337463=_0x3a7817['body'][_0x2adfea(0xb4)],_0x10a371=_0x3a7817['body'][_0x2adfea(0xae)];_0x337463?dbNoticeCenterTable[_0x2adfea(0xc2)](_0x3a7817[_0x2adfea(0xab)][_0x2adfea(0xac)],_0x10a371):dbNoticeCenterTable['delete'](_0x3a7817[_0x2adfea(0xab)][_0x2adfea(0xac)],_0x4e0412),_0x364f37['json']({'code':0x0});}),module[_0x21649c(0xc9)]=router;