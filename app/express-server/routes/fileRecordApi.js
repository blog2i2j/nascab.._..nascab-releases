const _0x5aa0f3=_0x71a0;(function(_0x511ffe,_0x550d70){const _0x119ae8=_0x71a0,_0x47cc1e=_0x511ffe();while(!![]){try{const _0x1d7254=parseInt(_0x119ae8(0x152))/0x1*(-parseInt(_0x119ae8(0x15d))/0x2)+-parseInt(_0x119ae8(0x165))/0x3+parseInt(_0x119ae8(0x168))/0x4+-parseInt(_0x119ae8(0x16a))/0x5*(-parseInt(_0x119ae8(0x14e))/0x6)+parseInt(_0x119ae8(0x16b))/0x7+-parseInt(_0x119ae8(0x162))/0x8+parseInt(_0x119ae8(0x153))/0x9*(-parseInt(_0x119ae8(0x155))/0xa);if(_0x1d7254===_0x550d70)break;else _0x47cc1e['push'](_0x47cc1e['shift']());}catch(_0x12409f){_0x47cc1e['push'](_0x47cc1e['shift']());}}}(_0x5e6e,0x6a062));function _0x5e6e(){const _0x3e1734=['create','PARAMS\x20IS\x20INVALID','200115mOesQw','9IjCOAa','existsSync','847100caeEbd','app','json','path','type','dbOther','count','deleteAllByType','2rDQzUh','parent','delete','join','name','5737296JzDKmO','deleteAll','platform','804744JHSNdz','express','exports','2022984GcKciU','body','5cWhkej','3070627jvtgWd','../../db/dbFileRecord','post','currentUser','getAllByUid','4560612TwzzxV','Router'];_0x5e6e=function(){return _0x3e1734;};return _0x5e6e();}function _0x71a0(_0x4ac1e0,_0x388522){const _0x5e6e24=_0x5e6e();return _0x71a0=function(_0x71a0fb,_0x3748f1){_0x71a0fb=_0x71a0fb-0x14b;let _0x57c92b=_0x5e6e24[_0x71a0fb];return _0x57c92b;},_0x71a0(_0x4ac1e0,_0x388522);}let express=require(_0x5aa0f3(0x166)),router=express[_0x5aa0f3(0x14f)](),path=require(_0x5aa0f3(0x158)),fs=require('fs'),fileUtil=require('../utils/fileUtils');const os=require('os'),config=require('../../myConfig/config'),dbFileRecord=require(_0x5aa0f3(0x16c));let platform=os[_0x5aa0f3(0x164)]();router['post']('/getFileRecord',(_0x1c6e49,_0x15c3dd,_0x491cf0)=>{const _0x5b19f3=_0x5aa0f3;let _0x57e59d=_0x1c6e49[_0x5b19f3(0x169)][_0x5b19f3(0x159)],_0x433463=_0x1c6e49[_0x5b19f3(0x169)][_0x5b19f3(0x15b)],_0x31d5bd=dbFileRecord[_0x5b19f3(0x14d)](_0x1c6e49[_0x5b19f3(0x156)][_0x5b19f3(0x15a)],_0x1c6e49[_0x5b19f3(0x14c)]['id'],_0x57e59d,_0x433463),_0x2d5949=[];for(const _0x4f8bb4 of _0x31d5bd){let _0x4176f2=path[_0x5b19f3(0x160)](_0x4f8bb4[_0x5b19f3(0x15e)],_0x4f8bb4[_0x5b19f3(0x161)]);fs[_0x5b19f3(0x154)](_0x4176f2)?_0x2d5949['push'](_0x4f8bb4):dbFileRecord['delete'](_0x1c6e49[_0x5b19f3(0x156)]['dbOther'],_0x4f8bb4['id'],_0x1c6e49['currentUser']['id']);}return _0x15c3dd[_0x5b19f3(0x157)]({'code':0x0,'data':_0x2d5949,'platform':platform});}),router['post']('/addFileRecord',(_0x38fe5f,_0x7ebc3f,_0x6c6c7a)=>{const _0x1654cc=_0x5aa0f3;return dbFileRecord[_0x1654cc(0x150)](_0x38fe5f[_0x1654cc(0x156)]['dbOther'],_0x38fe5f[_0x1654cc(0x14c)]['id'],_0x38fe5f[_0x1654cc(0x169)]),_0x7ebc3f[_0x1654cc(0x157)]({'code':0x0});}),router[_0x5aa0f3(0x14b)]('/deleteFileRecord',(_0x2abf14,_0x15ffaa,_0x212c73)=>{const _0x153d04=_0x5aa0f3;let _0x5bf41f=_0x2abf14[_0x153d04(0x169)][_0x153d04(0x163)],_0x187cb0=_0x2abf14['body']['id'],_0x36fb3e=_0x2abf14['body']['type'];if(_0x5bf41f&&_0x36fb3e)dbFileRecord[_0x153d04(0x15c)](_0x2abf14[_0x153d04(0x156)][_0x153d04(0x15a)],_0x36fb3e,_0x2abf14['currentUser']['id']);else{if(_0x187cb0)dbFileRecord[_0x153d04(0x15f)](_0x2abf14[_0x153d04(0x156)]['dbOther'],_0x187cb0,_0x2abf14[_0x153d04(0x14c)]['id']);else return _0x15ffaa['json']({'code':0x1,'message':_0x153d04(0x151)});}return _0x15ffaa[_0x153d04(0x157)]({'code':0x0});}),module[_0x5aa0f3(0x167)]=router;