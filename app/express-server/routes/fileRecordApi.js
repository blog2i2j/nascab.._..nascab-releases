function _0x47ba(_0x3da970,_0x40f123){const _0x4f9b53=_0x4f9b();return _0x47ba=function(_0x47badb,_0x3e83b5){_0x47badb=_0x47badb-0xfa;let _0x162b05=_0x4f9b53[_0x47badb];return _0x162b05;},_0x47ba(_0x3da970,_0x40f123);}function _0x4f9b(){const _0xea48c9=['name','parent','162aDtqzR','deleteAllByType','8040BcIDKo','2149736owdUKu','dbOther','create','/getFileRecord','/addFileRecord','deleteAll','join','1345608MsJjzU','20680470RBeoCI','../../myConfig/config','currentUser','2676svTiHx','path','PARAMS\x20IS\x20INVALID','body','7805MpSNSA','delete','push','4908701gARugA','7058864ujaFMG','platform','Router','post','json','existsSync','exports','app'];_0x4f9b=function(){return _0xea48c9;};return _0x4f9b();}const _0x429992=_0x47ba;(function(_0x1d05f3,_0x5889f5){const _0xcd8435=_0x47ba,_0x55516f=_0x1d05f3();while(!![]){try{const _0x457e03=-parseInt(_0xcd8435(0x10a))/0x1*(parseInt(_0xcd8435(0x10c))/0x2)+parseInt(_0xcd8435(0x114))/0x3+-parseInt(_0xcd8435(0x10d))/0x4+parseInt(_0xcd8435(0xfc))/0x5*(-parseInt(_0xcd8435(0x118))/0x6)+parseInt(_0xcd8435(0xff))/0x7+-parseInt(_0xcd8435(0x100))/0x8+parseInt(_0xcd8435(0x115))/0x9;if(_0x457e03===_0x5889f5)break;else _0x55516f['push'](_0x55516f['shift']());}catch(_0x56ba9e){_0x55516f['push'](_0x55516f['shift']());}}}(_0x4f9b,0xa61b3));let express=require('express'),router=express[_0x429992(0x102)](),path=require(_0x429992(0x119)),fs=require('fs'),fileUtil=require('../utils/fileUtils');const os=require('os'),config=require(_0x429992(0x116)),dbFileRecord=require('../../db/dbFileRecord');let platform=os[_0x429992(0x101)]();router[_0x429992(0x103)](_0x429992(0x110),(_0x8652a2,_0x51f5a2,_0xa5ba69)=>{const _0x5ab1e7=_0x429992;let _0x467abd=_0x8652a2[_0x5ab1e7(0xfb)]['type'],_0x349a48=_0x8652a2[_0x5ab1e7(0xfb)]['count'],_0x3abebd=dbFileRecord['getAllByUid'](_0x8652a2[_0x5ab1e7(0x107)][_0x5ab1e7(0x10e)],_0x8652a2[_0x5ab1e7(0x117)]['id'],_0x467abd,_0x349a48),_0x86efc4=[];for(const _0x2adaab of _0x3abebd){let _0x4d3a38=path[_0x5ab1e7(0x113)](_0x2adaab[_0x5ab1e7(0x109)],_0x2adaab[_0x5ab1e7(0x108)]);fs[_0x5ab1e7(0x105)](_0x4d3a38)?_0x86efc4[_0x5ab1e7(0xfe)](_0x2adaab):dbFileRecord[_0x5ab1e7(0xfd)](_0x8652a2[_0x5ab1e7(0x107)]['dbOther'],_0x2adaab['id'],_0x8652a2[_0x5ab1e7(0x117)]['id']);}return _0x51f5a2[_0x5ab1e7(0x104)]({'code':0x0,'data':_0x86efc4,'platform':platform});}),router['post'](_0x429992(0x111),(_0x275046,_0x4c841f,_0x213f71)=>{const _0x5c0e4c=_0x429992;return dbFileRecord[_0x5c0e4c(0x10f)](_0x275046[_0x5c0e4c(0x107)]['dbOther'],_0x275046[_0x5c0e4c(0x117)]['id'],_0x275046['body']),_0x4c841f[_0x5c0e4c(0x104)]({'code':0x0});}),router['post']('/deleteFileRecord',(_0x2a5d7f,_0x326681,_0x1cd9e5)=>{const _0x7703dd=_0x429992;let _0x6e4083=_0x2a5d7f[_0x7703dd(0xfb)][_0x7703dd(0x112)],_0x519319=_0x2a5d7f[_0x7703dd(0xfb)]['id'],_0x4e224b=_0x2a5d7f[_0x7703dd(0xfb)]['type'];if(_0x6e4083&&_0x4e224b)dbFileRecord[_0x7703dd(0x10b)](_0x2a5d7f[_0x7703dd(0x107)][_0x7703dd(0x10e)],_0x4e224b,_0x2a5d7f[_0x7703dd(0x117)]['id']);else{if(_0x519319)dbFileRecord['delete'](_0x2a5d7f[_0x7703dd(0x107)][_0x7703dd(0x10e)],_0x519319,_0x2a5d7f['currentUser']['id']);else return _0x326681[_0x7703dd(0x104)]({'code':0x1,'message':_0x7703dd(0xfa)});}return _0x326681[_0x7703dd(0x104)]({'code':0x0});}),module[_0x429992(0x106)]=router;