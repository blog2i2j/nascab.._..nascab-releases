const _0x4a54a1=_0x541c;function _0x541c(_0x61838e,_0xb7dd8e){const _0x537959=_0x5379();return _0x541c=function(_0x541c26,_0x2b5f1e){_0x541c26=_0x541c26-0xcd;let _0x3b1b85=_0x537959[_0x541c26];return _0x3b1b85;},_0x541c(_0x61838e,_0xb7dd8e);}function _0x5379(){const _0x5e1dea=['230622qVPpqN','842724ryYaMl','match','SELECT\x20id,filename,is_tvplay\x20FROM\x20file_index_movie\x20WHERE\x20filename_number\x20is\x20null','921869zJeaDi','4402715rxsPnz','dealFirstLetterAll','3378956OoFdCc','getFilenameNumber','movie_info_name','episode','2824DJbIXd','lastIndexOf','toUpperCase','node-pinyin','initials','18909TVtLFd','all','length','includes','SELECT\x20id,filename,show_name,movie_info_name\x20FROM\x20file_index_movie\x20WHERE\x20filename_fl\x20is\x20null','6oMHQFs','run','extractEpisodeNumbers','test','dealFirstLetterSingle','join','644274ydsZqi','show_name','prepare','dealFilenameNumberAll'];_0x5379=function(){return _0x5e1dea;};return _0x5379();}(function(_0x466714,_0x5ab768){const _0x411ad3=_0x541c,_0x19868a=_0x466714();while(!![]){try{const _0x5c2bcf=parseInt(_0x411ad3(0xd5))/0x1+parseInt(_0x411ad3(0xcd))/0x2+parseInt(_0x411ad3(0xd2))/0x3+parseInt(_0x411ad3(0xd8))/0x4+-parseInt(_0x411ad3(0xd6))/0x5*(parseInt(_0x411ad3(0xe6))/0x6)+parseInt(_0x411ad3(0xd1))/0x7+parseInt(_0x411ad3(0xdc))/0x8*(-parseInt(_0x411ad3(0xe1))/0x9);if(_0x5c2bcf===_0x5ab768)break;else _0x19868a['push'](_0x19868a['shift']());}catch(_0x1ae4fb){_0x19868a['push'](_0x19868a['shift']());}}}(_0x5379,0xbe873));let movieUtil={},pinyin=require(_0x4a54a1(0xdf)),letterList=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];const movieSeasonUtil=require('../../utils/movieSeasonUtil');movieUtil[_0x4a54a1(0xd7)]=function(_0x117ae6){const _0x5c7a6d=_0x4a54a1;let _0x36b708=_0x5c7a6d(0xe5),_0x42895b=_0x117ae6[_0x5c7a6d(0xcf)](_0x36b708)[_0x5c7a6d(0xe2)]();for(let _0x34d584 in _0x42895b){movieUtil[_0x5c7a6d(0xea)](_0x117ae6,_0x42895b[_0x34d584]);}};function isChinese(_0x2ad9ad){const _0xa8c266=_0x4a54a1;var _0x2953de=/[^\\u4e00-\\u9fa5]/;return _0x2953de[_0xa8c266(0xe9)](_0x2ad9ad);}movieUtil[_0x4a54a1(0xd9)]=function(_0x45b0ea){const _0x19875b=_0x4a54a1;if(!_0x45b0ea)return 0x0;let _0x459133=_0x45b0ea[_0x19875b(0xdd)]('.');_0x459133!=-0x1&&(_0x45b0ea=_0x45b0ea['substring'](0x0,_0x459133));if(!_0x45b0ea)return 0x0;let _0x20cccb=_0x45b0ea[_0x19875b(0xd3)](/\d/g);_0x20cccb=_0x20cccb?_0x20cccb[_0x19875b(0xeb)](''):0x0;_0x20cccb&&(_0x20cccb=parseInt(_0x20cccb));let _0x43dacb=movieSeasonUtil[_0x19875b(0xe8)](_0x45b0ea);return _0x43dacb&&_0x43dacb[_0x19875b(0xdb)]&&_0x43dacb['episode']>=0x0&&(_0x20cccb=_0x43dacb[_0x19875b(0xdb)]),_0x20cccb;},movieUtil[_0x4a54a1(0xd0)]=function(_0x124278){const _0x1125aa=_0x4a54a1;let _0x18da28=_0x1125aa(0xd4),_0x1a2f5e=_0x124278[_0x1125aa(0xcf)](_0x18da28)[_0x1125aa(0xe2)]();for(let _0x1e74b1 of _0x1a2f5e){let _0x2b4541=movieUtil[_0x1125aa(0xd9)](_0x1e74b1['filename']);_0x124278['prepare']('UPDATE\x20file_index_movie\x20SET\x20filename_number=?\x20WHERE\x20id\x20=?')[_0x1125aa(0xe7)](_0x2b4541,_0x1e74b1['id']);}},movieUtil[_0x4a54a1(0xea)]=function(_0x100cf8,_0x25a8fe){const _0x54d6c6=_0x4a54a1;function _0x10b00f(_0x51125c){const _0x339066=_0x541c;if(_0x51125c&&_0x51125c[_0x339066(0xe3)]>0x0){let _0x4148cd=_0x51125c[0x0];if(letterList[_0x339066(0xe4)](_0x4148cd))return _0x4148cd;else{if(isChinese(_0x4148cd)){let _0x1703aa=pinyin(_0x4148cd,{'style':_0x339066(0xe0)});return _0x1703aa&&_0x1703aa[_0x339066(0xe3)]>0x0&&_0x1703aa[0x0][_0x339066(0xe3)]>0x0&&_0x1703aa[0x0][0x0][_0x339066(0xe3)]>0x0?_0x1703aa[0x0][0x0][0x0]:'#';}else return'#';}}else return'#';}let _0x1ccf79=_0x10b00f(_0x25a8fe['filename']?_0x25a8fe['filename'][_0x54d6c6(0xde)]():'')[_0x54d6c6(0xde)](),_0x467651=_0x10b00f(_0x25a8fe[_0x54d6c6(0xce)]?_0x25a8fe[_0x54d6c6(0xce)]['toUpperCase']():'')['toUpperCase'](),_0x4f3426=_0x10b00f(_0x25a8fe[_0x54d6c6(0xda)]?_0x25a8fe['movie_info_name'][_0x54d6c6(0xde)]():'')[_0x54d6c6(0xde)]();_0x100cf8[_0x54d6c6(0xcf)]('UPDATE\x20file_index_movie\x20set\x20filename_fl=?,show_name_fl=?,movie_info_name_fl=?\x20where\x20id=?')[_0x54d6c6(0xe7)](_0x1ccf79,_0x467651,_0x4f3426,_0x25a8fe['id']);},module['exports']=movieUtil;