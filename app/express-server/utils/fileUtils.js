const _0x599adf=_0x3053;(function(_0x1b85fa,_0x595b19){const _0xb41e8f=_0x3053,_0x3d8a42=_0x1b85fa();while(!![]){try{const _0x43b37d=-parseInt(_0xb41e8f(0x132))/0x1+-parseInt(_0xb41e8f(0x12d))/0x2+-parseInt(_0xb41e8f(0x137))/0x3*(-parseInt(_0xb41e8f(0x121))/0x4)+-parseInt(_0xb41e8f(0x140))/0x5*(parseInt(_0xb41e8f(0x12e))/0x6)+-parseInt(_0xb41e8f(0x13a))/0x7+-parseInt(_0xb41e8f(0x123))/0x8*(-parseInt(_0xb41e8f(0x129))/0x9)+parseInt(_0xb41e8f(0x146))/0xa;if(_0x43b37d===_0x595b19)break;else _0x3d8a42['push'](_0x3d8a42['shift']());}catch(_0x5fefe7){_0x3d8a42['push'](_0x3d8a42['shift']());}}}(_0x4b35,0xc625c));var fs=require('fs'),path=require('path');function _0x3053(_0x14eecb,_0x19a869){const _0x4b354c=_0x4b35();return _0x3053=function(_0x305330,_0x474a2f){_0x305330=_0x305330-0x11f;let _0x24f48c=_0x4b354c[_0x305330];return _0x24f48c;},_0x3053(_0x14eecb,_0x19a869);}let fileUtil={};const os=require('os');let platform=os[_0x599adf(0x124)](),Duplex=require('stream')[_0x599adf(0x131)];const dbConfigTable=require(_0x599adf(0x142));function _0x4b35(){const _0x3aa175=['streamToBuffer','284NcdOtD','getTransSizeStr','1780024tUQgcG','platform','length','win32','sameNameFileAlreadExist','EEXIST','9MzbNkq','exports','getExcludePathList','message','979846ZNnmOC','54gnbGOz','base64','toString','Duplex','563462IuNcZb','fileBusy','bufferToStream','error','noWritePermission','6711XsLXhW','push','excludePathFolderBrowser','10396785YyJeaj','EACCES','end','folderIsOnlyRead','ENOENT','log','74845lPyqyn','data','../../db/dbConfigTable','EBUSY','findByTitle','value','31036430PXbNVl','folderNotExist','stringify','decodePath','code','EPERM','from','EROFS','endsWith','round'];_0x4b35=function(){return _0x3aa175;};return _0x4b35();}fileUtil[_0x599adf(0x120)]=function(_0x35825f){return new Promise((_0x5590d0,_0x21990c)=>{const _0x407104=_0x3053;let _0x9a1e0e=[];_0x35825f['on'](_0x407104(0x135),_0x21990c),_0x35825f['on'](_0x407104(0x141),_0x29188d=>_0x9a1e0e[_0x407104(0x138)](_0x29188d)),_0x35825f['on'](_0x407104(0x13c),()=>_0x5590d0(Buffer['concat'](_0x9a1e0e)));});},fileUtil[_0x599adf(0x134)]=function(_0x36bc2){let _0x1cc4b5=new Duplex();return _0x1cc4b5['push'](_0x36bc2),_0x1cc4b5['push'](null),_0x1cc4b5;},fileUtil[_0x599adf(0x12b)]=function(_0x63e367){const _0x3bfb54=_0x599adf;let _0x55d46d=[],_0x23fe33=dbConfigTable[_0x3bfb54(0x144)](_0x63e367,_0x3bfb54(0x139));if(_0x23fe33&&_0x23fe33[_0x3bfb54(0x145)])try{excludeList=JSON['parse'](_0x23fe33[_0x3bfb54(0x145)]);for(let _0x2a3ab4 of excludeList){_0x2a3ab4[_0x3bfb54(0x125)]==0x2&&_0x2a3ab4[_0x3bfb54(0x14e)](':')&&platform=='win32'&&(_0x55d46d[_0x3bfb54(0x138)](_0x2a3ab4+'\x5c'),_0x55d46d[_0x3bfb54(0x138)](_0x2a3ab4+'\x5c\x5c')),_0x55d46d['push'](_0x2a3ab4);}}catch(_0x2c2353){console[_0x3bfb54(0x13f)](_0x2c2353);}return _0x55d46d;},fileUtil['isWinDisk']=function(_0x27a1d6){const _0x4dbc13=_0x599adf;if(os[_0x4dbc13(0x124)]()!='win32')return![];if(_0x27a1d6['length']==0x2&&_0x27a1d6[_0x4dbc13(0x14e)](':'))return!![];else{if(_0x27a1d6[_0x4dbc13(0x125)]==0x3&&_0x27a1d6[0x1]==':'&&_0x27a1d6[0x2]=='\x5c')return!![];else{if(_0x27a1d6['length']==0x4&&_0x27a1d6[0x1]==':'&&_0x27a1d6[0x2]=='\x5c'&&_0x27a1d6[0x3]=='\x5c')return!![];}}return![];},fileUtil['decodeBase64']=function(_0x2b9125){const _0x1aeb14=_0x599adf;return Buffer[_0x1aeb14(0x14c)](_0x2b9125,_0x1aeb14(0x12f))[_0x1aeb14(0x130)]();},fileUtil[_0x599adf(0x149)]=function(_0x567f5c){const _0x3f7d55=_0x599adf;return decodeURIComponent(Buffer[_0x3f7d55(0x14c)](_0x567f5c,_0x3f7d55(0x12f))[_0x3f7d55(0x130)]());},fileUtil[_0x599adf(0x122)]=function(_0x5224a5,_0x2c458d){const _0x27f697=_0x599adf;let _0x9cdf09=0x3e8;platform==_0x27f697(0x126)&&(_0x9cdf09=0x400);if(_0x5224a5&&_0x5224a5>0x0){if(_0x5224a5>=_0x9cdf09){let _0x65dd56=_0x5224a5/_0x9cdf09;if(_0x65dd56>=_0x9cdf09){let _0x513f99=_0x65dd56/_0x9cdf09;if(_0x513f99>=_0x9cdf09){let _0x5f7841=_0x513f99/_0x9cdf09;if(_0x5f7841>=_0x9cdf09){let _0x69197a=_0x5f7841/_0x9cdf09;return parseInt(_0x69197a*0x64)/0x64+'TB';}else{if(_0x2c458d)return Math[_0x27f697(0x11f)](_0x5f7841)+'GB';return parseInt(_0x5f7841*0xa)/0xa+'GB';}}else{if(_0x2c458d)return Math['round'](_0x513f99)+'MB';return parseInt(_0x513f99*0xa)/0xa+'MB';}}else{if(_0x2c458d)return Math[_0x27f697(0x11f)](_0x65dd56)+'KB';return parseInt(_0x65dd56*0xa)/0xa+'KB';}}else return parseInt(_0x5224a5)+'B';}else return 0x0;},fileUtil['returnFileError']=function(_0x3f9d07,_0x418574,_0x2f131c){const _0x3987ce=_0x599adf;let _0x5716a1={'code':0x1};if(_0x418574['code']==_0x3987ce(0x14b))_0x5716a1[_0x3987ce(0x12c)]=_0x3f9d07['__'](_0x3987ce(0x136));else{if(_0x418574[_0x3987ce(0x14a)]==_0x3987ce(0x14d))_0x5716a1[_0x3987ce(0x12c)]=_0x3f9d07['__']('folderIsOnlyRead');else{if(_0x418574['code']==_0x3987ce(0x13b))_0x5716a1[_0x3987ce(0x12c)]=_0x3f9d07['__'](_0x3987ce(0x136));else{if(_0x418574['code']==_0x3987ce(0x128))_0x5716a1['message']=_0x3f9d07['__'](_0x3987ce(0x127));else{if(_0x418574[_0x3987ce(0x14a)]==_0x3987ce(0x13e))_0x5716a1['message']=_0x3f9d07['__'](_0x3987ce(0x147));else _0x418574[_0x3987ce(0x14a)]==_0x3987ce(0x143)?_0x5716a1[_0x3987ce(0x12c)]=_0x3f9d07['__'](_0x3987ce(0x133)):_0x5716a1['message']=JSON[_0x3987ce(0x148)](_0x418574);}}}}return _0x2f131c?_0x5716a1[_0x3987ce(0x12c)]:_0x3f9d07['json'](_0x5716a1);},fileUtil['getFileErrStr']=function(_0x1cb214,_0x2e09f8){const _0x291ce7=_0x599adf;if(_0x2e09f8[_0x291ce7(0x14a)]==_0x291ce7(0x14b))return _0x1cb214['__'](_0x291ce7(0x136));else{if(_0x2e09f8[_0x291ce7(0x14a)]==_0x291ce7(0x14d))return _0x1cb214['__'](_0x291ce7(0x13d));else{if(_0x2e09f8[_0x291ce7(0x14a)]==_0x291ce7(0x13b))return _0x1cb214['__'](_0x291ce7(0x136));else{if(_0x2e09f8['code']==_0x291ce7(0x128))return _0x1cb214['__'](_0x291ce7(0x127));else return _0x2e09f8['code']==_0x291ce7(0x13e)?_0x1cb214['__']('folderNotExist'):JSON[_0x291ce7(0x148)](_0x2e09f8);}}}},module[_0x599adf(0x12a)]=fileUtil;